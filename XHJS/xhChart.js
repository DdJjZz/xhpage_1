function ReplacementFor_setP2(t,e,i){if(!t.hasOwnProperty(e)){var s=t[i];t[e]=s,t[i]=null}}function dTM(t){null!=t&&(ReplacementFor_tm(t),ReplacementFor_dtmInterval=setInterval(function(){ReplacementFor_tm(t)},6e4))}function ReplacementFor_setP(t,e){t.hasOwnProperty(e)||(t[e]=Object)}function ReplacementFor_tm(t){function e(t){return t=t.firstChild,null!=t&&1!=t.nodeType?i(t):t}function i(t){do t=t.ReplacementFor_nexSibling;while(null!=t&&1!=t.nodeType);return t}var s=document.getElementById(t);if(!s)return void clearInterval(ReplacementFor_dtmInterval);var a,r,n=[],o=s.getElementsByTagName("div"),h=new RegExp("KoolChart__TrialMarkBox"),l=Math.round(100*Math.random())*(new Date).getMilliseconds();for(a=0,r=o.length;a<r;a+=1)h.test(o[a].className)&&n.push(o[a]);if(o=h=null,n.length>0){for(a=0,r=n.length;a<r;a+=1)try{s.removeChild(n[a])}catch(d){}n=null}var c,u,p,f,g,m,_,y,v=document.createElement("div"),x=e(s),b=window.KoolChart.grr(),S=window.KoolChart.gue();null==x||s.insertBefore(v,x),v.className="KoolChart__TrialMarkBox_"+l,v.style.position="absolute",v.style.width="100%",v.style.overflow="hidden",v.style.height="0px",v.style.zIndex=1,v.style.left="0px",v.style.top="10px",v.style.zIndex=1,g=document.createElement("canvas"),S&&(g=window.G_vmlCanvasManager.initElement(g)),g.onclick=function(){window.open("http://www.koolchart.com","_blank")},p=69,f=16,c=p*b,u=f*b,g.className="KoolChart__LeftTrialMark_"+l,g.width=c,g.height=u,g.style.width=p+"px",g.style.height=f+"px",g.style.position="absolute",g.style.left="10px",g.style.cursor="pointer",m=g.getContext("2d"),m.scale(b,b),S&&m.fillText("",0,0),m.textAlign="center",m.ReplacementFor_textBaseline="middle",m.fillStyle="#2b2b29",m.font="normal normal bold 10px 'verdana'",m.fillText("KoolChart",34,8),_=document.createElement("canvas"),S&&(_=window.G_vmlCanvasManager.initElement(_)),_.onclick=function(){window.open("http://www.koolchart.com","_blank")},_.className="KoolChart__RightTrialMark_"+l,_.width=c,_.height=u,_.style.width=p+"px",_.style.height=f+"px",_.style.position="absolute",_.style.right="10px",_.style.cursor="pointer",y=_.getContext("2d"),y.scale(b,b),y.textAlign="center",y.ReplacementFor_textBaseline="middle",y.fillStyle="#2b2b29",y.font="normal normal bold 10px 'verdana'",y.fillText("Trial Version",34,8)}function abss(t){ReplacementFor_setP(t,"GradientEntry"),ReplacementFor_setP2(t,"SeriesInterpolate","ChartInterpolate"),ReplacementFor_setP2(t,"SeriesClip","ChartClip"),ReplacementFor_setP2(t,"SeriesSlide","ChartSlide"),ReplacementFor_setP2(t,"SeriesZoom","ChartZoom"),ReplacementFor_setP2(t,"SolidColor","SolidColorColor"),ReplacementFor_setP2(t,"Stroke","SolidColorStroke"),ReplacementFor_setP2(t,"NumberFormatter","NumberParser"),ReplacementFor_setP2(t,"Column2DSeries","Circle2DSeries"),ReplacementFor_setP2(t,"Column3DSeries","Circle3DSeries")}function gls(){return eval("window.KoolChartLicense;")}!function(){function t(t){var e=t.target?t.target:null,i=t.currentTarget?t.currentTarget:null;t={type:t.type||"GET",url:t.url||"",timeout:t.timeout||3e4,dataType:t.dataType||"",onError:t.onError||function(){},onSuccess:t.onSuccess||function(){},data:t.data||""};var s;try{s=location.href}catch(a){s=document.createElement("a"),s.href="",s=s.href}s=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/.exec(s.toLowerCase())||[];var r,n=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(s[1]),o=["MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];if("ActiveXObject"in window&&n&&(r=new ActiveXObject("Microsoft.XMLHTTP")),!r)try{r=new XMLHttpRequest}catch(a){for(s=0;s<o.length;s++)try{r=new ActiveXObject(o[s]);break}catch(h){}}var l=!1;setTimeout(function(){l=!0},t.timeout),r.onreadystatechange=function(){if(4==r.readyState&&!l){var s={};e&&(s.target=e),i&&(s.currentTarget=i);var a;t:{var o=r;try{a=!o.status&&n||200<=o.status&&300>o.status||304==o.status||0<=navigator.userAgent.indexOf("Safari")&&d(o.status);break t}catch(h){}a=!1}a?(a=(a=r.getResponseHeader("content-type"))&&0<=a.indexOf("xml")?/msie/i.test(navigator.userAgent)&&!window.opera&&void 0!==r.responseXML.xml?Xi.parse(r.responseXML.xml):r.responseXML:r.responseText,t.onSuccess(a,s)):t.onError(r.status,s),r=null}};try{if(r.open(t.type,t.url,!0),t.type.match(/post|POST/)){r.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8");var c,u;if(t.dataType.match(/json|JSON/)){u=[];for(c in t.data)u[u.length]=encodeURIComponent(c)+"="+encodeURIComponent(t.data[c]);u=u.join("&").replace(/%20/g,"+")}else u=t.data;r.send(u)}else r.send()}catch(a){t.onError(a.message)}}function e(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){return"boolean"==typeof t}function s(t){return"string"==typeof t}function a(t){return!!(t=t&&(t.ownerDocument||t).documentElement)&&"HTML"!==t.nodeName}function r(t){return null!=t&&"object"==typeof t}function n(t){return"number"==typeof t}function o(t){return"[object Function]"===Object.prototype.toString.call(t)}function h(t){return isNaN(t)||"number"!=typeof t}function l(t){return"undefined"==typeof t}function d(t){return null==t||"undefined"==typeof t}function c(t){return t instanceof Date&&!isNaN(t.valueOf())}function u(t,e){if(!t||!e)return null;if(t.hasOwnProperty(e))return t[e];var i=e.substr(0,1);return/[A-Z]/.test(i)?null:(i="get"+i.toUpperCase()+e.substr(1),o(t[i])?t[i]():null)}function p(t,e){if(!t||!e)return!1;if(t.hasOwnProperty(e))return!0;var i=e.substr(0,1);return!/[A-Z]/.test(i)&&!!o(t["get"+i.toUpperCase()+e.substr(1)])}function f(t,e,i){if(t&&e)if(t.hasOwnProperty(e))t[e]=i;else{var s=e.substr(0,1);/[A-Z]/.test(s)||(s="set"+s.toUpperCase()+e.substr(1),o(t[s])?t[s](i):t[e]=i)}}function g(t,e,i){Vi.call(this),this.className=t?t:this.className?this.className:"CSSStyleDeclaration",this.name=this.className+this.uno,this.id=null,this._sheetIdx=-1,this._findCSS=1<arguments.length?e:"Kool__",this._cssName=2<arguments.length?i?"Kool__"+this.name:t?t:this.className:"Kool__"+this.name,this._styles={},this._createRules()}function m(t,e){Vi.call(this),this._useBorderBox=!1,this.element=t?t:this.element?this.element:"div",this.className=e?e:this.className?this.className:"HTMLObject",this.name=this.className+this.uno,this._visible=this._enabled=!0,this._createElement()}function _(t,e){this.element=t?t:this.element?this.element:"div",this.className=e?e:this.className?this.className:"LayoutManagerClient",m.call(this,this.element,this.className),this.id=null,this.uid=Ji.createUID(),this._unscaledHeight=this._unscaledWidth=this.measuredHeight=this.measuredWidth=this.measuredMinHeight=this.measuredMinWidth=0,this._useDelayInvalidate=this._runInvalidateDisplayListFlag=this._runInvalidateSizeFlag=this._runInvalidatePropertiesFlag=this._updateCompletePendingFlag=this._invalidateDisplayListFlag=this._invalidateSizeFlag=this._invalidatePropertiesFlag=!1,this._includeInLayout=!0,this._processedDescriptors=this._initialized=!1,this._updateDisplayListCallCount=this._measureCallCount=this._commitPropertiesCallCount=this._nestLevel=0,this._methodQueue=[],this._listeningForRender=!1,this._oldExplicitHeight=this._oldExplicitWidth=this._oldMinHeight=this._oldMinWidth=NaN,this._effectsStarted=[],this._affectedProperties={},this._preventDrawFocus=this._isEffectStarted=!1,this._endingEffectInstances=[],this._frameCallLater=new D}function y(t,e){this.element=t?t:this.element?this.element:"div",this.className=e?e:this.className?this.className:"UIElement",_.call(this,this.element,this.className),this._unscaledHeight=this._unscaledWidth=0,this._styles={},this._explicitMaxHeight=this._explicitMaxWidth=this._explicitMinHeight=this._explicitMinWidth=this._explicitHeight=this._explicitWidth=NaN,this._errorString="",this._errorStringChanged=!1,this._errorColor="#FF0000",this._errorWidth="1px",this._saveOutlineColor=!0,this._doubleClickEnabled=!1}function v(t){this.element=this.element?this.element:"span",this.className=t?t:this.className?this.className:"UITextField",y.call(this,this.element,this.className),this.ignorePadding=!0,this._offsetHeight=this._offsetWidth=NaN,this._wordWrapChanged=this._wordWrap=this._multilineChanged=this._multiline=!1,this._text="",this._textChanged=!1}function x(t){_.call(this,x.graphicTag||"canvas",t||"UICanvas"),this.userVisible=this._useDelayInvalidate=!0,this._styles={textAlign:"center"}}function b(t,e,i,s,a){this.doNotFloor=a,this.doNotFloor||(t=Math.floor(t),e=Math.floor(e),i=Math.floor(i),s=Math.floor(s)),this.x=this.left=t?t:0,this.y=this.top=e?e:0,this.width=i?i:0,this.height=s?s:0,this.right=this.left+this.width,this.bottom=this.top+this.height}function S(t){this._owner=t}function C(t,e){this.element=t?t:this.element?this.element:"div",this.className=e?e:this.className?this.className:"Container",y.call(this,this.element,this.className),this._useDelayInvalidate=!0,this._numChildrenCreated=this.element.tabIndex=-1,this._oldScrollLeft=this._oldScrollTop=this._firstChildIndex=this._numChildren=0,this._doingLayout=this._forceLayout=!1,this._horizontalScrollPolicy=this._verticalScrollPolicy="auto",this._verticalScrollBarExist=this._horizontalScrollBarExist=!1,this._label="",this._clickFocused=!1,this._autoLayout=!0,this._contentPane=new m("div","ContentPane"),this._contentPane.setStyle("overflowX","auto"),this._contentPane.setStyle("overflowY","auto"),this._contentPane.setStyle("position",$i.ie9?"relative":"absolute"),this._contentPane.setVisibility(!1),this.getRawChildren().addChild(this._contentPane),this._contentPane.addEvent("scroll",this._scrollHandler,this)}function D(t,e){var i=this;i._context=t,i._callbackHandler=e,i._stopped=!1,i._timer=null,i._frameHandler=function(){i._stopped||(i._callbackHandler(),i.start())}}function w(t,e,i){this.className="Stroke",this.id=null,this.color=t,this.alpha=h(i)?1:i,this.weight=h(e)?1:e,this.caps="miter"}function T(t,e){this.className="SolidColor",this.id=null,this.color=t||"#000000",this.alpha=h(e)?1:e}function M(){this.className="GradientEntry",this.color="#000000",this.ratio=0,this.alpha=1,this._entries=[]}function I(){this.className="LinearGradient",this.angle=0,this._entries=[]}function A(){this.className="RadialGradient",this.angle=this.focalPointRatio=0,this._entries=[]}function L(){var t=this;t.graphicIndex=0,"undefined"==typeof L.elements&&(L.elements={},L.free={}),t.getElement=function(e){var i,s;if(s=!0,$i.ie8H)for(var a in L.elements)if(L.free[a]){s=!1,i=L.elements[a],i.style.visibility="",i.style.display="block",L.free[a]=!1;break}return s&&("svg"==e&&window.SVGCanvas?(s=new window.SVGCanvas(1,1),i=s.svg.svgElement,i.svgContext=s):i=document.createElement(e),i.graphicIndex=t.graphicIndex,L.elements[t.graphicIndex]=i,L.free[t.graphicIndex]=!1,t.graphicIndex++),"canvas"==e.toLowerCase()&&$i.ie8L&&(i=window.G_vmlCanvasManager.initElement(i)),qi.setStyle(i,"position","absolute"),i},t.initElement=function(t){return $i.ie8L?window.G_vmlCanvasManager.initElement(t):t},t.freeAllElements=function(e){var i=e.element.getElementsByTagName("canvas");for(e=i.length-1;-1<e;--e)0>i[e].className.indexOf("Trial")&&t.freeElement(i[e])},t.freeElement=function(t){var e,i=t.graphicIndex;e=qi.clearStyle,l(i)||($i.ie8L?L.elements[i]=null:(e(t,"left"),e(t,"top"),e(t,"fontSize"),e(t,"fontStyle"),e(t,"textAlign"),e(t,"fontFamily"),e(t,"color"),e(t,"fontWeight"),e(t,"lineHeight"),e(t,"letterSpacing"),e(t,"textDecoration"),o(t.getContext)&&(e=t.getContext("2d"),t.width=0,t.height=0,e.rotate(0),e.scale(1,1),e.translate(0,0),e.clearRect(0,0,t.width,t.height)),t.style.width="0px",t.style.height="0px",t.className="",L.free[i]=!0,t.selfElement?(t.selfElement.getParent()&&t.selfElement.getParent().removeChild(t.selfElement),t.selfElement.resetInvalidate(),t.selfElement.element=null,t.selfElement=null):t.parentNode&&t.parentNode.removeChild(t),t.owner&&t.owner.selfElement&&(t.owner.selfElement=null,t.owner=null)))}}function R(){Vi.call(this)}function P(t,e,i,s){cs.call(this,t,e,i),this.effectInstance=s}function E(){this.direction="vertical"}function N(t,e){this.element=t?t:this.element?this.element:"div",this.className=e?e:this.className?this.className:"Box",C.call(this,this.element,this.className),this._layoutObject=new E,this._layoutObject.setTarget(this)}function F(t){C.call(this,"div",t?t:"Tile"),this._direction="horizontal",this._tileHeight=this._tileWidth=NaN}function k(){this.element=this.element?this.element:"div",this.className=this.className?this.className:"Label",y.call(this,this.element,this.className),this._textChanged=!1}function O(t,e){this.RESULT_FORMAT_E4X="e4x",this.RESULT_FORMAT_FLASHVARS="flashvars",this.RESULT_FORMAT_OBJECT="object",this.RESULT_FORMAT_ARRAY="array",this.RESULT_FORMAT_TEXT="text",this.RESULT_FORMAT_XML="xml",this.CONTENT_TYPE_XML="application/xml",this.CONTENT_TYPE_FORM="application/x-www-form-urlencoded",this.ERROR_URL_REQUIRED="Client.URLRequired",this.ERROR_DECODING="Client.CouldNotDecode",this.ERROR_ENCODING="Client.CouldNotEncode",this.name=e,this._multiService=t,this.method=void 0,this.name=this.url="",this._service=t,this.useProxy=!1,this.concurrency=H.MULTIPLE,this.resultFormat=this.RESULT_FORMAT_OBJECT,this.contentType=this.CONTENT_TYPE_FORM,this.rootURL=""}function H(){this.LAST="last",this.MULTIPLE="multiple",this.SINGLE="single"}function V(t){Vi.call(this),this.baseURL=t,this.makeObjectsBindable=!0,this.targetController=null,this.showAlertMessage=!0,this.currentCount=0,this.requestTimeout=30,this._timerInitFlag=!1,this._rpcList=[],this._rpcListChange=!1,this.TIMER_COUNT_MAX=86400}function z(t){Vi.call(this),this._delayElapsedTime=this._delayStartTime=0,this._hideOnEffectEnd=this._durationExplicitlySet=!1,this._playCount=0,this._stopRepeat=!1,this._duration=800,this._startDelay=this._repeatDelay=this._repeatCount=0,this._suspendBackgroundProcessing=!1,this._target=t}function W(t,i,s,a,r,n,o){Vi.call(this),t&&(void 0==a&&(a=-1),void 0==r&&(r=-1),this.listener=t,this._startValue=i,this._endValue=s,h(a)||-1==a||(this.duration=a),h(r)||-1==r||(this._maxDelay=1e3/r),this._updateFunction=n,this._endFunction=o,this._tempDuration=a,this._needToLayout=!1,this._maxDelay=87.5,this._doSeek=!1,this._isPlaying=!0,this._doReverse=!1,this._userEquation=this._defaultEasingFunction,this._started=!1,this._playheadTime=0,this._invertValues=!1,e(i)&&(this._arrayMode=!0),this._tempDuration?W.addTween(this):(this._id=-1,this.endTween()))}function B(t){Vi.call(this),this.instanceClass=z,this.repeatCount=1,this.startDelay=this.repeatDelay=0,this._instances=[],this._isPaused=this._callValidateNow=!1,this._applyActualDimensions=!0,this._duration=800,this._hideFocusRing=this._endValuesCaptured=this._durationExplicitlySet=!1,this._perElementOffset=0,this._relevantStyles=[],this._targets=[],this._targets[0]=t}function U(t){B.call(this,t),this.instanceClass=J,this.easingFunction=null}function G(t){void 0==t&&(t=null),B.call(this,t),this.instanceClass=j,this.children=[]}function Y(t){void 0==t&&(t=null),G.call(this,t),this.instanceClass=Q}function X(t){this.target=t,this.end={},this.start={}}function J(t){z.call(this,t),this.easingFunction=this.easingJsFunction=this.tween=null,this._needToLayout=!1,this._seekTime=0}function j(t){z.call(this,t),this._activeEffectQueue=[],this._playheadTime=0,this._childSets=[]}function Q(t){j.call(this,t),this._isReversed=!1}function K(){var t=Qi,e=ts;this.fill=this.stroke=this.graphics=this.pattern=this.data=null,this.color2rgba=t.color2rgba,this.bright=t.adjustBrightness,this.drawArc=e.drawArc,this.arc=e.arc,this.drawLine=e.drawPolyLine,this.drawEllipse=e.drawEllipse,this.createPattern=e.createPattern,this.begin=e.begin,this._offset=0}function q(t,e,i,s,a){t&&e&&(y.call(this,"div","Root"),this._useDelayInvalidate=!0,this.dataURL=this.layoutURL=null,this._dataURLInProcess=!1,this.BIX5OnLoadCallFunction=this.KoolOnLoadCallFunction=null,this.removeAllData=!1,this.showLoadingBar=!0,this.dataType="json",this._componentIds={},this._layoutChanged=this._dataChanged=!1,this._inLoadingBarCount=0,this._systemManager=os.getInstance(),this._paramId=t,this._paramTarget=e,this._jsVars=i,d(s)?this._paramWidth="100%":this._paramWidth=s,d(a)?this._paramHeight="100%":this._paramHeight=a,this.addEventListener("creationComplete",this._creationCompleteHandler,this))}function Z(t){var e=this.selfElement||this;if(!e._dblKeyHandlerDirty){var i=function(t){var s="",s=window.event?t.keyCode:t.which;if("keydown"===t.type)if(t=window[e._productName],191===s&&e._clickedCtrl){Zi.documentRemoveEvent("keydown",i,e),Zi.documentRemoveEvent("keyup",i,e),e._dblKeyHandlerDirty=!1,e._clickedCtrl=!1,s="Version : PR "+t.version+" Trial<br>Release : 2018/08/06",t={borderStyle:"solid",borderWidth:1,borderColor:"#000"};var a=document.createElement("textarea");a.style.overflow="hidden",a.style.width=a.style.height="10px",a.innerHTML=e._layout+"\n"+(l(window.JSON)?"":window.JSON.stringify(e._data)),s+="<br>"+a.outerHTML,t.content={fontFamily:"arial",fontSize:"10px",text:s},t.button={fontFamily:"arial",fontSize:"10px",text:"Close"},qi.popUp(e,t,"Information"),alert(window[e._productName+"License"])}else 17===s?e._clickedCtrl=!0:(Zi.documentRemoveEvent("keydown",i,e),Zi.documentRemoveEvent("keyup",i,e),e._dblKeyHandlerDirty=!1,e._clickedCtrl=!1);else"keyup"===t.type&&(Zi.documentRemoveEvent("keydown",i,e),Zi.documentRemoveEvent("keyup",i,e),e._dblKeyHandlerDirty=!1,e._clickedCtrl=!1)};Zi.documentAddEvent("keydown",i,e),Zi.documentAddEvent("keyup",i,e),e._dblKeyHandlerDirty=!0}}function $(t){return s(t)?document.getElementById(t):t}function tt(){this._wrapper=0<arguments.length?arguments[0]:null,this._name=1<arguments.length?arguments[1]:"",this._csses={},this._systemManager=os.getInstance()}function et(){}function it(t,e,i){this.value=t?t:0,this.lowerMargin=e?e:0,this.upperMargin=i?i:0}function st(t){var e=this;y.call(e,"div",t?t:"ChartBase"),e._useDelayInvalidate=!0,e.id="",e._width=NaN,e._height=NaN,e._series=[],e._backgroundElements=[],e._annotationElements=[],e.dataTipDisplayMode="none",e.showDataTipMarker=!0,e.dataTipOrder="normal",e.dataTipMode="multiple",e.mouseSensitivity=0,e.axisMouseSensitivity=1,e.buttonMode=!1,e.showDataTipTargetsLine=!1,e.doubleClickEnabled=!1,e.dataTipJsFunction=null,e.axisDataTipJsFunction=null,e.axisClickJsFunction=null,e.itemClickJsFunction=null,e.itemDoubleClickJsFunction=null,e.itemDownJsFunction=null,e.itemUpJsFunction=null,e.displayCompleteCallFunction=null,e.displayUpdateCallFunction=null,e.dataRestoreCallFunction=null,e.itemOverJsFunction=null,e.itemOutJsFunction=null,e.itemMoveJsFunction=null,e.chartClickJsFunction=null,e.chartDoubleClickJsFunction=null,e.chartOverJsFunction=null,e.chartOutJsFunction=null,e._mouseIsOut=!0,e.renderingComplete=!1,e.touchMoveEnable=!0,e.lazyJsFunction=null,e._themeName="",e._forceTheme=!1,e.showHorizontalAxisDataTip=!1,e.showVerticalAxisDataTip=!1,e.touchOffset=0,e._lazyScroll=-1,e._percentWidth=100,e._percentHeight=100,e._transitionState=0,e._transitionEffect=null,e.gutterLeft=NaN,e.gutterRight=NaN,e.gutterTop=NaN,e.gutterBottom=NaN,e.calloutStroke=null,e.maximumDataTipCount=NaN,e.showDataTipTargets=!1,e.horizontalDataTipOffset=6,e.dataTipBackgroundColorOnSeries=!1,e.dataTipBorderWidth=NaN,e.dataTipBorderRadius=NaN,e.dataTipBorderStyle="",e.dataTipBorderColorOnSeries=!0,e.dataTipBorderColor="",e.dataTipFontColorOnSeries=!1,e.axisDataTipBorderWidth=NaN,e.axisDataTipBorderStyle=NaN,e.axisDataTipBorderRadius=NaN,e.axisDataTipBorderColor="",e.hideToolTipAtTouchEnd=!1,e._childOrderDirty=!1,e.dataTipFormatter=new vs,e.dataTipFormatter.rounding="nearest",e.dataTipFormatter.precision=0,e.enableDataEffect=!0,e.originalSeriesEffectCache=[],e.originalSeriesEffectCacheDirty=!1,e.allElements=[],e._tipCache=[],e._axisDataTipCache={h:[],v:[]},e._currentHitSet=[],e._commitPropertiesCalled=!1,e._bSeriesDirty=!0,e._seriesStylesDirty=!0,e._bDataDirty=!0,e._mouseEventsInitialized=!1,e._dataTipOverlayCreated=!1,e._showDataTips=!1,e._userSeries=[],e._enablePattern=!1,e._patternMode=!1,e._selectionMode="single",e._selectedSeries=null,e._caretItem=null,e._anchorItem=null,e._systemManager=os.getInstance(),e._dataProvider=null,e._seriesStartIndex=0,e._removeTipCacheTimeout=null,e._removeTipAxisCacheTimeout=null,e._chartColors=[],e._userDefineCache={},e._userDefineDirty=!1,e._selectionCanvases=null,e._rangeItemRenderer=null,e._dataRegionForRange=null,e._dragEnabled=!1,e.invalidateChildOrder(),e.clear=function(){function t(e){var i,s;if(i=e.getNumChildren(),0<i)for(--i;-1<i;--i)(s=e.getChildAt(i))&&(s instanceof st&&s.removeEffect(),s instanceof y&&t(s),s.getParent()&&(s.elementWrapDiv?e.removeChild(s.parentNode):e.removeChild(s)))}var i=e.root;e.resetMouseDispatching(),L&&L.getInstance().freeAllElements(e),as.remove(e),t(i),Gs(i._contentPane,"visibility","hidden"),i.chart=i.main=i.Caption=i.SubCaption=i.Legend=i.DataEditor=null}}function at(){m.call(this,"div","RangeSelector")}function rt(t,e,i,s,a){cs.call(this,t,s,a),this.regionSelected=e,this.mouseEvent=i}function nt(t,e,i,s,a,r){this.tip=t,this.hd=e,this.x=i,this.y=s,this.gx=a,this.gy=r,this.width=t.offsetWidth,this.height=t.offsetHeight}function ot(t,e){for(;0<t.length;){var i=t[t.length-1];if(i.gy+i.height<e.gy)break;i.merge(e,screen.height),e=t.pop()}t.push(e)}function ht(){this.tips=[],this.merge=function(t,e){var i=t.gy+t.height-this.gy;this.tips=this.tips.concat(t.tips),this.gy=Math.max(0,this.gy-(this.gy+this.height-t.gy)/2),this.gy+i>e&&(this.gy=Math.max(0,e-i)),this.height=i},this.addTip=function(t,e){this.tips.push(t),1==this.tips.length?(this.gy=t.py,this.height=t.height):2==this.tips.length?(this.height+=t.height,this.gy=Math.min(e-this.height,Math.max(0,(this.tips[0].gy+this.tips[1].gy)/2)-this.height/2)):(this.height+=t.height,this.gy=Math.min(e-this.height,Math.max(0,((this.gy+this.height/2)*(this.tips.length-1)+t.gy)/this.tips.length-this.height/2)))},this.positionY=function(){var t,e,i=0>this.gy?0:this.gy;for(t=0;t<this.tips.length;t++)e=this.tips[t],e.py=i,i+=e.height}}function lt(t){var e=new me;st.call(this,t?t:"CartesianChart"),e.initStyles("verticalGridLines"),this.verticalAxisRenderer=this.horizontalAxisRenderer=void 0,this.groupField="items",this._verticalAxis=this._horizontalAxis=null,this.setHorizontalAxis(new Mt),this.setVerticalAxis(new Mt),this.setTransforms([new vt]),this._defaultGridLines=e,this._transformBounds=new b,this._computedGutters=new b,this._bAxesRenderersDirty=this._bAxisStylesDirty=this._bgridLinesStyleNameDirty=this._bAxisLayoutDirty=!0,this._bDualMode=!1,this._allSeries=[],this._leftRenderers=[],this._rightRenderers=[],this._bottomRenderers=[],this._topRenderers=[],this._gapBetweenAxes=8,this._backgroundElements=[e],this._horizontalAxisRenderers=[],this._verticalAxisRenderers=[],qi.extend(this._styles,{axisTitleStyleName:null})}function dt(t,e,i){Vi.call(this),this.element=t,this.item={},this.index=i,this.itemRenderer=void 0,this._currentState=ia,r(e)?qi.extend(this.item,e):this.item=e}function ct(t){x.call(this,t?t:"ChartElement"),this.id="",this._userDataProvider=this._dataTransform=this._chart=null}function ut(){}function pt(){}function ft(){this.disabledRangeSet=[],this.disabledDaySet=[],this.disabledDayDifference=0,this.begin=!0,this.DAYS_IN_WEEK=7,this.MILLISECONDS_IN_MINUTE=6e4,this.MILLISECONDS_IN_HOUR=36e5,this.MILLISECONDS_IN_DAY=864e5,this.MILLISECONDS_IN_WEEK=6048e5,this.MILLISECONDS_IN_MONTH=2592e6,this.MILLISECONDS_IN_YEAR=31536e6}function gt(t,e){this.rangeStart=t,this.rangeEnd=e}function mt(t,e,i,s,a,r){this.id=t,this.x=i,this.y=s,this.distance=e,this.chartItem=a,this.item=a.item,this.isHit=!!l(r)||r,this.getDisplayText=function(){return this.dataTipFunction.call(this.chartItem.element,this)}}function _t(){}function yt(){Vi.call(this),this.axes={},this.elements=[]}function vt(){yt.call(this),this.pixelY=this.pixelX=this.pixelHeight=this.pixelWidth=0,this.brokenDirection=null}function xt(){yt.call(this)}function bt(){yt.call(this)}function St(t,e){this.cache=t?t:null,this.filteredCache=e?e:null}function Ct(t){Vi.call(this),this.id="",this.labelJsFunction=null,this.displayName="",this.unitSize=1,this.title="",this.formatter=null,this._transforms=[],this.className=t}function Dt(t,e,i){this.position=t,this.value=e,this.text=i+""}function wt(){this.accurate=!1,this.labels=[],this.minorTicks=[],this.ticks=[]}function Tt(t){Ct.call(this,t?t:"NumericAxis"),this.baseAtZero=this.autoAdjust=!0,this.padding=0,this.computedMinimum=this.computedMaximum=this.computedInterval=this.assignedMinimum=this.assignedMaximum=NaN,this.labelCache=null,this.labelMinimum=this.labelMaximum=NaN,this.minorTickCache=[],this.requiredDescribedFields=pt.REQUIRED_MIN_MAX|pt.REQUIRED_BOUNDED_VALUES,this._labelSet=[],this._cachedValuesHaveBounds=!1,this._regenerateAutoValues=!0,this._maximumLabelPadding=NaN,this._direction="normal",this._maximum=this._minimum=NaN,this.guardMinMax=function(t,e){return t==e&&0!=t?[t-1,e+1]:h(t)||!isFinite(t)?[0,100]:h(e)||!isFinite(e)?[t,t+100]:null},this.zeroValue=function(){return 0}}function Mt(t){Tt.call(this,t||"LinearAxis"),this.ticksBetweenLabels=!1,this.alignLabelsToInterval=!0,this._actualAssignedMinimum=this._actualAssignedMaximum=NaN}function It(t){Tt.call(this,t?t:"LogAxis"),this.computedInterval=1,this.formatter=null}function At(t){Ct.call(this,t||"CategoryAxis"),this.ticksBetweenLabels=!1,this.categoryField="",this.groupLabelJsFunction=this.labelFunction=null,this.padding=.5,this._minimum=this._maximum=NaN,this.formatter=null,this.groupCategoryField="groupCategory",this._categoryValues=[],this._cachedTicks=this._cachedMinorTicks=this._labelsMatchToCategoryValuesByIndex=this._groupCategoryValues=null,this.setGroupCategoryValues=function(t){this._groupCategoryValues=t},this.getGroupCategoryValues=function(){return this._groupCategoryValues},this.getCategoryValues=function(){return this._categoryValues},this.getCategoryByIndex=function(t){return 0>t||t>=this._categoryValues.length||null==this._categoryValues[t]?"":this._categoryValues[t]},this.getDirection=function(){return""}}function Lt(t){Tt.call(this,t?t:"DateTimeAxis"),this.autoAdjust=this.baseAtZero=!1,this.formatter=null,this.updatePropertyAccessors(),this.MILLISECONDS_IN_MINUTE=6e4,this.MILLISECONDS_IN_HOUR=36e5,this.MILLISECONDS_IN_DAY=864e5,this.MILLISECONDS_IN_WEEK=6048e5,this.MILLISECONDS_IN_MONTH=2592e6,this.MILLISECONDS_IN_YEAR=31536e6,this.MINIMUM_LABEL_COUNT=2,this.UNIT_PROGRESSION={milliseconds:null,seconds:"milliseconds",minutes:"seconds",hours:"minutes",days:"hours",weeks:"days",months:"weeks",years:"months"},this.parseFunction=null,this.unitSize=this.MILLISECONDS_IN_DAY,this._dataInterval=1,this.tmpDate=new Date,this._alignLabelsToUnits=!0,this.dateRangeUtilities=new ft,this._disabledRanges=this._disabledDays=null}function Rt(t){x.call(this,t?t:"Axis2DRenderer"),this._axis=null,this.horizontal=!0,this.canStagger=!1,this.canDropLabels=!0,this.placement="",this.labelJsFunction=null,this.tickPlacement="outside",this.minorTickPlacement="cross",this.showLabels=!0,this.showLine=!1,this.labelGap=4,this.groupLabelGap=5,this.axisStroke=new w("#f1f1f1",1,1),this.tickStroke=new w("#f1f1f1",1,1),this.minorTickStroke=new w("#ffffff",1,1),this.groupLabelStroke=new w("#777777"),this.tickLength=5,this.minorTickLength=0,this.verticalAxisTitleAlignment="flippedVertical",this.titleGap=2,this.formatter=null,this.minorTicks=[],this.labels=[],this._cacheDirty=!0,this._inverted=this._forceLabelUpdate=!1,this._gutters=new b,this.ABSOLUTE_TITLE_PADDING=6,this._ticks=[],this._measureLabelSize=this._titleHeight=0,this.measureTickSize=function(t){switch(t=0,t=this.tickLength,this.tickPlacement){case"inside":t=0;break;case"none":t=0}return this.tickSize=t},this.measureLabelSize=function(){var t,e,i,s,a,r=0,n=0,o=this.graphics;e=this._labels;var h=this._groupLabels;if(t=parseInt(this.getStyle("fontSize")),i=this.getStyle("labelRotation"),!this.showLabels)return 0;if(o.save(),this.setFont(),this.horizontal){if(0!=i){for(s=0,a=e.length;s<a;s++)n=Math.max(n,e[s].width);n=Math.sin(Math.PI/180*(0<i?i:360-i))*n+t}else{for(s=0,a=e.length;s<a;s+=1)t=e[s],n=Math.max(n,t.height);this.canStagger&&(n=2*n+this.labelGap)}if(h){for(s=0,a=h.length;s<a;s+=1)for(e=0,i=h[s].length;e<i;e+=1)t=h[s][e],r=Math.max(r,t.height*(s+1)+(s+1)*this.groupLabelGap);n+=r}}else for(s=0,a=e.length;s<a;s++)t=e[s],n=Math.max(n,t.width);return o.restore(),this.labelSize=n},this.getInverted=function(){return"right"==this.placement||"top"==this.placement},this.initStyles=function(t){switch(t){case"rMateBlockCategoryAxis":this.axisStroke=new w("#f1f1f1",1,1),this.minorTickLength=0,this.minorTickPlacement="none",this.tickLength=0,this.tickPlacement="none",this.tickStroke=new w("#f1f1f1"),this.labelGap=15;break;case"rMateBlockNumericAxis":break;default:this.axisStroke=new w("#f1f1f1",1,1),this.minorTickLength=0,this.minorTickPlacement="none",this.tickLength=0,this.tickPlacement="none",this.tickStroke=new w("#f1f1f1"),this.labelGap=15}},this.initStyles()}function Pt(t){Rt.call(this,t?t:"Axis3DRenderer"),this.minorTickPlacement=this.tickPlacement="none",this.showLine=this.showLabels=!0,this.labelGap=15,this.axisStroke=new w("#000000"),this.tickStroke=new w("#000000"),this.minorTickStroke=new w("#000000"),this.minorTickLength=this.tickLength=0,this.initStyles=function(t){switch(t){case"rMateBlockCategoryAxis":this.axisStroke=new w("#f4f4f4"),this.minorTickLength=0,this.minorTickPlacement="none",this.tickLength=0,this.tickPlacement="cross",this.tickStroke=new w("#f1f1f1"),this.labelGap=12;break;default:this.axisStroke=new w("#f4f4f4"),this.minorTickLength=0,this.minorTickPlacement="none",this.tickLength=0,this.tickPlacement="cross",this.tickStroke=new w("#f1f1f1"),this.labelGap=15}},this.initStyles()}function Et(t){var e=this;x.call(e,t?t:"AngularAxisRenderer"),e.showLabels=!0,e.showLine=!1,e.labelGap=6,e.axisStroke=null,e.minorTickStroke=null,e.minorTickPlacement="none",e.minorTickLength=0,e.tickStroke=null,e.tickLength=0,e.tickPlacement="none",e.dataTransform=new xt,e.tempAxisStroke=new w("#ffffff"),e.axis=null,e.initStyles=function(t){switch(t.constructor){case At:e.tempAxisStroke=new w("#bfbfbf"),e.tickLength=0,e.minorTickLength=0;break;case Mt:e.tempAxisStroke=new w("#bfbfbf");break;case Tt:e.tempAxisStroke=new w("#bfbfbf"),e.minorTickLength=0,e.minorTickPlacement="cross",e.minorTickStroke=new w("#ffffff"),e.tickLength=4,e.tickStroke=new w("#bfbfbf")}}}function Nt(t){lt.call(this,t?t:"Line2DChart"),this.endPointDisplayName=this._horizontalAxis.autoAdjust=!1,this.endPointDisplayNameXOffset=2,this._displayNameLabels=[]}function Ft(t){lt.call(this,t?t:"Area2DChart"),this.nullDataAtZero=!0,this._horizontalAxis.autoAdjust=!1,this._type="overlaid"}function kt(t){lt.call(this,t?t:"Bar2DChart"),this.barWidthRatio=.55,this.maxBarWidth=NaN,this.dataTipMode="multiple",this.mouseSensitivity=0,this._rightOffset=this._perSeriesMaxBarWidth=this._perSeriesBarWidthRatio=NaN,this._wasStacked=!1,this._horizontalAxis.autoAdjust=!0,this._type="clustered",this._defaultGridLines.initStyles("horizontalGridLines")}function Ot(t){kt.call(this,t||"Bar3DChart"),this.cubeDepth=30,this.cubeAngleRatio=1,this.cubeDepthOffset=0,this._type="clustered",this._seriesIndexDirty=!1}function Ht(t){lt.call(this,t?t:"Bubble2DChart"),this.radiusAxis=null,this.maxRadius=50,this.minRadius=0,this._defaultGridLines.initStyles("bothGridLines"),t=new Mt,t.autoAdjust=!1,t.setMinimum(0),t.setInterval(1),this.setRadiusAxis(t)}function Vt(t){Ht.call(this,t?t:"Bubble3DChart"),this.cubeDepth=10,this.cubeAngleRatio=.6}function zt(t){lt.call(this,t?t:"Column2DChart"),this.columnWidthRatio=.5,this.maxColumnWidth=NaN,this.dataTipMode="multiple",this.mouseSensitivity=0,this._type="clustered",this._leftOffset=this._perSeriesMaxColumnWidth=this._perSeriescolumnWidthRatio=NaN,this._horizontalAxis.autoAdjust=!1}function Wt(t){zt.call(this,t?t:"Column3DChart"),this.cubeDepth=30,this.cubeAngleRatio=1,this.cubeDepthOffset=0}function Bt(t){lt.call(this,t?t:"Combination2DChart")}function Ut(t){lt.call(this,t?t:"Combination3DChart"),this.cubeDepth=10,this.cubeAngleRatio=1;
}function Gt(){y.call(this,"div","DataEditor"),this._percentWidth=100,this._dataEditorVisible=!0,this.chartId=this._productName="",this.chart=this.owner=null,this.headerHeight=22,this._editorHeight=80,this.minColumnWidth=NaN,this.reverseRow=!1,this.showHeaders=!0,this.showOnInit=!1,this.verticalAlign="middle",this.verticalGridLines=!0,this.horizontalGridLines=!1,this.editable=!0,this._closeDiv=null,this.useCloseButton=!0,this._useDelayInvalidate=Ps,this.defaultHeaderStyleName={},this._dataProvider=null,this.formatter=new vs}function Yt(t){F.call(this,t?t:"Legend"),this.position="bottom",this.vAlign="middle",this.hAlign="center",this.useAxisVisibleCheck=!1,this.itemClickJsFunction=this.titleJsFunction=null,this._defaultMouseOverAction=!1,this._horizontalScrollPolicy=this._verticalScrollPolicy="off",this._dataProvider=new Ds,this._actualMajorAxisLength=this._preferredMajorAxisLength=NaN,this._childrenDirty=!1,this._legendItemLinkage=null,this._dataProviderChanged=this._selectChangedCheckableItem=!1,this._legendItemClass=Xt,this._legendItemClassChanged=!1,this._selected=!0,this._selectedChanged=this._useVisibleCheck=this._useVisibleCheckChanged=this._changeLegendItemFlag=!1,this._contentPane.setStyle("overflowX","hidden"),this._contentPane.setStyle("overflowY","hidden"),this.setUseVisibleCheck(this._useVisibleCheck)}function Xt(t){y.call(this,"div",t?t:"LegendItem"),this.selected=!0,this.fill=new T("#cccccc"),this.disableItemFill=null,this._markerHeight=this._markerWidth=NaN,this._useDelayInvalidate=Ps,this._styles={paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0}}function Jt(){Xt.call(this),this._fill=this.targetSeries=null}function jt(t){var e=this;st.call(e,t?t:"PolarChart"),e._startAngle=0,e.startAngleRadians=0>e._startAngle?e._startAngle*Math.PI/180%(2*Math.PI)+2*Math.PI:e._startAngle*Math.PI/180%(2*Math.PI),e.setTransforms([new xt]),e.dataTipDisplayMode="mouse",e._angularAxis=null,e._radialAxis=null,e.numCategories=function(){return e._transforms[0].getAxis("a").getLabels(0).labels.length}}function Qt(t){var e=this;st.call(e,t?t:"Polar3DChart"),e.angularAxisRenderers=[],e.setTransforms([new bt]),e.numCategories=function(){return e._transforms[0].getAxis("a").getLabels(0).labels.length}}function Kt(t){jt.call(this,t?t:"Pie2DChart"),this.dataTipMode="single",this.explodingAlone=this.explodable=!0,this.innerRadius=0,this.radialAxisRenderers=[],this.enableSort=!1,this.sortType="desc",this.setAngularAxis(new Mt),this._angularAxis.minimum=0,this._angularAxis.maximum=100,this._angularAxisRenderers=[],this._pieItemClickJsFunction=null,this._styles={paddingTop:4,paddingLeft:4,paddingRight:4,paddingBottom:4}}function qt(t){Qt.call(this,t?t:"Pie3DChart"),this.innerRadius=0,this.textAlign="left",this.depth=50,this.elevation=70,this.dataTipMode="single",this.explodingAlone=this.explodable=!0,this.dataTipDisplayMode="mouse",this.enableSort=!1,this.sortType="desc",this._pieItemClickJsFunction=null,this._angularAxis=new Mt,this._angularAxis.minimum=0,this._angularAxis.maximum=100}function Zt(t){Kt.call(this,t||"HalfPie2DChart")}function $t(t){lt.call(this,t?t:"Plot2DChart"),this._defaultGridLines.initStyles("bothGridLines")}function te(){Yt.call(this,"SubLegend"),this.setUseVisibleCheck(!1)}function ee(t){U.call(this,t),this.instanceClass=ne,this.elementOffset=20,this.offset=this.minimumElementDuration=0,this.type="show",this.easingFunction="LinearEase"}function ie(t){ee.call(this,t),this.instanceClass=oe}function se(t){ee.call(this,t),this.instanceClass=he,this.direction="right"}function ae(t){ee.call(this,t),this.instanceClass=le,this.direction="left"}function re(t){ee.call(this,t),this.instanceClass=de,this.relativeTo="series",this.verticalFocus=this.horizontalFocus="center"}function ne(t){this.targetSeries=t,J.call(this,t),this.minimumElementDuration=this.elementOffset=20,this.offset=0,this.type="show",this.defaultEasingFunction="LinearEase",this._forward=!0}function oe(t){ne.call(this,t)}function he(t){ne.call(this,t)}function le(t){ne.call(this,t),this.direction="left"}function de(t){ne.call(this,t),this.relativeTo="series"}function ce(){ct.call(this,"AxisMarker"),this.reActualSized=this.verticalAxisOppEnable=this.horizontalAxisOppEnable=!1,this._lines=[],this._linesChanged=!1,this._ranges=[],this._rangesChanged=!1,this._lineLabels=[],this._rangeLabels=[]}function ue(){this.fontSize=11,this.color="#000000",this.fontWeight=this.fontStyle="normal",this.styleName="",this.textAlign="center",this.textDecoration="none",this.textIndent=0,this.fontFamily="arial",this.label=""}function pe(){y.call(this,"div","CanvasElement Kool__pointer-events-none"),Gs(this,"position","absolute"),this.childMaintainAspectRatio=1,this._percentHeight=this._percentWidth=100}function fe(){ct.call(this,"CanvasLabel"),this.id="",this.verticalCenter=this.horizontalCenter=this.top=this.right=this.left=this.bottom=NaN,this.text="",this.verticalGap=4,this.itemClickJsFunction=null,this.borderColor="#000000",this.backgroundAlpha=0,this.backgroundColor="#ffffff",this.borderAlpha=1,this.borderStyle="none",this.borderThickness=1,this.textAlign="center",this.verticalAlign="middle",this.paddingBottom=this.paddingTop=this.paddingRight=this.paddingLeft=0,this.borderRadius=this.cornerRadius=NaN,this._addEventDirty=!1}function ge(){ct.call(this,"CrossRangeZoomer"),this.zoomType="horizontal",this.showValueLabels=this.enableCrossHair=this.enableZooming=!0,this.horizontalLabelPlacement="left",this.horizontalLabelFormatter=new vs,this.horizontalLabelFormatter.precision=0,this.horizontalLabelOppFormatter=new vs,this.horizontalLabelOppFormatter.precision=0,this.verticalLabelPlacement="bottom",this.verticalLabelFormatter=new vs,this.verticalLabelFormatter.precision=0,this.verticalLabelOppFormatter=new vs,this.verticalLabelOppFormatter.precision=0,this.useDualCrossYLabel=this.useDualCrossXLabel=!1,this.verticalStrokeEnable=this.horizontalStrokeEnable=!0,this.verticalAxisOppEnable=this.horizontalAxisOppEnable=!1,this.syncCrossRangeZoomer=null,this.syncCrossRangeChart="",this.rangeUpdateJsFunction=null,this.horizontalStroke=new w("#cccccc"),this.verticalStroke=new w("#cccccc"),this.zoomRangeFill=new T("#777777",.5),this.zoomRangeStroke=new w("#b8b9ed"),this.minimumVisibleItemSize=5,this._hLabel0=this._hLabel1=this._vLabel0=this._vLabel1=null,this._hLabelDatas=[],this._vLabelDatas=[],this._chartAxisRenderers=null,this._bTracking=this._mouseDown=this._zoomRectFlag=!1,this._tY2=this._tX2=this._tY=this._tX=NaN,this._crosshairs=null,this._dLeft=this._dRight=this._dTop=this._dBottom=0,this._restoreButton=null,this.restoreButtonText="Restore Zoom",this._horiOrgMinMax=[],this._vertiOrgMinMax=[],this._zoomDepth=-1,this._saveSeriesImage="",this._originalMinMax={},this._pinchZoomed=!1,this._pinchZoomStart=null,qi.extend(this._styles,{fontFamily:null,fontSize:null,fontWeight:null,fontStyle:null,color:null,backgroundColor:null,borderStyle:null,borderWidth:null,borderColor:null,paddingTop:null,paddingLeft:null,paddingRight:null,paddingBottom:null})}function me(t){var e=this;ct.call(e,t?t:"GridLines"),e.direction="horizontal",e.horizontalChangeCount=1,e.horizontalStroke=new w("#f1f1f1"),e.horizontalTickAligned=!0,e.horizontalFill=null,e.horizontalAlternateFill=null,e.verticalStroke=new w("#f1f1f1"),e.verticalChangeCount=1,e.verticalTickAligned=!0,e.verticalFill=null,e.verticalAlternateFill=null,e.horizontalShowOrigin=!1,e.verticalShowOrigin=!1,e.horizontalOriginStroke=new w("#555555"),e.verticalOriginStroke=new w("#555555"),e.horizontalShowCenterLine=!1,e.verticalShowCenterLine=!1,e.horizontalCenterStroke=new w("#b1b1b1"),e.verticalCenterStroke=new w("#b1b1b1"),e.showEdgeHorizontalStroke=!0,e.showEdgeVerticalStroke=!0,e.initStyles=function(t){switch(t){case"horizontalGridLines":e.direction="vertical",e.horizontalShowOrigin=!1,e.horizontalTickAligned=!0,e.verticalShowOrigin=!0,e.verticalTickAligned=!0;break;case"bothGridLines":e.direction="both",e.horizontalFill=null,e.horizontalAlternateFill=null,e.verticalFill=null,e.verticalAlternateFill=null,e.horizontalShowOrigin=!1,e.horizontalTickAligned=!0,e.verticalShowOrigin=!1,e.verticalTickAligned=!0;break;case"radarGridLines":e.gridLines="both",e.radialStroke=new w("#bfbfbf"),e.angularStroke=new w("#bfbfbf"),e.radarFill=new T("#ffffff"),e.radarAlternateFill=new T("#ffffff"),e.radarChangeCount=1;break;case"windRoseGridLines":e.gridLines="both",e.radialStroke=new w("#999999"),e.angularStroke=new w("#cccccc"),e.radarFill=new T("#FFFFFF"),e.radarAlternateFill=new T("#f7f7f7"),e.radarChangeCount=1;break;default:e.direction="horizontal",e.horizontalOriginStroke=new w("#b0c1d0"),e.horizontalShowOrigin=!0,e.horizontalStroke=new w("#f1f1f1"),e.horizontalTickAligned=!0,e.verticalOriginStroke=new w("#b0c1d0"),e.verticalShowOrigin=!1,e.verticalStroke=new w("#f1f1f1"),e.verticalTickAligned=!0}}}function _e(){y.call(this,"img","ImageElement"),this.maintainAspectRatio=!1,this.measuredHeight=this.measuredWidth=this.verticalCenter=this.horizontalCenter=this.bottom=this.top=this.right=this.left=NaN,this._source="",this._chilrenCreated=this._imgLoaded=!1,this._alpha=1,Gs(this,"position","absolute")}function ye(){K.call(this),this.cubeAngleRatio=this.cubeDepth=0}function ve(){K.call(this)}function xe(){K.call(this)}function be(){K.call(this)}function Se(){K.call(this)}function Ce(){K.call(this)}function De(){K.call(this)}function we(){K.call(this)}function Te(){K.call(this)}function Me(){K.call(this)}function Ie(){K.call(this)}function Ae(){K.call(this)}function Le(){K.call(this)}function Re(){K.call(this)}function Pe(){K.call(this),this.form="segment"}function Ee(){K.call(this)}function Ne(){K.call(this)}function Fe(){K.call(this)}function ke(){K.call(this)}function Oe(){K.call(this)}function He(){K.call(this)}function Ve(){K.call(this)}function ze(){K.call(this)}function We(){K.call(this)}function Be(){K.call(this)}function Ue(){K.call(this)}function Ge(t,e){K.call(this),this.SHADOW_INSET=0,this.innerStack=!1}function Ye(t,e){K.call(this),this.SHADOW_INSET=0}function Xe(){K.call(this)}function Je(){K.call(this)}function je(){K.call(this)}function Qe(t){ct.call(this,t?t:"Series"),this.id="",this.hideDataEffect=this.showDataEffect=null,this.formatter=new vs,this.filterData=!0,this.tween=null,this.seriesState=0,this.showValueLabels=this.patternJsFunction=this.pattern=null,this.allSeriesTransform=this.selectable=this.sortOnYField=this.sortOnXField=this.interactive=!0,this.itemSelectionColor=this.itemRollOverColor="",this.htmlJsFunction=null,this._userDefineDirty=!1,this._selectionContainer=null,this._renderDataType=St,this._displayName="",this._transitionRenderData=this._dataProvider=null,this._itemType=dt,this._selectedItems=[],this._selectionDirty=!1,this._selectionDirtyArray=[],this._labelLayerCreated=!1,this.labelLayer=null,this._bTransformDirty=this._bFilterDirty=this._bMappingDirty=this._bDataDirty=!0,this._selectionIndicesDirty=this._bHideTransitionDirty=!1,this._selectionIndicesDirtyArray=[],this._renderData=this._itemRendererInstance=null,this.setStyles({stroke:null,strokes:null,fill:null,fills:null})}function Ke(t){Qe.call(this,t?t:"CartesianSeries"),this.showTrendLine=!1,this.trendLineType="linear",this.polynomialOrder=this.movingAveragePeriod=2,this.trendLineStroke=new w("#777777"),this.trendLineForm="curve",this.showTrendLineRSquared=this.showTrendLineEquation=!1,this.trendLineLabelVerticalAlign=this.trendLineLabelHorizontalAlign=this.trendLineLabelOrder="none",this.trendLineColor="#777777",this.standardDeviation=NaN,this._trendLineInfos={caches:[],equation:null,rsquared:null},this.showErrorBar=!1,this.errorBarDirection="both",this.errorBarStroke=new w("#000000"),this.errorBarLength=7,this.errorBarPercentValue=this.errorBarFixedValue=NaN}function qe(t){Qe.call(this,t?t:"StackedSeries"),this._verticalAxis=this._horizontalAxis=null,this._stackedMinimum=this._stackedMaximum=NaN,this._seriesDirty=this._bAxesDirty=this._stackingDirty=!0,this._series=[],this._allowNeg=!0,this.setDataTransform(new vt)}function Ze(t){Ke.call(this,t?t:"Line2DSeries"),this.itemRenderers=this.itemRenderer=this._horizontalAxis=this._verticalAxis=null,this.interpolateValues=!1,this.downLabelField=this.upLabelField=this.yField=this.xField="",this.fillJsFunction=this.downLabelJsFunction=this.upLabelJsFunction=null,this.showMaxValueLabel=this.showMinValueLabel=!1,this.displayNameLabel=null,this.radius=5,this.rollOverRadius=7.5,this.form="segment",this.lineStyle="normal",this.dashLinePlacement="after",this.dashLineSeperatePos=0,this.dashLinePattern=5,this.upLabelXOffset=0,this.upLabelYOffset=-6,this.downLabelXOffset=0,this.downLabelYOffset=6,this.baseValue=NaN,this.legendMarkerRenderer=new Bi(ti),this._itemType=dt,this.lineSegmentType=$e,this.lineSegmentRenderer=ke,this.setDataTransform(new vt),this.legendDataChanged(),this._lineRendererInstance=null,this.setStyles({fill:new T("#ffffff"),stroke:null,lineStroke:null,declineStroke:null,lineDeclineStroke:null,declineFill:null})}function $e(t,e,i,s,a){this.element=t,this.items=i,this.index=e,this.start=s,this.end=a,this.clone=function(){return new $e(this.element,this.index,this.items,this.start,this.end)}}function ti(){K.call(this)}function ei(t){Ke.call(this,t?t:"Area2DSeries"),this._horizontalAxis=this._verticalAxis=null,this.minField=this.yField=this.xField="",this.itemRenderers=this.itemRenderer=null,this.areaRenderer=Pe,this.sortOnXField=!0,this.fillJsFunction=this.downLabelJsFunction=this.upLabelJsFunction=this.downLabelField=this.upLabelField=this.stacker=null,this.form="segment",this.radius=5,this.rollOverRadius=8,this.upLabelXOffset=0,this.upLabelYOffset=-6,this.downLabelXOffset=0,this.downLabelYOffset=6,this.baseValue=NaN,this.showMaxValueLabel=this.showMinValueLabel=!1,this.legendMarkerRenderer=new Bi(si),this._itemType=dt,this._stacked=this._bAxesDirty=!1,this._userMinField="",this._areaRendererInstance=this._itemRendererInstance2=this._hdContextColor=null,this.setDataTransform(new vt),this.interpolateValues=!1,this.setStyles({fill:new T("#ffffff"),stroke:null})}function ii(t,e,i,s,a){this.element=t,this.items=i,this.index=e,this.start=s,this.end=a,this.clone=function(){return new ii(this.element,this.index,this.items,this.start,this.end)}}function si(){K.call(this)}function ai(t){qe.call(this,t?t:"AreaSet"),this.showTotalLabel=!1,this.totalLabelJsFunction=this.totalLabelField=null,this.labelYOffset=this.labelXOffset=0,this._type="overlaid"}function ri(t){Ke.call(this,t?t:"Bar2DSeries"),this._horizontalAxis=this._verticalAxis=null,this.minField=this.yField=this.xField="",this.barWidthRatio=.65,this.itemRenderer=new Bi(Ee),this.stacker=null,this.maxBarWidth=NaN,this.offset=0,this.alwayShowLabels=!0,this.lineToEachItems=!1,this.linkLineStroke=null,this.interpolateValueLines=this.alwayShowLines=!1,this.fillJsFunction=this.outsideLabelJsFunction=this.insideLabelJsFunction=this.outsideLabelField=this.insideLabelField=null,this.labelAlign="center",this.insideLabelYOffset=this.insideLabelXOffset=0,this.outsideLabelXOffset=2,this.halfWidthOffset=this.outsideLabelYOffset=0,this.showLinkLabels=!0,this.linkLabelColor="#000000",this.linkLabelFontFamily="arial",this.linkLabelFontSize=11,this.linkLabelFontWeight="normal",this.linkLabelYOffset=this.linkLabelXOffset=0,this.linkLabelNegativeColor="#0054FF",this.linkLabelPositiveColor="#FF3636",this.setDataTransform(new vt),this._itemType=dt,this._stacked=this._bAxesDirty=!1,this._userMinField="",this._linkLabelCaches=[]}function ni(t){ri.call(this,t?t:"Bar3DSeries"),this.halfWidthOffset=.5,this.itemRenderer=new Bi(we),this.alwayShowItem=!1,this.legendMarkerRenderer=new Bi(Se),this.outsideLabelXOffset=12,this._depthRatio=NaN}function oi(t){qe.call(this,t?t:"BarSet"),this.offset=0,this.barWidthRatio=.65,this.maxBarWidth=NaN,this.showTotalLabel=!1,this.totalLabelJsFunction=this.totalLabelField=null,this.labelYOffset=this.labelXOffset=0,this._seriesIndexDirty=!1,this._perBarMaxColumnWidth=this._perBarWidthRatio=NaN,this._rightOffset=0}function hi(t){Ke.call(this,t?t:"Bubble2DSeries"),this.radiusAxis=this._horizontalAxis=this._verticalAxis=null,this.radiusField=this.yField=this.xField="",this.itemRenderer=new Bi(ye),this.alwayShowLabels=!0,this.fillJsFunction=this.labelJsFunction=this.insideLabelJsFunction=this.labelField=this.insideLabelField=null,this.labelYOffset=this.insideLabelYOffset=this.labelXOffset=this.insideLabelXOffset=0,this._itemType=dt,this._bAxesDirty=!1,this.setDataTransform(new vt)}function li(t){hi.call(this,t?t:"Bubble3DSeries")}function di(t){Ke.call(this,t?t:"Column2DSeries"),this._horizontalAxis=this._verticalAxis=null,this.minField=this.yField=this.xField="",this.columnWidthRatio=.5,this.itemRenderer=new Bi(Ne),this.sortOnXField=!1,this.stacker=null,this.maxColumnWidth=NaN,this.offset=0,this.alwayShowLabels=!0,this.lineToEachItems=!1,this.linkLineStroke=null,this.interpolateValueLines=this.alwayShowLines=!1,this.fillJsFunction=this.outsideLabelJsFunction=this.insideLabelJsFunction=this.outsideLabelField=this.insideLabelField=null,this.halfWidthOffset=1,this.showLinkLabels=!1,this.linkLabelColor="#000000",this.linkLabelFontFamily="arial",this.linkLabelFontSize=11,this.linkLabelFontWeight="normal",this.linkLabelYOffset=this.linkLabelXOffset=0,this.linkLabelNegativeColor="#0054FF",this.linkLabelPositiveColor="#FF3636",this.labelAlign="middle",this.showLabelVertically=!1,this.verticalLabelAlignment="vertical",this.outsideLabelXOffset=this.insideLabelYOffset=this.insideLabelXOffset=0,this.outsideLabelYOffset=-4,this._itemType=dt,this._stacked=this._bAxesDirty=!1,this._userMinField="",this._linkLabelCaches=[],this.setDataTransform(new vt)}function ci(t){qe.call(this,t?t:"ColumnSet"),this.offset=0,this.columnWidthRatio=.5,this.maxColumnWidth=NaN,this.showTotalLabel=!1,this.totalLabelJsFunction=this.totalLabelField=null,this.labelXOffset=0,this.labelYOffset=-4,this._seriesIndexDirty=!1,this._perColumnMaxColumnWidth=this._perColumnWidthRatio=NaN,this._leftOffset=0}function ui(t){di.call(this,t?t:"Column3DSeries"),this.itemRenderer=new Bi(Te),this.halfWidthOffset=.5,this.alwayShowItem=!1,this.legendMarkerRenderer=new Bi(Se),this.outsideLabelYOffset=-14,this._depthRatio=NaN}function pi(t){ri.call(this,t?t:"HTarget2DGoalSeries"),this.barWidthRatio=.5,this.itemRenderer=new Bi(be)}function fi(t){ri.call(this,t?t:"HTarget2DResultSeries"),this.barWidthRatio=.6,this.itemRenderer=new Bi(Se)}function gi(t){ni.call(this,t?t:"HTarget3DGoalSeries"),this.barWidthRatio=.7,this.itemRenderer=new Bi(xe)}function mi(t){ni.call(this,t?t:"HTarget3DResultSeries"),this.barWidthRatio=.67,this.itemRenderer=new Bi(ve)}function _i(t){Qe.call(this,t?t:"PieSeries"),this._innerRadiusInPixelsScaledForExplode=0,this._radiusInPixelsScaledForExplode=1,this._innerRadiusInPixels=this._reserveExplodeRadius=this._maxExplodeRadiusRatio=this._explodeRadius=0,this._measuringField={},this._itemType=dt,this.explodeRadius=this.labelXOffset=this.labelYOffset=this.DROP_SHADOW_SIZE=0,this.field="",this.labelJsFunction=this.fillJsFunction=null,this.labelField="",this.maxLabelRadius=.6,this.insideLabelRatio=.7,this._nameField="",this.outerRadius=1,this.perWedgeExplodeRadius=[],this.reserveExplodeRadius=0,this.explodable=!0,this.startAngleRadians=this.startAngle=this.depth=0,this.calloutGap=20,this.calloutType="edge",this.innerRadius=0,this.insideLabelSizeLimit=9,this.itemRenderer=new Bi(Ye),this.alwaysShowInsideLabel=this.zeroValueEnable=!1,this.renderDirection="clockwise",this.innerStackRatio=0,this.sortField="",this.insideWithCalloutCompareArea=0,this.legendMarkerRenderer=new Bi(Ce),this._updateSeriesItemDelay=!1,this._selectionCanvas=null,this.legendCheckWedge=[],this.setDataTransform(new xt)}function yi(t){_i.call(this,t?t:"Pie2DSeries")}function vi(t){Qe.call(this,t?t:"Pie3DSeries"),this.explodeRadius=this.labelYOffset=this.labelXOffset=0,this.field="",this.labelJsFunction=this.fillJsFunction=null,this.labelField="",this.maxLabelRadius=.6,this._nameField="",this.outerRadius=1,this.insideLabelRatio=.7,this.perWedgeExplodeRadius=[],this.reserveExplodeRadius=0,this.explodable=!0,this.startAngleRadians=this.startAngle=this.innerStackRatio=0,this.calloutGap=10,this.innerRadius=0,this.assignedRadiusRatio=1,this.insideLabelSizeLimit=9,this.itemRenderer=new Bi(Ge),this.alwaysShowInsideLabel=!1,this.insideWithCalloutCompareArea=0,this.renderDirection="clockwise",this.shadowDepth=4,this.lineStyle="normal",this.zeroValueEnable=this.innerStack=!1,this.sortField="",this.legendMarkerRenderer=new Bi(Ce),this.legendCheckWedge=[],this._innerRadiusInPixelsScaledForExplode=0,this._radiusInPixelsScaledForExplode=1,this._innerRadiusInPixels=this._reserveExplodeRadius=this._maxExplodeRadiusRatio=this._explodeRadius=0,this._measuringField={},this._itemType=dt,this._updateSeriesItemDelay=!1,this.DROP_SHADOW_SIZE=6,this.setDataTransform(new bt)}function xi(t){yi.call(this,t||"HalfPie2DSeries"),this.innerRadius=.5,this.renderDirection="clockwise",this.startAngle=-180}function bi(t){Ke.call(this,t?t:"Plot2DSeries"),this.yField=this.xField="",this.itemRenderer=null,this.radius=4,this.selectionRadius=8,this._horizontalAxis=this._verticalAxis=this.fillJsFunction=null,this._itemType=dt,this._bAxesDirty=!1,this.setDataTransform(new vt)}function Si(t){di.call(this,t?t:"VTarget2DGoalSeries"),this.columnWidthRatio=.6,this.itemRenderer=new Bi(Oe)}function Ci(t){di.call(this,t?t:"VTarget2DResultSeries"),this.columnWidthRatio=.6,this.itemRenderer=new Bi(Se)}function Di(t){ui.call(this,t?t:"VTarget3DGoalSeries"),this.columnWidthRatio=.5,this.itemRenderer=new Bi(Ie)}function wi(t){ui.call(this,t?t:"VTarget3DResultSeries"),this.columnWidthRatio=.5,this.itemRenderer=new Bi(Me)}function Ti(t,e,i,s,a){var r;if(t||(t="undefined"),e||(e="png"),!s)throw"The 'callback' parameter is undefined";if(s=s(),window.Blob&&window.atob&&window.ArrayBuffer&&window.Uint8Array){switch(e){case"png":case"jpeg":case"jpg":i=s,r=Ii(window.atob(i.split(",")[1]),i.split(";")[0].split(":")[1]);break;case"pdf":r=Ii(Mi(s,a),"application/pdf");break;case"csv":r=new Blob([s],{type:"application/csv"})}window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(r,t+"."+e):(i=document.createElement("a"),document.body.appendChild(i),i.download=t+"."+e,i.href=window.URL.createObjectURL(r),i.click(),document.body.removeChild(i))}else{if(!i)throw"The 'url' parameter is undefined";switch(e){case"png":case"jpeg":s=s.substr(s.indexOf(",")+1);break;case"pdf":s="data:application/pdf;base64,"+window.btoa(Mi(s))}r=document.createElement("iframe"),a=document.createElement("input");var n=document.createElement("input"),o=document.createElement("input"),h=document.createElement("form");document.getElementById("rMateH5__TempDownloadIFrame")&&(document.body.removeChild(document.getElementById("rMateH5__TempDownloadIFrame")),document.body.removeChild(document.getElementById("rMateH5__TempDownloadIFrame"))),document.body.appendChild(r),r.name=r.id="rMateH5__TempDownloadIFrame__",h.name=h.id="rMateH5__TempDownloadForm",h.method="POST",h.action=i,h.style.visibility="hidden",r.width=r.height=r.border=0,n.type="hidden",o.type="hidden",a.type="hidden",n.id=n.name="data",o.id=o.name="extension",a.id=a.name="fileName",n.value=s,o.value=e,a.value=t,h.appendChild(n),h.appendChild(o),h.appendChild(a),r.appendChild(h),h.submit()}}function Mi(t,e){0>t.indexOf("jpeg")&&(t="data:image/jpeg;base64,"+t);var i=e.location&&e.location.x||0,s=e.location&&e.location.y||0,a=new jsPDF(e.portrait?"p":"l","cm",[.026458*(e.size&&e.size.width||0),.026458*(e.size&&e.size.height||0)]);return a.addImage(t,"jpeg",i,s),a.output()}function Ii(t,e){var i,s,a,r;for(a=new ArrayBuffer(t.length),r=new Uint8Array(a),i=0,s=t.length;i<s;i+=1)r[i]=t.charCodeAt(i);return new Blob([r?r:a],{type:e})}function Ai(t,e,i){var s,a,r,n,o,h,l=0,d=[];if(o=document.getElementById(t),t=function(t){return t.replace(/\r|\t|\n|<th>|<td>|<tr>|<\/tr>/gi,"").split(/<\/th>|<\/td>/gi)},i||(i="horizontal"),n=o.tHead,o=o.tBodies[0],n=t(n.innerHTML),s=0,"horizontal"==i){for(a=n.length;s<a;s+=1)r=n[s],""!=r&&(i={},i[e]=r,d.push(i));for(;s=o.rows[l];){for(h=t(s.innerHTML),r=h[0],s=0,a=d.length;s<a;s+=1)d[s][r]=parseInt(h[s+1]);l++}}else{for(a=n.length;s<a;s+=1)""!=n[s]&&d.push(n[s]);for(n=d.concat(),d=[];s=o.rows[l];){for(h=t(s.innerHTML),r=h[0],i={},i[e]=r,s=0,a=n.length;s<a;s+=1)i[n[s]]=h[s+1];d.push(i),l++}}return d}function Li(t,e){tt.call(this,t,e)}function Ri(t,e,i,s,a){function r(){console.log("window.KoolChartLicense;");var t="KoolChart";console.log("ReplacementFor_gpn="+t);var e="0";if(void 0==e)return void n("License is not registered.");var i=0;return 0!=i?(1==i?n("Invalid license."):2==i?n("This host is not authorized."):3==i?n("Period has expired."):4==i?n("Other versions of the license."):5==i?n("Invalid License Type."):6==i?n("Evaluation license."):7==i?n("Trial license is required."):8==i&&n("Invalid LicenseUrl."),i):void 0}function n(t){throw setTimeout('alert("'+t+'")',500),t}q.call(this,t,e,i,s,a),this.dataType="xml",this._setChartMenuDirty=this._chartMenuDirty=!1,this._chartMenu=null,this._dataStack=[],this._drillDownFirstButton=this._drillDownBackButton=this._drillDownMenu=null,this._creationCompleteDirty=!1,this._dataEditor=this._slideData=this._slideLayout=this._slideController=this._motionController=null,this._themeName="default",this._rootEventInitialized=this._dataEditorLoaded=!1,this._patternLoadCount=this._patternLoaded=0,this._hideWrapper(),this.ppr=function(t){abss(t)};new Array(1116352408,1899447441,(-1245643825),(-373957723),961987163,1508970993,(-1841331548),(-1424204075),(-670586216),310598401,607225278,1426881987,1925078388,(-2132889090),(-1680079193),(-1046744716),(-459576895),(-272742522),264347078,604807628,770255983,1249150122,1555081692,1996064986,(-1740746414),(-1473132947),(-1341970488),(-1084653625),(-958395405),(-710438585),113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,(-2117940946),(-1838011259),(-1564481375),(-1474664885),(-1035236496),(-949202525),(-778901479),(-694614492),(-200395387),275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,(-2067236844),(-1933114872),(-1866530822),(-1538233109),(-1090935817),(-965641998));r()}function Pi(t){t.registerTheme=function(t){Ts.addTheme(t)},t.removeTheme=function(t){Ts.removeTheme(t)},t.gridData2Chart=function(e,i,s,a){var r=document.getElementById(e).selfElement;--s,e=t[e].gridRowInfo[i],i=r._data.concat(),h(a)&&(a=0),i[s][e]=a,r.setData(i)},t.setRetinaDisplayRatio=function(t){Hs=t},t.downloadToLocal=Ti,t.tableToArray=Ai,t.setDefaultColors=function(e){et.setDefaultColors(e);for(var i in t.instances)t.instances[i].invalidateDisplayList()},t.setGraphicTag=function(t){t=t.toLocaleString(),x.graphicTag="svg"!=t?"canvas":t},t.grr=function(){return Hs},t.gue=function(){return Os}}function Ei(t,e,i){var s,a=t._target;if(t._themeName==e)t._themeRunning=!1;else{if(a.themeRunning=!0,t._themeName=e,s=Ts.getTheme(e),!s&&"default"!=e)throw'theme "'+e+'" is not registerd.';Ts.restoreForDefault(t),"default"!=e&&Ts.applyEachTheme(t,s,i),a.setTheme(e,i),t.invalidateDisplayList(),t.setActualSize(t._originalWidth,t._originalHeight),t._slideController&&t._slideController.reCreateImage()}}function Ni(t,e){var i,s,a,r,n,o,h,l,d,c,u,p,f="",g="n",m="_displayName",_=e.getDataProvider();l={p:{v:"field"},b:{a:"verticalAxis",v:"xField"},r:{a:"angularAxis",v:"field"},h:{a:"horizontalAxis",v:"yField"},d:{a:"horizontalAxis",v:"yField"},n:{a:"horizontalAxis",v:"yField"}},d=e.className;var y=qi.createElement("div","Kool__AccessibilityDiv");if(Us("Gauge",d)?g="g":Us("Radar",d)?g="r":Us("History",d)?(g="h",e=e.getDisplayerChart()):Us("Dual",d)?(g="d",h=e.getMainChart(),i=e.getSubChart()):Us("Pie",d)?(g="p",m="_nameField"):Us("Bar",d)&&(g="b"),"g"!=g)for(l=l[g],d=l.v,l.a&&(c="_"+l.a),l="p"!=g?e[c]:null,"d"==g?(l=h[c],o=h.getAllSeries().concat(i.getAllSeries())):o=e.getAllSeries(),o&&o.length||(o=e.getSeries()),l&&l.categoryField&&(l=l.categoryField),i=0,a=_.getLength();i<a;i+=1)for(p=_.getItemAt(i),"p"!=g&&"r"!=g&&(s=e,h&&(s=h),s[c].labelFunction?f+=Ms.axisFunc(s[c],p[l],s[c].labelFunction):"string"==typeof l&&(f+=p[l])),u=!1,s=0,r=o.length;s<r;s+=1)n=o[s],!u&&(n instanceof fi||n instanceof pi||n instanceof mi||n instanceof gi)&&(u=!0,d="xField",e.getVerticalAxis().categoryField&&(f+=p[e.getVerticalAxis().categoryField])),n[m]&&(f=m==a||"p"==g?f+(" "+p[n[m]]):f+(" "+n[m])),"n"!=g||u||("horizontalAxis"==c&&""!=n.xField&&(f+=" "+p[n.xField]),"verticalAxis"==c&&""!=n.yField&&(f+=" "+p[n.yField])),f=Us("HLOC",n)?f+(" open "+p[n.openField]+" close "+p[n.closeField]+" low "+p[n.lowField]+" high "+p[n.highField]):f+(" "+p[n[d]]),n.radiusField?f+=" "+p[n.radiusField]+",":s==o.length-1&&i!=_.length-1&&(f+=", ");else _||(_=e.value),f=_.toString(),e.labelFunction?f=Ms.gaugeFunc(f,e):e.formatter&&(f=e.formatter.format(f));Gs(y,"overflow","hidden"),Gs(y,"position","absolute"),Gs(y,"width","0px"),Gs(y,"height","0px"),y.innerHTML=f,t.element.appendChild(y)}var Fi="../rMateGridH5/Assets/",ki=function(){var t=function(){};return function(e,i){if(t.prototype=i.prototype,e.prototype=new t,e._super=i.prototype,e.prototype.constructor=e,i._defaultStyles){e._defaultStyles||(e._defaultStyles={});for(var s in i._defaultStyles)e._defaultStyles.hasOwnProperty(s)||(e._defaultStyles[s]=i._defaultStyles[s])}if(i._propertyType)for(s in e._propertyType||(e._propertyType={}),i._propertyType)e._propertyType.hasOwnProperty(s)||(e._propertyType[s]=i._propertyType[s]);i._defaultProperty&&!e._defaultProperty&&(e._defaultProperty=i._defaultProperty)}}(),Oi=function(t,e){var i=this;i.x=0<arguments.length?t:0,i.y=1<arguments.length?e:0,i.clone=function(){return new Oi(i.x,i.y)}},Hi=function(t,e,i,s){this.left=0<arguments.length?t:0,this.top=1<arguments.length?e:0,this.right=2<arguments.length?i:0,this.bottom=3<arguments.length?s:0};Hi.prototype.clone=function(){return new Hi(this.left,this.top,this.right,this.bottom)},Hi.EMPTY=new Hi(0,0,0,0);var Vi=function(){this._eventList={},this.uno=as.elementNo++};Vi.prototype.addEventListener=function(t,e,i,s,a){var r,n,o,h=2<arguments.length?i:window,d=3<arguments.length&&s,c=4<arguments.length?a:0,u=-1;for(l(this._eventList[t])&&(this._eventList[t]=[]),n=this._eventList[t],r=n.length-1;0<=r;r--){if((o=n[r])&&o.listener===e&&o.context===h){if(o.priority==c)return;n.splice(r,1)}o.priority<c&&0>u&&(u=r)}-1==u?n.unshift({listener:e,context:h,useCapture:d,priority:c}):n.splice(u+1,0,{listener:e,context:h,useCapture:d,priority:c})},Vi.prototype.removeEventListener=function(t,e,i,s){i=2<arguments.length?i:window,s=3<arguments.length&&s;var a,r,n;if(this._eventList[t])for(r=this._eventList[t],a=r.length-1;0<=a;a--)if((n=r[a])&&n.listener===e&&n.context===i){n.listener=null,n.context=null,r.splice(a,1);break}},Vi.prototype.hasEventListener=function(t){return!!(this._eventList[t]&&0<this._eventList[t].length)},Vi.prototype.dispatchEvent=function(t){var e,i,s,a,r;if(e=t.type,this._eventList[e])for(i=this._eventList[e],e=i.length-1;0<=e;e--)if(s=i[e])if(a=s.listener,t.target||t.currentTarget){if(r=t.clone(),r.target=t.target?t.target:this.element?this.element:this,r.currentTarget=this.element,r.defaultPrevented=t.defaultPrevented,a.call(s.context,r),r._istoped)return!r.defaultPrevented;t.defaultPrevented=t.defaultPrevented&&r.defaultPrevented}else if(t.target=t.target?t.target:this.element?this.element:this,t.currentTarget=this.element||this,a.call(s.context,t),t._istoped)break;return!t.defaultPrevented},g._defaultStyles={},ki(g,Vi),g.prototype._createRules=function(){var t;if(!this._rules)try{if("Kool__"===this._findCSS){if(this._sheetIdx=Ki.productCSSSheetIndex,0>this._sheetIdx&&document.styleSheets){var e,i,s,a="Kool__".replace("H5__","").replace("__","").toLowerCase();for(e=0;e<document.styleSheets.length;e++)if((i=document.styleSheets[e])&&i.href&&(s=i.href.substring(i.href.lastIndexOf("/")+1).toLowerCase(),0<=s.indexOf(a)&&(i.rules||i.cssRules))){this._sheetIdx=e;break}}0>this._sheetIdx&&(this._sheetIdx=qi.findCSSSheetIndex("Kool__(\\S)*")),
0>this._sheetIdx&&(this._sheetIdx=qi.createCSSSheet(this._findCSS)),0<=this._sheetIdx&&0>Ki.productCSSSheetIndex&&Ki.productCSSSheetIndex!=this._sheetIdx&&(Ki.productCSSSheetIndex=this._sheetIdx)}else this._sheetIdx=qi.findCSSSheetIndex(this._findCSS),0>this._sheetIdx&&(this._sheetIdx=qi.createCSSSheet(this._findCSS));if(this._rules=qi.addCSSRule(this._sheetIdx,this._cssName))for(t in this.constructor._defaultStyles)d(this._rules.style[t])?this._styles[t]=this.constructor._defaultStyles[t]:this._rules.style[t]=this.constructor._defaultStyles[t]}catch(r){throw Error("error in createRules() of "+this._cssName+"  error:"+r)}},g.prototype.clearStyle=function(){this._styles={}},g.prototype.getStyle=function(t){return this._styles&&this._styles.hasOwnProperty(t)?this._styles[t]:this.constructor._defaultStyles&&this.constructor._defaultStyles.hasOwnProperty(t)?this.constructor._defaultStyles[t]:this._rules.style[t]},g.prototype.setStyle=function(t,e){this._styles.hasOwnProperty(t)?this._styles[t]=e:d(this._rules.style[t])?this._styles[t]=e:this._rules.style[t]=e},g.prototype.getSizeStyle=function(t){return this._styles.hasOwnProperty(t)?parseFloat(this._styles[t]):this.constructor._defaultStyles&&this.constructor._defaultStyles.hasOwnProperty(t)?parseFloat(this.constructor._defaultStyles[t]):(t=parseFloat(this._rules.style[t]),isNaN(t)?0:t)},ki(m,Vi),m.prototype.getAlpha=function(){return qi.getAlpha(this.element)},m.prototype.setAlpha=function(t){qi.setAlpha(this.element,t)},m.prototype.getX=function(){return qi.getSizeStyle(this.element,"left")},m.prototype.setX=function(t){qi.setPxStyle(this.element,"left",t)},m.prototype.getY=function(){return qi.getSizeStyle(this.element,"top")},m.prototype.setY=function(t){qi.setPxStyle(this.element,"top",t)},m.prototype.getWidth=function(){var t=this.element,e=qi,i=e.getSizeStyle,s=e.getSizeStyleBorder,a=t.style.width;return a&&!isNaN(parseFloat(a))&&0>a.indexOf("%")?$i.useBorderBox||this._useBorderBox?parseFloat(a):parseFloat(a)+i(t,"paddingLeft")+i(t,"paddingRight")+s(t,"borderLeftWidth")+s(t,"borderRightWidth"):this._visible?e.getOffsetWidth(t):0},m.prototype.setWidth=function(t){var e=this.element,i=qi,a=i.getSizeStyle,r=i.getSizeStyleBorder;s(t)&&0<=t.indexOf("%")?i.setStyle(e,"width",t):(a=$i.useBorderBox||this._useBorderBox?0:a(e,"paddingLeft")+a(e,"paddingRight")+r(e,"borderLeftWidth")+r(e,"borderRightWidth"),parseFloat(e.style.width)+a!=t&&i.setPxStyle(e,"width",0<t-a?t-a:0))},m.prototype.getHeight=function(){var t=this.element,e=qi,i=e.getSizeStyle,s=e.getSizeStyleBorder,a=t.style.height;return a&&!isNaN(parseFloat(a))&&0>a.indexOf("%")?$i.useBorderBox||this._useBorderBox?parseFloat(a):parseFloat(a)+i(t,"paddingTop")+i(t,"paddingBottom")+s(t,"borderTopWidth")+s(t,"borderBottomWidth"):this._visible?e.getOffsetHeight(t):0},m.prototype.setHeight=function(t){var e=this.element,i=qi,a=i.getSizeStyle,r=i.getSizeStyleBorder;s(t)&&0<=t.indexOf("%")?i.setStyle(e,"height",t):(a=$i.useBorderBox||this._useBorderBox?0:a(e,"paddingTop")+a(e,"paddingBottom")+r(e,"borderTopWidth")+r(e,"borderBottomWidth"),parseFloat(e.style.height)+a!=t&&i.setPxStyle(e,"height",0<t-a?t-a:0))},m.prototype.getWidthInline=function(){var t=this.element,e=t.style.width;return!this._visible||e&&!isNaN(parseFloat(e))&&0>e.indexOf("%")?isNaN(parseFloat(e))?0:parseFloat(e):qi.getOffsetWidth(t)},m.prototype.setWidthInline=function(t){var e=this.element,i=qi;s(t)&&0<=t.indexOf("%")?i.setStyle(e,"width",t):parseFloat(e.style.width)!=t&&i.setPxStyle(e,"width",t)},m.prototype.getHeightInline=function(){var t=this.element,e=t.style.height;return!this._visible||e&&!isNaN(parseFloat(e))&&0>e.indexOf("%")?isNaN(parseFloat(e))?0:parseFloat(e):qi.getOffsetHeight(t)},m.prototype.setHeightInline=function(t){var e=this.element,i=qi;s(t)&&0<=t.indexOf("%")?i.setStyle(e,"height",t):parseFloat(e.style.height)!=t&&i.setPxStyle(e,"height",t)},m.prototype.getEnabled=function(){return this._enabled},m.prototype.setEnabled=function(t){var e=this.element,i=qi;this._enabled!=t&&(this._enabled=t,d(e.disabled)||(e.disabled=!t),t?i.removeClass(e,"disabled"):i.addClass(e,"disabled"))},m.prototype.getTabIndex=function(){return this.element.tabIndex},m.prototype.setTabIndex=function(t){this.element.tabIndex=t},m.prototype.getVisible=function(){return qi.getDisplay(this.element)},m.prototype.setVisible=function(t){this._visible!=t&&((this._visible=t)?qi.setDisplay(this.element,t,this._oldDisplay):this._oldDisplay=qi.setDisplay(this.element,t))},m.prototype.getVisibility=function(){return qi.getVisibility(this.element)},m.prototype.setVisibility=function(t){qi.setVisibility(this.element,t)},m.prototype.getNumChildren=function(){return this.__getNumChildren()},m.prototype.__getNumChildren=function(){var t=this.element;return t.children?t.children.length:t.childNodes.length},m.prototype.getParent=function(){return this.parentElement},m.prototype._createElement=function(){if(!s(this.element))throw Error("element is not string in _createElement() of HTMLObject");this.element="svg"===this.element?document.createElementNS("http://www.w3.org/2000/svg",this.element):document.createElement(this.element),this.element.selfElement=this,this.element.className="Kool__"+this.className},m.prototype.addEvent=function(t,e,i,s,a){Zi.addEvent(this.element,t,e,i,s,a)},m.prototype.removeEvent=function(t,e,i,s){Zi.removeEvent(this.element,t,e,i,s)},m.prototype.addParent=function(t){t instanceof m||this.element.parentNode===t||(t.appendChild(this.element),this.parentElement=t,this.initialize())},m.prototype.addChild=function(t){if(t instanceof m){if(t.element.parentNode){if(t.element.parentNode==this.element)return t;t.element.parentNode.removeChild(t.element)}return this.element.appendChild(t.element),t.parentElement=this,t}throw Error("added element is not an instance of HTMLObject")},m.prototype.addChildAt=function(t,e){if(t instanceof m){var i=this.__getNumChildren();if(0<i&&i<e)throw Error("Out of range error in addChildAt "+e);return t.element.parentNode&&(t.element.parentNode.removeChild(t.element),i=this.__getNumChildren()),0===i||i<=e?this.element.appendChild(t.element):this.element.insertBefore(t.element,this.__getChildAt(e).element),t.parentElement=this,t}throw Error("added element is not an instance of HTMLObject")},m.prototype.getChildAt=function(t){return this.__getChildAt(t)},m.prototype.__getChildAt=function(t){var e,i;return e=this.element,e=e.children?e.children:e.childNodes,i=e.length,0>=i||i<=t?null:e&&0<e.length?e[t].selfElement:null},m.prototype.getChildIndex=function(t){return this.__getChildIndex(t)},m.prototype.__getChildIndex=function(t){if(!t)return-1;if(t instanceof m&&t.parentElement===this){var e=0;for(t=t.element;t=t.previousSibling;)e++;return e}return-1},m.prototype.setChildIndex=function(t,e){var i=this.__getNumChildren();if(!(0>=i||i<=e)&&(i=this.__getChildIndex(t),i!=e)){var s=this.__getChildAt(e);s&&(i<e?this.element.insertBefore(t.element,s.element.nextSibling):this.element.insertBefore(t.element,s.element))}},m.prototype.removeChild=function(t){return t instanceof m&&t.element.parentNode?(this.element.removeChild(t.element),t.parentElement=null,t):null},m.prototype.removeChildAt=function(t){var e=this.__getNumChildren();return 0>=e||e<=t?null:(t=this.__getChildAt(t),t instanceof m&&t.element.parentNode?(this.element.removeChild(t.element),t.parentElement=null,t):null)},m.prototype.getChildByName=function(t){var e,i,s,a;for(e=this.element,e=e.children?e.children:e.childNodes,i=e.length,a=0;a<i;a++)if((s=e[a].selfElement)&&s.name===t)return s;return null},m.prototype.swapChildren=function(t,e){if(this.element&&t&&e){var i=t.element.nextSibling;i===e.element?this.swapChildren(e,t):(this.element.insertBefore(t.element,e.element),this.removeChild(e.element),this.element.insertBefore(e.element,i))}},m.prototype.swapChildrenAt=function(t,e){this.swapChildren(this.__getChildAt(t),this.__getChildAt(e))},m.prototype.contains=function(t){return t instanceof m&&this.element.contains(t.element)},m.prototype.setStyle=function(t,e){qi.setStyle(this.element,t,e)},m.prototype.setPxStyle=function(t,e){qi.setPxStyle(this.element,t,e)},m.prototype.getStyle=function(t){return qi.getStyle(this.element,t)},m.prototype.clearStyle=function(t){qi.clearStyle(this.element,t)},m.prototype.getSizeStyle=function(t){return 0<=t.indexOf("border")?qi.getSizeStyleBorder(this.element,t):qi.getSizeStyle(this.element,t)},m.prototype.setAttr=function(t,e){qi.setAttr(this.element,t,e)},m.prototype.getAttr=function(t){return qi.getAttr(this.element,t)},m.prototype.removeAttr=function(t){qi.removeAttr(this.element,t)},m.prototype.globalToLocal=function(t){var e=this.element,i=qi.pageXY(e);return new Oi(t.x-i.x-qi.getSizeStyleBorder(e,"borderLeftWidth"),t.y-i.y-qi.getSizeStyleBorder(e,"borderTopWidth"))},m.prototype.localToGlobal=function(t){var e=this.element,i=qi.pageXY(e);return new Oi(t.x+i.x+qi.getSizeStyleBorder(e,"borderLeftWidth"),t.y+i.y+qi.getSizeStyleBorder(e,"borderTopWidth"))},m.prototype.validateNow=function(){},m.prototype.isFocused=function(){return this.element==document.activeElement},m.prototype.focus=function(){this.element.focus()},m.prototype.blur=function(){this.element.blur()},ki(_,m),_.prototype.getNestLevel=function(){return this._nestLevel},_.prototype.setNestLevel=function(t){var e,i,s,a;if(0<t&&this._nestLevel!=t)for(this._nestLevel=t,this._updateCallbacks(),s=o(this.getRawChildren)?this.getRawChildren():this,i=s.getNumChildren(),e=0;e<i;e++)a=s.getChildAt(e),a instanceof _&&a.setNestLevel(t+1)},_.prototype.getInitialized=function(){return this._initialized},_.prototype.setInitialized=function(t){(this._initialized=t)&&this.dispatchEvent(new cs("creationComplete"))},_.prototype.getProcessedDescriptors=function(){return this._processedDescriptors},_.prototype.setProcessedDescriptors=function(t){(this._processedDescriptors=t)&&this.dispatchEvent(new cs("initialize"))},_.prototype.getIncludeInLayout=function(){return this._includeInLayout},_.prototype.setIncludeInLayout=function(t){this._includeInLayout!=t&&(this._includeInLayout=t,t=this.getParent())&&(t.invalidateSize(),t.invalidateDisplayList())},_.prototype.getParent=function(){return this._parent?this._parent:_._super.getParent.call(this)},_.prototype.getOwner=function(){return this.owner?this.owner:this.getParent()},_.prototype.setOwner=function(t){return this.owner=t},_.prototype.stylesInitialized=function(){},_.prototype.addChild=function(t){if(t instanceof m){var e=t.getParent();return e&&e.removeChild(t),this._addingChild(t),this._$addChild(t),this._childAdded(t),t}throw Error("added element is not an instance of HTMLObject")},_.prototype.addChildAt=function(t,e){if(t instanceof m){var i=t.getParent();return i&&i.removeChild(t),this._addingChild(t),this._$addChildAt(t,e),this._childAdded(t),t}throw Error("added element is not an instance of HTMLObject")},_.prototype._addingChild=function(t){t instanceof _&&(t.parentChanged(this),t.stylesInitialized())},_.prototype._childAdded=function(t){t instanceof _&&(t.setNestLevel(this._nestLevel+1),t.notifyStyleChangeInChildren(null,!0),t.initialize())},_.prototype.removeChild=function(t){return this._removingChild(t),this._$removeChild(t),this._childRemoved(t),t},_.prototype.removeChildAt=function(t){return t=this.getChildAt(t),this._removingChild(t),this._$removeChild(t),this._childRemoved(t),t},_.prototype._removingChild=function(t){},_.prototype._childRemoved=function(t){t instanceof _&&t.parentChanged(null)},_.prototype.parentChanged=function(t){t?this._parent=t instanceof _?t:t.getParent()instanceof _?t.getParent():t.getParent().getParent():(this._parent=null,this._nestLevel=0)},_.prototype.owns=function(t){if(this.contains(t))return!0;try{for(;t&&t!=this;)t=t instanceof _?t.getOwner():t.getParent()}catch(e){return!1}return t==this},_.prototype.callLater=function(t,e){this._methodQueue.push({method:t,args:e,context:this}),this._listeningForRender||(this._frameCallLater.startTimeout(this,this._callLaterDispatcher),this._listeningForRender=!0)},_.prototype._callLaterDispatcher=function(){this._listeningForRender&&(this._listeningForRender=!1);var t=this._methodQueue;this._methodQueue=[];var e,i=t.length;for(e=0;e<i;e++){var s=t[e];s.args?s.method.apply(this,s.args):s.method.apply(this)}},_.prototype._doPhasedInstantiation=function(){this._invalidatePropertiesFlag&&this.validateProperties(),this._invalidateSizeFlag&&this.validateSize(),this._invalidateDisplayListFlag&&this.validateDisplayList(),this._invalidatePropertiesFlag||this._invalidateSizeFlag||this._invalidateDisplayListFlag?this._doPhasedInstantiation():(!this.getInitialized()&&this.getProcessedDescriptors()&&this.setInitialized(!0),this.dispatchEvent(new cs("updateComplete")))},_.prototype._updateCallbacks=function(){this._useDelayInvalidate?(this._invalidateDisplayListFlag&&rs.getInstance().invalidateDisplayList(this),this._invalidateSizeFlag&&rs.getInstance().invalidateSize(this),this._invalidatePropertiesFlag&&rs.getInstance().invalidateProperties(this)):this._initialized&&(this._invalidatePropertiesFlag?this.validateProperties():this.invalidateProperties(),this._invalidateSizeFlag?this.validateSize():this.invalidateSize(),this._invalidateDisplayListFlag?this.validateDisplayList():this.invalidateDisplayList())},_.prototype.initialize=function(){this._initialized||(this.dispatchEvent(new cs("preinitialize")),this.createChildren(),this._useDelayInvalidate?(this.childrenCreated(),this.setProcessedDescriptors(!0)):(this.setProcessedDescriptors(!0),this.childrenCreated()))},_.prototype.createChildren=function(){},_.prototype.childrenCreated=function(){this._useDelayInvalidate?(this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()):(this._invalidatePropertiesFlag?this.validateProperties():this.invalidateProperties(),this._invalidateSizeFlag?this.validateSize():this.invalidateSize(),this._invalidateDisplayListFlag?this.validateDisplayList():this.invalidateDisplayList())},_.prototype.invalidateProperties=function(){this._invalidatePropertiesFlag||(this._invalidatePropertiesFlag=!0,this._useDelayInvalidate?this.element.parentNode&&rs.getInstance().invalidateProperties(this):this.element.parentNode&&(this._runInvalidateSizeFlag||this._runInvalidateDisplayListFlag?rs.getInstance().invalidateProperties(this):this.validateProperties()))},_.prototype.styleChanged=function(t){(d(t)||Ki.sizeInvalidatingStyles[t]||"styleName"==t)&&this.invalidateSize(),this.invalidateDisplayList()},_.prototype.invalidateSize=function(){this._invalidateSizeFlag||(this._invalidateSizeFlag=!0,this._useDelayInvalidate?this.element.parentNode&&rs.getInstance().invalidateSize(this):this.element.parentNode&&(this._runInvalidatePropertiesFlag||this._runInvalidateDisplayListFlag?rs.getInstance().invalidateSize(this):this.validateSize()))},_.prototype.invalidateDisplayList=function(){this._invalidateDisplayListFlag||(this._invalidateDisplayListFlag=!0,this._useDelayInvalidate?this.element.parentNode&&rs.getInstance().invalidateDisplayList(this):this.element.parentNode&&(this._runInvalidatePropertiesFlag||this._runInvalidateSizeFlag?rs.getInstance().invalidateDisplayList(this):this.validateDisplayList()))},_.prototype.validateProperties=function(){this._invalidatePropertiesFlag&&(this._runInvalidatePropertiesFlag=!0,this.commitProperties(),this._runInvalidatePropertiesFlag=this._invalidatePropertiesFlag=!1)},_.prototype.commitProperties=function(){this._commitPropertiesCallCount++},_.prototype.validateSize=function(t){var e,i;if(t)for(t=0,e=this.getNumChildren();t<e;t+=1)i=this.getChildAt(t),i instanceof _&&i.validateSize(!0);this._invalidateSizeFlag&&(t=this._measureSizes())&&this._includeInLayout&&this.getProcessedDescriptors()&&(this.invalidateDisplayList(),(t=this.getParent())&&t.isContentPane&&(t=t.getParent()),t&&t instanceof _&&t.getProcessedDescriptors()&&(t.invalidateSize(),t.invalidateDisplayList()))},_.prototype._measureSizes=function(){var t,e=!1;return this._invalidateSizeFlag?(h(this._explicitWidth)||h(this._explicitHeight)?(this._runInvalidateSizeFlag=!0,this.measure(),this._runInvalidateSizeFlag=this._invalidateSizeFlag=!1,!isNaN(this._explicitMinWidth)&&this.measuredWidth<this._explicitMinWidth&&(this.measuredWidth=this._explicitMinWidth),!isNaN(this._explicitMaxWidth)&&this.measuredWidth>this._explicitMaxWidth&&(this.measuredWidth=this._explicitMaxWidth),!isNaN(this._explicitMinHeight)&&this.measuredHeight<this._explicitMinHeight&&(this.measuredHeight=this._explicitMinHeight),!isNaN(this._explicitMaxHeight)&&this.measuredHeight>this._explicitMaxHeight&&(this.measuredHeight=this._explicitMaxHeight)):(this._invalidateSizeFlag=!1,this._measuredMinHeight=this._measuredMinWidth=0),h(this._oldMinWidth)?(this._oldMinWidth=h(this._explicitMinWidth)?this.measuredMinWidth:this._explicitMinWidth,this._oldMinHeight=h(this._explicitMinHeight)?this.measuredMinHeight:this._explicitMinHeight,this._oldExplicitWidth=h(this._explicitWidth)?this.measuredWidth:this._explicitWidth,this._oldExplicitHeight=h(this._explicitHeight)?this.measuredHeight:this._explicitHeight,e=!0):(t=h(this._explicitMinWidth)?this.measuredMinWidth:this._explicitMinWidth,t!=this._oldMinWidth&&(this._oldMinWidth=t,e=!0),t=h(this._explicitMinHeight)?this.measuredMinHeight:this._explicitMinHeight,t!=this._oldMinHeight&&(this._oldMinHeight=t,e=!0),t=h(this._explicitWidth)?this.measuredWidth:this._explicitWidth,t!=this._oldExplicitWidth&&(this._oldExplicitWidth=t,e=!0),t=h(this._explicitHeight)?this.measuredHeight:this._explicitHeight,t!=this._oldExplicitHeight&&(this._oldExplicitHeight=t,e=!0)),e):e},_.prototype.measure=function(){this._measureCallCount++},_.prototype.validateDisplayList=function(){this._invalidateDisplayListFlag&&(this._runInvalidateDisplayListFlag=!0,this._unscaledWidth=this.getWidth(),this._unscaledHeight=this.getHeight(),this.updateDisplayList(this._unscaledWidth,this._unscaledHeight),this._runInvalidateDisplayListFlag=this._invalidateDisplayListFlag=!1,this._useDelayInvalidate||this._doPhasedInstantiation())},_.prototype.updateDisplayList=function(t,e){this._updateDisplayListCallCount++},_.prototype.validateNow=function(){rs.getInstance().validateClient(this)},_.prototype.notifyStyleChangeInChildren=function(t,e){this._cachedTextFormat=null;var i,s=this.getNumChildren();for(i=0;i<s;i++){var a=this.getChildAt(i);a&&a instanceof _&&(a.styleChanged(t),a.notifyStyleChangeInChildren(t,e))}},_.prototype.effectStarted=function(t){var e,i,s,a;for(this._effectsStarted.push(t),s=t.getEffect().getAffectedProperties(),i=s.length,e=0;e<i;e+=1)a=s[e],void 0==this._affectedProperties[a]&&(this._affectedProperties[a]=[]),this._affectedProperties[a].push(t);this._isEffectStarted=!0,t.getHideFocusRing()&&(this._preventDrawFocus=!0)},_.prototype.effectFinished=function(t){this._endingEffectInstances.push(t),this.invalidateProperties(),rs.getInstance().addEventListener("updateComplete",this._updateCompleteHandler,this)},_.prototype.resetInvalidate=function(){var t,e,i,s;for(this._invalidateDisplayListFlag=this._invalidateSizeFlag=this._invalidatePropertiesFlag=!1,i=o(this.getRawChildren)?this.getRawChildren():this,e=i.getNumChildren(),t=0;t<e;t++)s=i.getChildAt(t),this!=s&&s instanceof _&&s.resetInvalidate()},_.prototype._updateCompleteHandler=function(t){rs.getInstance().removeEventListener("updateComplete",this._updateCompleteHandler,this),this._processEffectFinished(this._endingEffectInstances),this._endingEffectInstances=[]},_.prototype._processEffectFinished=function(t){var e,i,s,a,r,n;for(e=this._effectsStarted.length-1;0<=e;e--)for(i=0;i<t.length;i++)if(n=t[i],n==this._effectsStarted[e]){for(i=this._effectsStarted[e],this._effectsStarted.splice(e,1),a=i.getEffect().getAffectedProperties(),s=0;s<a.length;s++)if(r=a[s],void 0!=this._affectedProperties[r]){for(i=0;i<this._affectedProperties[r].length;i++)if(this._affectedProperties[r][i]==n){this._affectedProperties[r].splice(i,1);break}0==this._affectedProperties[r].length&&delete this._affectedProperties[r]}break}this._isEffectStarted=0<this._effectsStarted.length,n&&n.getHideFocusRing()&&(this._preventDrawFocus=!1)},_.prototype._getEffectsForProperty=function(t){return void 0!=this._affectedProperties[t]?this._affectedProperties[t]:[]},_.prototype._$addChild=function(t){return _._super.addChild.call(this,t)},_.prototype._$addChildAt=function(t,e){return _._super.addChildAt.call(this,t,e)},_.prototype._$removeChild=function(t){return _._super.removeChild.call(this,t)},_.prototype._$removeChildAt=function(t){return _._super.removeChildAt.call(this,t)},ki(y,_),y._defaultStyles={backgroundAlpha:1},y.prototype.setWidth=function(t){y._super.setWidth.call(this,t),this._percentWidth=null,this._explicitWidth!=t&&(this._explicitWidth=t,this.invalidateSize()),(t=this.getParent())&&t instanceof _&&this._includeInLayout&&(t.invalidateSize(),t.invalidateDisplayList())},y.prototype.setHeight=function(t){y._super.setHeight.call(this,t),this._percentHeight=null,this._explicitHeight!=t&&(this._explicitHeight=t,this.invalidateSize()),(t=this.getParent())&&t instanceof _&&this._includeInLayout&&(t.invalidateSize(),t.invalidateDisplayList())},y.prototype.getDoubleClickEnabled=function(){return this._doubleClickEnabled},y.prototype.setDoubleClickEnabled=function(t){this._doubleClickEnabled=t;var e,i,s,a=o(this.getRawChildren)?this.getRawChildren():this;for(e=0,i=a.getNumChildren();e<i;e++)s=a.getChildAt(e),s instanceof y&&s.setDoubleClickEnabled(t)},y.prototype.getMinWidth=function(){return isNaN(this._explicitMinWidth)?this.measuredMinWidth:this._explicitMinWidth},y.prototype.setMinWidth=function(t){this.getExplicitMinWidth()!=t&&this.setExplicitMinWidth(t)},y.prototype.getMinHeight=function(){return isNaN(this._explicitMinHeight)?this.measuredMinHeight:this._explicitMinHeight},y.prototype.setMinHeight=function(t){this.getExplicitMinHeight()!=t&&this.setExplicitMinHeight(t)},y.prototype.getMaxWidth=function(){return isNaN(this._explicitMaxWidth)?1193046:this._explicitMaxWidth},y.prototype.setMaxWidth=function(t){this.getExplicitMaxWidth()!=t&&this.setExplicitMaxWidth(t)},y.prototype.getMaxHeight=function(){return isNaN(this._explicitMaxHeight)?1193046:this._explicitMaxHeight},y.prototype.setMaxHeight=function(t){this.getExplicitMaxHeight()!=t&&this.setExplicitMaxHeight(t)},y.prototype.getExplicitMinWidth=function(){return this._explicitMinWidth},y.prototype.setExplicitMinWidth=function(t){this._explicitMinWidth!=t&&(this._explicitMinWidth=t,this.invalidateSize(),(t=this.getParent())&&t instanceof y&&this._includeInLayout&&(t.invalidateSize(),t.invalidateDisplayList()))},y.prototype.getExplicitMinHeight=function(){return this._explicitMinHeight},y.prototype.setExplicitMinHeight=function(t){this._explicitMinHeight!=t&&(this._explicitMinHeight=t,this.invalidateSize(),(t=this.getParent())&&t instanceof y&&this._includeInLayout&&(t.invalidateSize(),t.invalidateDisplayList()))},y.prototype.getExplicitMaxWidth=function(){return this._explicitMaxWidth},y.prototype.setExplicitMaxWidth=function(t){this._explicitMaxWidth!=t&&(this._explicitMaxWidth=t,this.invalidateSize(),(t=this.getParent())&&t instanceof y&&this._includeInLayout&&(t.invalidateSize(),t.invalidateDisplayList()))},y.prototype.getExplicitMaxHeight=function(){return this._explicitMaxHeight},y.prototype.setExplicitMaxHeight=function(t){this._explicitMaxHeight!=t&&(this._explicitMaxHeight=t,this.invalidateSize(),(t=this.getParent())&&t instanceof y&&this._includeInLayout&&(t.invalidateSize(),t.invalidateDisplayList()))},y.prototype.getExplicitWidth=function(){return this._explicitWidth},y.prototype.setExplicitWidth=function(t){this._explicitWidth!=t&&(h(t)||(this._percentWidth=null),this._explicitWidth=t,y._super.setWidth.call(this,t),this.invalidateSize(),(t=this.getParent())&&t instanceof y&&this._includeInLayout&&(t.invalidateSize(),t.invalidateDisplayList()))},y.prototype.getExplicitHeight=function(){return this._explicitHeight},y.prototype.setExplicitHeight=function(t){this._explicitHeight!=t&&(h(t)||(this._percentHeight=null),this._explicitHeight=t,y._super.setHeight.call(this,t),this.invalidateSize(),(t=this.getParent())&&t instanceof y&&this._includeInLayout&&(t.invalidateSize(),t.invalidateDisplayList()))},y.prototype.getPercentWidth=function(){return this._percentWidth},y.prototype.setPercentWidth=function(t){this._percentWidth!=t&&(h(t)||(this._explicitWidth=NaN),this._percentWidth=t,qi.setStyle(this,"width",t+"%"),(t=this.getParent())&&t instanceof y&&this._includeInLayout&&(t.invalidateSize(),t.invalidateDisplayList()))},y.prototype.getPercentHeight=function(){return this._percentHeight},y.prototype.setPercentHeight=function(t){this._percentHeight!=t&&(h(t)||(this._explicitHeight=NaN),this._percentHeight=t,qi.setStyle(this,"height",t+"%"),(t=this.getParent())&&t instanceof y&&this._includeInLayout&&(t.invalidateSize(),t.invalidateDisplayList()))},y.prototype.setEnabled=function(t){this._enabled!=t&&(y._super.setEnabled.call(this,t),this.invalidateDisplayList())},y.prototype.getStyleName=function(){return this._styleName},y.prototype.setStyleName=function(t){this._styleName!=t&&(this._styleName&&(this._styleName instanceof y?(qi.removeClass(this.element,"Kool__"+this._styleName.className),this._classStyle=null):qi.removeClass(this.element,this._styleName)),this._styleName=t)&&(t instanceof y?(qi.addClass(this.element,"Kool__"+t.className),this._classStyle=t):t instanceof g?(qi.addClass(this.element,t._cssName),this._classStyle=t):t.hasOwnProperty("className")?(qi.addClass(this.element,"Kool__"+t.className),this._classStyle=t):qi.addClass(this.element,t),this.styleChanged("styleName"))},y.prototype.getContextMenu=function(){return this._contextMenu},y.prototype.setContextMenu=function(t){this._contextMenu!=t&&(this._contextMenu&&(this._contextMenu.removeEventListener(ContextMenuEvent.MENU_ITEM_SELECT,this._contextMenuItemSelectHandler,this),this.removeEvent("contextmenu",this._contextMenuHandler,this),this.removeChild(this._contextMenu)),this._contextMenu=t,t instanceof ContextMenu&&(this._contextMenu.setVisible(!1),this._contextMenu.addEventListener(ContextMenuEvent.MENU_ITEM_SELECT,this._contextMenuItemSelectHandler,this),this.addChild(this._contextMenu),this.addEvent("contextmenu",this._contextMenuHandler,this)))},y.prototype.setVisible=function(t){y._super.setVisible.call(this,t),t&&(0<(this.element.style.width+"").indexOf("%")||0<(this.element.style.height+"").indexOf("%"))&&(this.invalidateSize(),this.invalidateDisplayList())},y.prototype.clearStyles=function(){this._styles={},this._classStyle=null,this._cachedTextFormat=this.element.style.cssText=null},y.prototype.setStyle=function(t,e){var i;0==t.indexOf("padding")?this.setPxStyle(t,e):(this._styles.hasOwnProperty(t)||this.constructor._defaultStyles&&this.constructor._defaultStyles.hasOwnProperty(t)?(this._styles[t]=e,"backgroundAlpha"===t&&qi.setBackgroundAlpha(this,e)):(qi.setStyle(this.element,t,e),i=this.getStyle("backgroundAlpha"),"backgroundColor"!==t||l(i)||1==i||qi.setBackgroundAlpha(this,i)),this.styleChanged(t))},y.prototype.setPxStyle=function(t,e){this._styles.hasOwnProperty(t)||this.constructor._defaultStyles&&this.constructor._defaultStyles.hasOwnProperty(t)?this._styles[t]=e:qi.setPxStyle(this.element,t,e),this.styleChanged(t)},y.prototype.getStyle=function(t){if(0==t.indexOf("padding"))return this.getSizeStyle(t);if(this._styles.hasOwnProperty(t))return this._styles[t];if(this._classStyle){if(this._classStyle._styles&&this._classStyle._styles.hasOwnProperty(t))return this._classStyle._styles[t];if(this._classStyle instanceof y&&!d(this._classStyle.getStyle(t)))return this._classStyle.getStyle(t);if(this._classStyle.constructor&&this._classStyle.constructor._defaultStyles&&this._classStyle.constructor._defaultStyles.hasOwnProperty(t))return this._classStyle.constructor._defaultStyles[t]}return this.constructor._defaultStyles&&this.constructor._defaultStyles.hasOwnProperty(t)?this.constructor._defaultStyles[t]:qi.getStyle(this.element,t)},y.prototype.getSizeStyle=function(t){if(this._styles.hasOwnProperty(t))return parseFloat(this._styles[t]);if(this._classStyle){if(this._classStyle._styles&&this._classStyle._styles.hasOwnProperty(t))return parseFloat(this._classStyle._styles[t]);if(this._classStyle instanceof y&&!d(this._classStyle.getStyle(t)))return this._classStyle.getSizeStyle(t);if(this._classStyle.constructor&&this._classStyle.constructor._defaultStyles&&this._classStyle.constructor._defaultStyles.hasOwnProperty(t))return parseFloat(this._classStyle.constructor._defaultStyles[t])}return this.constructor._defaultStyles&&this.constructor._defaultStyles.hasOwnProperty(t)?parseFloat(this.constructor._defaultStyles[t]):0<=t.indexOf("border")?qi.getSizeStyleBorder(this.element,t):qi.getSizeStyle(this.element,t)},y.prototype.setActualSize=function(t,e){if(!h(t)&&!h(e)){var i,s=this.element,a=qi,r=a.getSizeStyle,n=a.getSizeStyleBorder;i=!1,this.getHeight()!=e&&(i=$i.useBorderBox||this._useBorderBox?0:r(s,"paddingTop")+r(s,"paddingBottom")+n(s,"borderTopWidth")+n(s,"borderBottomWidth"),a.setPxStyle(s,"height",0<e-i?e-i:0),i=!0),this.getWidth()!=t&&(i=$i.useBorderBox||this._useBorderBox?0:r(s,"paddingLeft")+r(s,"paddingRight")+n(s,"borderLeftWidth")+n(s,"borderRightWidth"),a.setPxStyle(s,"width",0<t-i?t-i:0),i=!0),i&&this.invalidateDisplayList()}},y.prototype.move=function(t,e){h(t)||h(e)||(qi.setPxStyle(this.element,"left",t),qi.setPxStyle(this.element,"top",e))},y.prototype.measureText=function(t){var e=this._cachedTextFormat;return e||(e={},e.font=this.getStyle("fontFamily"),e.size=this.getStyle("fontSize"),e.bold=this.getStyle("fontWeight"),e.underline=this.getStyle("textDecoration"),e.italic=this.getStyle("fontStyle"),e.align=this.getStyle("textAlign"),e.indent=this.getStyle("textIndent"),e.lineHeight=this.getStyle("lineHeight"),e.spacing=this.getStyle("letterSpacing"),this._cachedTextFormat=e),ls.getInstance().measureText(e,t)},y.prototype.getExplicitOrMeasuredWidth=function(){return h(this._explicitWidth)?this.measuredWidth:this._explicitWidth},y.prototype.getExplicitOrMeasuredHeight=function(){return h(this._explicitHeight)?this.measuredHeight:this._explicitHeight},y.prototype.getErrorString=function(){return this._errorString},y.prototype.setErrorString=function(t){var e=this._errorString;this._errorString=t,ToolTipManager.getInstance().registerErrorString(this,e,t),this._errorStringChanged=!0,this.invalidateProperties(),this.dispatchEvent(new cs("errorStringChanged"))},y.prototype.showErrorString=function(){},y.prototype.hitTestPoint=function(t,e){var i=this.element.getBoundingClientRect();return t>=i.left&&t<=i.right&&e>=i.top&&e<=i.bottom},y.prototype.setBorderColorForErrorString=function(){this._errorString&&0!=this._errorString.length?(this._saveOutlineColor&&(this._saveOutlineColor=!1,this._origOutlineColor=this.getStyle("outlineColor"),this._origOutlineWidth=this.getStyle("outlineWidth")),this.setStyle("outlineColor",this._errorColor),this.setStyle("outlineStyle","solid"),this.setStyle("outlineWidth",this._errorWidth),this.setAttr("title",this._errorString)):l(this._origOutlineColor)||(this.setStyle("outlineColor",this._origOutlineColor),this.setStyle("outlineWidth",this._origOutlineWidth),this._saveOutlineColor=!0),this.focus()},y.prototype.getToolTip=function(){return this._toolTip},y.prototype.setToolTip=function(t){this._oldValue=this._toolTip,this._toolTip=t,d(t)?this.element.removeAttribute("title"):this.element.title=t,this.dispatchEvent(new cs("toolTipChanged"))},y.prototype.createChildren=function(){var t=this.element,e="Kool__"+this.className;t.className||(t.className=e,this._styleName&&(e=this._styleName,e instanceof g?qi.addClass(t,e._cssName):e.hasOwnProperty("className")?qi.addClass(t,"Kool__"+e.className):qi.addClass(t,e)))},y.prototype.styleChanged=function(t){this._cachedTextFormat=null,y._super.styleChanged.call(this,t)},y.prototype.commitProperties=function(){y._super.commitProperties.call(this),
this._errorStringChanged&&(this._errorStringChanged=!1,this.setBorderColorForErrorString())},y.prototype.addPopUpContextMenu=function(t,e){var i=qi.getWindowSize(),s=this._contextMenu.getWidth(),a=this._contextMenu.getHeight(),r=t,n=e;i.l+i.w>s+t&&i.t+i.h<a+e?n=e-a:i.l+i.w<s+t&&i.t+i.h<a+e?(r=t-s,n=e-a):i.l+i.w<s+t&&i.t+i.h>a+e&&(r=t-s),this.removeChild(this._contextMenu),PopUpManager.addPopUp(this._contextMenu,this,!1),PopUpManager.movePopUp(this._contextMenu,r,n),this._contextMenu.setVisibility(!0),Zi.documentAddEvent("mousedown",this._contextMenuDocumentMouseDownHandler,this),$i.ie8L||Zi.windowAddEvent("blur",this._contextMenuWindowBlurHandler,this)},y.prototype.removePopUpContextMenu=function(){this._contextMenu&&(PopUpManager.removePopUp(this._contextMenu),this._contextMenu.setVisible(!1),this.addChild(this._contextMenu),Zi.documentRemoveEvent("mousedown",this._contextMenuDocumentMouseDownHandler,this),$i.ie8L||Zi.windowRemoveEvent("blur",this._contextMenuWindowBlurHandler,this))},y.prototype._contextMenuHandler=function(t){t.target&&(t.target.selfElement instanceof ScrollBar||t.target.selfElement instanceof BrowserScrollBar)||t.defaultPrevented||(t.preventDefault(),t.stopPropagation(),this._contextMenu.setVisible(!0),this._contextMenu.setVisibility(!1),(t=Zi.getEventPageXY(t))&&this.addPopUpContextMenu(t.x,t.y))},y.prototype._contextMenuDocumentMouseDownHandler=function(t){this._contextMenu&&this._contextMenu.getVisible()&&(!t.target||!t.target.selfElement||t.target.selfElement!=this._contextMenu&&t.target.selfElement.getParent()!=this._contextMenu)&&(t.target&&this._contextMenu.element.contains(t.target)||this.removePopUpContextMenu())},y.prototype._contextMenuItemSelectHandler=function(t){this.removePopUpContextMenu(),this.dispatchEvent(t)},y.prototype._contextMenuWindowBlurHandler=function(t){this.removePopUpContextMenu()},ki(v,y),v.TEXT_WIDTH_PADDING=3,v.TEXT_HEIGHT_PADDING=1,v.prototype.getMultiline=function(){return this._multiline},v.prototype.setMultiline=function(t){this._multiline!=t&&(this._multiline=t,this._multilineChanged=!0,this.invalidateProperties())},v.prototype.getText=function(){return this._text},v.prototype.setText=function(t){this._text!=t&&(this._text=t,this._textChanged=!0,this.clearStyle("width"),this.clearStyle("height"),this.invalidateProperties())},v.prototype.getTextHeight=function(){var t=this.element.style;if(t.height&&"auto"!=t.height){var e=t.height;t.height="auto";var i=qi.getOffsetHeight(this.element);return t.height=e,i}return this.getHeight()},v.prototype.getTextWidth=function(){var t=this.element,e=t.style;return e.width&&"auto"!=e.width?t.scrollWidth>t.offsetWidth?t.scrollWidth:t.offsetWidth:this.getWidth()},v.prototype.getWordWrap=function(){return this._wordWrap},v.prototype.setWordWrap=function(t){this._wordWrap!=t&&(this._wordWrap=t,this._wordWrapChanged=!0,this.invalidateProperties())},v.prototype.getHeight=function(){var t=this.element,e=t.style,i=e.height;return!this._visible||i?this.ignorePadding?$i.useBorderBox?this._num(i)-this._num(e.paddingTop)-this._num(e.paddingBottom):this._num(i):$i.useBorderBox?this._num(i):this._num(i)+this._num(e.paddingTop)+this._num(e.paddingBottom)+this._num(e.borderTopWidth)+this._num(e.borderBottomWidth):isNaN(this._offsetHeight)&&(this._offsetHeight=qi.getOffsetHeight(t),this._text&&0===this._offsetHeight)?(this._offsetHeight=NaN,0):this._offsetHeight},v.prototype.setHeight=function(t){var e,i=this.element,a=i.style,r=qi;this._explicitHeight!=t&&(this._explicitHeight=t,this._offsetHeight=this._offsetWidth=NaN),s(t)&&0<=t.indexOf("%")?r.setStyle(i,"height",t):(e=this.ignorePadding?$i.useBorderBox?this._num(a.paddingTop)+this._num(a.paddingBottom):0:$i.useBorderBox?0:this._num(a.paddingTop)+this._num(a.paddingBottom)+this._num(a.borderTopWidth)+this._num(a.borderBottomWidth),this._num(a.height)+e!=t&&r.setPxStyle(i,"height",0<t-e?t-e:0))},v.prototype.getWidth=function(){var t=this.element,e=t.style,i=e.width;return!this._visible||i?this.ignorePadding?$i.useBorderBox?this._num(i)-this._num(e.paddingLeft)-this._num(e.paddingRight):this._num(i):$i.useBorderBox?this._num(i):this._num(i)+this._num(e.paddingLeft)+this._num(e.paddingRight)+this._num(e.borderLeftWidth)+this._num(e.borderRightWidth):isNaN(this._offsetWidth)&&(this._offsetWidth=qi.getOffsetWidth(t),this._text&&0===this._offsetWidth)?(this._offsetWidth=NaN,0):this._offsetWidth},v.prototype.setWidth=function(t){var e,i=this.element,a=i.style,r=qi;this._explicitWidth!=t&&(this._explicitWidth=t,this._offsetHeight=this._offsetWidth=NaN),s(t)&&0<=t.indexOf("%")?r.setStyle(i,"width",t):(e=this.ignorePadding?$i.useBorderBox?this._num(a.paddingLeft)+this._num(a.paddingRight):0:$i.useBorderBox?0:this._num(a.paddingLeft)+this._num(a.paddingRight)+this._num(a.borderLeftWidth)+this._num(a.borderRightWidth),this._num(a.width)+e!=t&&r.setPxStyle(i,"width",0<t-e?t-e:0))},v.prototype.truncateToFit=function(){"ellipsis"!=this.getStyle("textOverflow")&&this.setStyle("textOverflow","ellipsis"),this._offsetHeight=this._offsetWidth=NaN},v.prototype.commitProperties=function(){v._super.commitProperties.call(this),this._offsetHeight=this._offsetWidth=NaN,this._textChanged&&(this.element.innerHTML=this._text,this._textChanged=!1),this._multilineChanged&&(this._visible?qi.setStyle(this.element,"display",this._multiline?"inline-block":"inline"):this._oldDisplay=this._multiline?"inline-block":"inline",this._multilineChanged=!1),this._wordWrapChanged&&(qi.setWordWrap(this.element,this._wordWrap),this._wordWrapChanged=!1)},v.prototype.getExplicitOrMeasuredWidth=function(){return isNaN(this._explicitWidth)?this.getWidth():this._explicitWidth},v.prototype.getExplicitOrMeasuredHeight=function(){return isNaN(this._explicitHeight)?this.getHeight():this._explicitHeight},v.prototype.setActualSize=function(t,e){if(!h(t)&&!h(e)){var i=this.element,s=i.style,a=qi,r=0;this.getHeight()!=e&&(r=this._num(s.paddingTop)+this._num(s.paddingBottom)+this._num(s.borderTopWidth)+this._num(s.borderBottomWidth),a.setPxStyle(i,"height",0<e-r?e-r:0)),this.getWidth()!=t&&(r=this._num(s.paddingLeft)+this._num(s.paddingRight)+this._num(s.borderLeftWidth)+this._num(s.borderRightWidth),a.setPxStyle(i,"width",0<t-r?t-r:0))}},v.prototype.notifyStyleChangeInChildren=function(t,e){},v.prototype.styleChanged=function(t){(d(t)||Ki.sizeInvalidatingStyles[t]||"styleName"==t)&&(this._offsetHeight=this._offsetWidth=NaN)},v.prototype.validateDisplayList=function(){},v.prototype._num=function(t){return t=parseFloat(t),isNaN(t)?0:t},x.graphicTag=null,ki(x,_),x.prototype.setStyleName=function(t){y.prototype.setStyleName.call(this,t)},x.prototype.getStyleName=function(){return this._styleName},x.prototype.setPercentWidth=function(t){y.prototype.setPercentWidth.call(this,t)},x.prototype.getPercentWidth=function(){return y.prototype.getPercentWidth.call(this)},x.prototype.setPercentHeight=function(t){y.prototype.setPercentHeight.call(this,t)},x.prototype.getPercentHeight=function(){return y.prototype.getPercentHeight.call(this)},x.prototype.setWidth=function(t){s(this.element)||this._unscaledWidth==t||(this.element.width=t),y.prototype.setWidth.call(this,t)},x.prototype.getWidth=function(){return y.prototype.getWidth.call(this)},x.prototype.setHeight=function(t){s(this.element)||this._unscaledHeight==t||(this.element.height=t),y.prototype.setHeight.call(this,t)},x.prototype.getHeight=function(){return y.prototype.getHeight.call(this)},x.prototype.getMinWidth=function(){return y.prototype.getMinWidth.call(this)},x.prototype.setMinWidth=function(t){y.prototype.setMinWidth.call(this,t)},x.prototype.getMinHeight=function(){return y.prototype.getMinHeight.call(this)},x.prototype.setMinHeight=function(t){y.prototype.setMinHeight.call(this,t)},x.prototype.getMaxWidth=function(){return y.prototype.getMaxWidth.call(this)},x.prototype.setMaxWidth=function(t){y.prototype.setMaxWidth.call(this,t)},x.prototype.getMaxHeight=function(){return y.prototype.getMaxHeight.call(this)},x.prototype.setMaxHeight=function(t){y.prototype.setMaxHeight.call(this,t)},x.prototype._addingChild=function(t){_._addingChild.call(this),this.styleChanged(null)},x.prototype.setStyle=function(t,e){y.prototype.setStyle.call(this,t,e)},x.prototype.getStyle=function(t){return y.prototype.getStyle.call(this,t)},x.prototype.CSSToObject=function(t){var e,i,s,a,r,n={};for(s=t._rules.cssText.replace(/ /g,""),s=s.substring(s.indexOf("{")+1,s.lastIndexOf(";}")).split(";"),e=0,i=s.length;e<i;e+=1)s[e]=s[e].split(":"),a=ji.removeHyphen(s[e][0]),""!=a&&(r=t.getStyle(a),n[a]=r);return n},x.prototype.setX=function(t){var e=this.element;this.elementWrapDiv&&(qi.setPxStyle(e,"left",0),e=this.elementWrapDiv),qi.setPxStyle(e,"left",t)},x.prototype.getX=function(){var t=this.element;return this.elementWrapDiv&&(t=this.elementWrapDiv),qi.getSizeStyle(t,"left")},x.prototype.setY=function(t){var e=this.element;this.elementWrapDiv&&(qi.setPxStyle(e,"top",0),e=this.elementWrapDiv),qi.setPxStyle(e,"top",t)},x.prototype.getY=function(){var t=this.element;return this.elementWrapDiv&&(t=this.elementWrapDiv),qi.getSizeStyle(t,"top")},x.prototype._createElement=function(){var t,e=this;if(!s(e.element))throw Error("element is not string in _createElement() of HTMLObject");e.element=L.getInstance().getElement(e.element),e.element.selfElement=e,e.element.setAttribute("class","Kool__"+e.className+" Kool__pointer-events-none"),o(e.element.getContext)||(e.element.getContext=function(){return this.svgContext}),e.graphics=t=e.element.getContext("2d"),t.imageSmoothingEnabled=!1,t.mozImageSmoothingEnabled=!1,t.oImageSmoothingEnabled=!1,t.webkitImageSmoothingEnabled=!1,t.msImageSmoothingEnabled=!1,t.imageSmoothingQuality="high",o(e.graphics.measureText)||(e.graphics.measureText=function(t){var e=this.getStyle(),i=this._cachedTextFormat;return i||(i={},i.font=e.fontFamily,i.size=e.fontSize,i.bold=e.fontWeight,i.underline=e.textDecoration,i.italic=e.fontStyle,i.align=e.textAlign,i.indent=e.textIndent,i.lineHeight=e.lineHeight,i.spacing=e.letterSpacing,this._cachedTextFormat=i),ls.getInstance().measureText(i,t)},e.graphics.clearRect=function(){for(var t=this.svg.svgElement;t.childNodes[0];)t.removeChild(t.childNodes[0])},e.graphics.fillText=function(t,i,s){qi.setAttr(t,"fill",Qi.color2hex(e.graphics.fillStyle)),this.svg.append(t)})},x.prototype.getExplicitOrMeasuredWidth=function(){return isNaN(this._explicitWidth)?this.measuredWidth:this._explicitWidth},x.prototype.getExplicitOrMeasuredHeight=function(){return isNaN(this._explicitHeight)?this.measuredHeight:this._explicitHeight},x.prototype.setVisible=function(t,e){var i,a=e||this.element;if(a&&!s(a)&&(this._visible!=this.getVisible()||this._visible!=t)&&(x._super.setVisibility.call(this,t),this.userVisible=this._visible=t,$i.ie8L&&qi.setStyle(a,a.childNodes[0],"visibility",this.getStyle("visibility")),$i.isBB&&qi.setStyle(a,"display",t?"block":"none"),a.owner&&a.owner.busyDivs)){i=a.owner.busydivs;for(var r in i)qi.setStyle(i[r],"visibility",a.getStyle("visibility"))}},x.prototype.setActualSize=function(t,e){var i,a=this.element,r=$i.checkRetinaRatio();s(a)&&(a=null),t=Math.floor(0>t?0:t),e=Math.floor(0>e?0:e),this._unscaledWidth==t&&this._unscaledHeight==e||(this._unscaledWidth=this.width=t,this._unscaledHeight=this.height=e,a&&!s(a)&&(this.elementWrapDiv&&(i=a.parentNode,qi.setPxStyle(i,"width",t),qi.setPxStyle(i,"height",e)),this.graphics?(a.width=t*r,a.height=e*r,"CANVAS"!=a.tagName||this.graphics.svg||this.graphics.scale(r,r)):(a.width=t,a.height=e),qi.setPxStyle(a,"width",t),qi.setPxStyle(a,"height",e)),this.invalidateDisplayList())},x.prototype.move=function(t,e){var i,a=this.element;this.x=Math.floor(t),this.y=Math.floor(e),a&&!s(a)&&(this.elementWrapDiv&&(i=a.parentNode,qi.setPxStyle(i,"left",t),qi.setPxStyle(i,"top",e),t=e=0),qi.setPxStyle(a,"left",t),qi.setPxStyle(a,"top",e))},x.prototype.clear=function(t){t=t||this.element;var e=this._unscaledWidth,i=this._unscaledHeight,s=t.getContext("2d"),a=$i.checkRetinaRatio();s.clearRect(0,0,e,i),"534.30"==$i.appleWebKit&&(t.width=t.height=0,t.width=e*a,t.height=i*a,s.scale(a,a),qi.setPxStyle(t,"width",e),qi.setPxStyle(t,"height",i))},x.prototype.fillText=function(t,e,i,s){Ui.fillText(this.labelLayer?this.labelLayer:this,t,e,i,s)},x.prototype.setFont=function(t){Ui.setFont(this,t)},x.prototype.getFont=function(){return Ui.getFont.call(this)},x.prototype.measureText=function(t,e){return r(t)&&e&&(t.text=t[e]),Ui.measureText(this,t)};var zi=function(t,e,i,s){this.x=0<arguments.length?t:0,this.y=1<arguments.length?e:0,this.width=2<arguments.length?i:0,this.height=3<arguments.length?s:0};b.prototype.setLeft=function(t){var e=this.right-t;this.doNotFloor||(t=Math.floor(t),e=Math.floor(this.right-t)),this.left=this.x=t,this.width=e},b.prototype.setRight=function(t){var e=t-this.left;this.doNotFloor||(t=Math.floor(t),e=Math.floor(t-this.left)),this.right=t,this.width=e},b.prototype.setTop=function(t){var e=this.bottom-t;this.doNotFloor||(t=Math.floor(t),e=Math.floor(this.bottom-t)),this.top=this.y=t,this.height=e},b.prototype.setBottom=function(t){var e;e=t-this.top,this.doNotFloor||(t=Math.floor(t),e=Math.floor(t-this.top)),this.bottom=t,this.height=e},b.prototype.contains=function(t,e){return t>=this.x&&t<=this.right&&e>=this.y&&e<=this.bottom},b.prototype.intersects=function(t){return new Oi,!(this.x>t.x+t.width||this.x+this.width<t.x||this.y>t.y+t.height||this.y+this.height<t.y)},b.prototype.clone=function(){return new b(this.x,this.y,this.width,this.height)};var Wi=function(){this.uno=as.elementNo++};Wi.prototype.newInstance=function(){};var Bi=function(t){Wi.call(this),this.generator=0<arguments.length?t:null,this.properties=null};ki(Bi,Wi),Bi.prototype.newInstance=function(){var t=new this.generator;if(null!=this.properties)for(var e in this.properties)t[e]=this.properties[e];return t},S.prototype.getNumChildren=function(){return this._owner._$getNumChildren()},S.prototype.addChild=function(t){return this._owner._rawChildren_addChild(t)},S.prototype.addChildAt=function(t,e){return this._owner._rawChildren_addChildAt(t,e)},S.prototype.removeChild=function(t){return this._owner._rawChildren_removeChild(t)},S.prototype.removeChildAt=function(t){return this._owner._rawChildren_removeChildAt(t)},S.prototype.getChildAt=function(t){return this._owner._rawChildren_getChildAt(t)},S.prototype.getChildByName=function(t){return this._owner._rawChildren_getChildByName(t)},S.prototype.getChildIndex=function(t){return this._owner._rawChildren_getChildIndex(t)},S.prototype.setChildIndex=function(t,e){return this._owner._rawChildren_setChildIndex(t,e)},S.prototype.contains=function(t){return this._owner._rawChildren_contains(t)},C._propertyType={children:Array},ki(C,y),C.prototype._defaultProperty="children",C.prototype.getAutoLayout=function(){return this._autoLayout},C.prototype.setAutoLayout=function(t){(this._autoLayout=t)&&(this.invalidateSize(),this.invalidateDisplayList(),(t=this.getParent())&&(t.invalidateSize(),t.invalidateDisplayList()))},C.prototype.getBorderMetrics=function(){return this._border?this._border.getBorderMetrics():qi.getBorderMetrics(this)},C.prototype._getFirstChildIndex=function(){return this._firstChildIndex},C.prototype.getHorizontalScrollPolicy=function(){return this._horizontalScrollPolicy},C.prototype.setHorizontalScrollPolicy=function(t){this._horizontalScrollPolicy!=t&&(this._horizontalScrollPolicy=t,t="on"==t?"scroll":"off"==t?"hidden":"auto",this._contentPane?this._contentPane.setStyle("overflowX",t):this.setStyle("overflowX",t),this.invalidateDisplayList())},C.prototype.getHorizontalScrollPosition=function(){return this._contentPane?this._contentPane.element.scrollLeft:this.element.scrollLeft},C.prototype.setHorizontalScrollPosition=function(t){this._contentPane&&(this._contentPane.element.scrollLeft=t),this.element.scrollLeft=t},C.prototype.getIconSrc=function(){return this._iconSrc},C.prototype.setIconSrc=function(t){this._iconSrc=t,this.dispatchEvent(new cs("iconSrcChanged"))},C.prototype.getLabel=function(){return this._label},C.prototype.setLabel=function(t){this._label=t,this.dispatchEvent(new cs("labelChanged"))},C.prototype.getMaxHorizontalScrollPosition=function(){return this._contentPane?this._contentPane.element.scrollWidth-this._contentPane.element.clientWidth:this.element.scrollWidth-this.element.clientWidth},C.prototype.getMaxVerticalScrollPosition=function(){return this._contentPane?this._contentPane.element.scrollHeight-this._contentPane.element.clientHeight:this.element.scrollHeight-this.element.clientHeight},C.prototype._$getNumChildren=function(){return C._super.getNumChildren.call(this)},C.prototype.getNumChildren=function(){return this._contentPane?this._contentPane.getNumChildren():this._numChildren},C.prototype.getRawChildren=function(){return this._rawChildren||(this._rawChildren=new S(this)),this._rawChildren},C.prototype.getSelectedIconSrc=function(){return this._selectedIconSrc},C.prototype.setSelectedIconSrc=function(t){this._selectedIconSrc=t,this.dispatchEvent(new cs("selectedIconSrcChanged"))},C.prototype._getUsePadding=function(){return!0},C.prototype.getVerticalScrollPolicy=function(){return this._verticalScrollPolicy},C.prototype.setVerticalScrollPolicy=function(t){this._verticalScrollPolicy!=t&&(this._verticalScrollPolicy=t,t="on"==t?"scroll":"off"==t?"hidden":"auto",this._contentPane?this._contentPane.setStyle("overflowY",t):this.setStyle("overflowY",t),this.invalidateDisplayList())},C.prototype.getVerticalScrollPosition=function(){return this._contentPane?this._contentPane.element.scrollTop:this.element.scrollTop},C.prototype.setVerticalScrollPosition=function(t){this._contentPane&&(this._contentPane.element.scrollTop=t),this.element.scrollTop=t},C.prototype.getViewMetrics=function(){var t=this.getBorderMetrics();return this._horizontalScrollBarExist||this._verticalScrollBarExist?(this._viewMetrics?(this._viewMetrics.left=t.left,this._viewMetrics.right=t.right,this._viewMetrics.top=t.top,this._viewMetrics.bottom=t.bottom):this._viewMetrics=t.clone(),this._verticalScrollBarExist&&(this._viewMetrics.right+=$i.getScrollBarWidth()),this._horizontalScrollBarExist&&(this._viewMetrics.bottom+=$i.getScrollBarHeight()),this._viewMetrics):t},C.prototype.getViewMetricsAndPadding=function(){if(!(!this._viewMetricsAndPadding||this._horizontalScrollBarExist&&"on"!=this._horizontalScrollPolicy||this._verticalScrollBarExist&&"on"!=this._verticalScrollPolicy))return this._viewMetricsAndPadding;this._viewMetricsAndPadding||(this._viewMetricsAndPadding=new Hi);var t=this._viewMetricsAndPadding,e=this.getViewMetrics(),i=qi.getPaddingMetrics(this._contentPane);return t.left=e.left+i.left,t.right=e.right+i.right,t.top=e.top+i.top,t.bottom=e.bottom+i.bottom,t},C.prototype.setVisible=function(t){if(C._super.setVisible.call(this,t),t){var e,i;for(t=0,e=this.getNumChildren();t<e;t++)i=this.getChildAt(t),i instanceof _&&(i instanceof C&&($i.ie&&!$i.ie8L||$i.edge)&&i._invalidateViewMetricsAndPadding(),i.invalidateSize())}},C.prototype.addChild=function(t){return this.addChildAt(t,this.getNumChildren())},C.prototype.addChildAt=function(t,e){var i=t.getParent();return i&&(i==this&&(e=e==this.getNumChildren()?e-1:e),i.removeChild(t)),this._addingChild(t),this._contentPane?(this._contentPane.addChildAt(t,e),qi.setStyle(t,"position","absolute")):this._$addChildAt(t,this._firstChildIndex+e),this._childAdded(t),t},C.prototype._addingChild=function(t){C._super._addingChild.call(this,t),this.invalidateSize(),this.invalidateDisplayList(),this._contentPane||(0==this._numChildren&&(this._firstChildIndex=C._super.getNumChildren.call(this)),this._numChildren++),this._contentPane&&!this._autoLayout&&(this._forceLayout=!0,rs.getInstance().addEventListener("updateComplete",this._layoutCompleteHandler,this))},C.prototype._childAdded=function(t){C._super._childAdded.call(this,t),this.dispatchEvent(new fs(fs.CHILD_ADD,(!1),(!1),t)),t.dispatchEvent(new cs("add"))},C.prototype.removeChild=function(t){return this._removingChild(t),this._contentPane?this._contentPane.removeChild(t):this._$removeChild(t),this._childRemoved(t),t},C.prototype.removeChildAt=function(t){return this.removeChild(this.getChildAt(t))},C.prototype._removingChild=function(t){C._super._removingChild.call(this,t),t.dispatchEvent(new cs("remove")),this.dispatchEvent(new fs(fs.CHILD_REMOVE,(!1),(!1),t))},C.prototype._childRemoved=function(t){C._super._childRemoved.call(this,t),this.invalidateSize(),this.invalidateDisplayList(),this._contentPane||(this._numChildren--,0==this._numChildren&&(this._firstChildIndex=C._super.getNumChildren.call(this))),this._contentPane&&!this._autoLayout&&(this._forceLayout=!0,rs.getInstance().addEventListener("updateComplete",this._layoutCompleteHandler,this))},C.prototype.getChildAt=function(t){return this._contentPane?this._contentPane.getChildAt(t):C._super.getChildAt.call(this,this._firstChildIndex+t)},C.prototype.getChildByName=function(t){if(this._contentPane)return this._contentPane.getChildByName(t);if(t=C._super.getChildByName.call(this,t),!t)return null;var e=C._super.getChildIndex.call(this,t)-this._firstChildIndex;return 0>e||e>=this._numChildren?null:t},C.prototype.getChildIndex=function(t){return this._contentPane?this._contentPane.getChildIndex(t):C._super.getChildIndex.call(this,t)-this._firstChildIndex},C.prototype.setChildIndex=function(t,e){var i,s=e;if(this._contentPane)this._contentPane.setChildIndex(t,e);else{if(i=C._super.getChildIndex.call(this,t),e+=this._firstChildIndex,e==i)return;C._super.setChildIndex.call(this,t,e),i-=this._firstChildIndex,s=e-this._firstChildIndex}this.invalidateDisplayList(),this.dispatchEvent(new gs(gs.CHILD_INDEX_CHANGE,(!1),(!1),t,i,s)),this.dispatchEvent(new cs("childrenChanged"))},C.prototype.contains=function(t){return this._contentPane?this._contentPane.contains(t):C._super.contains.call(this,t)},C.prototype.swapChildren=function(t,e){this._contentPane?this._contentPane.swapChildren(t,e):C._super.swapChildren.call(this,t,e)},C.prototype.swapChildrenAt=function(t,e){this._contentPane?this._contentPane.swapChildrenAt(t,e):C._super.swapChildrenAt.call(this,t,e)},C.prototype._$getChildAt=function(t){return this.getChildAt(t)},C.prototype._layoutChrome=function(t,e){this._border&&(this._border.move(0,0),this._border.setActualSize(t,e))},C.prototype._createBorder=function(){if(!this._border){var t=this.getStyle("borderSkin");d(t)||(this._border=new t,this._border.name="border",this._border instanceof y&&this._border.setEnabled(this._enabled),this.getRawChildren().addChildAt(this._border,0),this.invalidateDisplayList())}},C.prototype._invalidateViewMetricsAndPadding=function(){this._viewMetricsAndPadding=null},C.prototype._checkScrollBarExist=function(){var t,e;return t="off"!==this._horizontalScrollPolicy&&("on"===this._horizontalScrollPolicy||(this._contentPane?this._contentPane.element.scrollWidth>this._contentPane.element.clientWidth:this.element.scrollWidth>this.element.clientWidth)),e="off"!==this._verticalScrollPolicy&&("on"===this._verticalScrollPolicy||(this._contentPane?this._contentPane.element.scrollHeight>this._contentPane.element.clientHeight:this.element.scrollHeight>this.element.clientHeight)),(t!=this._horizontalScrollBarExist||e!=this._verticalScrollBarExist)&&(this._horizontalScrollBarExist=t,this._verticalScrollBarExist=e,this._invalidateViewMetricsAndPadding(),!0)},C.prototype.createChildren=function(){C._super.createChildren.call(this),this._createBorder(),this._autoLayout||(this._forceLayout=!0),rs.getInstance().addEventListener("updateComplete",this._layoutCompleteHandler,this),this._numChildrenCreated=this.getNumChildren(),this.setStyle("position","absolute"),this.setStyle("overflow","hidden"),this.setStyle("outline","none")},C.prototype.commitProperties=function(){C._super.commitProperties.call(this),this._changedStyles&&(C._super.notifyStyleChangeInChildren.call(this,"<MULTIPLE>"==this._changedStyles?null:this._changedStyles,!0),this._changedStyles=null)},C.prototype.validateSize=function(t){var e,i;if(this._autoLayout||this._forceLayout)C._super.validateSize.call(this,t);else if(t)for(t=0,e=this.getNumChildren();t<e;t+=1)i=this.getChildAt(t),i instanceof _&&i.validateSize(!0)},C.prototype.validateDisplayList=function(){this._checkScrollBarExist(),(this._autoLayout||this._forceLayout)&&(this._doingLayout=!0,C._super.validateDisplayList.call(this),this._checkScrollBarExist()&&(this._layoutObject&&this._layoutObject.updateDisplayList(this._unscaledWidth,this._unscaledHeight),this._checkScrollBarExist()),this._doingLayout=!1)},C.prototype.updateDisplayList=function(t,e){var i=this._contentPane,s=!1;if(C._super.updateDisplayList.call(this,t,e),this._layoutChrome(t,e),i){if(0<t&&0<e?s=!0:(0>=t||0>=e)&&(s=!1),qi.setVisibility(this._contentPane,s),!s)return;s=this.getBorderMetrics(),i.setX(0),i.setY(0),i.setWidth(t-s.left-s.right),i.setHeight(e-s.top-s.bottom)}i&&("auto"==this._horizontalScrollPolicy&&this._horizontalScrollBarExist||"auto"==this._verticalScrollPolicy&&this._verticalScrollBarExist)&&i.element.style.setProperty&&(i.element.style.display="none",i.element.style.display="")},C.prototype.notifyStyleChangeInChildren=function(t,e){var i,s=this._numChildren;for(i=0;i<s;i++)if(this._contentPane||i<this._firstChildIndex||i>=this._firstChildIndex+this._numChildren){var a=C._super.getChildAt.call(this,i);a&&(a.styleChanged(t),a instanceof _&&a.notifyStyleChangeInChildren(t,e))}e&&(this._changedStyles=!d(this._changedStyles)||d(t)?"<MULTIPLE>":t,this.invalidateProperties())},C.prototype.styleChanged=function(t){(d(t)||Ki.sizeInvalidatingStyles[t]||"styleName"==t)&&this._invalidateViewMetricsAndPadding(),C._super.styleChanged.call(this,t)},C.prototype.getSizeStyle=function(t){return 0==t.indexOf("padding")&&this._contentPane?this._contentPane.getSizeStyle(t):C._super.getSizeStyle.call(this,t)},C.prototype.setPxStyle=function(t,e){0==t.indexOf("padding")&&this._contentPane?(this._contentPane.setPxStyle(t,e),this.styleChanged(t)):C._super.setPxStyle.call(this,t,e)},C.prototype.contentToGlobal=function(t){return this._contentPane?this._contentPane.localToGlobal(t):this.localToGlobal(t)},C.prototype.globalToContent=function(t){return this._contentPane?this._contentPane.globalToLocal(t):this.globalToLocal(t)},C.prototype.contentToLocal=function(t){return this._contentPane?this.globalToLocal(this.contentToGlobal(t)):t},C.prototype.localToContent=function(t){return this._contentPane?this.globalToContent(this.localToGlobal(t)):t},C.prototype.getChildren=function(){var t,e,i=[];for(e=this.getNumChildren(),t=0;t<e;t++)i.push(this.getChildAt(t));return i},C.prototype.removeAllChildren=function(){for(;0<this.getNumChildren();)this.removeChildAt(0)},C.prototype._rawChildren_addChild=function(t){return 0==this._numChildren&&this._firstChildIndex++,C._super._addingChild.call(this,t),this._$addChild(t),C._super._childAdded.call(this,t),this.dispatchEvent(new cs("childrenChanged")),t},C.prototype._rawChildren_addChildAt=function(t,e){return this._firstChildIndex<e&&e<this._firstChildIndex+this._numChildren+1?this._numChildren++:e<=this._firstChildIndex&&this._firstChildIndex++,C._super._addingChild.call(this,t),this._$addChildAt(t,e),C._super._childAdded.call(this,t),this.dispatchEvent(new cs("childrenChanged")),t},C.prototype._rawChildren_removeChild=function(t){return t=this._rawChildren_getChildIndex(t),this._rawChildren_removeChildAt(t)},C.prototype._rawChildren_removeChildAt=function(t){var e=C._super.getChildAt.call(this,t);return C._super._removingChild.call(this,e),this._$removeChildAt(t),C._super._childRemoved.call(this,e),this._firstChildIndex<t&&t<this._firstChildIndex+this._numChildren?this._numChildren--:(0==this._numChildren||t<this._firstChildIndex)&&this._firstChildIndex--,this.invalidateSize(),this.invalidateDisplayList(),this.dispatchEvent(new cs("childrenChanged")),e},C.prototype._rawChildren_getChildAt=function(t){return C._super.getChildAt.call(this,t)},C.prototype._rawChildren_getChildByName=function(t){return C._super.getChildByName.call(this,t)},C.prototype._rawChildren_getChildIndex=function(t){return C._super.getChildIndex.call(this,t)},C.prototype._rawChildren_setChildIndex=function(t,e){var i=C._super.getChildIndex.call(this,t);C._super.setChildIndex.call(this,t,e),i<this._firstChildIndex&&e>=this._firstChildIndex?this._firstChildIndex--:i>=this._firstChildIndex&&e<=this._firstChildIndex&&this._firstChildIndex++,this.dispatchEvent(new cs("childrenChanged"))},C.prototype._rawChildren_contains=function(t){return C._super.contains.call(this,t)},C.prototype._layoutCompleteHandler=function(t){rs.getInstance().removeEventListener("updateComplete",this._layoutCompleteHandler,this),this._forceLayout=!1},C.prototype._scrollHandler=function(t){t=new _s(_s.SCROLL,(!1),(!1),(!1),0,"vertical",t.delta,t),t.detail=!1,this._contentPane?this._oldScrollTop!=this._contentPane.scrollTop?t.position=this._contentPane.scrollTop:this._oldScrollLeft!=this._contentPane.scrollLeft&&(t.position=this._contentPane.scrollLeft,t.direction="horizontal"):this._oldScrollTop!=this.element.scrollTop?t.position=this.element.scrollTop:this._oldScrollLeft!=this.element.scrollLeft&&(t.position=this.element.scrollLeft,t.direction="horizontal"),this.dispatchEvent(t),this._oldScrollTop=this._contentPane?this._contentPane.scrollTop:this.element.scrollTop,this._oldScrollLeft=this._contentPane?this._contentPane.scrollLeft:this.element.scrollLeft};var Ui={ieFontCheck:function(t){var e,i,s;if(!t)return"";for(t=t.split(","),i=t.length,$i.ie8L&&(i=1),e=0;e<i;e+=1)s=t[e],/['"]/g.test(s)||(t[e]="'"+s+"'");return t.join(",")},isCanvas:function(t){return t instanceof x?t.element.getContext("2d"):t instanceof HTMLCanvasElement?t.getContext("2d"):t instanceof CanvasRenderingContext2D||o(t.beginPath)&&o(t.closePath)?t:null},getLetterSpacing:function(t){var e=qi.getStyle(t,"letterSpacing");return"normal"==e||$i.chrome?0:qi.unit2px(t,e)},lineBreakCheckText:function(t,e,i){var s,a,n,o="",h=0,l=0,d=Ui.getLetterSpacing(t);if(Ui.setFont(t),t instanceof x&&(t=t.element),t=t.getContext("2d"),!r(e))for(n=String.prototype.split.call(e,""),s=n.length,e=0;e<s;e+=1)a=n[e],"\n"!=a?(h=t.measureText(a).width+d,l+=h,i<l&&(o+="\n",l=h)):l=0,o+=a;return o},setFont:function(t,e,i){var s,a,r,o,h,l,d,c,u=qi.getStyle;t instanceof x&&(t=t.element),s=t.getContext("2d"),e||(e={}),e.getStyle||(e.getStyle=function(){}),a=e.color||e.getStyle("color")||u(t,"color"),r=e.fontStyle||e.getStyle("fontStyle")||u(t,"fontStyle"),o=e.fontWeight||e.getStyle("fontWeight")||u(t,"fontWeight"),h=e.fontSize||e.getStyle("fontSize")||u(t,"fontSize"),l=e.fontFamily||e.getStyle("fontFamily")||u(t,"fontFamily"),d=e.textDecoration||e.getStyle("textDecoration")||u(t,"textDecoration"),c=e.letterSpacing||e.getStyle("letterSpacing")||u(t,"letterSpacing"),t=qi.unit2px(t,e.lineHeight||e.getStyle("lineHeight")||u(t,"lineHeight")),("normal"==c||$i.chrome)&&(c=0),n(h)&&(h+="px"),s.fillStyle=a,s.font=r+" "+o+" "+h+" "+Ui.ieFontCheck(l),s.svg&&(s.fontStyle=r,s.fontFamily=Ui.ieFontCheck(l),s.fontWeight=o,s.fontSize=h),s.save(),i&&(s.applyFont={color:a,fontStyle:r,fontWeight:o,fontSize:h,fontFamily:l,textDecoration:d,letterSpacing:c,lineHeight:t})},getFont:function(t){var e=qi.getStyle;return t.element&&(t=t.element),{fontSize:e(t,"fontSize"),fontStyle:e(t,"fontStyle"),fontWeight:e(t,"fontWeight"),fontFamily:e(t,"fontFamily"),color:e(t,"color"),textDecoration:e(t,"textDecoration"),letterSpacing:Ui.getLetterSpacing(t),lineHeight:qi.unit2px(t,e(t,"lineHeight"))}},checkHTMLTag:function(t){var e,i,s,a,r,n,o,h,l=["u","b","i"];if("string"==typeof t&&(t={text:t}),r=t.text,-1<r.indexOf("<font")||-1<r.indexOf("<br>")||-1<r.indexOf("<BR>"))return t.htmlTag=!0,t;for(e=0,i=l.length;e<i;e+=1)for(h=l[e],n=r.split("<"+h+">"),s=1,a=n.length;s<a;s+=1)if(o=n[s],o=o.substring(0,o.indexOf("</"+h+">")),""!=o)return t.htmlTag=!0,t;return t},measureText:function(t,e){var i,s;if(!d(e))return t instanceof x&&(t=t.element),i=t.getContext("2d"),r(e)?s=e.text:(s=e,
e={}),s+="",-1<s.indexOf("\n")&&(s=s.replace(/\n/g,"<br>")),e.text=s,Ui.checkHTMLTag(e),e.htmlTag?(e.htmlText=Ui.getHtmlText(e.text),i=Ui.htmlText(t,e,null,!1,0,0),e.width=i.width,e.height=i.height,e.length=i.length):(e.length=e.text.length,e.width=i.measureText(e.text).width+($i.chrome?0:e.length*Ui.getLetterSpacing(t)),e.height=i.applyFont?parseInt(i.applyFont.fontSize):qi.getSizeStyle(t,"fontSize")),e.width=Math.round(e.width),e.height=Math.round(e.height),e},getPositionTextAlign:function(t,e,i,s){return"right"==s?t+i-e:"center"==s?t+.5*(i-e):t},fillText:function(t,e,i,s,a,n){var o,h,d,c;if(t instanceof x&&(t=t.element),n=t.getContext("2d"),n.textAlign="left",n.textBaseline="top",e.htmlTag)Ui.htmlText(t,e,null,!0,i,s,a);else{if(a=Ui.getLetterSpacing(t),r(e)&&(n.svg&&(s+=e.height),h=e.width,d=e.height,e=e.text),a)for(c=String.prototype.split.call(e,""),e=0,o=c.length;e<o;e+=1)n.fillText(c[e],i+.5*a,s),i+=n.measureText(c[e]).width+a;else n.svg?n.fillText(e,i,s+(l(d)?0:d)):n.fillText(e,i,s);t.selfElement&&"underline"==t.selfElement.getStyle("textDecoration")&&Ui.drawUnderline(n,i,s+d+2,h)}},htmlText:function(t,e,i,s,a,r,n){var o,h,d,c,u,p=a,f=r,g=0,m=e.htmlText,_=0,y=0;o=qi.getStyle;var v,x,b,S,C,D,w,T,M=0,I=0,A=0;u=w=0;var L=!0;for(t.element&&(t=t.element),d=t.selfElement?t.selfElement.getStyle("textAlign"):o(t,"textAlign"),r=t.getContext("2d"),i||(i=r.applyFont?r.applyFont:Ui.getFont(t),i.underline=o(t,"textDecoration")),Ui.setFont(t,i),o=0,h=m.length;o<h;o+=1){if(c=m[o],C=c.color||i.color,v=c.i||i.fontStyle,x=c.b||i.fontWeight,b=parseInt(c.size||i.fontSize),S=c.family||i.fontFamily,D=c.u||i.underline,w=i.letterSpacing,T=i.lineHeight,r.fillStyle=C,r.font=v+" "+x+" "+b+"px "+S,L&&(s&&e.rowWidths&&(p=Ui.getPositionTextAlign(a,e.rowWidths[g],n?n:e.width,d)),L=!1),c.htmlText)c.width=e.width,u=Ui.htmlText(t,c,{fontStyle:v,fontWeight:x,fontSize:b,fontFamily:S,color:C,underline:D,letterSpacing:w,lineHeight:T},s,p,f,n),p=u.x,f=u.y,y+=u.length,_+=u.width,u=Math.max(u.height,I);else{if(c.br){p=a,f+=T,s||(e.rowWidths||(e.rowWidths=[]),e.rowWidths.push(_)),_=y=0,g++,L=!0,I=Math.max(f+u,I);continue}c=l(c.text)?c:c.text,w=r.measureText(ji.trim(c)).width+c.length*w,_+=w,y+=c.length,u=b,s&&(r.svg?Ui.fillText(t,c,p,f+u):Ui.fillText(t,c,p,f),"underline"==D&&Ui.drawUnderline(r,p,f+u+2,w)),p+=w}A=Math.max(y,A),M=Math.max(_,M),I=Math.max(u,I)}return r.restore(),s||L||!e.rowWidths||e.rowWidths.push(_),{x:p,y:f,width:M,height:I,length:A}},drawUnderline:function(t,e,i,s){switch(s=Math.floor(e+s),e=Math.floor(e)-.5,i=Math.floor(i)-.5,t.save(),t.beginPath(),t.strokeStyle=t.fillStyle,t.lineWidth=1,t.textBaseline){case"top":t.moveTo(e,i),t.lineTo(s,i)}t.closePath(),t.stroke(),t.restore()},getHtmlText:function(t){for(var e,i,s,a,r=t,n=[],o={i:"italic",b:"bold",u:"underline",font:!0};!0;){if(s={},e=r.indexOf("<")+1,r.indexOf(" "),i="font"==r.substring(e,e+4)?r.substring(e,r.length).indexOf(" ",e)+e:r.indexOf(">",e),1!=e&&(t=r.substring(0,e-1),n.push(t),0==e)){t=r.substring(0,r.length),n.pop(),n.push(t);break}if(a=r.substring(e,i),"br"==a)s[a]=!0,n.push(s),r=r.substring(i+1,r.length);else{if(t=r.substring(e,r.indexOf("</"+a+">")+3+a.length),"font"==a){for(s.tagStyle=t.substring(t.indexOf(" ")+1,t.indexOf(">")).split(" "),s.temp={},e=0,i=s.tagStyle.length;e<i;e+=1)s.value=s.tagStyle[e].replace(/ |"|'/g,"").split("="),s.temp[s.value[0]]=h(parseInt(s.value[1]))?s.value[1]:parseInt(s.value[1])+"px";s=qi.clone(s.temp,"true"),delete s.temp,delete s.value}if(e=t.indexOf(">"),i=t.indexOf("</"+a+">"),t=t.substring(e+1,i),s[a]=o[a],-1<t.indexOf("<")?s.htmlText=Ui.getHtmlText(t):s.text=t,n.push(s),t=r=r.substring(r.indexOf("</"+a+">")+3+a.length,r.length),0>r.indexOf("<")){""!=t&&n.push(t);break}}}return n}},Gi={stringCompare:function(t,e,i){return t||e?t?e?(i&&(t=t.toLowerCase(),e=e.toLowerCase()),t=t==e?0:t>e?1:-1,-1>t?t=-1:1<t&&(t=1),t):-1:1:0},numericCompare:function(t,e){return h(t)&&h(e)?0:h(t)?1:h(e)||t<e?-1:t>e?1:0},dateCompare:function(t,e){if(!c(t)&&!c(e))return 0;if(!c(t))return 1;if(!c(e))return-1;var i=t.getTime(),s=e.getTime();return i<s?-1:i>s?1:0},guid:function(){function t(t){var e=(Math.random().toString(16)+"000000000").substr(2,8);return t?"-"+e.substr(0,4)+"-"+e.substr(4,4):e}return t()+t(!0)+t(!0)+t()},copy:function(t){if(null==t||"object"!=typeof t)return t;var e,i=t.constructor();for(e in t)t.hasOwnProperty(e)&&(i[e]=Gi.copy(t[e]));return i},findFunction:function(t){if(o(t))return t;if(0<=t.indexOf(".")){t=t.split(".");var e,i=window;try{for(e=0;e<t.length;e++)if(i=i[t[e]],void 0==i)return}catch(s){return}return i}return window[t]},toXMLString:function(t){var i,s,a,n,h,c="",u="",p="",f=1<arguments.length?arguments[1]:void 0;if(f&&"Style"==f){c+=">";for(n in t){c+=n+"{";for(h in t[n])c+=h+":"+t[n][h]+";";c+="}"}return c+"</"+f+">"}for(n in t)if(c=n,a=t[n],e(a)){if(a[0])if(r(a[0])){for(u+="<"+c+">",i=0,s=a.length;i<s;i+=1)for(h in a[i])u+="<"+h+" "+Gi.toXMLString(a[i][h],h);u+="</"+c+">"}else p+=n+'="['+Gi.transXMLInvalidChar(a)+']" '}else r(a)?u+="<"+c+" "+Gi.toXMLString(a,c):o(a)?((l(this._funcCount)||d(this._funcCount))&&(this._funcCount=0,this._tempFunc={}),this._tempFunc["function_"+this._funcCount]=a,p+=n+'="{function_'+this._funcCount++ +'}"'):p+=n+'="'+a+'" ';return f=f?"</"+f+">":"",""!=u&&""!=p?p+">"+u+f:""!=u?(f&&(u=">"+u),u+=f,!f&&this._tempFunc?(i=Gi.copy(this._tempFunc),this._tempFunc=this._funcCount=null,{layout:u,functions:i}):u):(f?"":"<")+p+"/>"},transXMLInvalidChar:function(t){if(!s(t))return t;var e,i,a=['"',"'","<",">","&"],r=["&quot;","&apos;","&lt;","&gt;","&amp;"];for(e=0,i=a.length;e<i;e+=1)-1<t.indexOf(a[e])&&(t=t.replace(r[e],a[e]),t=t.replace(a[e],r[e]));return t},getChildLength:function(t){var e,i=0;for(e in t)i++;return i}},Yi={sortOn:function(t,e){var i=t.slice();if(1>=arguments.length)return i.sort(function(t,e){return t>e?1:-1});var s=Array.prototype.slice.call(arguments);return s.shift(),i.sort(function(t,e){for(var i=s.slice(),a=i.shift();t[a]==e[a]&&i.length;)a=i.shift();return t[a]==e[a]?0:t[a]>e[a]?1:-1})},map:function(t,e){var i=Array.prototype.slice.call(arguments,3);if(o(t.map))return t.map(e,i);var s=t.length;if("function"!=typeof e)throw new(e+" is not a function");var a,r=Array(s),n=arguments[2];for(a=0;a<s;a++)r[a]=e.apply(n,[t[a],a,t].concat(i));return r},indexOf:function(t,e,i){if(o(t.indexOf))return t.indexOf(e,i);i=i||0;for(var s=t.length;i<s;i++)if(t[i]===e)return i;return-1}},Xi={elementToString:function(t){return t?window.XMLSerializer?(new window.XMLSerializer).serializeToString(t):t.xml:""},getProperty:function(t,e){return-1!=e.indexOf("@")?Xi.getAttribute(t,e.split("@")[1]):Xi.getElementProperty(t,e)},getAttribute:function(t,e){if(t)try{return t.getAttribute(e)}catch(i){try{return t.attributes[e]}catch(s){}}return null},getElementProperty:function(t,e){if(t){var i=t.getElementsByTagName(e);if(i&&0<i.length)return i[0].textContent||i[0].text}return null},getElement:function(t,e){if(t){var i=t.getElementsByTagName(e);if(i&&0<i.length)return i[0]}return null},getElements:function(t,e){if(t){var i=t.getElementsByTagName(e);if(i&&0<i.length)return i}return null},setProperty:function(t,e,i){-1!=e.indexOf("@")?Xi.setAttribute(t,e.split("@")[1],i):Xi.setElementProperty(t,e,i)},setAttribute:function(t,e,i){if(t)try{t.setAttribute(e,i)}catch(s){try{return t.attributes[e]=i}catch(a){}}},setElementProperty:function(t,e,i){if(t){var a=t.getElementsByTagName(e);a&&0<a.length?s(a[0].textContent)?a[0].textContent=i:a[0].text=i.toString():(e=9===t.nodeType?t.createElement(e):t.ownerDocument.createElement(e),s(e.textContent)?e.textContent=i:e.text=i.toString(),t.appendChild(e))}},hasElementProperty:function(t,e){if(t){var i=t.getElementsByTagName(e);if(i&&0<i.length)return!0}return!1},getFirstElementChild:function(t){if(t&&0<t.childNodes.length){if(t.firstElementChild)return t.firstElementChild;for(t=t.firstChild;t;t=t.nextSibling)if(1===t.nodeType)return t}return null},escapeXML:function(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"):""},parse:function(t){if(""==t||!t)return null;var e,i;try{window.DOMParser?(e=new DOMParser,i=e.parseFromString(t,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async=!1,i.loadXML(t))}catch(s){throw"Invalid XML e:"+s.message}if(!i||""===i.textContent)throw"Invalid XML";if(e=i.documentElement,!e&&i.parseError)throw"Invalid XML line:"+i.parseError.line+" "+i.parseError.reason;if(!e||!e.nodeName||"parsererror"===e.nodeName)throw"Invalid XML :"+(e&&e.innerHTML?e.innerHTML:e);if(e.firstElementChild&&"parsererror"===e.firstElementChild.nodeName)throw"Invalid XML :"+e.firstElementChild.innerHTML;return i},convertToArray:function(t,e){if(t){var i,s,a,r,n,o,l,d,c=[],u=t.getElementsByTagName(e);for(i=0,a=u.length;i<a;i++)if(s=u[i],1==s.nodeType){for(d=s.childNodes,n={},s=0,r=d.length;s<r;s++)1==d[s].nodeType&&(o=d[s].nodeName,l=d[s].textContent||d[s].text,n[o]=h(Number(l))?l:Number(l));c[i]=n}return c}}},Ji={ALPHA_CHAR_CODES:[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70],uidDictionary:{},createUID:function(){var t,e,i=Array(36),s=0;for(t=0;8>t;t++)i[s++]=this.ALPHA_CHAR_CODES[Math.floor(16*Math.random())];for(t=0;3>t;t++)for(i[s++]=45,e=0;4>e;e++)i[s++]=this.ALPHA_CHAR_CODES[Math.floor(16*Math.random())];for(i[s++]=45,e=("0000000"+(new Date).getTime().toString(16).toUpperCase()).substr(-8),t=0;8>t;t++)i[s++]=e.charCodeAt(t);for(t=0;4>t;t++)i[s++]=this.ALPHA_CHAR_CODES[Math.floor(16*Math.random())];return String.fromCharCode.apply(null,i)},isUID:function(t){if(null!=t&&36==t.length){for(var e=0;36>e;e++){var i=t.charCodeAt(e);if(8==e||13==e||18==e||23==e){if(45!=i)return!1}else if(48>i||70<i||57<i&&65>i)return!1}return!0}return!1},getUID:function(t){var e=null;if(null==t)return e;if(s(t))return t;try{if(t.uid)return t.uid;if(a(t)){var i=t.nodeType;if(3===i||2===i||8===i)return t.toString();t.hasOwnProperty?e=t.uid=this.createUID():(e=t.getAttribute("rm_internal_uid"),e||(e=this.createUID(),t.setAttribute("rm_internal_uid",e)))}else{if(t.hasOwnProperty("rm_internal_uid"))return t.rm_internal_uid;if(e=t.hasOwnProperty("uno")?this.uidDictionary[t.uno]:this.uidDictionary[t],!e){e=this.createUID();try{t.rm_internal_uid=e}catch(r){this.uidDictionary[t]=e}}}}catch(r){e=t.toString()}return e}},ji={trim:function(t){return t.replace(/^\s+|\s+$/g,"")},lowerToUpper:function(t){return t.replace(/^[a-z|A-Z]/,function(t){return t.toUpperCase()})},addHyphen:function(t){return((t=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}))&&0==t.indexOf("ms-")||0==t.indexOf("webkit-")||0==t.indexOf("moz-"))&&(t="-"+t),t},removeHyphen:function(t){return(t&&0==t.indexOf("-ms-")||0==t.indexOf("-webkit-"))&&(t=t.substr(1)),t.replace(/-[a-z]/g,function(t){return ji.lowerToUpper(t.substring(1,2))})}},Qi={colorTable:{transparent:[0,0,0,0],aqua:[0,255,255,1],black:[0,0,0,1],blue:[0,0,255,1],fuchsia:[255,0,255,1],gray:[128,128,128,1],green:[0,128,0,1],lime:[0,255,0,1],maroon:[128,0,0,1],navy:[0,0,128,1],olive:[128,128,0,1],purple:[128,0,128,1],red:[255,0,0,1],silver:[192,192,192,1],teal:[0,128,128,1],white:[255,255,255,1],yellow:[255,255,0,1]},color2rgba:function(t,e){if(!t)return!1;var i=Qi.color2RgbaArr(t);return 0!=e&&h(e)&&(e=1),i?"rgba("+i[0]+","+i[1]+","+i[2]+","+e+")":null},color2hex:function(t){return!!t&&((t=Qi.color2RgbaArr(t))?Qi.rgbaArr2hex(t):null)},_pad2:function(t){return 1==t.length?"0"+t:""+t},_clamp_css_byte:function(t){return t=Math.round(t),0>t?0:255<t?255:t},_clamp_css_float:function(t){return 0>t?0:1<t?1:t},_parse_css_int:function(t){return"%"===t[t.length-1]?Qi._clamp_css_byte(parseFloat(t)/100*255):Qi._clamp_css_byte(parseInt(t))},_parse_css_float:function(t){return"%"===t[t.length-1]?Qi._clamp_css_float(parseFloat(t)/100):Qi._clamp_css_float(parseFloat(t))},_css_hue_to_rgb:function(t,e,i){return 0>i?i+=1:1<i&&--i,1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t},color2RgbaArr:function(t){if(!t)return null;var e=ji.trim(t).toLowerCase();if(Qi.colorTable[e])return Qi.colorTable[e];if(0===e.indexOf("0x")&&(e=e.replace(/0x/,"#")),"#"===e.charAt(0))return 4===e.length?(t=parseInt(e.substr(1),16),0<=t&&4095>=t?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null):7===e.length?(t=parseInt(e.substr(1),16),0<=t&&16777215>=t?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null):null;var i=e.indexOf("("),s=e.indexOf(")");if(-1!==i&&s+1===e.length)switch(e=t.substr(0,i),i=t.substr(i+1,s-(i+1)).split(","),t=1,e){case"rgba":if(4!==i.length)break;t=Qi._parse_css_float(i.pop());case"rgb":if(3!==i.length)break;return[Qi._parse_css_int(i[0]),Qi._parse_css_int(i[1]),Qi._parse_css_int(i[2]),t];case"hsla":if(4!==i.length)break;t=Qi._parse_css_float(i.pop());case"hsl":if(3!==i.length)break;return e=(parseFloat(i[0])%360+360)%360/360,s=Qi._parse_css_float(i[1]),i=Qi._parse_css_float(i[2]),s=.5>=i?i*(s+1):i+s-i*s,i=2*i-s,[Qi._clamp_css_byte(255*Qi._css_hue_to_rgb(i,s,e+1/3)),Qi._clamp_css_byte(255*Qi._css_hue_to_rgb(i,s,e)),Qi._clamp_css_byte(255*Qi._css_hue_to_rgb(i,s,e-1/3)),t]}return null},rgbaArr2hex:function(t){return"#"+Qi._pad2(Number(t[0]).toString(16))+Qi._pad2(Number(t[1]).toString(16))+Qi._pad2(Number(t[2]).toString(16))},color2no:function(t){return!!t&&((t=Qi.color2RgbaArr(t))?t[2]|t[1]<<8|t[0]<<16:0)},no2hex:function(t){return"number"==typeof t&&(t="00000"+(0|t).toString(16),t=t.substr(t.length-6).toUpperCase()),t},hex2rgb:function(t){return t.replace(/0x/,"#")},rgb2hex:function(t){return t.replace(/#/,"0x")},rgbToHex:function(t){return Qi.rgbaArr2hex(Qi.color2RgbaArr(t))},rgbPoint:function(t,e,i){var s=t>>16&255,a=t>>8&255;t&=255;var r=e>>16&255,n=e>>8&255;return e&=255,(s<r?s+(r-s)*i:s-(s-r)*i)<<16|(a<n?a+(n-a)*i:a-(a-n)*i)<<8|(t<e?t+(e-t)*i:t-(t-e)*i)},rgbInterpolate:function(t,e,i){var s,a,r,n=[],o=t>>16&255,h=t>>8&255;t&=255;var l=e>>16&255,d=e>>8&255,c=255&e,u=function(t,e,s,a){return t<e?s/i*(e-t)+t:(t-e)*(1-s/i)+e};for(e=0;e<=i;e+=1)s=u(o,l,e),a=u(h,d,e),r=u(t,c,e),n.push("#"+Qi.no2hex((s<<8|a)<<8|r));return n},rgbMiddle:function(t,e){var i=t>>16&255,s=t>>8&255,a=255&t,r=e>>16&255,n=e>>8&255,o=255&e;return(i<r?i+(r-i)/2:i-(i-r)/2)<<16|(s<n?s+(n-s)/2:s-(s-n)/2)<<8|(a<o?a+(o-a)/2:a-(a-o)/2)},adjustBrightness:function(t,e){var i,s;return r(t)?(i=t.color||"#000000",s=h(t.alpha)?1:t.alpha):(i=t,s=1),void 0==e&&(e=0),i=i.replace(/#/,"0x"),i=Number(i),"rgba("+Math.max(Math.min((i>>16&255)+e,255),0)+", "+Math.max(Math.min((i>>8&255)+e,255),0)+", "+Math.max(Math.min((255&i)+e,255),0)+", "+s+")"},adjustBrightness2:function(t,e){var i,s;if(r(t)?(i=t.color||"#000000",s=h(t.alpha)?1:t.alpha):(i=t,s=1),void 0==e&&(e=0),0==t.alpha)return"rgb(255,255,255)";i=i.replace(/#/,"0x"),i=parseInt(i);var a=Math.max(Math.min(i>>16&255,255),0),n=Math.max(Math.min(i>>8&255,255),0),o=Math.max(Math.min(255&i,255),0);return 0==e?"rgba("+a+", "+n+", "+o+", "+s+")":(0>e?(e=(100+e)/100,a=(i>>16&255)*e,n=(i>>8&255)*e,o=(255&i)*e):(e/=100,a=i>>16&255,n=i>>8&255,o=255&i,a=Math.min(a+(255-a)*e,255),n=Math.min(n+(255-n)*e,255),o=Math.min(o+(255-o)*e,255)),"rgba("+parseInt(a)+", "+parseInt(n)+", "+parseInt(o)+", "+s+")")},rgb2hsv:function(t){var e=Qi.color2RgbaArr(t);t=e[0]/255;var i=e[1]/255,s=e[2]/255,e=Math.max(t,i,s),a=e-Math.min(t,i,s);return t=60*(0==a?0:t==e?(6+(i-s)/a)%6:i==e?2+(s-t)/a:s==e?4+(t-i)/a:0),0>t&&(t+=360),{h:t,s:100*(0!=e?a/e:0),v:100*e}},hsv2rgb:function(t){var e,i,s,a,r,n,o;o=t.s/100;var h=t.v/100;switch(r=t.h/60,t=Math.floor(r),a=r-t,r=h*(1-o),n=h*(1-a*o),o=h*(1-(1-a)*o),t%6){case 0:e=h,i=o,s=r;break;case 1:e=n,i=h,s=r;break;case 2:e=r,i=h,s=o;break;case 3:e=r,i=n,s=h;break;case 4:e=o,i=r,s=h;break;case 5:e=h,i=r,s=n}return Qi.rgbaArr2hex([Math.round(255*e),Math.round(255*i),Math.round(255*s)])}},Ki={productCSSSheetIndex:-2,sizeInvalidatingStyles:{border:1,borderStyle:1,borderWidth:1,borderTopStyle:1,borderTopWidth:1,borderBottomStyle:1,borderBottomWidth:1,borderLeftStyle:1,borderLeftWidth:1,borderRightStyle:1,borderRightWidth:1,fontFamily:1,fontSize:1,fontStyle:1,fontVariant:1,fontWeight:1,headerHeight:1,horizontalAlign:1,horizontalGap:1,lineHeight:1,letterSpacing:1,padding:1,paddingBottom:1,paddingLeft:1,paddingRight:1,paddingTop:1,strokeWidth:1,tabHeight:1,tabWidth:1,verticalAlign:1,verticalGap:1},mustHavePxStyles:{padding:1,paddingLeft:1,paddingRight:1,paddingTop:1,paddingBottom:1,borderWidth:1,borderLeftWidth:1,borderRightWidth:1,borderTopWidth:1,borderBottomWidth:1,borderRadius:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderTopLeftRadius:1,borderTopRightRadius:1,margin:1,marginLeft:1,marginRight:1,marginTop:1,marginBottom:1,fontSize:1,letterSpancing:1,lineHeight:1,outlineWidth:1,textIndent:1},cssStyleList:{cornerRadius:"borderRadius",borderThickness:"borderWidth"},changedPropList:{width:"gaugeWidth",height:"gaugeHeight",linearColumnWidth:"cylinderColumnWidth"}},qi={extend:function(t,e,i){t||(t={});for(var s in e)void 0!=t[s]&&i||(t[s]=e[s]);return t},clone:function(t,e){if(t){var i,s=new t.constructor;for(i in t)s[i]=e&&"object"==typeof t[i]?qi.clone(t[i],e):t[i];return s}},setCssOfObject:function(t,e){var i,s;t instanceof m&&(t=t.element);for(i in e)(s=n(e[i])?qi.setPxStyle:qi.setStyle)(t,i,e[i])},getCssofObject:function(t,e){var i,s=0,a={};for(t instanceof m&&(t=t.element);s<e.length;)i=qi.getStyle(t,e[s]),/%|px|pt/.test(i)&&(i=parseFloat(i.replace(/%|px|pt/,""))),a[e[s]]=i,s++;return a},css:function(t,e){$i.ie&&e&&!l(e.opacity)&&(e.filter="alpha(opacity="+100*e.opacity+")"),qi.extend(t.style,e)},getHasClass:function(t,e,i){var s=[];for(t=new RegExp(t),i=(i||document).getElementsByTagName(e||"*"),e=0;e<i.length;e++)t.test(i[e].className)&&s.push(i[e]);return s},createElement:function(t,e,i){var s=document.createElement(t);return s.className=e,"div"===t&&(s.style[$i.boxSizing]=i||($i.useBorderBox?"border-box":"content-box")),s},getAttr:function(t,e){var i=t.getAttribute(e);return""===i?this.hasAttr(e)?i:void 0:i},setAttr:function(t,e,i){qi.setAttr=$i.supportSetAttribute?function(t,e,i){t.setAttribute(e,i)}:function(t,e,i){var s=t.getAttributeNode(e);s||t.setAttributeNode(s=t.ownerDocument.createAttribute(e)),s.value=i+""},qi.setAttr(t,e,i)},removeAttr:function(t,e){t.removeAttribute(e)},hasAttr:function(t,e){if(t.hasAttribute)return t.hasAttribute(e);if(t.getAttributeNode){var i=t.getAttributeNode(e);return!!i&&i.specified}},addClass:function(t,e){t instanceof m&&(t=t.element);var i=t.className||"";qi.hasClass(t,e)||(t.className=i+" "+e)},hasClass:function(t,e){return t instanceof m&&(t=t.element),new RegExp("(\\s|^)"+e+"(\\s|$)").test(t.className)},removeClass:function(t,e){t instanceof m&&(t=t.element),qi.hasClass(t,e)&&(t.className=t.className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)")," "))},getDisplay:function(t){return"none"!=qi.getStyleInline(t,"display")},setDisplay:function(t,e,i){return e?void qi.setStyle(t,"display",i?i:""):(e=qi.getStyleInline(t,"display"),qi.setStyle(t,"display","none"),e)},getVisibility:function(t){return"hidden"!=qi.getStyleInline(t,"visibility")},setVisibility:function(t,e){qi.setStyle(t,"visibility",e?"":"hidden")},setWordWrap:function(t,e){qi.setStyle(t,"wordWrap",e?"break-word":"normal"),qi.setStyle(t,"whiteSpace",e?"normal":"nowrap")},getStyleInline:function(t,e){return t instanceof m&&(t=t.element),Ki.cssStyleList[e]&&(e=Ki.cssStyleList[e]),t.style[e]},getStyle:function(t,e){return qi.getStyle=document.defaultView&&document.defaultView.getComputedStyle?function(t,e){t instanceof m&&(t=t.element),Ki.cssStyleList[e]&&(e=Ki.cssStyleList[e]);var i;return t.style[e]?i=t.style[e]:(i=(i=window.getComputedStyle(t))&&i[e],""==i&&(i=null==i||""===i?void 0:i)),i}:function(t,e){t instanceof m&&(t=t.element),Ki.cssStyleList[e]&&(e=Ki.cssStyleList[e]);var i;return t.style[e]?i=t.style[e]:t.currentStyle&&(i=t.currentStyle[e]),i},qi.getStyle(t,e)},getStyle2:function(t,e){return this.getStyle2=document.defaultView&&document.defaultView.getComputedStyle?function(t,e){var i,s;return t.style[e]?i=t.style[e]:(i=(s=window.getComputedStyle(t))&&s[e],""==i&&(i=s&&s[e],i=null==i||""===i?void 0:i)),i}:function(t,e){var i;return t.style[e]?i=t.style[e]:t.currentStyle&&(i=t.currentStyle[e]),i},this.getStyle2(t,e).replace(/px/,"")},getSizeStyle:function(t,e){t instanceof m&&(t=t.element);var i=parseFloat(qi.getStyle(t,e));return isNaN(i)?0:i},convertBorderSize:function(t,e){return"none"==t||"hidden"==t?0:"thin"==e?1:"medium"==e?3:"thick"==e?5:(e=Math.round(parseFloat(e)),isNaN(e)?0:e)},convertStyleSize:function(t){return t=parseFloat(t),isNaN(t)?0:t},getSizeStyleBorder:function(t,e){t instanceof m&&(t=t.element);var i=qi.getStyle(t,e),s=e.replace("Width","Style"),s=qi.getStyle(t,s);return qi.convertBorderSize(s,i)},getAlpha:function(t){return qi.getAlpha=document.defaultView&&document.defaultView.getComputedStyle?function(t){return parseFloat(qi.getStyle(t,"opacity"))}:function(t){t=qi.getStyle(t,"filter");var e=t.indexOf("opacity");return 0<=e?(t=t.substring(e).match(/\d+/g))?parseFloat(t[0])/100:void 0:1},qi.getAlpha(t)},setStyle:function(t,e,i){t instanceof m&&(t=t.element),Ki.cssStyleList[e]&&(e=Ki.cssStyleList[e]);try{t.style[e]!==i&&(t.style[e]=i)}catch(s){}},setPxStyle:function(t,e,i){t instanceof m&&(t=t.element),qi.setStyle(t,e,(isNaN(i)?parseFloat(i):i)+"px")},setPtStyle:function(t,e,i){qi.setStyle(t,e,i+"pt")},clearStyle:function(t,e){t.style[e]&&(t.style.removeProperty?t.style.removeProperty(qi.convertCamelCaseToDash(e)):t.style.removeAttribute(e))},setAlpha:function(t,e){return qi.setAlpha=document.defaultView&&document.defaultView.getComputedStyle?function(t,e){qi.setStyle(t,"opacity",e)}:function(t,e){qi.setStyle(t,"filter","alpha(opacity="+100*e+")")},qi.setAlpha(t,e)},getBorderMetrics:function(t){return qi.getBorderMetrics=document.defaultView&&document.defaultView.getComputedStyle?function(t){t instanceof m&&(t=t.element),t=window.getComputedStyle(t);var e=qi.convertBorderSize;return new Hi(e(t.borderLeftStyle,t.borderLeftWidth),e(t.borderTopStyle,t.borderTopWidth),e(t.borderRightStyle,t.borderRightWidth),e(t.borderBottomStyle,t.borderBottomWidth))}:function(t){t instanceof m&&(t=t.element),t=t.currentStyle;var e=qi.convertBorderSize;return new Hi(e(t.borderLeftStyle,t.borderLeftWidth),e(t.borderTopStyle,t.borderTopWidth),e(t.borderRightStyle,t.borderRightWidth),e(t.borderBottomStyle,t.borderBottomWidth))},qi.getBorderMetrics(t)},getPaddingMetrics:function(t){return qi.getPaddingMetrics=document.defaultView&&document.defaultView.getComputedStyle?function(t){t instanceof m&&(t=t.element),t=window.getComputedStyle(t);var e=qi.convertStyleSize;return new Hi(e(t.paddingLeft),e(t.paddingTop),e(t.paddingRight),e(t.paddingBottom))}:function(t){t instanceof m&&(t=t.element),t=t.currentStyle;var e=qi.convertStyleSize;return new Hi(e(t.paddingLeft),e(t.paddingTop),e(t.paddingRight),e(t.paddingBottom))},qi.getPaddingMetrics(t)},getBorderPaddingMetrics:function(t){return qi.getBorderPaddingMetrics=document.defaultView&&document.defaultView.getComputedStyle?function(t){t instanceof m&&(t=t.element),t=window.getComputedStyle(t);var e=qi.convertBorderSize,i=qi.convertStyleSize;return new Hi(i(t.paddingLeft)+e(t.borderLeftStyle,t.borderLeftWidth),i(t.paddingTop)+e(t.borderTopStyle,t.borderTopWidth),i(t.paddingRight)+e(t.borderRightStyle,t.borderRightWidth),i(t.paddingBottom)+e(t.borderBottomStyle,t.borderBottomWidth))}:function(t){t instanceof m&&(t=t.element),t=t.currentStyle;var e=qi.convertStyleSize,i=qi.convertBorderSize;return new Hi(e(t.paddingLeft)+i(t.borderLeftStyle,t.borderLeftWidth),e(t.paddingTop)+i(t.borderTopStyle,t.borderTopWidth),e(t.paddingRight)+i(t.borderRightStyle,t.borderRightWidth),e(t.paddingBottom)+i(t.borderBottomStyle,t.borderBottomWidth))},qi.getBorderPaddingMetrics(t)},pageXY:function(t){if(t instanceof m&&(t=t.element),t.getBoundingClientRect){t=t.getBoundingClientRect();var e=document.body,i=document.documentElement,s=t.top+(window.pageYOffset||i.scrollTop||e.scrollTop)-(i.clientTop||e.clientTop||0),e=t.left+(window.pageXOffset||i.scrollLeft||e.scrollLeft)-(i.clientLeft||e.clientLeft||0);return new Oi(Math.round(e),Math.round(s))}for(e=s=0;t;)s+=parseInt(t.offsetTop),e+=parseInt(t.offsetLeft),t=t.offsetParent;return new Oi(e,s)},getWidth:function(t){var e=qi.getStyle(t,"width");if(s(e)){if("auto"===e||0<=e.indexOf("%")||0===e.length)return t=t.clientWidth}else if(h(e))return 0;return parseFloat(e)},getHeight:function(t){var e=qi.getStyle(t,"height");if(s(e)){if("auto"===e||0<=e.indexOf("%")||0===e.length)return t=t.clientHeight}else if(h(e))return 0;return parseFloat(e)},getOffsetWidth:function(t){return t.offsetWidth},getOffsetHeight:function(t){return t.offsetHeight},getClientWidth:function(t){return t.clientWidth},getClientHeight:function(t){return t.clientHeight},getWindowSize:function(){var t="";return"number"==typeof window.innerWidth?t="w:window.innerWidth, h:window.innerHeight":document.documentElement&&document.documentElement.clientWidth?t="w:document.documentElement.clientWidth, h:document.documentElement.clientHeight":document.body&&document.body.clientWidth?t="w:document.body.clientWidth, h:document.body.clientHeight":document.width&&(t="w:document.width, h:document.height"),t="number"==typeof document.scrollTop?t+",t:document.scrollTop, l:document.scrollLeft":"number"==typeof window.pageYOffset?t+",t:window.pageYOffset, l:window.pageXOffset":"number"==typeof document.documentElement.scrollTop?t+",t:document.documentElement.scrollTop, l:document.documentElement.scrollLeft":"number"==typeof document.body.scrollTop?t+",t:document.body.scrollTop, l:document.body.scrollLeft":t+",t=0, l=0",Function("return{"+t+"}")()},getRootSize:function(t,e,i){var s,a,r,n=0,o=[],h={width:["Left","Right"],height:["Top","Bottom"]},l=qi.getStyle,d=qi.getSizeStyle,c=function(t){var e=0,i=qi.getPaddingValue(t,["padding"+a,"padding"+r]);return"none"!=l(t,"borderStyle")&&(e=d(t,"border"+a+"Width")+d(t,"border"+r+"Width")),i+e};if(s=l(t,e),a=h[e][0],r=h[e][1],n+=c(t),o.push(i),"none"==l(t,"display")){if(/%/.test(s))for(o.push(s);t.parentNode;){if(s=l(t,e),l(t,$i.boxSizing),n+=c(t),"auto"==s&&(s=o[o.length-1]),!/%/.test(s)){s||(s=t["offset"+ji.lowerToUpper(e)]),s=parseInt(s);break}o.push(s),t=t.parentNode}else s=parseInt(s);for(/%/.test(i)&&"#document"==t.nodeName&&(s=t.body["client"+ji.lowerToUpper(e)]),t=o.length-1;-1<t;--t)s=qi.percent2px(s,o[t])}else s=qi.percent2px(t["offset"+ji.lowerToUpper(e)],i);return Math.round(s-n)},transPx:function(t,e){var i;return i=qi.test,i("pt",e)?e=16+(Number(e.replace(/[a-z,A-Z,%]/g,""))-12):i("em",e)?e=16*Number(e.replace(/[a-z,A-Z,%]/g,"")):i("%",e)?(i=e,e=t.parentNode.offsetWidth,e-=qi.getPaddingValue(t.parentNode,["paddingLeft","paddingRight"]),e=qi.percent2px(e,i)):e=parseInt(e),Math.round(e)},getPaddingValue:function(t,e){var i,s,a,r=0;for(i=0,s=e.length;i<s;i+=1)a=qi.getStyle(t,e[i]),qi.test("px",a)?a=parseInt(a):"none"!=qi.getStyle(t,"display")&&(a=qi.transPx(t,a)),r+=parseInt(a);return r},isBold:function(t){return isNaN(t)?"bold"==t:700<=t},getFontFamily:function(t){if(t){var e;for(e=t&&0<t.indexOf(",")?t.split(","):[t],t=0;t<e.length;t++)e[t]=ji.trim(e[t]),0<=e[t].indexOf("'")&&(e[t]=e[t].replace(/\'/g,"")),0<=e[t].indexOf('"')&&(e[t]=e[t].replace(/\"/g,""));return e}return null},findCSSSheet:function(t){var e=new RegExp("(^|\\s)\\."+t+"(\\s|$)","i");if(document.styleSheets)for(t=0;t<document.styleSheets.length;t++){var i,s=document.styleSheets[t],a=0;do{try{if((i=s.rules?s.rules[a]:s.cssRules?s.cssRules[a]:null)&&i.selectorText&&e.test(i.selectorText))return i}catch(r){}a++}while(i)}return null},findCSSSheetIndex:function(t){var e=new RegExp("(^|\\s)\\."+t+"(\\s|$)","i");if(document.styleSheets)for(t=0;t<document.styleSheets.length;t++){var i,s=document.styleSheets[t],a=0;do{try{if((i=s.rules?s.rules[a]:s.cssRules?s.cssRules[a]:null)&&i.selectorText&&e.test(i.selectorText))return t}catch(r){}a++}while(i)}return-1},createCSSSheet:function(t){var e=document.createElement("style");return document.getElementsByTagName("head")[0].appendChild(e),e=e.sheet?e.sheet:e.styleSheet,e.addRule?e.addRule("."+t,null,0):e.insertRule("."+t+" { }",0),qi.findCSSSheetIndex(t)},findCSSRule:function(t,e){var i,s=0,a=new RegExp("(^|\\s)\\."+e+"(\\s|$)","i");do{if((i=t.rules?t.rules[s]:t.cssRules?t.cssRules[s]:null)&&i.selectorText&&a.test(i.selectorText))return i;s++}while(i);return null},getCSSRule:function(t,e){if(document.styleSheets){if(0<=t)return qi.findCSSRule(document.styleSheets[t],e);for(var i,s=0;s<document.styleSheets.length;s++)if(i=qi.findCSSRule(document.styleSheets[s],e))return i}return null},addCSSRule:function(t,e){if(document.styleSheets){var i=document.styleSheets[t];i&&d(qi.findCSSRule(i,e))&&(i.addRule?i.addRule("."+e,null,0):i.insertRule("."+e+" { }",0))}return qi.getCSSRule(t,e)},removeCSSRule:function(t,e){var i,s,a=0;if(document.styleSheets){i=document.styleSheets[t];do{if((s=i.rules?i.rules[a]:i.cssRules[a])&&s.selectorText&&s.selectorText==e){i.cssRules?i.deleteRule(a):i.removeRule(a);break}a++}while(s)}},indexOfChild:function(t){try{for(var e=0;t=t.previousSibling;)e++;return e}catch(i){}return-1},getChildAt:function(t,e){try{if(t.children)return t.children[e];if(t.childNodes)return t.childNodes[e]}catch(i){}return null},isParentOf:function(t,e){try{if(document.compareDocumentPosition)return!!(16&t.compareDocumentPosition(e));if(document.body.contains)return t!==e&&(!t.contains||t.contains(e));for(var i=t;i&&i.parentNode;)if(i=i.parentNode,i==e)return!0}catch(s){}return!1},serialization:function(t,e){var i,s=[],a=t;if(e.constructor==Array)for(i=0;i<e.length;i++)s.push(e[i].name+"="+encodeURIComponent(e[i].value));else for(i in e)s.push(i+"="+encodeURIComponent(e[i]));return a=-1<t.indexOf("?")?a+"&":a+"?",a+s.join("&")},percent2px:function(t,e){return/%/.test(e)&&(e=qi.percent2num(e)),Math.floor(.01*e*t)},percent2num:function(t){return/%|px/.test(t)&&(t=t.replace(/%|px/,"")),parseFloat(t)},test:function(t,e){return new RegExp(t).test(e)},convertCamelCaseToDash:function(t){return d(t)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},convertDashToCamelCase:function(t){return d(t)?t:t.replace(/(\-[a-z])/g,function(t){return t.toUpperCase().replace("-","")})},setBackgroundAlpha:function(t,e){if($i.ie8L)qi.setStyle(t,"filter","progid:DXImageTransform.Microsoft.Alpha(Opacity="+100*e+")");else{var i=qi.getStyle(t,"backgroundColor");i&&qi.setStyle(t,"backgroundColor",Qi.color2rgba(i,e))}},drawBackgroundColor:function(t,e,i){/rgb/.test(e)&&(e=Qi.rgbaArr2hex(Qi.color2RgbaArr(e)));var s,a,r=qi.test("linear-gradient",e),n=qi.setStyle;l(e)&&(e="#FFFFFF"),t instanceof m&&(t=t.element),$i.ie8L||$i.ie9?(n(t,"background",""),r&&(a=i,r=e,e=r.substring(r.indexOf("#")+1,r.indexOf(",")),s=r.substring(r.lastIndexOf("#"),r.indexOf(")"))),n(t,"filter",qi.drawFilterGradient(e,i,s,a))):r?($i.safari&&(e="-webkit-"+e),n(t,"background",e)):n(t,"background",Qi.color2rgba(e,Number(i)))},drawFilterGradient:function(t,e,i,s){var a,r=Qi.hex2rgb,n=function(t){return t=Number(Math.round(100*t*2.55)).toString(16),0==t&&(t="00"),t};return t=a=r(t.replace(/#|0x/g,"")),i&&(a=r(i.replace(/#|0x/g,""))),e=i=n(e),s&&(i=n(s)),"progid:DXImageTransform.Microsoft.gradient(startColorstr='#"+e+t+"', endColorstr='#"+i+a+"')"},popUp:function(t,e,i){function s(t,e,i){var s,a;for(s in e)t.style[s]=e[s];for(s in i)a=i[s],l(a)&&(a=e[s]),t.style[s]=a}var a,r;for(a=0,r=t.element.childNodes;a<r;a++)if(t.element.childNodes[a].className==="Kool__"+i)return;a=e.title,r=e.content;var n=e.button,o=e.backgroundAlpha,d=this.createElement,c=qi.setStyle,u=qi.getSizeStyle,p=qi.setPxStyle,f=qi.drawBackgroundColor,g=0,m=0;l(o)&&(o=1);var _=d("div","Kool__"+i);i=e.width;var y=e.height;c(_,"overflow","hidden"),c(_,"position","absolute"),c(_,"padding",e.padding||"2px 2px 2px 2px"),c(_,"border",(e.borderStyle||"none")+" "+e.borderWidth+"px "+e.borderColor),f(_,e.backgroundColor||"#ffffff",o);var m=e.height,v=d("div","Button"),c={fontWeight:"normal",fontSize:"12px",fontFamily:"Arial",color:"#000000",textAlign:"center",padding:"2px 0px 0px 0px",
cursor:"pointer"};if(s(v,c,n),p(v,"width",n.width||140),p(v,"height",n.height||18),f(v,n.backgroundColor||"#ffffff",o),v.innerHTML=n.text||"",g=0,m=m-u(v,"height")-g,h(e.width)&&(i=Math.max(140,u(v,"width"))),h(e.height)&&(y=u(v,"height")+g),Zi.addEvent(v,"mouseover",function(){f(v,n.mouseOverColor||"#eeeeee",1)}),Zi.addEvent(v,"mouseout",function(){f(v,n.backgroundColor||"#ffffff",1)}),Zi.addEvent(v,"click",function(){_.parentNode.removeChild(_)}),a){o=a.backgroundAlpha,l(o)&&(o=1);var x=d("div","Title"),c={fontWeight:"bold",fontSize:"12px",fontFamily:"Arial",color:"#000000",textAlign:"center",padding:"2px 0px 0px 0px"};s(x,c,a),p(x,"width",a.width||140),p(x,"height",a.height||18),f(x,a.backgroundColor||"#ffffff",o),x.innerHTML=a.text||"",g=u(x,"paddingTop")+u(x,"paddingBottom"),m=m-u(x,"height")-g,h(e.width)&&(i=Math.max(i,u(x,"width"))),h(e.height)&&(y+=u(x,"height")+g)}if(r){o=r.backgroundAlpha,l(o)&&(o=1);var b=d("div","Content"),c={overflowY:"auto",fontWeight:"normal",fontSize:"12px",fontFamily:"Arial",color:"#000000",textAlign:"left",padding:"2px 0px 0px 0px",overflowX:"hidden"};s(b,c,r),m-=6,(h(m)||0>m)&&(m=0),p(b,"width",r.width||140),p(b,"height",m||62),f(b,r.backgroundColor||"#ffffff",o),b.innerHTML=r.text||"",h(e.width)&&(i=Math.max(i,u(b,"width"))),h(e.height)&&(y+=u(b,"height")+u(b,"paddingTop")+u(b,"paddingBottom"))}p(_,"width",i),p(_,"height",y),p(_,"left",Math.round(e.x||.5*(t.getWidth()-i-u(_,"paddingLeft")-u(_,"paddingRight")))),p(_,"top",Math.round(e.y||.5*(t.getHeight()-y-u(_,"paddingTop")-u(_,"paddingBottom")))),x&&_.appendChild(x),b&&_.appendChild(b),v&&_.appendChild(v),t.element.appendChild(_)},getHtmlSize:function(t,e){var i=document.createElement("div");i.style.visibility="hidden",i.style.font=e,i.innerHTML=t,i.style.display="inline",document.body.appendChild(i);var s=i.offsetWidth,a=i.offsetHeight;return document.body.removeChild(i),{width:s,height:a}},getElementsByClassName:function(t){if($i.ie8L){for(var e,i=new RegExp("(?:^|\\s)"+t+"(?:$|\\s)"),s=document.getElementsByTagName("*"),a=[],r="",n=0;e=s[n+=1];)(r=e.className)&&-1!==r.indexOf(t)&&(r===t||i.test(r))&&(a[a.length]=e);t=a}else t=window.document.getElementsByClassName(t);return t},unit2px:function(t,e){var i=qi.getSizeStyle(t,"fontSize");return void 0==e?0:n(e)?qi.getSizeStyle(t,"fontSize")*e:-1<e.indexOf("normal")?qi.getSizeStyle(t,"fontSize"):-1<e.indexOf("px")?parseInt(e):-1<e.indexOf("pt")?.75*parseInt(e):-1<e.indexOf("em")||n(Number(e))?i*parseInt(e):-1<e.indexOf("%")?.01*i*parseInt(e):void 0},getFontStyle:function(t){var e=this.getStyle;return t instanceof m&&(t=t.element),{color:e(t,"color"),fontSize:e(t,"fontSize"),fontStyle:e(t,"fontStyle"),fontFamily:e(t,"fontFamily"),fontWeight:e(t,"fontWeight"),textDecoration:e(t,"textDecoration"),textAlign:e(t,"textAlign"),textIndent:e(t,"textIndent"),lineHeight:e(t,"lineHeight"),letterSpacing:e(t,"letterSpacing")}}},Zi={addEvent:function(t,e,i,s,a,r){s=s?s:window,a=!d(a)&&a;var n=d(r)?0:r;if(i){t instanceof m&&(t=t.element),t.events||(t.events={}),Zi.changeEventType[e]&&(e=Zi.changeEventType[e]());var o,h;r=-1;var l=t.events[e];if(l&&0!=l.length)for(o=l.length-1;0<=o;o--){if((h=l[o])&&h.listener===i&&h.context===s){if(h.priority==n)return;l.splice(o,1)}h.priority<n&&0>r&&(r=o)}else l=t.events[e]=[],document.addEventListener?t.addEventListener(e,Zi.handleEvent,a):t["on"+e]=Zi.handleEvent;s={listener:i,context:s,useCapture:a,priority:n},-1==r?l.unshift(s):l.splice(r+1,0,s),as.insert(t,e,i,s)}},addEvent2:function(t,e,i,s,a,r){s=s?s:window,a=!d(a)&&a;var n=d(r)?0:r;if(i){t instanceof m&&(t=t.element),t.events||(t.events={}),Zi.changeEventType[e]&&(e=Zi.changeEventType[e]());var o,h;r=-1;var l=t.events[e];if(l&&0!=l.length)for(o=l.length-1;0<=o;o--){if((h=l[o])&&h.listener===i&&h.context===s){if(h.priority==n)return;l.splice(o,1)}h.priority<n&&0>r&&(r=o)}else l=t.events[e]=[],document.addEventListener?t.addEventListener(e,Zi.handleEvent,a):t.attachEvent("on"+e,Zi.handleEvent);s={listener:i,context:s,useCapture:a,priority:n},-1==r?l.unshift(s):l.splice(r+1,0,s),as.insert(t,e,i,s)}},removeEvent:function(t,e,i,s,a){if(s=s?s:window,a=!d(a)&&a,t.events){Zi.changeEventType[e]&&(e=Zi.changeEventType[e]());var r,n,o=t.events[e];if(o){for(r=o.length-1;0<=r;r--)if((n=o[r])&&n.listener===i&&n.context===s){n.listener=null,n.context=null,o.splice(r,1);break}0==o.length&&(document.removeEventListener?t.removeEventListener(e,Zi.handleEvent,a):t["on"+e]=null)}}},removeEvent2:function(t,e,i,s,a){if(s=s?s:window,a=!d(a)&&a,t.events){Zi.changeEventType[e]&&(e=Zi.changeEventType[e]());var r,n,o=t.events[e];if(o){for(r=o.length-1;0<=r;r--)if((n=o[r])&&n.listener===i&&n.context===s){n.listener=null,n.context=null,o.splice(r,1);break}0==o.length&&(document.removeEventListener?t.removeEventListener(e,Zi.handleEvent,a):t.detachEvent(e,Zi.handleEvent))}}},handleEvent:function(t){var e=!0;t=t||Zi.fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event);var i;if(this.events)i=this.events[t.type];else{if(!t.srcElement||!t.srcElement.events)throw"not found element.events";t=Zi.fixEvent(t),i=t.target.events[t.type]}t.currentTarget||(t.currentTarget=this),t.stopImmediatePropagation&&t.stopImmediatePropagation!=Zi.fixEvent.stopImmediatePropagation&&(t.stopImmediatePropagationNative=t.stopImmediatePropagation,t.stopImmediatePropagation=Zi.fixEvent.stopImmediatePropagation),!t.wheelDelta&&t.detail&&(t.wheelDelta=-40*t.detail);for(var s=i.length-1;0<=s&&(!1===i[s].listener.call(i[s].context,t)&&(e=!1),!t._istoped);s--);return e},fixEvent:function(t){if(t.preventDefault||(t.preventDefault=Zi.fixEvent.preventDefault,t.defaultPrevented=!1),t.stopPropagation||(t.stopPropagation=Zi.fixEvent.stopPropagation),t.stopImmediatePropagation||(t.stopImmediatePropagation=Zi.fixEvent.stopImmediatePropagation),t.target||(t.target=t.srcElement||document),3===t.target.nodeType&&(t.target=t.target.parentNode),null==t.pageX&&null!=t.clientX){var e=t.target.ownerDocument||document,i=e.documentElement,e=e.body;t.pageX=t.clientX+(i&&i.scrollLeft||e&&e.scrollLeft||0)-(i&&i.clientLeft||e&&e.clientLeft||0),t.pageY=t.clientY+(i&&i.scrollTop||e&&e.scrollTop||0)-(i&&i.clientTop||e&&e.clientTop||0)}return t}};Zi.fixEvent.preventDefault=function(){this.returnValue=!1,this.defaultPrevented=!0},Zi.fixEvent.stopPropagation=function(){this._stoped=this.cancelBubble=!0},Zi.fixEvent.stopImmediatePropagation=function(){this.stopImmediatePropagationNative&&this.stopImmediatePropagationNative(),this._istoped=this.cancelBubble=!0},Zi.docuemntEvent={},Zi.documentAddEvent=function(t,e,i,s,a){i=i?i:window,s=!d(s)&&s;var r=d(a)?0:a;if(e){Zi.changeEventType[t]&&(t=Zi.changeEventType[t]());var n,o;a=-1;var h=Zi.docuemntEvent[t];if(h&&0!=h.length)for(n=h.length-1;0<=n;n--){if((o=h[n])&&o.listener===e&&o.context===i){if(o.priority==r)return;h.splice(n,1)}o.priority<r&&0>a&&(a=n)}else h=Zi.docuemntEvent[t]=[],document.addEventListener?document.addEventListener(t,Zi.documentHandleEvent,s):document.attachEvent("on"+t,Zi.documentHandleEvent);i={listener:e,context:i,useCapture:s,priority:r},-1==a?h.unshift(i):h.splice(a+1,0,i),as.insert(document,t,e,i)}},Zi.documentRemoveEvent=function(t,e,i,s){i=i?i:window,s=!d(s)&&s,Zi.changeEventType[t]&&(t=Zi.changeEventType[t]());var a,r,n=Zi.docuemntEvent[t];if(n){for(a=n.length-1;0<=a;a--)if((r=n[a])&&r.listener===e&&r.context===i){r.listener=null,r.context=null,n.splice(a,1);break}0==n.length&&(document.removeEventListener?document.removeEventListener(t,Zi.documentHandleEvent,s):document.detachEvent(t,Zi.documentHandleEvent))}},Zi.documentHandleEvent=function(t){var e=!0;t=t||Zi.fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event),t.currentTarget||(t=Zi.fixEvent(t),t.currentTarget=document),t.stopImmediatePropagation&&t.stopImmediatePropagation!=Zi.fixEvent.stopImmediatePropagation&&(t.stopImmediatePropagationNative=t.stopImmediatePropagation,t.stopImmediatePropagation=Zi.fixEvent.stopImmediatePropagation);var i,s=Zi.docuemntEvent[t.type];if(!s)return e;for(i=s.length-1;0<=i&&(!1===s[i].listener.call(s[i].context,t)&&(e=!1),!t._istoped);i--);return e},Zi.windowEvent={},Zi.windowAddEvent=function(t,e,i,s,a){i=i?i:window,s=!d(s)&&s;var r=d(a)?0:a;if(e){Zi.changeEventType[t]&&(t=Zi.changeEventType[t]());var n,o;a=-1;var h=Zi.windowEvent[t];if(h&&0!=h.length)for(n=h.length-1;0<=n;n--){if((o=h[n])&&o.listener===e&&o.context===i){if(o.priority==r)return;h.splice(n,1)}o.priority<r&&0>a&&(a=n)}else h=Zi.windowEvent[t]=[],document.addEventListener?window.addEventListener(t,Zi.windowHandleEvent,s):window.attachEvent("on"+t,Zi.windowHandleEvent);i={listener:e,context:i,useCapture:s,priority:r},-1==a?h.unshift(i):h.splice(a+1,0,i),as.insert(window,t,e,i)}},Zi.windowRemoveEvent=function(t,e,i,s){i=i?i:window,s=!d(s)&&s,Zi.changeEventType[t]&&(t=Zi.changeEventType[t]());var a,r,n=Zi.windowEvent[t];if(n){for(a=n.length-1;0<=a;a--)if((r=n[a])&&r.listener===e&&r.context===i){r.listener=null,r.context=null,n.splice(a,1);break}0==n.length&&(document.removeEventListener?window.removeEventListener(t,Zi.windowHandleEvent,s):window.detachEvent(t,Zi.windowHandleEvent))}},Zi.windowHandleEvent=function(t){var e=!0;t=t||Zi.fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event),t.currentTarget||(t=Zi.fixEvent(t),t.currentTarget=window),t.stopImmediatePropagation&&t.stopImmediatePropagation!=Zi.fixEvent.stopImmediatePropagation&&(t.stopImmediatePropagationNative=t.stopImmediatePropagation,t.stopImmediatePropagation=Zi.fixEvent.stopImmediatePropagation);var i,s=Zi.windowEvent[t.type];if(!s)return e;for(i=s.length-1;0<=i&&(!1===s[i].listener.call(s[i].context,t)&&(e=!1),!t._istoped);i--);return e},Zi.getButtonDown=function(t,e){return l(t.buttons)?l(t.which)&&!l(t.button)?"mousemove"==t.type||"mouseup"==t.type||"mousedown"==t.type?1&t.button:e?1:0:$i.chrome?0==t.which?0:1==t.which?1:2==t.which?4:3==t.which?2:0:e?1:0:$i.ie9&&"mousedown"!=t.type?e?1:0:1&t.buttons},Zi.getEventPageXY=function(t){return l(t.pageX2)?t.touches?new Oi(t.touches[0].pageX,t.touches[0].pageY):new Oi(t.pageX,t.pageY):new Oi(t.pageX2,t.pageY2)},Zi.isRightButtonDown=function(t){return!l(t.buttons)&&2==t.buttons||!((!l(t.which)||l(t.button)||2!=t.button)&&3!=t.which)},Zi.changeEventType={mousewheel:function(){return $i.firefox?"DOMMouseScroll":"mousewheel"}},Zi.htmlEventType={abort:!0,blur:!0,cellchange:!0,change:!0,click:!0,contextmenu:!0,copy:!0,cut:!0,dblclick:!0,drag:!0,dragend:!0,dragenter:!0,dragleave:!0,dragover:!0,dragstart:!0,drop:!0,error:!0,focus:!0,focusin:!0,focusout:!0,keydown:!0,keypress:!0,keyup:!0,load:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mousewheel:!0,mouseup:!0,paste:!0,readystatechange:!0,resize:!0,resizeend:!0,resizestart:!0,scroll:!0,selectstart:!0,submit:!0,unload:!0};var $i={};!function(){var t=this.document,e="",i="";try{e=navigator.userAgent,i=navigator.platform,i=i.toLowerCase()}catch(s){}var a=e.toLowerCase(),r=a.match(/(edge)[\s\/:]([\w\d\.]+)?/)||a.match(/(opera|ie|firefox|chrome|crios|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||a.match(/(rv)[\s\/:]([\w\d\.]+)?/)||[null,"unknown",0],n=("ie"==r[1]||"rv"==r[1])&&t.documentMode,e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e);$i={name:"version"==r[1]?r[3]:"rv"==r[1]?"ie":r[1],version:n||parseFloat("opera"==r[1]&&r[4]?r[4]:r[2]),Platform:{name:a.match(/ip(?:ad|od|hone)/)?"ios":(a.match(/(?:webos|android)/)||i.match(/mac|win|linux/)||["other"])[0]}},$i[$i.name]=!0,$i[$i.name+parseInt($i.version)]=!0,$i[$i.name+(8<parseInt($i.version)?"8H":"8L")]=!0,$i[$i.name+(7<parseInt($i.version)?"7H":"7L")]=!0,$i[$i.name+(6<parseInt($i.version)?"6H":"6L")]=!0,$i.Platform[$i.Platform.name]=!0,$i.isMobile=e,$i.appleWebKit=$i.isMobile?function(){var t=a.indexOf("applewebkit"),t=a.substring(t,a.length);return ji.trim(t.substring(12,t.indexOf("(")))}():"",$i.supportAttribute=function(){try{var e=t.createElement("div");return e.className="i","i"==e.getAttribute("class")}catch(i){return!1}}(),$i.supportSetAttribute=function(){try{var e=t.createElement("input");return e.setAttribute("type","hidden"),"hidden"==e.getAttribute("type")}catch(i){return!1}}(),$i.quirks=$i.ie&&"BackCompat"==t.compatMode,$i.boxSizing=$i.ie||$i.opera||$i.safari?"boxSizing":$i.firefox?"MozBoxSizing":"webkitBoxSizing",$i.useBorderBox=!($i.ie7L&&!$i.quirks),$i.overflow="hidden",$i.supportTouch=$i.isMobile&&"ontouchend"in t&&"ontouchstart"in t,$i.tabIndexStartNo=1030,$i.divMaxSize=$i.chrome?33554428:$i.firefox?17895700:$i.safari?1e8:$i.edge?1533916:1193046,$i.checkPrefix=function(){return t.body?l(t.body.style.MozAnimation)?l(t.body.style.webkitBorderRadius)?l(t.body.style.OBorderRadius)?l(t.body.style.KhtmlBorderRadius)?l(t.body.style.msTransform)?"":"-ms-":"-khtml-":"-o-":"-webkit-":"-moz-":null},$i.getCssPrefix=function(){return l($i.cssPrefix)?($i.cssPrefix=$i.checkPrefix(),$i.cssPrefix):$i.cssPrefix},$i.supportCanvas=function(){try{var e=t.createElement("canvas");return!(!e||!e.getContext)}catch(i){return!1}}(),$i.useExCanvas=!(!$i.ie||$i.supportCanvas),$i.checkRetinaRatio=function(){var e,i=1;if(!$i.useExCanvas)try{e=t.createElement("canvas").getContext("2d"),i=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,i=(window.devicePixelRatio||1)/i}catch(s){}return i},$i.scrollBarWidth=NaN,$i.scrollBarHeight=NaN,$i.getScrollBarSize=function(){if(t.body){var e=t.createElement("p");e.style.width="100px",e.style.height="100px";var i=t.createElement("div");i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.visibility="hidden",i.style.width="100px",i.style.height="100px",i.style.overflow="hidden",i.appendChild(e),t.body.appendChild(i);var s=e.offsetWidth,s=e.offsetWidth,a=e.offsetHeight,a=e.offsetHeight;i.style.overflow="scroll";var r=e.offsetWidth,r=e.offsetWidth,n=e.offsetHeight,n=e.offsetHeight;s==r&&(r=i.clientWidth),a==n&&(n=i.clientHeight),$i.scrollBarWidth=s-r,$i.scrollBarHeight=a-n,t.body.removeChild(i)}},$i.getScrollBarWidth=function(){return isNaN($i.scrollBarWidth)?($i.getScrollBarSize(),$i.scrollBarWidth):$i.scrollBarWidth},$i.getScrollBarHeight=function(){return isNaN($i.scrollBarHeight)?($i.getScrollBarSize(),$i.scrollBarHeight):$i.scrollBarHeight},$i.setClipboard=function(e,i,s){if(window.clipboardData&&window.clipboardData.setData)window.clipboardData.setData("Text",e);else{if(65536<e.length)return void alert(hs.getString("utils","overClipboardLimit"));try{var a,r,n,o,h;a=i?i.element:t.body,r=t.createElement("div"),h=t.createElement("textarea"),h.value=e,s?(qi.setPxStyle(r,"width",0),qi.setPxStyle(r,"height",0),a.appendChild(r),qi.setPxStyle(h,"width",1),qi.setPxStyle(h,"height",1),r.appendChild(h),h.focus(),h.select(),setTimeout(function(){a.removeChild(r)},100)):(n=t.createElement("span"),n.innerHTML=hs.getString("utils","clipboardCopy"),r.id="Kool__CopyPanel",qi.addClass(r,"Kool__CopyPanel"),a.appendChild(r),qi.setPxStyle(r,"left",i.getWidth()/2-qi.getWidth(r)/2),qi.setPxStyle(r,"top",i.getHeight()/2-qi.getHeight(r)/2),r.appendChild(n),o=t.createElement("img"),o.src=Fi+"close.png",Zi.addEvent(o,"click",function(){a.removeChild(r)}),r.appendChild(o),r.appendChild(h),r.onkeydown=function(t){13==t.keyCode||27==t.keyCode?a.removeChild(r):67==t.keyCode&&t.ctrlKey||(t.preventDefault(),t.stopPropagation())},h.focus(),h.select())}catch(l){window.prompt(hs.getString("utils","clipboardCopy"),e)}}return!0},$i.getClipboard=function(e,i){if(window.clipboardData&&window.clipboardData.getData){var s=window.clipboardData;if(!s.types)return s.getData("Text");if(/text\/html/.test(s.types))return s.getData("text/html");if(/text\/plain/.test(s.types))return s.getData("text/plain")}else if(i&&i.clipboardData&&i.clipboardData.types&&i.clipboardData.getData){if(s=i.clipboardData.types,s instanceof DOMStringList&&s.contains("text/plain")||s.indexOf&&-1!==s.indexOf("text/plain"))return i.clipboardData.getData("text/plain");if(s instanceof DOMStringList&&s.contains("text/html")||s.indexOf&&-1!==s.indexOf("text/html"))return i.clipboardData.getData("text/html")}else try{var a,r,n,o;a=e?e.element:t.body,r=t.createElement("div"),o=t.createElement("textarea"),o.onpaste=function(t){setTimeout(function(){var t=o.value;a.removeChild(r),e&&e.clipboardPaste&&e.clipboardPaste(t)},100)},i?(qi.setPxStyle(r,"width",0),qi.setPxStyle(r,"height",0),a.appendChild(r),qi.setPxStyle(o,"width",1),qi.setPxStyle(o,"height",1),r.appendChild(o)):(s=t.createElement("span"),s.innerHTML=hs.getString("utils","clipboardPaste"),r.id="Kool__PastePanel",qi.addClass(r,"Kool__PastePanel"),a.appendChild(r),qi.setPxStyle(r,"left",e.getWidth()/2-qi.getWidth(r)/2),qi.setPxStyle(r,"top",e.getHeight()/2-qi.getHeight(r)/2),r.appendChild(s),n=t.createElement("img"),n.src=Fi+"close.png",Zi.addEvent(n,"click",function(){a.removeChild(r)}),r.appendChild(n),r.appendChild(o),r.onkeydown=function(t){13==t.keyCode||27==t.keyCode?a.removeChild(r):86==t.keyCode&&t.ctrlKey||(t.preventDefault(),t.stopPropagation())}),o.focus()}catch(h){return window.prompt(hs.getString("utils","clipboardPaste"))}return null},$i.locale="en-US"}();var ts={globalCompositeOperation:function(t,e){t.globalCompositeOperation=e},drawPolyLine:function(t,e,i,s,a,r,n,o,l,d,c,u,p,f,g,m){if(i!=s&&e){var _,y,v,x,b,S,C,D,w=i,T=i>s,M=!1,I=ts.globalCompositeOperation;if(p&&(x=ts.changeLineStyle,b=function(t,e){return{x:t.x+(e.x-t.x)*(f-t.y)/(e.y-t.y),y:f}},S=function(){var t=arguments;return!t[0]&&t[1].y>f||t[0]&&t[1].y<f},D=function(e,i,s,a,r){"step"==o||"reverseStep"==o?a={x:a.x,y:f}:"segment"==o&&(a=b(i,a)),ts.drawLine(t,i,a,d,c),t.stroke(),C&&(I(t,"destination-over"),t.lineTo(C.x,f),t.fill(),C=r,I(t,"source-over")),t.closePath(),M?t.restore():x(t,g,m),t.beginPath(),t.moveTo(a.x,a.y),M=!M}),h(c)&&(c=5),y=T?-1:1,u){if(l){t.lineWidth=1;do if(!h(e[i][a])){t.moveTo(e[i][a],e[i][r]);break}while(i<s-1&&(i+=1))}else t.lineTo(e[i][a],e[i][r]);n&&(t.strokeStyle=Qi.color2rgba(n.color,n.alpha),t.lineWidth=n.weight),t.save()}else n&&(t.strokeStyle=Qi.color2rgba(n.color,n.alpha),t.lineWidth=n.weight),l?t.moveTo(e[i][a],e[i][r]):t.lineTo(e[i][a],e[i][r]);l={x:e[i][a],y:e[i][r]};var A={x:0,y:0},L={x:0,y:0};if(i+=y,p&&(l.y>f&&(x(t,g,m),M=!0),u&&(C=e[i-y])),"segment"==o){for(;i!=s;i+=y)A.x=e[i][a],A.y=e[i][r],p&&S(M,A)&&D(!1,l,0,A,e[i]),ts.drawLine(t,l,A,d,c),l.x=e[i][a],l.y=e[i][r];v=l}else if("step"==o){for(;i!=s;i+=y)A.x=e[i][a],A.y=e[i-y][r],L.x=e[i][a],L.y=e[i][r],ts.drawLine(t,l,A,d,c),p&&S(M,L)&&D(!1,A,0,L,e[i]),ts.drawLine(t,A,L,d,c),l.x=e[i][a],l.y=e[i][r];v=l}else if("reverseStep"==o){for(;i!=s;i+=y)A.x=e[i-y][a],A.y=e[i][r],L.x=e[i][a],L.y=e[i][r],p&&S(M,A)&&D(!1,l,0,A,e[i]),ts.drawLine(t,l,A,d,c),ts.drawLine(t,A,L,d,c),l.x=e[i][a],l.y=e[i][r];v=l}else if("curve"==o){for(i=w,D=s-y,w={x:0,y:0};i!=s&&e[i+y]&&e[i+y][a]==e[i][a]&&e[i+y][r]==e[i][r];)i+=y;if(i==s||i+y==s)return;if(2==Math.abs(s-i))return t.lineTo(e[i+y][a],e[i+y][r]),void t.stroke();var R=0,P=0;v=s=0;var L=i,E=0,R=0,N=e[L+y][a]-e[L][a],F=e[L+y][r]-e[L][r],E=_=0,k={x:0,y:0},O={x:0,y:0},H={x:0,y:0};_=Math.sqrt(N*N+F*F);for(var N=N/_,F=F/_,P=e[L+y][a]-e[L][a],V=e[L],z=function(t,e,i,s){p&&S(M,s)?(u||(C=null),C=ts.drawDeclineStroke(t,e,i,s,f,n,g,m,M,C),M=!M):ts.drawQuadCurve(t,e,i,s,d,c)},L=L+y;L!=D;L+=y)if(e[L+y][a]!=e[L][a]||e[L+y][r]!=e[L][r]){E=-N,R=-F,N=e[L+y][a]-e[L][a],F=e[L+y][r]-e[L][r],_=Math.sqrt(N*N+F*F),N/=_,F/=_,T?(_=E-N,E=R-F):(_=N-E,E=F-R);var W=Math.sqrt(_*_+E*E);_/=W,E/=W,0<=R*F&&(_=1,E=0),R=-_*P*.25,P=-E*P*.25,L==y+i?(l.x=e[L-y].x,l.y=e[L-y].y,w.x=e[L][a]+R,w.y=e[L][r]+P,A.x=e[L][a],A.y=e[L][r],z(t,l,w,A)):(k.x=V[a]+s,k.y=V[r]+v,O.x=e[L][a]+R,O.y=e[L][r]+P,H.x=(k.x+O.x)/2,H.y=(k.y+O.y)/2,l.x=V[a],l.y=V[r],A.x=e[L][a],A.y=e[L][r],z(t,l,k,H),z(t,H,O,A)),P=e[L+y][a]-e[L][a],s=_*P*.25,v=E*P*.25,V=e[L]}l.x=e[L-y].x,l.y=e[L-y].y,w.x=V[a]+s,w.y=V[r]+v,A.x=e[L][a],A.y=e[L][r],z(t,l,w,A),v=e[L]}t.stroke(),p&&u&&(I(t,"destination-over"),t.lineTo(v.x,f),t.lineTo(C.x,f),t.fill(),I(t,"source-over"),t.restore())}},drawLine:function(t,e,i,s,a){var r,n,o=0;if(h(a)&&(a=10),0!=t.lineWidth%2&&(o=.5),e.x=Math.floor(e.x),e.y=Math.floor(e.y),i.x=Math.floor(i.x),i.y=Math.floor(i.y),e.x+=o,e.y+=o,i.x+=o,i.y+=o,s){t.moveTo(e.x,e.y);var l;if(s=!1,l=ts.distanceOfTwoPoints(e,i),l<=a)t.lineTo(i.x,i.y);else{for(a=l=a/l;1>=a;a+=l)n=a,n=Math.max(Math.min(n,1),0),r=e.x+n*(i.x-e.x),n=e.y+n*(i.y-e.y),r=Math.floor(r)+o,n=Math.floor(n)+o,(s=!s)?t.lineTo(r,n):t.moveTo(r,n);s||i.x==r&&i.y==n||t.lineTo(i.x,i.y)}}else t.lineTo(i.x,i.y)},distanceOfTwoPoints:function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},changeLineStyle:function(t,e,i){var s=Qi.color2rgba(e.color,e.alpha);e=e.weight,t.save(),t.strokeStyle=s,t.lineWidth=e,i&&(t.fillStyle=i)},drawDeclineStroke:function(t,e,i,s,a,r,n,o,h,l){var d,c,u,p=h,f=ts.globalCompositeOperation,g=function(i){t.stroke(),l&&(f(t,"destination-over"),t.lineTo(l.x,a),t.fill(),f(t,"source-over")),t.closePath(),p?t.restore():ts.changeLineStyle(t,n,o),t.beginPath(),i?(t.moveTo(e.x,e.y),d=e):t.moveTo(u.x,u.y),p=!p};if(e.y==a)g(!0);else if(p&&s.y<a||!p&&s.y>=a){r=0,h=e,c=1/300,u={x:0,y:0};for(var m=c;1>=Math.round(m);m+=c)u=ts.getQuadraticValue(m,e,i,s),r+=ts.distanceOfTwoPoints(u,h),t.lineTo(u.x,u.y),h=u,(p&&u.y<a||!p&&u.y>a)&&(g(),d=u);return d}return ts.drawQuadCurve(t,e,i,s),d},drawQuadCurve:function(t,e,i,s,a,r,n){if(h(r)&&(r=10),h(n)&&(n=200),a){t.moveTo(e.x,e.y),a=1/n,n=0;var o;o=e;for(var l={x:0,y:0},d=a;1>=d;d+=a)l=ts.getQuadraticValue(d,e,i,s),n+=ts.distanceOfTwoPoints(l,o),o=Math.floor(n/r%2),0==o?t.lineTo(l.x,l.y):t.moveTo(l.x,l.y),o=l}else t.quadraticCurveTo(i.x,i.y,s.x,s.y)},getQuadraticValue:function(t,e,i,s){t=Math.max(Math.min(t,1),0);var a=1-t,r=t*t,n=a*a;return{x:n*e.x+2*a*t*i.x+r*s.x,y:n*e.y+2*a*t*i.y+r*s.y}},drawArc:function(t,e,i,s,a,r,n,o){isNaN(n)&&(n=r);var h,l,d,c;if(Math.abs(a)>2*Math.PI&&(a=2*Math.PI),d=Math.ceil(Math.abs(a)/(Math.PI/4)),a=-(a/d),h=-s,0<d){c=e+Math.cos(s)*r,s=i+Math.sin(-s)*n,o?t.lineTo(c,s):t.moveTo(c,s);for(var u=0;u<d;u++)h+=a,l=h-a/2,o=e+Math.cos(h)*r,s=i+Math.sin(h)*n,c=e+r/Math.cos(a/2)*Math.cos(l),l=i+n/Math.cos(a/2)*Math.sin(l),t.quadraticCurveTo(c,l,o,s)}},drawEllipse:function(t,e,i,s,a){var r=s/2*.5522848,n=a/2*.5522848,o=e+s,h=i+a;s=e+s/2,a=i+a/2,t.moveTo(e,a),t.bezierCurveTo(e,a-n,s-r,i,s,i),t.bezierCurveTo(s+r,i,o,a-n,o,a),t.bezierCurveTo(o,a+n,s+r,h,s,h),t.bezierCurveTo(s-r,h,e,a+n,e,a)},drawRoundRect:function(t,e,i,s,a,r){h(a)&&(a=0),h(r)&&(r=0),t.beginPath(),t.moveTo(e/2+a,0+r),t.lineTo(e-s+a,0+r),t.quadraticCurveTo(e+a,0+r,e+a,s+r),t.lineTo(e+a,i-s+r),t.quadraticCurveTo(e+a,i+r,e-s+a,i+r),t.lineTo(s+a,i+r),t.quadraticCurveTo(0+a,i+r,0+a,i-s+r),t.lineTo(0+a,s+r),t.quadraticCurveTo(0+a,0+r,s+a,0+r),t.lineTo(e/2+a,0+r),t.closePath()},createPattern:function(t,e){if(!e.readyState||"complete"==e.readyState)return t.createPattern(e,"repeat")},apply:function(t,e){e&&(t.strokeStyle=Qi.color2rgba(e.color,e.alpha),t.lineWidth=e.weight)},begin:function(t,e,i,s,a){var r;if(e.pattern)a=e.pattern,e.createRect&&e.apply(t,{color:"#000",alpha:1,weight:1});else if(s){if(s instanceof I)e=ts.calcAngle("linear",s.angle,i.left,i.top,i.width,i.height),a=t.createLinearGradient(e.x1,e.y1,e.x2,e.y2);else if(s instanceof A)a||(a=.5*Math.max(i.width,i.height)),e=ts.calcAngle("radial",s.angle,i.left,i.top,i.width,i.height,a,s.focalPointRatio),a=t.createRadialGradient(e.x1,e.y1,0,e.x2,e.y2,a);else if("object"==typeof s)a=Qi.color2rgba(s.color,s.alpha);else{if("string"!=typeof s)return;a=Qi.color2rgba(s,1)}if(s instanceof I||s instanceof A)for(e=s._entries,1>e.length&&(e=s.entries),s=0,i=e.length;s<i;s+=1)r=e[s],a.addColorStop(r.ratio,Qi.color2rgba(r.color,r.alpha))}else a="#000";t.fillStyle=a},calcAngle:function(t,e,i,s,a,r,n,o){var l,d,c,u,p;switch(h(o)||(1<o?o=1:0>o&&(o=0)),t){case"linear":0<=e&&45>e?(d=0,u=r/2*(45-e)/45,c=a,p=r-u):45<=e&&135>e?(d=a*(e-45)/90,u=0,c=a-d,p=r):135<=e&&225>e?(d=a,u=r*(e-135)/90,c=0,p=r-u):225<=e&&315>e?(d=a*(1-(e-225)/90),u=r,c=a-d,p=0):315<=e&&(d=0,u=r-r/2*(e-315)/45,c=a,p=r-u),l={x1:i+d,y1:s+u,x2:i+c,y2:s+p};break;case"radial":e=e*Math.PI/180,d=i+n+.5*a*o*Math.cos(e),u=s+n+.5*r*o*Math.sin(e),l={x1:d,y1:u,x2:d,y2:u}}return l},drawFromHTML:function(t,e,i){var s,a,r,n,o,h,l,d=1,c=i.x,u=i.y,p=i.width;i=i.height;var f=qi,g=f.getStyle,f=f.getSizeStyle,m=["Left","Right","Top","Bottom"];if(s=g(e,"backgroundColor"),d=$i.ie9?e.style.filter||e.currentStyle.filter:g(e,"backgroundImage"),t.save(),t.beginPath(),"rgba(0, 0, 0, 0)"!=s&&"transparent"!=s)-1<s.indexOf("rgba")?t.fillStyle=s:t.fillStyle=Qi.color2rgba(s,f(e,"opacity")),t.fillRect(c,u,p,i);else if(d&&-1<d.indexOf("gradient")){if(r=[],o=new I,-1<d.indexOf("progid")){o.angle=-1<d.indexOf("GradientType")?90:270,d=d.substring(d.indexOf("(")+1,d.lastIndexOf(")")).replace(/ |\"|\'/g,"").split(","),s=0;do l=d[s],a=new M,a.color=Qi.color2rgba("#"+l.substr(l.indexOf("#")+3,l.length-1),parseInt(l.charAt(15)+l.charAt(16),16)),a.ratio=(s+1)/d.length,r.push(a),s++;while(s<d.length)}else{o.angle=Number(d.substring(d.indexOf("(")+1,d.indexOf("deg"))),d=d.substring(d.indexOf("rgb"),d.lastIndexOf(")")).replace(/ /g,"");do l=d.substring(0,d.indexOf("%")+1),d=d.substring(l.length+1,d.length),a=new M,a.color=l.substring(0,l.indexOf(")")+1),a.ratio=.01*Number(l.substring(l.indexOf(")")+1,l.length-1)),r.push(a);while(0<d.length)}o.setEntries(r),ts.begin(t,{},new b(c,u,p,i),o),t.fillRect(c,u,p,i)}for(s=0,a=m.length;s<a;s+=1)r=m[s],n="Right"==r?p:0,l="Bottom"==r?i:0,o=g(e,"border"+r+"Style"),d=n||l?-1:1,"solid"==o&&(t.lineWidth=f(e,"border"+r+"Width"),t.strokeStyle=g(e,"border"+r+"Color"),0>=t.lineWidth||(o=.5*t.lineWidth*d,"Left"==r||"Right"==r?(h=Math.floor(c+n)+o,n=f(e,"borderTop"+r+"Radius"),t.moveTo(h,Math.floor(u+n)),n=f(e,"borderBottom"+r+"Radius"),t.lineTo(h,Math.floor(u+i-n))):(n=f(e,"border"+r+"LeftRadius")*d)?(h=Math.floor(u+l),t.moveTo(Math.floor(c)+o*d,Math.floor(u+l+n)+o),t.quadraticCurveTo(Math.floor(c)+o*d,h,Math.floor(c+n*d),h+o),n=f(e,"border"+r+"RightRadius")*d,h=Math.floor(c+p)-o*d,t.lineTo(Math.floor(c+p-n*d)-o*d,Math.floor(u+l)+o),t.quadraticCurveTo(h,Math.floor(u+l)+o,h,Math.floor(u+l+n)+o)):(t.moveTo(Math.floor(c),Math.floor(u+l)+o),t.lineTo(Math.floor(c+p),Math.floor(u+l)+o)),t.stroke()));t.closePath(),t.restore()}};D.prototype.startTimeout=function(t,e){var i=D.timer;i(function(){e.call(t)})},D.prototype.start=function(){var t;this._stopped?this._stopped=!1:(t=D.timer,this._timer=t(this._frameHandler))},D.prototype.stop=function(){var t=D.clearTimer;t(this._timer),this._stopped=!0},D.prototype.reset=function(){this.stop()};try{D._init=function(){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;if(t&&t(function(){}),t||e){if(t&&!e){var i,s=t;D.__animationCache={},t=function(t){return i=s(function(){D.__animationCache[i]&&t()}),D.__animationCache[i]=!0,i},e=function(t){D.__animationCache[t]=null}}}else t=function(t){return window.setTimeout(t,5)},e=window.clearTimeout;D.timer=t,D.clearTimer=e,D._init=t=e=null}()}catch(es){}var is=function(t){Vi.call(this),this.parsedFieldCount=0,this.parsingDate=!1,this._csvStr=null,this._fdNo=this._resultPnt=this._strPnt=0,this._intReg=/^[-]?\d+$/,this._floatReg=/^[-]?\d*\.\d+$/,this._fieldEnclosureSymbol='"',this._fieldSeperator=t?t:",",this._headerCnt=0,this._recordSeperator="\n",this._recordSeperator2="\r"};ki(is,Vi),is.prototype.getFieldEnclosureSymbol=function(){return this._fieldEnclosureSymbol},is.prototype.setFieldEnclosureSymbol=function(t){this._fieldEnclosureSymbol=t},is.prototype.getFieldSeperator=function(){return this._fieldSeperator},is.prototype.setFieldSeperator=function(t){this._fieldSeperator=t},is.prototype.getFieldNames=function(){return this._fieldNames},is.prototype.setFieldNames=function(t){this._fieldNames=t},is.prototype.getParsedArray=function(){return this._parsedArray},is.prototype.getParsedHeaders=function(){return this._parsedHeaders},is.prototype.getHeaderCnt=function(){return this._headerCnt},is.prototype.setHeaderCnt=function(t){this._headerCnt=t},is.prototype.getRecordSeperator=function(){return this._recordSeperator},is.prototype.setRecordSeperator=function(t){this._recordSeperator=t,this._recordSeperator2="\n"==this._recordSeperator?"\r":"\r"==this._recordSeperator?"\n":""},is.prototype.parse=function(t){var e,i,s,a=this.parseFunction?Gi.findFunction(this.parseFunction):null;if(this.parsedFieldCount=0,this._csvStr=t,this._parsedHeaders=[],this._parsedArray=[],this._resultPnt=this._strPnt=0,!this._csvStr)return null;for(t=this._csvStr.length;this._strPnt<t;){if(e=this._lineScan(),this._resultPnt<this._headerCnt){for(i=[],s=0;s<this._fdNo;s++)this._fieldNames?i.push(e[this._fieldNames[s]]):i.push(e["F"+s]);this._parsedHeaders.push(i)}else a&&(e=a(e,this._csvLine,this._resultPnt)),this._parsedArray.push(e);this._resultPnt++}return this._parsedArray},is.prototype.parseAsync=function(t){this.parsedFieldCount=0,this._csvStr=t,this._parsedHeaders=[],this._parsedArray=[],this._resultPnt=this._strPnt=0,this._csvStr?this.parseLinesAsync():(t=new cs(cs.COMPLETE,(!1),(!1)),this.dispatchEvent(t))},is.prototype.parseLinesAsync=function(){for(var t,e,i,s=this._csvStr.length,a=this.parseFunction?Gi.findFunction(this.parseFunction):null;this._strPnt<s;){if(i=this._lineScan(),this._resultPnt<this._headerCnt){for(e=[],t=0;t<this._fdNo;t++)this._fieldNames?e.push(i[this._fieldNames[t]]):e.push(i["F"+t]);this._parsedHeaders.push(e)}else a&&(i=a(i,this._csvLine,this._resultPnt)),this._parsedArray.push(i);if(this._resultPnt++,0==this._resultPnt%1e3)return s=new ProgressEvent(ProgressEvent.PROGRESS,(!1),(!1),this._strPnt,s),this.dispatchEvent(s),void setTimeout(this.parseLinesAsync,5)}s=new ProgressEvent(ProgressEvent.PROGRESS,(!1),(!1),this._strPnt,s),this.dispatchEvent(s),s=new cs("complete",(!1),(!1)),this.dispatchEvent(s)},is.prototype._lineScan=function(){var t,e,i,s=!1,a=this._csvStr.length,r={},n="",o=this._strPnt,h=this._strPnt;for(this._fdNo=0,t=this._strPnt;t<a;t++){if(e=this._csvStr.charAt(t),i=this._csvStr.charAt(t+1),s)e==this._fieldEnclosureSymbol&&i==this._fieldEnclosureSymbol&&(n+=this._csvStr.substring(o,h+1),h=o=t+1),e!=this._fieldEnclosureSymbol&&h++;else if(e!=this._fieldEnclosureSymbol)if(e==this._fieldSeperator)n+=this._csvStr.substring(o,h),this._fieldNames?this._fdNo<this._fieldNames.length&&(r[this._fieldNames[this._fdNo++]]=this._getValue(n)):r["F"+this._fdNo++]=this._getValue(n),n="",h=o=t+1,this.parsedFieldCount=Math.max(this.parsedFieldCount,this._fdNo);else{if(e==this._recordSeperator)return n+=this._csvStr.substring(o,h),this._fieldNames?this._fdNo<this._fieldNames.length&&(r[this._fieldNames[this._fdNo++]]=this._getValue(n)):r["F"+this._fdNo++]=this._getValue(n),this.parseFunction&&(this._csvLine=this._csvStr.substring(this._strPnt,t)),this._strPnt=t+1,this.parsedFieldCount=Math.max(this.parsedFieldCount,this._fdNo),r;e!=this._recordSeperator2&&h++}e==this._fieldEnclosureSymbol&&(s||(h=o=t+1),s=!s)}return n+=this._csvStr.substring(o,h),this._fieldNames?this._fdNo<this._fieldNames.length&&(r[this._fieldNames[this._fdNo++]]=this._getValue(n)):r["F"+this._fdNo++]=this._getValue(n),this.parseFunction&&(this._csvLine=this._csvStr.substring(this._strPnt,t)),this._strPnt=t,this.parsedFieldCount=Math.max(this.parsedFieldCount,this._fdNo),r},is.prototype._getValue=function(t){var e;if(this._intReg.test(t)&&0!=t.indexOf("0")&&(e=parseInt(t),!isNaN(e))||this._floatReg.test(t)&&(e=parseFloat(t),!isNaN(e)))return e;if(this.parsingDate&&(0<=t.indexOf("/")||0<=t.indexOf("-")||0<=t.indexOf(":")))try{if(e=ss.parse(t),!isNaN(e))return new Date(e)}catch(i){}return ji.trim(t)},is.prototype.fastParse=function(t){
var e,i,s,a=this.parseFunction?Gi.findFunction(this.parseFunction):null;if(this.parsedFieldCount=0,this._csvStr=t,this._parsedHeaders=[],this._parsedArray=[],this._resultPnt=this._strPnt=0,this._csvLines=this._csvStr.split(this._recordSeperator),this._fieldNames)for(t=0;t<this._csvLines.length;t++)if(i=this._csvLines[t].split(this._fieldSeperator),t<this._headerCnt)this._parsedHeaders.push(i);else{for(s={},this.parsedFieldCount=Math.max(this.parsedFieldCount,i.length),e=0;e<i.length;e++)e<this._fieldNames.length&&(s[this._fieldNames[e]]=i[e]);a&&(s=a(s,this._csvLines[t],t)),this._parsedArray.push(s)}else for(t=0;t<this._csvLines.length;t++)if(i=this._csvLines[t].split(this._fieldSeperator),t<this._headerCnt)this._parsedHeaders.push(i);else{for(s={},this.parsedFieldCount=Math.max(this.parsedFieldCount,i.length),e=0;e<i.length;e++)s["F"+e]=i[e];a&&(s=a(s,this._csvLines[t],t)),this._parsedArray.push(s)}return this._parsedArray},is.prototype.fastParseAsync=function(t){this.parsedFieldCount=0,this._csvStr=t,this._parsedHeaders=[],this._parsedArray=[],this._resultPnt=this._strPnt=0,this._csvStr?(this._csvLines=this._csvStr.split(this._recordSeperator),this._fastParseLinesAsync()):(t=new cs(cs.COMPLETE,(!1),(!1)),this.dispatchEvent(t))},is.prototype._fastParseLinesAsync=function(){var t,e,i,s,a=this._csvLines.length,r=this.parseFunction?Gi.findFunction(this.parseFunction):null;for(t=this._resultPnt;t<a;t++){if(i=this._csvLines[t].split(this._fieldSeperator),t<this._headerCnt)this._parsedHeaders.push(i);else{for(s={},this.parsedFieldCount=Math.max(this.parsedFieldCount,i.length),e=0;e<i.length;e++)this._fieldNames?e<this._fieldNames.length&&(s[this._fieldNames[e]]=i[e]):s["F"+e]=i[e];r&&(s=r(s,this._csvLines[t],t)),this._parsedArray.push(s)}if(this._resultPnt++,0==this._resultPnt%1e4)return a=new ProgressEvent(ProgressEvent.PROGRESS,(!1),(!1),this._resultPnt,a),this.dispatchEvent(a),void setTimeout(this._fastParseLinesAsync,5)}a=new ProgressEvent(ProgressEvent.PROGRESS,(!1),(!1),this._resultPnt,a),this.dispatchEvent(a),a=new cs("complete",(!1),(!1)),this.dispatchEvent(a)},is.encode=function(t,e){return t?0<=t.indexOf("\n")||0<=t.indexOf(e)?'"'+(0<=t.indexOf('"')?t.replace(/\"/g,'""'):t)+'"':0<=t.indexOf('"')?'"'+t.replace(/\"/g,'""')+'"':t:t};var ss={parseWithFormat:function(t,e){var i,s,a,r,n,o="",h="",l=i="",d="",c="",u=0;if(e&&t&&0<e.length&&e.length==t.length){for(n=e.length,r=0;r<n;r++,u++)if(a=""+t.charAt(u),s=""+e.charAt(r),"M"==s)isNaN(Number(a))||" "==a?u--:h+=a;else if("D"==s)isNaN(Number(a))||" "==a?u--:o+=a;else if("H"==s)isNaN(Number(a))||" "==a?u--:l+=a;else if("N"==s||"m"==s)isNaN(Number(a))||" "==a?u--:d+=a;else if("S"==s)isNaN(Number(a))||" "==a?u--:c+=a;else if("Y"==s)i+=a;else if(!isNaN(Number(a))&&" "!=a)return ss.parse(t);return a=""+t.charAt(e.length-r+u),""!=a&&" "!=a?NaN:(s=Number(h),o=Number(o),a=Number(i),l=Number(l),d=Number(d),c=Number(c),isNaN(a)||isNaN(s)||isNaN(o)?NaN:(2==i.length&&70>a&&(a+=2e3),i=new Date(a,s-1,o,isNaN(l)?0:l,isNaN(d)?0:d,isNaN(c)?0:c),o!=i.getDate()||s-1!=i.getMonth()?NaN:i.getTime()))}return ss.parse(t)},parse:function(t){var e,i=Date.parse(t);if(isNaN(i)||0xe677cb1a5fbf<i){var a=t.toString();if(s(t)&&8==t.length||n(t)&&8==a.length)try{(i=new Date(a.substr(0,4),Number(a.substr(4,2))-1,a.substr(6,2)))&&(i=i.getTime())}catch(r){i=NaN}else if(s(t)&&14==t.length||n(t)&&14==a.length)try{(i=new Date(a.substr(0,4),Number(a.substr(4,2))-1,a.substr(6,2),a.substr(8,2),a.substr(10,2),a.substr(12,2)))&&(i=i.getTime())}catch(r){i=NaN}else if(0<a.indexOf("-"))try{i=Date.parse(a.replace(/-/g,"/"))}catch(r){i=NaN}else if(0<a.indexOf("."))try{i=Date.parse(a.replace(/\./g,"/"))}catch(r){i=NaN}else if(0>a.indexOf("/")&&(s(t)&&6==t.length||n(t)&&6==a.length))try{e=parseInt(a.substr(0,2)),(i=new Date(70<e?1900+e:2e3+e,Number(a.substr(2,2))-1,a.substr(4,2)))&&(i=i.getTime())}catch(r){i=NaN}}else if(s(t)&&0<t.indexOf("-"))try{i=Date.parse(t.replace(/-/g,"/"))}catch(r){i=NaN}return i},toISOString:function(t){function e(t){return 10>t?"0"+t:t}return t?t.toISOString?t.toISOString():t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z":""}};w.prototype.clone=function(){return new w(this.color,this.weight,this.alpha)},M._propertyType={entries:Array},M.prototype.setEntries=function(t){this._entries=t},M.prototype.getEntries=function(t){return this._entries},I._propertyType={entries:Array},I.prototype.setEntries=function(t){this._entries=t},I.prototype.getEntries=function(){return this._entries},A._propertyType={entries:Array},A.prototype.setEntries=function(t){this._entries=t},A.prototype.getEntries=function(){return this._entries},L._instance=null,L.getInstance=function(){return L._instance||(L._instance=new L),L._instance};var as={elementNo:0,eventNo:0,zIndex:3450,uid:0,cache:{},stores:{},insert:function(t,e,i,s){var a;t==document?(a="document",as.cache[a]||(as.cache[a]={elem:t,events:[]})):t==window?(a="window",as.cache[a]||(as.cache[a]={elem:t,events:[]})):l(t.euid)?(a="Kool__"+as.uid++,t.euid=a,as.cache[a]={elem:t,events:[]}):a=t.euid,as.cache[a].events.push({type:e,listener:i,context:s.context,useCapture:s.useCapture,priority:s.priority})},clean:function(){var t,e,i,s,a=as.cache;for(t in a){for(s=a[t],e=s.events.length-1;-1<e;--e)i=s.events[e],s.elem==document?Zi.documentRemoveEvent(i.type,i.listener,i.context,i.useCapture,i.priority):s.elem==window?Zi.windowRemoveEvent(i.type,i.listener,i.context,i.useCapture,i.priority):Zi.removeEvent(s.elem,i.type,i.listener,i.context,i.useCapture,i.priority);s.elem=s.events=null}as.cache={},Zi.docuemntEvent={},Zi.windowEvent={},Ji.uidDictionary={}},remove:function(t,e){var i,s,a,r,n,o,h;if(t){if(t instanceof m&&(t=t.element),a=as.cache[t.euid],0<t.childNodes.length)for(i=t.childNodes.length-1;-1<i;)as.remove(t.childNodes[i]),i--;if(a){for(i=a.events.length-1;-1<i;)o=a.events[i],Zi.removeEvent(a.elem,o.type,o.listener,o.context,o.useCapture,o.priority),a.events[i]=null,i--;if(a.elem.selfElement&&a.elem.selfElement._eventList)for(n in h=a.elem.selfElement._eventList)for(s=h[n].length-1;-1<s;--s)o=h[n][s],a.elem.selfElement.removeEventListener(n,o.listener,o.context,o.useCapture);a.events=a.elem=n=null}as.cache[t.euid]=null;try{delete as.cache[t.euid],t.euid=void 0}catch(l){}for(i=t.childNodes.length-1;0<=i;--i){if(a=t.childNodes[i],a.euid&&a.events){for(r in a.events)for(o=a.events[r],s=o.length-1;-1<s;--s)Zi.removeEvent(a,r,o.listener,o.context,o.useCapture,o.priority);if(a.selfElement&&a.selfElement._eventList){h=a.selfElement._eventList;for(n in h)for(s=h[n].length-1;-1<s;--s)o=h[n][s],a.selfElement.removeEventListener(n,o.listener,o.context,o.useCapture);n=null}a.events=null,as.cache[a.euid]=null;try{delete as.cache[a.euid],a.euid=void 0}catch(l){}}t.removeChild(a)}"CANVAS"==t.tagName&&L.getInstance().freeElement(t),e&&t.parentNode&&t.parentNode.removeChild(t)}}},rs=function(){Vi.call(this),this.className="LayoutManager",this.name=this.className+this.uno,this._updateCompleteQueue=new ns,this._invalidatePropertiesQueue=new ns,this._invalidateSizeQueue=new ns,this._invalidateDisplayListQueue=new ns,this._callLaterPending=this._usePhasedInstantiation=this._invalidateDisplayListFlag=this._invalidateClientSizeFlag=this._invalidateSizeFlag=this._invalidateClientPropertiesFlag=this._invalidatePropertiesFlag=!1,this._targetLevel=Number.MAX_VALUE};ki(rs,Vi),rs.getInstance=function(){return rs._instance||(rs._instance=new rs),rs._instance},rs.prototype.getUsePhasedInstantiation=function(){return this._usePhasedInstantiation},rs.prototype.setUsePhasedInstantiation=function(t){this._usePhasedInstantiation!=t&&(this._usePhasedInstantiation=t)},rs.prototype.invalidateProperties=function(t){var e=this;e._invalidatePropertiesFlag||(e._invalidatePropertiesFlag=!0,e._callLaterPending||(e._callLaterObject?e._callLaterObject.callLater(function(){e._doPhasedInstantiation()}):(e._callLaterObject=new y,e._callLaterObject.callLater(function(){e._waitAFrame()})),e._callLaterPending=!0)),e._targetLevel<=t._nestLevel&&(e._invalidateClientPropertiesFlag=!0),e._invalidatePropertiesQueue.addObject(t,t._nestLevel)},rs.prototype.invalidateSize=function(t){var e=this;e._invalidateSizeFlag||(e._invalidateSizeFlag=!0,e._callLaterPending||(e._callLaterObject?e._callLaterObject.callLater(function(){e._doPhasedInstantiation()}):(e._callLaterObject=new y,e._callLaterObject.callLater(function(){e._waitAFrame()})),e._callLaterPending=!0)),e._targetLevel<=t._nestLevel&&(e._invalidateClientSizeFlag=!0),e._invalidateSizeQueue.addObject(t,t._nestLevel)},rs.prototype.invalidateDisplayList=function(t){var e=this;e._invalidateDisplayListFlag||(e._invalidateDisplayListFlag=!0,e._callLaterPending||(e._callLaterObject?e._callLaterObject.callLater(function(){e._doPhasedInstantiation()}):(e._callLaterObject=new y,e._callLaterObject.callLater(function(){e._waitAFrame()})),e._callLaterPending=!0)),e._invalidateDisplayListQueue.addObject(t,t._nestLevel)},rs.prototype._validateProperties=function(){for(var t=this._invalidatePropertiesQueue.removeSmallest();t;)t.validateProperties(),t._updateCompletePendingFlag||(this._updateCompleteQueue.addObject(t,t._nestLevel),t._updateCompletePendingFlag=!0),t=this._invalidatePropertiesQueue.removeSmallest();this._invalidatePropertiesQueue.isEmpty()&&(this._invalidatePropertiesFlag=!1)},rs.prototype._validateSize=function(){for(var t=this._invalidateSizeQueue.removeLargest();t;)t.validateSize(),t._updateCompletePendingFlag||(this._updateCompleteQueue.addObject(t,t._nestLevel),t._updateCompletePendingFlag=!0),t=this._invalidateSizeQueue.removeLargest();this._invalidateSizeQueue.isEmpty()&&(this._invalidateSizeFlag=!1)},rs.prototype._validateDisplayList=function(){for(var t=this._invalidateDisplayListQueue.removeSmallest();t;)t.validateDisplayList(),t._updateCompletePendingFlag||(this._updateCompleteQueue.addObject(t,t._nestLevel),t._updateCompletePendingFlag=!0),t=this._invalidateDisplayListQueue.removeSmallest();this._invalidateDisplayListQueue.isEmpty()&&(this._invalidateDisplayListFlag=!1)},rs.prototype._doPhasedInstantiation=function(){var t=this;if(t._usePhasedInstantiation?t._invalidatePropertiesFlag?t._validateProperties():t._invalidateSizeFlag?t._validateSize():t._invalidateDisplayListFlag&&t._validateDisplayList():(t._invalidatePropertiesFlag&&t._validateProperties(),t._invalidateSizeFlag&&t._validateSize(),t._invalidateDisplayListFlag&&t._validateDisplayList()),t._invalidatePropertiesFlag||t._invalidateSizeFlag||t._invalidateDisplayListFlag)t._callLaterObject.callLater(function(){t._doPhasedInstantiation()});else{t.setUsePhasedInstantiation(!1),t._callLaterPending=!1;for(var e=t._updateCompleteQueue.removeLargest();e;)!e.getInitialized()&&e.getProcessedDescriptors()&&e.setInitialized(!0),e.dispatchEvent(new cs("updateComplete")),e._updateCompletePendingFlag=!1,e=t._updateCompleteQueue.removeLargest();t.dispatchEvent(new cs("updateComplete"))}},rs.prototype.validateNow=function(){if(!this._usePhasedInstantiation)for(var t=0;this._callLaterPending&&100>t++;)this._doPhasedInstantiation()},rs.prototype.validateClient=function(t,e){e=1<arguments.length&&e;var i,s=!1,a=this._targetLevel;if(t._useDelayInvalidate){for(this._targetLevel==Number.MAX_VALUE&&(this._targetLevel=t._nestLevel);!s;){for(s=!0,i=this._invalidatePropertiesQueue.removeSmallestChild(t);i;)i.validateProperties(),i._updateCompletePendingFlag||(this._updateCompleteQueue.addObject(i,i._nestLevel),i._updateCompletePendingFlag=!0),i=this._invalidatePropertiesQueue.removeSmallestChild(t);for(this._invalidatePropertiesQueue.isEmpty()&&(this._invalidateClientPropertiesFlag=this._invalidatePropertiesFlag=!1),i=this._invalidateSizeQueue.removeLargestChild(t);i;){if(i.validateSize(),i._updateCompletePendingFlag||(this._updateCompleteQueue.addObject(i,i._nestLevel),i._updateCompletePendingFlag=!0),this._invalidateClientPropertiesFlag&&(i=this._invalidatePropertiesQueue.removeSmallestChild(t))){this._invalidatePropertiesQueue.addObject(i,i._nestLevel),s=!1;break}i=this._invalidateSizeQueue.removeLargestChild(t)}if(this._invalidateSizeQueue.isEmpty()&&(this._invalidateClientSizeFlag=this._invalidateSizeFlag=!1),!e){for(i=this._invalidateDisplayListQueue.removeSmallestChild(t);i;){if(i.validateDisplayList(),i._updateCompletePendingFlag||(this._updateCompleteQueue.addObject(i,i._nestLevel),i._updateCompletePendingFlag=!0),this._invalidateClientPropertiesFlag&&(i=this._invalidatePropertiesQueue.removeSmallestChild(t))){this._invalidatePropertiesQueue.addObject(i,i._nestLevel),s=!1;break}if(this._invalidateClientSizeFlag&&(i=this._invalidateSizeQueue.removeLargestChild(t))){this._invalidateSizeQueue.addObject(i,i._nestLevel),s=!1;break}i=this._invalidateDisplayListQueue.removeSmallestChild(t)}this._invalidateDisplayListQueue.isEmpty()&&(this._invalidateDisplayListFlag=!1)}}if(a==Number.MAX_VALUE&&(this._targetLevel=Number.MAX_VALUE,!e))for(i=this._updateCompleteQueue.removeLargestChild(t);i;)i.getInitialized()||i.setInitialized(!0),i.dispatchEvent(new cs("updateComplete")),i._updateCompletePendingFlag=!1,i=this._updateCompleteQueue.removeLargestChild(t)}else t.validateProperties(),t.validateSize(),e||t.validateDisplayList()},rs.prototype.isInvalid=function(){return this._invalidatePropertiesFlag||this._invalidateSizeFlag||this._invalidateDisplayListFlag},rs.prototype._waitAFrame=function(){var t=this;t._callLaterObject.callLater(function(){t._doPhasedInstantiation()})};var ns=function(){this.className="PriorityQueue",this._arrayOfArrays=[],this._minPriority=0,this._maxPriority=-1};ns.prototype.addObject=function(t,e){this._arrayOfArrays[e]||(this._arrayOfArrays[e]=[]),this._arrayOfArrays[e].push(t),this._maxPriority<this._minPriority?this._minPriority=this._maxPriority=e:(e<this._minPriority&&(this._minPriority=e),e>this._maxPriority&&(this._maxPriority=e))},ns.prototype.removeLargest=function(){var t=null;if(this._minPriority<=this._maxPriority){for(;!this._arrayOfArrays[this._maxPriority]||0==this._arrayOfArrays[this._maxPriority].length;)if(this._maxPriority--,this._maxPriority<this._minPriority)return null;for(t=this._arrayOfArrays[this._maxPriority].shift();!(this._arrayOfArrays[this._maxPriority]&&0!=this._arrayOfArrays[this._maxPriority].length||(this._maxPriority--,this._maxPriority<this._minPriority)););}return t},ns.prototype.removeLargestChild=function(t){for(var e,i,s=null,a=this._maxPriority,r=t._nestLevel;r<=a;)if(this._arrayOfArrays[a]&&0<this._arrayOfArrays[a].length){for(e=0,i=this._arrayOfArrays[a].length;e<i;e++)if(this._contains(t,this._arrayOfArrays[a][e]))return s=this._arrayOfArrays[a][e],this._arrayOfArrays[a].splice(e,1),s;a--}else if(a==this._maxPriority&&this._maxPriority--,a--,a<r)break;return s},ns.prototype.removeSmallest=function(t){if(t=null,this._minPriority<=this._maxPriority){for(;!this._arrayOfArrays[this._minPriority]||0==this._arrayOfArrays[this._minPriority].length;)if(this._minPriority++,this._minPriority>this._maxPriority)return null;for(t=this._arrayOfArrays[this._minPriority].shift();!(this._arrayOfArrays[this._minPriority]&&0!=this._arrayOfArrays[this._minPriority].length||(this._minPriority++,this._minPriority>this._maxPriority)););}return t},ns.prototype.removeSmallestChild=function(t){for(var e,i,s=null,a=t._nestLevel;a<=this._maxPriority;)if(this._arrayOfArrays[a]&&0<this._arrayOfArrays[a].length){for(e=0,i=this._arrayOfArrays[a].length;e<i;e++)if(this._contains(t,this._arrayOfArrays[a][e]))return s=this._arrayOfArrays[a][e],this._arrayOfArrays[a].splice(e,1),s;a++}else if(a==this._minPriority&&this._minPriority++,a++,a>this._maxPriority)break;return s},ns.prototype.removeAll=function(){this._arrayOfArrays.splice(0,this._arrayOfArrays.length),this._minPriority=0,this._maxPriority=-1},ns.prototype.isEmpty=function(){return this._minPriority>this._maxPriority},ns.prototype._contains=function(t,e){return t.getRawChildren?t.getRawChildren().contains(e):t instanceof m?t.contains(e):t===e};var os=function(){Vi.call(this),this.className="SystemManager",this.name=this.className+this.uno};ki(os,Vi),os.apps={},os.getInstance=function(){return os._instance||(os._instance=new os),os._instance},os.domReadyDelayCall=!1,os.domReadyInteractive=!1,os.prototype.getRootElement=function(){return this._rootElement},os.prototype.setRootElement=function(t){this._rootElement=t},os.prototype.getDocument=function(){return document},os.prototype.getClassMap=function(){return this._classMap},os.prototype.getToolTipChildren=function(){return this._toolTipChildren?this._toolTipChildren.element!=this._toolTipChildren.element.parentNode.lastChild&&this._toolTipChildren.element.parentNode.appendChild(this._toolTipChildren.element):(this._toolTipChildren=new y,document.body.appendChild(this._toolTipChildren.element),this._toolTipChildren.setNestLevel(1),this._toolTipChildren.initialize()),this._toolTipChildren},os.destroy=function(t){delete os.apps[t]},os.domReady=function(t,e,i){os.domReady.done?os.apps[i]=t.call(e):!os.domReadyDelayCall&&document&&document.getElementsByTagName&&document.getElementById&&document.body&&("complete"==document.readyState||os.domReadyInteractive&&"interactive"==document.readyState)?(os.domReady.ready=[{f:t,c:e,id:i}],os.isDOMReady()):os.domReady.timer?os.domReady.ready.push({f:t,c:e,id:i}):(os.domReady.ready=[{f:t,c:e,id:i}],os.domReady.timer=setInterval(os.isDOMReady,30))},os.isDOMReady=function(){if(os.domReady.done)return!1;if(document&&document.getElementsByTagName&&document.getElementById&&document.body&&("complete"==document.readyState||os.domReadyInteractive&&"interactive"==document.readyState)){clearInterval(os.domReady.timer),os.domReady.timer=null,os.domReady.done=!0;for(var t=0;t<os.domReady.ready.length;t++){var e=os.domReady.ready[t];e.c?os.apps[e.id]=e.f.call(e.c):e.f()}os.domReady.ready=null,Zi.windowAddEvent("resize",os.windowResizeHandler,this),Zi.windowAddEvent("unload",os.destroyHandler,this)}},os.windowResizeHandler=function(){for(var t in os.apps)os.apps[t].resize(t)},os.destroyHandler=function(){try{Zi.windowRemoveEvent("resize",os.windowResizeHandler,this),Zi.windowRemoveEvent("unload",os.destroyHandler,this);var t,e,i,s=qi.getHasClass("Kool__[a-zA-Z]*Root","div");for(t=0,e=s.length;t<e;t++)i=s[t].selfElement,i.destroy&&i.destroy(i);as.clean(),os.apps={}}catch(a){}},os.addClassMap=function(t){var e=os.getInstance();e._classMap||(e._classMap={}),qi.extend(e._classMap,t,!0)};var hs={resources:{"ko-KR":{shared:{dateFormat:"YYYY/MM/DD",monthFormat:"YYYY/MM",monthSymbol:"월",yearSymbol:"년"},controls:{firstDayOfWeek:0,dayNamesShortest:"일,월,화,수,목,금,토",disclosureIcon:"계층 열기/닫기",okLabel:"확인",yesLabel:"예",noLabel:"아니오",cancelLabel:"취소"},formatters:{am:"오전",pm:"오후",dayNamesShort:"일,월,화,수,목,금,토",monthNamesShort:"1,2,3,4,5,6,7,8,9,10,11,12"},utils:{overClipboardLimit:"복사하려는 내용이 너무 많습니다. 범위를 줄여주시기 바랍니다. (최대 64000자)",clipboardCopy:"복사하시려면 Ctrl+C를 누르고 Enter키를 누르세요",clipboardPaste:"붙여넣기하시려면 Ctrl+V를 누르세요"}},"en-US":{shared:{dateFormat:"MM/DD/YYYY",monthFormat:"MM/YYYY",monthSymbol:"",yearSymbol:""},controls:{firstDayOfWeek:0,dayNamesShortest:"S,M,T,W,T,F,S",disclosureIcon:"Tree open/close",okLabel:"OK",yesLabel:"Yes",noLabel:"No",cancelLabel:"Cancel"},formatters:{am:"AM",pm:"PM",dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat",monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec"},utils:{overClipboardLimit:"Too many characters to copy. Reduce selection range. (maximum 64Kbytes)",clipboardCopy:"Copy to clipboard: Ctrl+C, Enter",clipboardPaste:"Paste from clipboard: Ctrl+V"}},"fr-FR":{shared:{dateFormat:"DD/MM/YYYY",monthFormat:"MM/YYYY",monthSymbol:"",yearSymbol:""},controls:{firstDayOfWeek:0,dayNamesShortest:"D,L,M,M,J,V,S",disclosureIcon:"Arbre d'ouverture / fermeture",okLabel:"OK",yesLabel:"Oui",noLabel:"Non",cancelLabel:"Annuler"},formatters:{am:"AM",pm:"PM",dayNamesShort:"Dim,Lun,Mar,Mer,Jeu,Ven,Sam",monthNamesShort:"Jan,Fév,Mar,Avr,Mai,Jui,Juil,Aoû,Sep,Oct,Nov,Déc"},utils:{overClipboardLimit:"Trop de caractères pour etre copié. Réduire la plage de sélection. (maximum 64Kbytes)",clipboardCopy:"Copier dans le Presse-papier: Ctrl+C, Entrée",clipboardPaste:"Coller du Presse-papier: Ctrl+V"}},"de-DE":{shared:{dateFormat:"DD.MM.YYYY",monthFormat:"MM.YYYY",monthSymbol:"",yearSymbol:""},controls:{firstDayOfWeek:0,dayNamesShortest:"S,M,D,M,D,F,S",disclosureIcon:"Baum Öffnen / Schließen",okLabel:"OK",yesLabel:"Ja",noLabel:"Nein",cancelLabel:"Abbrechen"},formatters:{am:"vorm.",pm:"nachm.",dayNamesShort:"Son,Mon,Die,Mit,Don,Fre,Sam",monthNamesShort:"Jan,Feb,Mrz,Apr,Mai,Jun,Jul,Aug,Sep,Okt,Nov,Dez"},utils:{overClipboardLimit:"Zu viele Zeichensatze für Kopie. Reduzieren Sie die Wahlsbereich. (maximum 64Kbytes)",clipboardCopy:"Kopien in der Zwischenablage. Ctrl+C, Eingabe",clipboardPaste:"Einfugen aus der Zwischenablage: Ctrl+V"}},"zh-CN":{shared:{dateFormat:"YYYY-MM-DD",monthFormat:"YYYY-MM",monthSymbol:"月",yearSymbol:"年"},controls:{firstDayOfWeek:0,dayNamesShortest:"日,一,二,三,四,五,六",disclosureIcon:"树打开/关闭",okLabel:"确定",yesLabel:"是",noLabel:"否",cancelLabel:"取消"},formatters:{am:"上午",pm:"下午",dayNamesShort:"日,一,二,三,四,五,六",monthNamesShort:"1,2,3,4,5,6,7,8,9,10,11,12"},utils:{overClipboardLimit:"太多的字符复制。缩小选择范围。（64K字节最大）",clipboardCopy:"复制到剪贴板：Ctrl + C键，回车",clipboardPaste:"从剪贴板粘贴：Ctrl + V键"}}},_localeChain:["en-US","ko-KR","fr-FR","de-DE","zh-CN"],getLocaleChain:function(){return this._localeChain},setLocaleChain:function(t){e(t)?this._localeChain=t:this._localeChain=[t]},addResourceBundle:function(t,e,i){i=i?i:this._localeChain[0],this.resources[i]||(this.resources[i]={}),this.resources[i][t]=e},getResourceBundle:function(t,e){var i=e?e:this._localeChain[0];return this.resources[i]?this.resources[i][t]:void 0},getString:function(t,e,i,s){var a,r="",n=this.resources;if(s)n[s]&&n[s][t]&&(d(n[s][t][e])||(r=n[s][t][e]));else for(s=0;s<this._localeChain.length;s++)if(a=this._localeChain[s],n[a]&&n[a][t]&&!d(n[a][t][e])){r=n[a][t][e];break}if(r&&i)for(s=0;s<i.length;s++)r=r.replace("{"+s+"}",i[s]);return r},getNumber:function(t,e,i){var s,a=0,r=this.resources;if(i)r[i]&&r[i][t]&&(d(r[i][t][e])||(a=r[i][t][e]));else for(i=0;i<this._localeChain.length;i++)if(s=this._localeChain[i],r[s]&&r[s][t]&&!d(r[s][t][e])){a=r[s][t][e];break}return Number(a)}};ki(R,Vi),R._effectTriggersForEvent={},R._effects=[],R.createEffectForType=function(t,e){var i=R._effectTriggersForEvent[e];if(""!=i&&void 0!=i||(i=e+"Effect"),i=t[i],!i)return null;if(o(i))return new i(t);try{var s;if(i instanceof String?s=t.parentDocument[i]:i instanceof B&&(s=i),s)return s.setTarget(t),s}catch(a){}return(s=t.systemManager.getDefinitionByName("effects."+i))?new s(t):null},R.effectStarted=function(t){R._effects[t]=1},R.effectFinished=function(t){delete R._effects[t]};var ls=function(){this._textFields={}};ls.getInstance=function(){return ls._instance||(ls._instance=new ls),ls._instance},ls.prototype.measureText=function(t,e){var i,s,a="";return i=e?e:"",s=document.body,this._textFieldHolder||(this._textFieldHolder=document.createElement("div"),qi.addClass(this._textFieldHolder,"Kool__Root"),qi.setVisibility(this._textFieldHolder,!1),qi.setStyle(this._textFieldHolder,"position","absolute"),qi.setPxStyle(this._textFieldHolder,"left",-6e3),qi.setPxStyle(this._textFieldHolder,"top",-300),qi.setPxStyle(this._textFieldHolder,"width",5e3),s.appendChild(this._textFieldHolder)),t?(a+=t.font+",",a+=t.size+",",a+=t.bold+",",a+=t.underline+",",a+=t.italic+",",a+=t.align+",",a+=t.indent+",",a+=t.lineHeight+",",a+=t.spacing,this._textFields[a]?s=this._textFields[a]:(s=document.createElement("div"),t.font&&qi.setStyle(s,"fontFamily",t.font),t.size&&qi.setStyle(s,"fontSize",t.size),t.bold&&qi.setStyle(s,"fontWeight",t.bold),t.underline&&qi.setStyle(s,"textDecoration",t.underline),t.italic&&qi.setStyle(s,"fontStyle",t.italic),t.align&&qi.setStyle(s,"textAlign",t.align),t.indent&&qi.setStyle(s,"textIndent",t.indent),t.lineHeight&&"0"!=t.lineHeight&&"0px"!=t.lineHeight&&qi.setStyle(s,"lineHeight",t.lineHeight),t.spacing&&qi.setStyle(s,"letterSpacing",t.spacing),qi.setStyle(s,"position","absolute"),this._textFieldHolder.appendChild(s),this._textFields[a]=s),s.innerHTML!=i.toString()&&(s.innerHTML=i.toString()),new zi(0,0,s.offsetWidth,s.offsetHeight)):new zi(0,0,0,0)},ls.prototype.saveAutocomplete=function(t,e){if(e){var i,s=document.body;if(!this._autocompleteHolder){this._autocompleteHolder=document.createElement("div"),qi.addClass(this._autocompleteHolder,"Kool__AutocompleteRoot"),qi.setVisibility(this._autocompleteHolder,!1),qi.setStyle(this._autocompleteHolder,"position","absolute"),qi.setPxStyle(this._autocompleteHolder,"left",-1e3),qi.setPxStyle(this._autocompleteHolder,"top",-200),qi.setPxStyle(this._autocompleteHolder,"width",100);try{i=document.createElement("<iframe name='Kool__AutocompleteIframe'>")}catch(a){i=document.createElement("iframe"),i.id="Kool__AutocompleteIframe",i.name="Kool__AutocompleteIframe"}qi.setStyle(i,"width","200px"),qi.setStyle(i,"height","0px"),qi.setStyle(i,"border","0px"),this._autocompleteHolder.appendChild(i),this._autocompleteForm=document.createElement("form"),this._autocompleteForm.target=i.name,this._autocompleteForm.action=Fi+"close.png",qi.setAttr(this._autocompleteForm,"autocomplete","on"),this._autocompleteInputElement=document.createElement("input"),this._autocompleteInputElement.type="text",this._autocompleteForm.appendChild(this._autocompleteInputElement),this._autocompleteHolder.appendChild(this._autocompleteForm),s.appendChild(this._autocompleteHolder)}if(this._autocompleteInputElement)if(qi.setAttr(this._autocompleteInputElement,"name",t),this._autocompleteInputElement.value=e,window.external&&"AutoCompleteSaveForm"in window.external)window.external.AutoCompleteSaveForm(this._autocompleteForm);else try{this._autocompleteForm.submit()}catch(a){}}};var ds={isDragging:!1,_dragProxy:null,doDrag:function(t,e,i,s){if(s=!(3<arguments.length)||s,!ds.isDragging){ds.isDragging=!0;var a=t.uno;d(a)||(ds._dragProxy={uno:a,ds:e,am:s},i.dataTransfer.clearData("Text"),i.dataTransfer.setData("Text",a.toString()))}},getDragSource:function(t){return!d(t)&&ds._dragProxy&&ds._dragProxy.uno==t?ds._dragProxy:null},endDrag:function(t){ds.isDragging=!1,ds._dragProxy=null}},cs=function(t,e,i){this.type=t,this.bubbles=1<arguments.length&&e,this.cancelable=2<arguments.length&&i,this.defaultPrevented=!1,this.eno=as.eventNo++,this._stoped=this._istoped=!1};cs.prototype.clone=function(){return new cs(this.type,this.bubbles,this.cancelable)},cs.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0,this.htmlEvent&&(this.htmlEvent.preventDefault?this.htmlEvent.preventDefault():this.htmlEvent.returnValue=!1))},cs.prototype.stopImmediatePropagation=function(){this._istoped=!0,this.htmlEvent&&(this.htmlEvent.stopImmediatePropagation?this.htmlEvent.stopImmediatePropagation():this.htmlEvent.cancelBubble=!0)},cs.prototype.stopPropagation=function(){this._stoped=!0,this.htmlEvent&&(this.htmlEvent.stopPropagation?this.htmlEvent.stopPropagation():this.htmlEvent.cancelBubble=!0)};var us=function(t,e,i,s,a,r,n){cs.call(this,t,e,i),this.kind=3<arguments.length?s:null,this.location=4<arguments.length?a:-1,this.oldLocation=5<arguments.length?r:-1,this.items=6<arguments.length?n:[]};ki(us,cs),us.COLLECTION_CHANGE="collectionChange",us.prototype.clone=function(){return new us(this.type,this.bubbles,this.cancelable,this.kind,this.location,this.oldLocation,this.items)};var ps=function(t,e,i,s){cs.call(this,t,e,i),this.value=s};ki(ps,cs),ps.TWEEN_END="tweenEnd",ps.TWEEN_START="tweenStart",ps.TWEEN_UPDATE="tweenUpdate",ps.prototype.clone=function(){return new ps(this.type,this.bubbles,this.cancelable,this.value)},ki(P,cs),P.EFFECT_END="effectEnd",P.EFFECT_START="effectStart",P.prototype.clone=function(){return new P(this.type,this.bubbles,this.cancelable,this.effectInstance)};var fs=function(t,e,i,s,a){cs.call(this,t,e,i),this.relatedObject=s,this.htmlEvent=a};ki(fs,cs),fs.CHILD_ADD="childAdd",fs.CHILD_REMOVE="childRemove",fs.prototype.clone=function(){return new fs(this.type,this.bubbles,this.cancelable,this.relatedObject,this.htmlEvent)};var gs=function(t,e,i,s,a,r,n){cs.call(this,t,e,i),this.relatedObject=s,this.oldIndex=a,this.newIndex=r,this.triggerEvent=n};ki(gs,cs),gs.CHANGE="change",gs.CHILD_INDEX_CHANGE="childIndexChange",gs.HEADER_SHIFT="headerShift",gs.prototype.clone=function(){return new gs(this.type,this.bubbles,this.cancelable,this.relatedObject,this.oldIndex,this.newIndex,this.triggerEvent)};var ms=function(t,e,i,s,a,r,n,o){cs.call(this,t,e,i),this.kind=s,this.property=a,this.oldValue=r,this.newValue=n,this.source=o?o:{}};ki(ms,cs),ms.PROPERTY_CHANGE="propertyChange",ms.prototype.clone=function(){return new ms(this.type,this.bubbles,this.cancelable,this.kind,this.property,this.oldValue,this.newValue,this.source)};var _s=function(t,e,i,s,a,r,n,o){cs.call(this,t,e,i),this.detail=s,this.position=a,this.direction=r,this.delta=n,this.htmlEvent=o};ki(_s,cs),_s.SCROLL="scroll",_s.prototype.clone=function(){return new _s(this.type,this.bubbles,this.cancelable,this.detail,this.position,this.direction,this.delta,this.htmlEvent)},E.prototype.getTarget=function(){return this._target},E.prototype.setTarget=function(t){t!=this._target&&(this._target=t)},E.prototype.measure=function(){var t,e=this._isVertical(),i=0,s=0,a=0,r=0,n=this._target.getNumChildren(),o=n;for(t=0;t<n;t++){var l=this._target.getChildAt(t);if(l.getIncludeInLayout()){var d=l.getExplicitOrMeasuredWidth(),c=l.getExplicitOrMeasuredHeight();e?(i=Math.max(h(l.getPercentWidth())?d:l.getMinWidth(),i),a=Math.max(d,a),s+=isNaN(l.getPercentHeight())?c:l.getMinHeight(),r+=c):(i+=h(l.getPercentWidth())?d:l.getMinWidth(),a+=d,s=Math.max(h(l.getPercentHeight())?c:l.getMinHeight(),s),r=Math.max(c,r))}else o--}e=this._widthPadding(o),o=this._heightPadding(o),this._target.measuredMinWidth=i+e,this._target.measuredMinHeight=s+o,this._target.measuredWidth=a+e,this._target.measuredHeight=r+o},E.prototype.updateDisplayList=function(t,e){var i=this._target.getNumChildren();if(0!=i){var s,a,r,n=this._target.getViewMetricsAndPadding(),o=this._target.getSizeStyle("paddingLeft"),h=this._target.getSizeStyle("paddingTop"),l=this._getHorizontalAlignValue(),d=this._getVerticalAlignValue(),c=this._target.getMinWidth(),u=this._target.getMinHeight(),c=Math.max(t,c)-n.right-n.left,n=Math.max(e,u)-n.bottom-n.top,u=this._target._horizontalScrollBarExist,p=this._target._verticalScrollBarExist,f=0,g=0;if(1==i)i=this._target.getChildAt(0),f=i.getPercentWidth(),s=i.getPercentHeight(),f=f?Math.max(i.getMinWidth(),Math.min(i.getMaxWidth(),100<=f?c:c*f/100)):i.getExplicitOrMeasuredWidth(),s=s?Math.max(i.getMinHeight(),Math.min(i.getMaxHeight(),100<=s?n:n*s/100)):i.getExplicitOrMeasuredHeight(),i.setActualSize(f,s),$i.ie7&&i.setActualSize(f,s),(i.getPercentWidth()||i.getPercentHeight())&&i.invalidateDisplayList(),p&&"auto"==this._target.getVerticalScrollPolicy()&&(c+=$i.getScrollBarWidth()),u&&"auto"==this._target.getHorizontalScrollPolicy()&&(n+=$i.getScrollBarHeight()),p=(c-i.getWidth())*l+o,u=(n-i.getHeight())*d+h,i.move(p,u);else if(this._isVertical()){for(s=this._target.getStyle("verticalGap"),a=i,r=0;r<i;r++)this._target.getChildAt(r).getIncludeInLayout()||a--;if(r=ys.childHeightsProportionally(this._target,n-(a-1)*s,c),u&&"auto"==this._target.getHorizontalScrollPolicy()&&(r+=$i.getScrollBarHeight()),p&&"auto"==this._target.getVerticalScrollPolicy()&&(c+=$i.getScrollBarWidth()),u=h+r*d,0<l)for(r=0;r<i;r++)a=this._target.getChildAt(r),p=(c-a.getWidth())*l,g=Math.min(g,p);for(r=0;r<i;r++)a=this._target.getChildAt(r),p=0<l?(c-a.getWidth())*l+o-g:o-g,a.move(p,u),a.getIncludeInLayout()&&(u+=a.getHeight()+s)}else{for(s=this._target.getStyle("horizontalGap"),a=i,r=0;r<i;r++)this._target.getChildAt(r).getIncludeInLayout()||a--;if(r=ys.childWidthsProportionally(this._target,c-(a-1)*s,n),u&&"auto"==this._target.getHorizontalScrollPolicy()&&(n+=$i.getScrollBarHeight()),
p&&"auto"==this._target.getVerticalScrollPolicy()&&(r+=$i.getScrollBarWidth()),p=o+r*l,0<d)for(r=0;r<i;r++)a=this._target.getChildAt(r),u=(n-a.getHeight())*d,f=Math.min(f,u);for(r=0;r<i;r++)a=this._target.getChildAt(r),u=0<d?(n-a.getHeight())*d+h-f:h-f,a.move(p,u),a.getIncludeInLayout()&&(p+=a.getWidth()+s)}}},E.prototype._isVertical=function(){return"horizontal"!=this.direction},E.prototype._widthPadding=function(t){var e=this._target.getViewMetricsAndPadding(),e=e.left+e.right;return 1<t&&0==this._isVertical()&&(e+=this._target.getStyle("horizontalGap")*(t-1)),e},E.prototype._heightPadding=function(t){var e=this._target.getViewMetricsAndPadding(),e=e.top+e.bottom;return 1<t&&this._isVertical()&&(e+=this._target.getStyle("verticalGap")*(t-1)),e},E.prototype._getHorizontalAlignValue=function(){var t=this._target.getStyle("horizontalAlign");return"center"==t?.5:"right"==t?1:0},E.prototype._getVerticalAlignValue=function(){var t=this._target.getStyle("verticalAlign");return"middle"==t?.5:"bottom"==t?1:0};var ys={childWidthsProportionally:function(t,e,i){var s,a,r,n,o=e,l=0,d=[];for(n=t.getNumChildren(),r=0;r<n;r++){a=t.getChildAt(r);var c=a.getPercentWidth(),u=a.getPercentHeight(),u=!h(u)&&a.getIncludeInLayout()?Math.max(a.getMinHeight(),Math.min(a.getMaxHeight(),100<=u?i:i*u/100)):a.getExplicitOrMeasuredHeight();!h(c)&&a.getIncludeInLayout()?(l+=c,s={},s.percent=c,s.min=a.getMinWidth(),s.max=a.getMaxWidth(),s.height=u,s.child=a,d.push(s)):(c=a.getExplicitOrMeasuredWidth(),a.setActualSize(c,u),a.getIncludeInLayout()&&(o-=a.getWidth())),(a.getPercentWidth()||a.getPercentHeight())&&a.invalidateDisplayList()}if(l){for(o=ys.childrenProportionally(e,o,l,d),n=d.length,r=0;r<n;r++)s=d[r],a=s.child,a.setActualSize(s.size,s.height);ys.distributeExtraWidth(t,e)}return o},childHeightsProportionally:function(t,e,i){var s,a,r,n,o=e,l=0,d=[];for(n=t.getNumChildren(),r=0;r<n;r++){a=t.getChildAt(r);var c=a.getPercentWidth(),u=a.getPercentHeight(),c=!h(c)&&a.getIncludeInLayout()?Math.max(a.getMinWidth(),Math.min(a.getMaxWidth(),100<=c?i:i*c/100)):a.getExplicitOrMeasuredWidth();!h(u)&&a.getIncludeInLayout()?(l+=u,s={},s.percent=u,s.min=a.getMinHeight(),s.max=a.getMaxHeight(),s.width=c,s.child=a,d.push(s)):(u=a.getExplicitOrMeasuredHeight(),a.setActualSize(c,u),a.getIncludeInLayout()&&(o-=a.getHeight())),(a.getPercentWidth()||a.getPercentHeight())&&a.invalidateDisplayList()}if(l){for(o=ys.childrenProportionally(e,o,l,d),n=d.length,r=0;r<n;r++)s=d[r],a=s.child,a.setActualSize(s.width,s.size);ys.distributeExtraHeight(t,e)}return o},childrenProportionally:function(t,e,i,s){var a,r=s.length;t=e-t*i/100,0<t&&(e-=t);do{t=0,a=!0;for(var n=e/i,o=0;o<r;o++){var h=s[o],l=h.percent*n;if(l<h.min){a=h.min,h.size=a,s[o]=s[--r],s[r]=h,i-=h.percent,e-=a,a=!1;break}if(l>h.max){a=h.max,h.size=a,s[o]=s[--r],s[r]=h,i-=h.percent,e-=a,a=!1;break}h.size=l,t+=l}}while(!a);return Math.max(0,Math.floor(e-t))},distributeExtraHeight:function(t,e){var i,s,a,r,n=t.getNumChildren(),o=!1,l=e,d=0;for(i=0;i<n;i++)a=t.getChildAt(i),a.getIncludeInLayout()&&(r=a.getHeight(),s=a.getPercentHeight(),d+=r,h(s)||(s=Math.ceil(s/100*e),s>r&&(o=!0)));if(o)for(l-=d,o=!0;o&&.5<l;)for(o=!1,i=0;i<n;i++)if(a=t.getChildAt(i),r=a.getHeight(),s=a.getPercentHeight(),!h(s)&&a.getIncludeInLayout()&&r<a.maxHeight&&(s=Math.ceil(s/100*e),s>r&&(1>l?a.setActualSize(a.getWidth(),r+l+1e-4):a.setActualSize(a.getWidth(),r+1),l--,o=!0,0>=l)))return},distributeExtraWidth:function(t,e){var i,s,a,r,n=t.getNumChildren(),o=!1,l=e,d=0;for(i=0;i<n;i++)a=t.getChildAt(i),a.getIncludeInLayout()&&(r=a.getWidth(),s=a.getPercentWidth(),d+=r,h(s)||(s=Math.ceil(s/100*e),s>r&&(o=!0)));if(o)for(l-=d,o=!0;o&&.5<l;)for(o=!1,i=0;i<n;i++)if(a=t.getChildAt(i),r=a.getWidth(),s=a.getPercentWidth(),!h(s)&&a.getIncludeInLayout()&&r<a.getMaxWidth()&&(s=Math.ceil(s/100*e),s>r&&(1>l?a.setActualSize(r+l+1e-4,a.getHeight()):a.setActualSize(r+1,a.getHeight()),l--,o=!0,0>=l)))return}};N._defaultStyles={horizontalGap:6,horizontalAlign:"left",verticalGap:6,verticalAlign:"top"},ki(N,C),N.prototype.getDirection=function(){return this._layoutObject.direction},N.prototype.setDirection=function(t){this._layoutObject.direction=t,this.invalidateSize(),this.invalidateDisplayList()},N.prototype.measure=function(){N._super.measure.call(this),this._layoutObject.measure()},N.prototype.updateDisplayList=function(t,e){N._super.updateDisplayList.call(this,t,e),this._layoutObject.updateDisplayList(t,e)},N.prototype._isVertical=function(){return"vertical"==this.getDirection()},F._defaultStyles={horizontalAlign:"left",horizontalGap:8,paddingBottom:0,paddingTop:0,verticalAlign:"top",verticalGap:6},ki(F,C),F.prototype.getDirection=function(){return this._direction},F.prototype.setDirection=function(t){this._direction=t,this.invalidateSize(),this.invalidateDisplayList(),this.dispatchEvent(new cs("directionChanged"))},F.prototype.getTileHeight=function(){return this._tileHeight},F.prototype.setTileHeight=function(t){this._tileHeight=t,this.invalidateSize()},F.prototype.getTileWidth=function(){return this._tileWidth},F.prototype.setTileWidth=function(t){this._tileWidth=t,this.invalidateSize()},F.prototype.measure=function(){var t,e,i,s,a,r,n;for(F._super.measure.call(this),this._findCellSize(),s=this._cellWidth,a=this._cellHeight,i=e=this.getNumChildren(),t=0;t<e;t++)this.getChildAt(t)._includeInLayout||i--;e=i,0<e?(i=this.getStyle("horizontalGap"),t=this.getStyle("verticalGap"),"horizontal"==this._direction?(n=this._explicitWidth,h(n)||(r=Math.floor((n+i)/(this._cellWidth+i)))):(n=this._explicitHeight,h(n)||(r=Math.floor((n+t)/(this._cellHeight+t)))),h(r)&&(r=Math.ceil(Math.sqrt(e))),1>r&&(r=1),n=Math.ceil(e/r),"horizontal"==this._direction?(e=r*this._cellWidth+(r-1)*i,r=n*this._cellHeight+(n-1)*t):(e=n*this._cellWidth+(n-1)*i,r=r*this._cellHeight+(r-1)*t)):(e=s,r=a),i=this.getViewMetricsAndPadding(),t=i.left+i.right,i=i.top+i.bottom,this.measuredMinWidth=Math.ceil(s+t),this.measuredMinHeight=Math.ceil(a+i),this.measuredWidth=Math.ceil(e+t),this.measuredHeight=Math.ceil(r+i)},F.prototype.updateDisplayList=function(t,e){F._super.updateDisplayList.call(this,t,e),(h(this._cellWidth)||h(this._cellHeight))&&this._findCellSize();var i,s,a,r,n,o,l=this.getNumChildren();i=this.getViewMetricsAndPadding(),r=this.getStyle("paddingLeft"),a=this.getStyle("paddingTop");var d=this.getStyle("horizontalGap"),c=this.getStyle("verticalGap"),u=this.getStyle("horizontalAlign"),p=this.getStyle("verticalAlign"),f=r,g=a;if("horizontal"==this._direction)for(a=Math.ceil(t)-i.right,i=0;i<l;i++)s=this.getChildAt(i),s._includeInLayout&&(f+this._cellWidth>a&&f!=r&&(g+=this._cellHeight+c,f=r),this._setChildSize(s),n=Math.floor(this._calcHorizontalOffset(s.getWidth(),u)),o=Math.floor(this._calcVerticalOffset(s.getHeight(),p)),s.move(f+n,g+o),f+=this._cellWidth+d);else for(r=Math.ceil(e)-i.bottom,i=0;i<l;i++)s=this.getChildAt(i),s._includeInLayout&&(g+this._cellHeight>r&&g!=a&&(f+=this._cellWidth+d,g=a),this._setChildSize(s),n=Math.floor(this._calcHorizontalOffset(s.getWidth(),u)),o=Math.floor(this._calcVerticalOffset(s.getHeight(),p)),s.move(f+n,g+o),g+=this._cellHeight+c);this._cellHeight=this._cellWidth=NaN},F.prototype._findCellSize=function(){var t,e,i,s,a=0,r=0,n=!h(this._tileWidth),o=!h(this._tileHeight);if(n&&o)this._cellWidth=this._tileWidth,this._cellHeight=this._tileHeight;else{for(e=this.getNumChildren(),t=0;t<e;t++)i=this.getChildAt(t),i._includeInLayout&&(s=i.getExplicitOrMeasuredWidth(),s>a&&(a=s),i=i.getExplicitOrMeasuredHeight(),i>r&&(r=i));this._cellWidth=n?this._tileWidth:a,this._cellHeight=o?this._tileHeight:r}},F.prototype._setChildSize=function(t){var e,i,s;0<t._percentWidth?e=Math.min(this._cellWidth,this._cellWidth*t._percentWidth/100):(e=t.getExplicitOrMeasuredWidth(),e>this._cellWidth&&(i=h(t._explicitWidth)?0:t._explicitWidth,s=h(t.explicitMinWidth)?0:t.explicitMinWidth,e=i>this._cellWidth||s>this._cellWidth?Math.max(s,i):this._cellWidth)),0<t._percentHeight?i=Math.min(this._cellHeight,this._cellHeight*t._percentHeight/100):(i=t.getExplicitOrMeasuredHeight(),i>this._cellHeight&&(i=h(t._explicitHeight)?0:t._explicitHeight,s=h(t.explicitMinHeight)?0:t.explicitMinHeight,i=i>this._cellHeight||s>this._cellHeight?Math.max(s,i):this._cellHeight)),t.setActualSize(e,i)},F.prototype._calcHorizontalOffset=function(t,e){var i;return"left"==e?i=0:"center"==e?i=(this._cellWidth-t)/2:"right"==e&&(i=this._cellWidth-t),i},F.prototype._calcVerticalOffset=function(t,e){var i;return"top"==e?i=0:"middle"==e?i=(this._cellHeight-t)/2:"bottom"==e&&(i=this._cellHeight-t),i},ki(k,y),k.prototype.getText=function(){return this._text},k.prototype.setText=function(t){this._text!==t&&(this._cachedTextFormat=null,this._text=t,this._textChanged=!0,this._explicitWidth=this._explicitHeight=NaN,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList(),this.dispatchEvent(new cs("valueCommit")))},k.prototype._textFieldChange=function(t){var e;t||(e=this._text!=this.element.innerHTML),e&&this.dispatchEvent(new cs("valueCommit"))},k.prototype._getMinimumText=function(t){return(!t||2>t.length)&&(t="Wj"),t},k.prototype.commitProperties=function(){k._super.commitProperties.call(this),this._textChanged&&(this.element.innerHTML=this._text,this._text=this.element.innerHTML,this._textFieldChange(!1),this._textChanged=!1)},k.prototype.measure=function(){var t=qi.getBorderPaddingMetrics(this),e=this._explicitWidth,i=this._explicitHeight,s=this.measureText(this._getMinimumText(this._text));k._super.measure.call(this),!h(e)&&e||(e=s.width+v.TEXT_WIDTH_PADDING),!h(i)&&i||(i=s.height+v.TEXT_HEIGHT_PADDING),this.measuredWidth=e+t.left+t.right,this.measuredHeight=i+t.top+t.bottom};var vs=function(){this.id=null,this.useNegativeSign=this.useThousandsSeparator=!0,this.precision=-1,this.applyPrecisionToInteger=!0,this.thousandsSeparatorTo=",",this.decimalSeparatorTo=".",this.rounding="none",this.returnValueWhenError=!1};vs.prototype.format=function(t){var e=parseFloat(t),i=-1==this.precision?0:Math.abs(this.precision),s=this.decimalSeparatorTo,a=this.useThousandsSeparator?this.thousandsSeparatorTo:"",e="down"==this.rounding?-1<this.precision&&0<i?Math.floor(e*Math.pow(10,i))/Math.pow(10,i):Math.floor(e):"up"==this.rounding?-1<this.precision&&0<i?Math.ceil(e*Math.pow(10,i))/Math.pow(10,i):Math.ceil(e):"nearest"==this.rounding?-1<this.precision&&0<i?Math.round(e*Math.pow(10,i))/Math.pow(10,i):Math.round(e):e,r=0>e?this.useNegativeSign?"-":"(":"",n=parseInt(e=-1<this.precision?Math.abs(e).toFixed(i+1):Math.abs(e))+"",o=n.length,o=3<o?o%3:0,h=e-n,l="";return this.error=void 0,isNaN(h)?(this.error="invalid number",this.returnValueWhenError?t:""):(0<h?l=s+e.toString().slice(n.toString().length+1):0<i&&(l=s+h.toFixed(i+1).slice(2)),l&&!this.applyPrecisionToInteger&&0<i&&0==h&&(l=""),r+(o?n.substr(0,o)+a:"")+n.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+a)+(-1<this.precision?i?l.substr(0,i+s.length):"":l)+("("==r?")":""))};var xs=function(){function t(t,e,i,s){for(;s>=i;s--){var a=t.substring(e,e+s);if(a.length<i)break;var r;t:{r=a;for(var n=void 0,n=0;n<r.length;n++)if(-1=="1234567890".indexOf(r.charAt(n))){r=!1;break t}r=!0}if(r)return a}return null}var e=this;e.id=null,e.formatString="YYYY/MM/DD HH:NN:SS",e.parseFormatString=void 0,e.returnValueWhenError=!1;var i=function(){var t=/D{1,4}|E{1,4}|M{1,4}|YY(?:YY)?|([HhNSTt])\1?|[LloZ]|"[^"]*"|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,s=/[^-+\dA-Z]/g,a=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t};return function(r,n,o){var h=i;1!=arguments.length||"[object String]"!=Object.prototype.toString.call(r)||/\d/.test(r)||(n=r,r=void 0),n=String(h.masks[n]||n||h.masks["default"]),"UTC:"==n.slice(0,4)&&(n=n.slice(4),o=!0);var l=o?"getUTC":"get",d=r[l+"Date"](),c=r[l+"Day"](),u=r[l+"Month"](),p=r[l+"FullYear"](),f=r[l+"Hours"](),g=r[l+"Minutes"](),m=r[l+"Seconds"](),l=r[l+"Milliseconds"](),_=o?0:r.getTimezoneOffset(),y={D:d,DD:a(d),DDD:h.i18n.dayNames[c],DDDD:h.i18n.dayNames[c+7],E:c,EE:a(c),EEE:h.i18n.dayNames[c],EEEE:h.i18n.dayNames[c+7],M:u+1,MM:a(u+1),MMM:h.i18n.monthNames[u],MMMM:h.i18n.monthNames[u+12],YY:String(p).slice(2),YYYY:p,h:f%12||12,hh:a(f%12||12),H:f,HH:a(f),N:g,NN:a(g),S:m,SS:a(m),l:a(l,3),L:a(99<l?Math.round(l/10):l),t:12>f?"a":"p",tt:12>f?"am":"pm",T:12>f?"A":"P",TT:12>f?"AM":"PM",Z:o?"UTC":(String(r).match(e)||[""]).pop().replace(s,""),o:(0<_?"-":"+")+a(100*Math.floor(Math.abs(_)/60)+Math.abs(_)%60,4)};return n.replace(t,function(t){return t in y?y[t]:t.slice(1,t.length-1)})}}();i.masks={"default":"DDD MMM DD YYYY HH:NN:SS",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"DDDD, MMMM D, YYYY",shortTime:"h:NN TT",mediumTime:"h:NN:SS TT",longTime:"h:NN:SS TT Z",isoDate:"YYYY-MM-DD",isoTime:"HH:NN:SS",isoDateTime:"YYYY-MM-DD'T'HH:NN:SS",isoUtcDateTime:"UTC:YYYY-MM-DD'T'HH:NN:SS'Z'"},i.i18n={dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" ")},e.getDateFromFormat=function(e,s){e+="",s+="";for(var a,r,n=0,o=0,h="",l="",d=new Date,c=d.getYear(),u=d.getMonth()+1,p=1,f=d.getHours(),g=d.getMinutes(),d=d.getSeconds(),m="";o<s.length;){for(h=s.charAt(o),l="";s.charAt(o)==h&&o<s.length;)l+=s.charAt(o++);if("YYYY"==l||"YY"==l||"Y"==l){if("YYYY"==l&&(r=a=4),"YY"==l&&(r=a=2),"Y"==l&&(a=2,r=4),c=t(e,n,a,r),null==c)return 0;n+=c.length,2==c.length&&(c=70<c?1900+(c-0):2e3+(c-0))}else if("MMM"==l||"NNN"==l){for(h=u=0;h<i.i18n.monthNames.length;h++){var _=i.i18n.monthNames[h];if(e.substring(n,n+_.length).toLowerCase()==_.toLowerCase()&&("MMM"==l||"NNN"==l&&11<h)){u=h+1,12<u&&(u-=12),n+=_.length;break}}if(1>u||12<u)return 0}else if("EE"==l||"E"==l){for(h=0;h<i.i18n.dayNames.length;h++)if(l=i.i18n.dayNames[h],e.substring(n,n+l.length).toLowerCase()==l.toLowerCase()){n+=l.length;break}}else if("MM"==l||"M"==l){if(u=t(e,n,l.length,2),null==u||1>u||12<u)return 0;n+=u.length}else if("DD"==l||"D"==l){if(p=t(e,n,l.length,2),null==p||1>p||31<p)return 0;n+=p.length}else if("hh"==l||"h"==l){if(f=t(e,n,l.length,2),null==f||1>f||12<f)return 0;n+=f.length}else if("HH"==l||"H"==l){if(f=t(e,n,l.length,2),null==f||0>f||23<f)return 0;n+=f.length}else if("KK"==l||"K"==l){if(f=t(e,n,l.length,2),null==f||0>f||11<f)return 0;n+=f.length}else if("kk"==l||"k"==l){if(f=t(e,n,l.length,2),null==f||1>f||24<f)return 0;n+=f.length,f--}else if("NN"==l||"N"==l||"mm"==l||"m"==l){if(g=t(e,n,l.length,2),null==g||0>g||59<g)return 0;n+=g.length}else if("SS"==l||"S"==l){if(d=t(e,n,l.length,2),null==d||0>d||59<d)return 0;n+=d.length}else if("a"==l){if("am"==e.substring(n,n+2).toLowerCase())m="AM";else{if("pm"!=e.substring(n,n+2).toLowerCase())return 0;m="PM"}n+=2}else{if(e.substring(n,n+l.length)!=l)return 0;n+=l.length}}if(n!=e.length)return 0;if(2==u)if(0==c%4&&0!=c%100||0==c%400){if(29<p)return 0}else if(28<p)return 0;return(4==u||6==u||9==u||11==u)&&30<p?0:(12>f&&"PM"==m?f=f-0+12:11<f&&"AM"==m&&(f-=12),new Date(c,u-1,p,f,g,d))},e.format=function(t){e.error=void 0;var s=t;return s&&0!=s.toString().length?(s=s?c(s)?t:new Date(ss.parseWithFormat(s,e.parseFormatString)):new Date,isNaN(s)?(e.error="invalid date",e.returnValueWhenError?t:""):i(s,e.formatString)):(e.error="invalid date",e.returnValueWhenError?t:"")}};V._propertyType={rpcList:Array,RPCList:Array},ki(V,Vi),V.prototype.getRPCList=V.prototype.getRpcList=function(){return this._rpcList},V.prototype.setRPCList=V.prototype.setRpcList=function(t){if(t&&t!=this._rpcList){this._rpcList=t;var e,i,s,a,r,n=[];for(e=0;e<t.length;++e){if(s=t[e],i=new O,a=s.name,!a)throw"you must define name property.";for(r in s)i.hasOwnProperty(r)&&(i[r]=s[r]);n.push(i)}this.setOperationList(n),this._rpcListChange=!0}},V.prototype.setOperationList=function(t){if(null==t)this.operations=null;else{var e,i,s,a={};for(e=0;e<t.length;e++){if(i=t[e],s=i.name,!s)throw"Operations must have a name property value for HTTPMultiService";a[s]=i}this.operations=a}},V.prototype.getOperationList=function(){if(null==this.operations)return null;var t,e,i=[];for(t in this.operations)e=this.operations[t],i.push(e);return i},V.prototype.invalidateRPCList=function(){var e=this;e._timer&&clearInterval(e._timer),e.initAllOperation(),e._timerInitFlag=!0;var i,s,a=[],r=e._rpcList;for(i=0;i<r.length;i++)a.push(parseInt(r[i].interval));for(a.sort(),s=a[0],i=1;i<a.length;i++)if(!h(a[i])&&0!=a[i]%s){s=1;break}s*=1e3,i=function(){var i,a,n,o,l,d=(new Date).getTime();for(e.currentCount+=s/1e3,i=0;i<r.length;i++)if(a=r[i],o=e.getOperation(a.name),n=e._restIntervalMap[o.name],l=null!=e._msgTimeNowMap[o.name]?e._msgTimeNowMap[o.name].getTime():(new Date).getTime(),e._timerInitFlag)n={requestAllData:!0},e._msgIndexMap[o.name]="init",n.dummy=d,n.url=e.baseURL+qi.serialization(a.url,n),t({url:n.url,onSuccess:e.operationResultHandler,onError:e.operationFaultHandler,target:o,currentTarget:e});else{var c;c=e._initDateMap[o.name]instanceof Date?e._initDateMap[o.name].getTime():(new Date).getTime(),h(a.interval)&&(l+=1e3,e._msgTimeNowMap[o.name]=new Date(l)),(0==(e.currentCount+n)%a.interval||c<=l)&&e._sendingOperationMap[o.name]&&(n={},c<=l?(n.requestAllData=!0,e._initCompleteOperationMap[o.name]=!1):n.requestAllData=!1,n.index=e._msgIndexMap[o.name],n.dummy=d,n.url=e.baseURL+qi.serialization(a.url,n),t({url:n.url,onSuccess:e.operationResultHandler,onError:e.operationFaultHandler,target:o,currentTarget:e}))}e.currentCount>=e.TIMER_COUNT_MAX&&(e.calculateOperationRestInterval(e.currentCount),clearInterval(e._timer)),e._timerInitFlag=!1},i(),e._timer=setInterval(i,s)},V.prototype.calculateOperationRestInterval=function(t){var e,i,s;for(e=0;e<this._rpcList.length;++e)i=this._rpcList[e],s=this.getOperation(i.name),h(i.interval)||(this._restIntervalMap[s.name]=t%i.interval)},V.prototype.initAllOperation=function(){var t,e,i;for(this._operationMap={},this._msgTimeNowMap={},this._endDateMap={},this._startDateMap={},this._initDateMap={},this._msgIndexMap={},this._targetDataMap={},this._sendingOperationMap={},this._initCompleteOperationMap={},this._restIntervalMap={},this._origianlRetryCount={},t=0;t<this._rpcList.length;t++)e=this._rpcList[t],i=this.getOperation(e.name),this._operationMap[i.name]=e,this._sendingOperationMap[i.name]=!0,this._initCompleteOperationMap[i.name]=!1,this._restIntervalMap[i.name]=0,this._origianlRetryCount[i.name]=e.retryCount},V.prototype.serviceStart=function(){this.invalidateRPCList()},V.prototype.operationResultHandler=function(t,e){try{var i,s=e.target,a=e.currentTarget,r=a.realTimeXmlData2array(t),n=r.infoMsg,o=r.item,h=a._operationMap[s.name];if(n){if(a._receiveMsgIndex=void 0!=n.index?n.index:null,n.timeNow?(a._timeNow=n.timeNow,a._msgTimeNowMap[s.name]=a.dateParseFunction(a._timeNow)):a._msgTimeNowMap[s.name]=new Date,n.startDate?(a._startDate=n.startDate,a._startDateMap[s.name]=a.dateParseFunction(a._startDate)):a._startDate=null,n.endDate?(a._endDate=n.endDate,a._endDateMap[s.name]=a.dateParseFunction(a._endDate)):a._endDate=null,n.nextInitDate?(a._nextInitDate=n.nextInitDate,a._initDateMap[s.name]=a.dateParseFunction(a._nextInitDate)):a._nextInitDate=null,n.isInitData?(h.retryCount=a._origianlRetryCount[s.name],a._isInitData="true"==n.isInitData.toString(),a._initCompleteOperationMap[s.name]=!0):a._isInitData=!1,a._isInitData){o.constructor===Array?i=o.concat():(i=[],i.push(o));var l;a._startDate&&h.target instanceof Qe&&h.target.getAxis("h")instanceof Lt&&(l=h.target.getAxis("h"),l.setMinimum(a.dateParseFunction(a._startDate))),a._endDate&&h.target instanceof Qe&&h.target.getAxis("h")instanceof Lt&&(l=h.target.getAxis("h"),l.setMaximum(a.dateParseFunction(a._endDate)))}else i=a._targetDataMap[h.target.id],o&&(o instanceof Array?i.push(o.list):i.push(o));a._msgIndexMap[a]=a._receiveMsgIndex,a._targetDataMap[h.target.id]=i,h.target.hasOwnProperty("_dataProvider")?h.target.setDataProvider(i.concat()):clearInterval(a._timer)}else a.showErrorMessage&&alert("In a response XML of the server-side, 'infoMsg' node definitions is required"),clearInterval(a._timer)}catch(d){clearInterval(a._timer)}},V.prototype.operationFaultHandler=function(e,i){var s,a=i.target,r=i.currentTarget,n=r._operationMap[a.name];0>=n.retryCount&&!r._initCompleteOperationMap[a.name]?(r.showErrorMessage&&alert("Fail to load.\nPlease check the URL path"),r._sendingOperationMap[a.name]=!1):0<n.retryCount&&!r._initCompleteOperationMap[a.name]?(--n.retryCount,s={requestAllData:!0},r._msgIndexMap[a.name]="init",s.dummy=(new Date).getTime(),s.url=r.baseURL+qi.serialization(n.url,s),t({url:s.url,onSuccess:r.operationResultHandler,onError:r.operationFaultHandler,target:a,currentTarget:r})):r.showErrorMessage&&alert("Exception Error of HttpMultiServiceRepeater")},V.prototype.dateParseFunction=function(t){return new Date(Date.parse(t))},V.prototype.getOperation=function(t){return t=this.operations[t],t instanceof O?t:null},V.prototype.realTimeXmlData2array=function(t){function e(t){var e,s,a,r=0,n=[];if(1<t.length){for(;r<t.length;r++)if(1==t[r].nodeType){e=t[r].childNodes,i={};for(var o=0;o<e.length;o++)1==e[o].nodeType&&(s=e[o].nodeName,a=e[o].textContent||e[o].text,i[s]=a);n.push(i)}return n}for(i={};r<t.childNodes.length;r++)1==t.childNodes[r].nodeType&&(s=t.childNodes[r].nodeName,a=t.childNodes[r].textContent||t.childNodes[r].text,i[s]=a);return i}var i,s={},a=t.getElementsByTagName("infoMsg")[0],a=e(a);return t=1<t.getElementsByTagName("item").length?t.getElementsByTagName("item"):t.getElementsByTagName("item")[0],t=e(t),s.infoMsg=a,s.item=t,s},ki(z,Vi),z.prototype.getActualDuration=function(){var t=NaN;return 0<this._repeatCount&&(t=this._duration*this._repeatCount+(this._repeatDelay*this._repeatCount-1)+this._startDelay),t},z.prototype.getDuration=function(){return!this._durationExplicitlySet&&this._parentCompositeEffectInstance?this._parentCompositeEffectInstance.getDuration():this._duration},z.prototype.setDuration=function(t){this.durationExplicitlySet=!0,this._duration=t},z.prototype.getEffect=function(){return this._effect},z.prototype.setEffect=function(t){this._effect=t},z.prototype.getEffectTargetHost=function(){return this._effectTargetHost},z.prototype.setEffectTargetHost=function(t){this._effectTargetHost=t},z.prototype.getHideFocusRing=function(){return this._hideFocusRing},z.prototype.setHideFocusRing=function(t){this._hideFocusRing=t},z.prototype.getPlayheadTime=function(){return Math.max(this._playCount-1,0)*this._duration+Math.max(this._playCount-2,0)*this._repeatDelay+(this._playReversed?0:this._startDelay)},z.prototype.getPlayReversed=function(){return this._playReversed},z.prototype.setPlayReversed=function(t){this._playReversed=t},z.prototype.getPropertyChanges=function(){return this._propertyChanges},z.prototype.setPropertyChanges=function(t){this._propertyChanges=t},z.prototype.getRepeatCount=function(){return this._repeatCount},z.prototype.setRepeatCount=function(t){this._repeatCount=t},z.prototype.getRepeatDelay=function(){return this._repeatDelay},z.prototype.setRepeatDelay=function(t){this._repeatDelay=t},z.prototype.getStartDelay=function(){return this._startDelay},z.prototype.setStartDelay=function(t){this._startDelay=t},z.prototype.getSuspendBackgroundProcessing=function(){return this._suspendBackgroundProcessing},z.prototype.setSuspendBackgroundProcessing=function(t){this._suspendBackgroundProcessing=t},z.prototype.getTarget=function(){return this._target},z.prototype.setTarget=function(t){this._target=t},z.prototype.getTriggerEvent=function(){return this._triggerEvent},z.prototype.setTriggerEvent=function(t){this._triggerEvent=t},z.prototype.initEffect=function(t){var e=this.getTarget();switch(this._triggerEvent=t,t.type){case"resizeStart":case"resizeEnd":this._durationExplicitlySet||this.setDuration(250);break;case"hide":e.setVisible(!0,!0),this._hideOnEffectEnd=!0,e.addEventListener("show",this._eventHandler)}},z.prototype.startEffect=function(){var t=this.getTarget();R.effectStarted(this.uno),t instanceof _&&t.effectStarted(this),0<this._startDelay&&!this._playReversed?(this._delayTimer=new Timer(this._startDelay,1),this._delayStartTime=(new Date).getTime(),this._delayTimer.addEventListener("timer",this._delayTimerHandler),this._delayTimer.start()):this.play()},z.prototype.play=function(){var t=this.getTarget();this._playCount++,this.dispatchEvent(new P(P.EFFECT_START,(!1),(!1),this)),t&&t.dispatchEvent(new P(P.EFFECT_START,(!1),(!1),this))},z.prototype.pause=function(){this._delayTimer&&this._delayTimer.running&&!h(this._delayStartTime)&&(this._delayTimer.stop(),this._delayElapsedTime=(new Date).getTime()-this._delayStartTime)},z.prototype.stop=function(){this._delayTimer&&this._delayTimer.reset(),this._stopRepeat=!0,this.finishEffect()},z.prototype.resume=function(){!this._delayTimer||this._delayTimer.running||h(this._delayElapsedTime)||(this._delayTimer.delay=this._playReversed?this._delayElapsedTime:this._delayTimer.delay-this._delayElapsedTime,this._delayTimer.start())},z.prototype.reverse=function(){0<this._repeatCount&&(this._playCount=this._repeatCount-this._playCount+1)},z.prototype.end=function(){this._delayTimer&&this._delayTimer.reset(),this._stopRepeat=!0,this.finishEffect()},z.prototype.finishEffect=function(){var t=this.getTarget();this._playCount=0,this.dispatchEvent(new P(P.EFFECT_END,(!1),(!1),this)),t&&t.dispatchEvent(new P(P.EFFECT_END,(!1),(!1),this)),t instanceof _&&t.effectFinished(this),R.effectFinished(this.uno)},z.prototype.finishRepeat=function(){!this._stopRepeat&&0!=this._playCount&&(this._playCount<this._repeatCount||0==this._repeatCount)?0<this._repeatDelay?(this._delayTimer=new Timer(this._repeatDelay,1),this._delayStartTime=(new Date).getTime(),this._delayTimer.addEventListener("timer",this._delayTimerHandler),this._delayTimer.start()):this.play():this.finishEffect()},z.prototype._playWithNoDuration=function(){this.setDuration(0),this.setRepeatCount(1),this.setRepeatDelay(0),this.setStartDelay(0),this.startEffect()},z.prototype._eventHandler=function(t){"show"==t.type&&1==this._hideOnEffectEnd&&(this._hideOnEffectEnd=!1,t.target.removeEventListener("show",this._eventHandler))},z.prototype._delayTimerHandler=function(t){this._delayTimer.reset(),this._delayElapsedTime=this._delayStartTime=NaN,this.play()},ki(W,Vi),W.activeTweens=[],W.timer=null,W.interval=50,W.intervalTime=NaN,W.addTween=function(t){t._id=W.activeTweens.length,W.activeTweens.push(t),W.timer||(W.timer=new D(this,W.timerHandler),W.timer.start()),h(W.intervalTime)&&(W.intervalTime=(new Date).getTime()),t._startTime=t._previousUpdateTime=W.intervalTime},W.removeTweenAt=function(t){if(!(t>=W.activeTweens.length||0>t)){W.activeTweens.splice(t,1);var e,i=W.activeTweens.length;for(e=t;e<i;e+=1)t=W.activeTweens[e],t._id--;i||(W.intervalTime=NaN,W.timer.reset(),W.timer=null)}},W.removeTween=function(t){W.removeTweenAt(t._id)},W.timerHandler=function(t){var e;t=!1;var i;for(e=W.activeTweens.length,W.intervalTime=(new Date).getTime(),i=e;0<=i;--i)(e=W.activeTweens[i])&&(e.needToLayout=!1,e._doInterval(),e.needToLayout&&(t=!0));t&&rs.getInstance().validateNow()},W.prototype.getPlayheadTime=function(){return this._playheadTime},W.prototype.getPlayReversed=function(){return this._invertValues},W.prototype.setPlayReversed=function(t){this._invertValues=t},W.prototype.setTweenHandlers=function(t,e){this._updateFunction=t,this._endFunction=e},W.prototype.setEasingFunction=function(t){this._userEquation=t},W.prototype.endTween=function(t){var e=new ps(ps.TWEEN_END);t=this._getCurrentValue(t?W.intervalTime-this._startTime:this.duration),this.dispatchEvent(e),null!=this._endFunction?this._endFunction(t):this.listener.onTweenEnd(t),0<=this._id&&W.removeTweenAt(this._id),e.value=t},W.prototype.seek=function(t){this._previousUpdateTime=t=W.intervalTime,this._startTime=t-this._playheadTime,this._doSeek=!0},W.prototype.reverse=function(){this._isPlaying?(this._doReverse=!1,this.seek(this.duration-this._playheadTime),this._invertValues=!this._invertValues):this._doReverse=!this._doReverse},W.prototype.pause=function(){this._isPlaying=!1},W.prototype.stop=function(){0<=this._id&&W.removeTweenAt(this._id)},W.prototype.resume=function(){this._isPlaying=!0,this._startTime=W.intervalTime-this._playheadTime,this._doReverse&&(this.reverse(),this._doReverse=!1)},W.prototype._defaultEasingFunction=function(t,e,i,s){return i/2*(Math.sin(Math.PI*(t/s-.5))+1)+e},W.prototype._doInterval=function(){var t,e,i=!1;return this._previousUpdateTime=e=W.intervalTime,(this._isPlaying||this._doSeek)&&(this._playheadTime=t=e-this._startTime,e=this._getCurrentValue(t),t>=this.duration&&!this._doSeek?(this.endTween(),i=!0):(this._started||(t=new ps(ps.TWEEN_START),this.dispatchEvent(t),this._started=!0),t=new ps(ps.TWEEN_UPDATE),t.value=e,this.dispatchEvent(t),null!=this._updateFunction?this._updateFunction(e):this.listener.onTweenUpdate(e)),this._doSeek=!1),i},W.prototype._getCurrentValue=function(t){var e,i,s;if(0==this.duration)return this._endValue;if(this._invertValues&&(t=this.duration-t),this._arrayMode){for(s=[],i=this._startValue.length,e=0;e<i;e++)s.push(this._userEquation(t,this._startValue[e],this._endValue[e]-this._startValue[e],this.duration));return s}return this._userEquation(t,this._startValue,Number(this._endValue)-Number(this._startValue),this.duration)},ki(B,Vi),B.mergeArrays=function(t,e){var i,s,a;if(e)for(i=0;i<e.length;i+=1){for(a=!0,s=0;s<t.length;s+=1)if(t[s]==e[i]){a=!1;break}a&&t.push(e[i])}return t},B.stripUnchangedValues=function(t){var e,i,s,a=t.length;for(s=0;s<a;s++)for(e in i=t[s],i.start)(i.start[e]==i.end[e]||"number"==typeof i.start[e]&&"number"==typeof i.end[e]&&isNaN(i.start[e])&&isNaN(i.end[e]))&&(delete i.start[e],delete i.end[e]);return t},B.prototype.getDuration=function(){return this._duration},B.prototype.setDuration=function(t){this._durationExplicitlySet=!0,this._duration=t},B.prototype.getEffectTargetHost=function(){return this._effectTargetHost},B.prototype.setEffectTargetHost=function(t){this._effectTargetHost=t},B.prototype.getHideFocusRing=function(){return this._hideFocusRing},B.prototype.setHideFocusRing=function(t){this._hideFocusRing=t},B.prototype.isPlaying=function(){return this._instances&&0<this._instances.length},B.prototype.getPerElementOffset=function(){return this._perElementOffset},B.prototype.setPerElementOffset=function(t){this._perElementOffset=t},B.prototype.getRelevantProperties=function(){return this._relevantProperties?this._relevantProperties:this.getAffectedProperties()},B.prototype.setRelevantProperties=function(t){this._relevantProperties=t},B.prototype.getRelevantStyles=function(){return this._relevantStyles},B.prototype.setRelevantStyles=function(t){this._relevantStyles=t},B.prototype.getTarget=function(){return 0<this._targets.length?this._targets[0]:null},B.prototype.setTarget=function(t){this._targets.splice(0,this._targets.length),t&&(this._targets[0]=t)},B.prototype.getTargets=function(){return this._targets},B.prototype.setTargets=function(t){var e;for(e=t.length-1;0<e;e--)null==t[e]&&t.splice(e,1);this._targets=t},B.prototype.getTriggerEvent=function(){return this._triggerEvent},B.prototype.setTriggerEvent=function(t){this._triggerEvent=t},B.prototype.getAffectedProperties=function(){return[]},B.prototype.createInstances=function(t){t||(t=this.getTargets());var e,i,s=[],a=t.length,r=0;for(i=0;i<a;i++)(e=this.createInstance(t[i]))&&(e.setStartDelay(e.getStartDelay()+r),r+=this._perElementOffset,s.push(e));return this._triggerEvent=null,s},B.prototype.createInstance=function(t){t||(t=this.getTarget());var e,i;e=!0;var s=null;if(i=!1,this._propertyChangesArray&&(i=!0,e=this._filterInstance(this._propertyChangesArray,t)),e){if(s=new this.instanceClass(t),this._initInstance(s),i)for(i=this._propertyChangesArray.length,e=0;e<i;e++)this._propertyChangesArray[e].target==t&&s.setPropertyChanges(this._propertyChangesArray[e]);
s.addEventListener(P.EFFECT_START,this._effectStartHandler,this),s.addEventListener(P.EFFECT_END,this._effectEndHandler,this),this._instances.push(s),this._triggerEvent&&s.initEffect(this._triggerEvent)}return s},B.prototype.deleteInstance=function(t){var e,i=this._instances.length;for(t.removeEventListener(P.EFFECT_START,this._effectStartHandler,this),t.removeEventListener(P.EFFECT_END,this._effectEndHandler,this),e=0;e<i;e++)this._instances[e]===t&&this._instances.splice(e,1)},B.prototype.play=function(t,e){var i,s;this.getTargets(),null==t&&null!=this._propertyChangesArray&&(this._callValidateNow&&rs.getInstance().validateNow(),this._endValuesCaptured||(this._propertyChangesArray=this._captureValues(this._propertyChangesArray,!1)),this._propertyChangesArray=B.stripUnchangedValues(this._propertyChangesArray),this._applyStartValues(this._propertyChangesArray,t));var a,r=this.createInstances(t);for(s=r.length,i=0;i<s;i++)a=r[i],a.setPlayReversed(e),a.startEffect();return r},B.prototype.pause=function(){var t,e;if(this._isPlaying&&!this._isPaused)for(this._isPaused=!0,e=this._instances.length,t=0;t<e;t++)this._instances[t].pause()},B.prototype.stop=function(){var t,e;for(t=this._instances.length;0<=t;t--)(e=this._instances[t])&&e.stop()},B.prototype.resume=function(){var t,e;if(this._isPlaying&&this._isPaused)for(this._isPaused=!1,e=this._instances.length,t=0;t<e;t++)this._instances[t].resume()},B.prototype.reverse=function(){var t,e;if(this._isPlaying)for(e=this._instances.length,t=0;t<e;t++)this._instances[t].reverse()},B.prototype.end=function(t){var e;if(t)t.end();else for(t=this._instances.length;0<=t;t--)(e=this._instances[t])&&e.end()},B.prototype.captureStartValues=function(){0<this.getTargets().length&&(this._propertyChangesArray=this._captureValues(null,!0),this._callValidateNow=!0),this._endValuesCaptured=!1},B.prototype.captureMoreStartValues=function(t){0<this.getTargets().length&&(t=this._captureValues(null,!0),this._propertyChangesArray=this._propertyChangesArray.concat(t))},B.prototype.captureEndValues=function(){this._propertyChangesArray=this._captureValues(this._propertyChangesArray,!1),this._endValuesCaptured=!0},B.prototype._filterInstance=function(t,e){return!this._filterObject||this._filterObject.filterInstance(t,this._effectTargetHost,e)},B.prototype._initInstance=function(t){t.setDuration(this._duration),t._durationExplicitlySet=this._durationExplicitlySet,t.setEffect(this),t.setEffectTargetHost(this._effectTargetHost),t.setHideFocusRing(this._hideFocusRing),t.setRepeatCount(this.repeatCount),t.setRepeatDelay(this.repeatDelay),t.setStartDelay(this.startDelay),t.setSuspendBackgroundProcessing(this.suspendBackgroundProcessing)},B.prototype._captureValues=function(t,e){var i,s,a,r,n,o;if(!t)for(t=[],s=this.getTargets().length,i=0;i<s;i++)t.push(new X(this.getTargets()[i]));if((n=this._filterObject?B.mergeArrays(this._relevantProperties,this._filterObject.filterProperties):this._relevantProperties)&&0<n.length)for(s=t.length,i=0;i<s;i++)for(this.setTarget(t[i].getTarget()),o=e?t[i].start:t[i].end,r=n.length,a=0;a<r;a++)o[n[a]]=this._getValueFromTarget(this.getTarget(),n[a]);if((n=this._filterObject?B.mergeArrays(this._relevantStyles,this._filterObject.filterStyles):this._relevantStyles)&&0<n.length)for(s=t.length,i=0;i<s;i++)for(this.setTarget(t[i].target()),o=e?t[i].start:t[i].end,r=n.length,a=0;a<r;a++)o[n[a]]=this.getTarget().getStyle(n[a]);return t},B.prototype._getValueFromTarget=function(t,e){if(e in t)return t[e]},B.prototype._applyStartValues=function(t,e){var i,s,a,r,n,o,h=this._relevantProperties;for(s=t.length,i=0;i<s;i++){for(n=t[i].getTarget(),o=!1,r=this.getTargets().length,a=0;a<r;a++)if(this.getTargets()[a]==n){o=this._filterInstance(t,n);break}if(o){for(r=h.length,a=0;a<r;a++)h[a]in t[i].start&&h[a]in n&&this._applyValueToTarget(n,h[a],t[i].start[h[a]],t[i].start);for(r=this._relevantStyles.length,a=0;a<r;a++)this._relevantStyles[a]in t[i].start&&n.setStyle(this._relevantStyles[a],t[i].start[this._relevantStyles[a]])}}},B.prototype.applyValueToTarget=function(t,e,i,s){if(e in t)try{this._applyActualDimensions&&t instanceof m&&"height"==e?t.setActualSize(t.width,i):this._applyActualDimensions&&t instanceof m&&"width"==e?t.setActualSize(i,t.height):t[e]=i}catch(a){}},B.prototype._effectStartHandler=function(t){this.dispatchEvent(t)},B.prototype._effectEndHandler=function(t){this.deleteInstance(t.effectInstance),this.dispatchEvent(t)},ki(U,B),U.prototype._initInstance=function(t){U._super._initInstance.call(this,t),t.easingFunction=this.easingFunction,t.addEventListener(ps.TWEEN_START,this._tweenEventHandler),t.addEventListener(ps.TWEEN_UPDATE,this._tweenEventHandler),t.addEventListener(ps.TWEEN_END,this._tweenEventHandler)},U.prototype._tweenEventHandler=function(t){this.dispatchEvent(t)},ki(G,B),G.prototype.getAffectedProperties=function(){var t,e,i;if(this._affectedProperties){for(t=[],i=this.children.length,e=0;e<i;e+=1)t=t.concat(this.children[e].getAffectedProperties());this._affectedProperties=t}return this._affectedProperties},G.prototype.createInstance=function(t){return this._childTargets||(this._childTargets=[t]),t=G._super.createInstance.call(this,t),this._childTargets=null,t},G.prototype.createInstances=function(t){return t||(t=this.getTargets()),this._childTargets=t,t=this.createInstance(),this._childTargets=null,t?[t]:[]},G.prototype.filterInstance=function(t,e){var i,s,a;if(this._filterObject){for(a=this.getTargets(),a.length||(a=this._childTargets),s=a.length,i=0;i<s;i+=1)if(this._filterObject.filterInstance(t,this.getEffectTargetHost(),a[i]))return!0;return!1}return!0},G.prototype._initInstance=function(t){var i,s,a;if(i=this._childTargets,G._super._initInstance.call(this,t),e(i),this.children)for(s=this.children.length,i=0;i<s;i+=1)a=this.children[i],null!=this._propertyChangesArray&&(a._propertyChangesArray=this._propertyChangesArray),null==a._filterObject&&this._filterObject&&(a._filterObject=this._filterObject),0==a.getTargets().length?t.addChildSet(this.children[i].createInstances(this.getTargets())):t.addChildSet(this.children[i].createInstances(a.getTargets()))},G.prototype.captureStartValue=function(){var t,e,i=this.getChildrenTargets();for(this._propertyChangesArray=[],e=i.length,t=0;t<e;t+=1)this._propertyChangesArray.push(new X(i[t]));this._endValuesCaptured=!1},G.prototype._applyStartValues=function(t,e){var i,s,a,r;for(s=this.children.length,i=0;i<s;i+=1)a=this.children[i],r=0<a.getTargets().length?a.getTargets():this.getTargets(),!a._filterObject&&this._filterObject&&(a._filterObject=this._filterObject),a._applyStartValues(t,r)},G.prototype.addChild=function(t){this.children.push(t),this._affectedProperties=null},G.prototype.getChildrenTargets=function(){var t,e,i,s,a,r,n=[],o={},h=this.getTargets();for(e=this.child.length,t=0;t<e;t+=1)if(i=this.children[t],i instanceof G)for(r=i.getChildrenTargets(),s=r.length,i=0;i<s;i+=1)r[i]&&(o[r[i].toString()]=r[i]);else if(i.getTargets())for(r=i.getTargets(),s=r.length,i=0;i<s;i+=1)r[i]&&(o[r[i].toString()]=r[i]);for(e=h.length,t=0;t<e;t+=1)h[t]&&(o[h[t].toString()]=h[t]);for(a in o)n.push(o[a]);return n},ki(Y,G),ki(J,z),J.prototype.setPlayReversed=function(t){J._super.setPlayReversed.call(this,t),this.tween&&this.tween.setPlayReversed(t)},J.prototype.getPlayheadTime=function(){return this.tween?this.tween.getPlayheadTime()+J._super.getPlayheadTime():0},J.prototype.pause=function(){z._super.pause.call(this),this.tween&&this.tween.pause()},J.prototype.stop=function(){J._super.stop.call(this),this.tween&&this.tween.stop()},J.prototype.resume=function(){J._super.resume.call(this),this.tween&&this.tween.resume()},J.prototype.reverse=function(){J._super.reverse.call(this),this.tween&&this.tween.reverse(),J._super.setPlayReversed(!this.getPlayReversed())},J.prototype.seek=function(t){this.tween?this.tween.seek(t):this._seekTime=t},J.prototype.end=function(){this._stopRepeat=!0,this._delayTimer&&this._delayTimer.reset(),this.tween&&(this.tween.endTween(),this.tween=null)},J.prototype.onTweenUpdate=function(t){},J.prototype.onTweenEnd=function(t){this.onTweenUpdate(t),this.tween=null,this._needToLayout&&rs.getInstance().validateNow(),this.finishRepeat()},J.prototype._createTween=function(t,e,i,s,a,r,n,o,h,l,d){return s=this._seekTime,a=this.easingFunction,r=this.getPlayReversed(),void 0==l&&(l=-1),void 0==d&&(d=-1),t=new W(t,e,i,l,d),t.addEventListener(ps.TWEEN_START,this._tweenEventHandler),t.addEventListener(ps.TWEEN_UPDATE,this._tweenEventHandler),t.addEventListener(ps.TWEEN_END,this._tweenEventHandler),null!=a&&(t.easingFunction=a),0<s&&t.seek(s),t.playReversed=r,t},J.prototype._applyTweenStartValues=function(){var t=this.tween;0<this.duration&&this.onTweenUpdate(t.getCurrentValue(0))},J.prototype._tweenEventHandler=function(t){this.dispatchEvent(t)},ki(j,z),j.prototype.getActualDuration=function(){var t=NaN;return 0<this._repeatCount&&(t=this.getDurationWithoutRepeat()*this._repeatCount+(this._repeatDelay*this._repeatCount-1)+this._startDelay),t},j.prototype.getPlayheadTime=function(){return this._playheadTime+z._CompositeEffectInstance._super.getPlayheadTime.call(this)},j.prototype.getDurationWithoutRepeat=function(){return 0},j.prototype.play=function(){this._timerTween=new W(this,0,0,this.getDurationWithoutRepeat()),j._super.play.call(this)},j.prototype.pause=function(){j._super.pause.call(this),this._timerTween&&this._timerTween.pause()},j.prototype.stop=function(){j._super.stop.call(this),this._timerTween&&this._timerTween.stop()},j.prototype.resume=function(){j._super.resume.call(this),this._timerTween&&this._timerTween.resume()},j.prototype.reverse=function(){j._super.reverse.call(this),j._super.setPlayReversed(!this._playReversed),this._timerTween&&this._timerTween.reverse()},j.prototype.finishEffect=function(){this._activeEffectQueue=null,j._super.finishEffect.call(this)},j.prototype.addChildSet=function(t){var e,i;if(t&&(i=t.length,0<i))for(this._childSets?this._childSets.push(t):this._childSets=[t],e=0;e<i;e++)t[e].addEventListener(P.EFFECT_END,this._effectEndHandler,this),t[e]._parentCompositeEffectInstance=this},j.prototype.hasRotateInstance=function(){return!1},j.prototype.playWithNoDuration=function(){j._super.playWithNoDuration.call(this),this.end()},j.prototype.onEffectEnd=function(t){},j.prototype.onTweenUpdate=function(t){this._playheadTime=this._timerTween?this._timerTween._playheadTime:this._playheadTime},j.prototype.onTweenEnd=function(t){this._playheadTime=this._timerTween?this._timerTween._playheadTime:this._playheadTime},j.prototype.initEffect=function(t){var e,i,s,a,r;for(j._super.initEffect.call(this,t),i=this._childSets.length,e=0;e<i;e++)for(r=this._childSets[e],a=r.length,s=0;s<a;s++)r[s].initEffect(t)},j.prototype._effectEndHandler=function(t){this.onEffectEnd(t.effectInstance)},ki(Q,j),Q.prototype.getDurationWithoutRepeat=function(){var t,e,i,s=0;for(e=this._childSets.length,t=0;t<e;t+=1)i=this._childSets[t],s=Math.max(i[0].getActualDuration(),s);return s},Q.prototype.addChildSet=function(t){Q._super.addChildSet.call(this,t)},Q.prototype.play=function(){var t,e;this._doneEffectQueue=[],this._activeEffectQueue=[],this._replayEffectQueue=[];var i,s,a,r;for(Q._super.play.call(this),e=this._childSets.length,t=0;t<e;t+=1)for(r=this._childSets[t],s=r.length,i=0;i<s&&null!=this._activeEffectQueue;i+=1)a=r[i],this._playReversed&&a.getActualDuration()<this.getDurationWithoutRepeat()?(this._replayEffectQueue.push(a),this.startTimer()):(a._playReversed=this._playReversed,this._activeEffectQueue.push(a));if(0<this._activeEffectQueue.length)for(i=this._activeEffectQueue.slice(0),t=0;t<e;t+=1)i[t].startEffect()},Q.prototype.pause=function(){var t,e;for(Q._super.pause.call(this),e=this._activeEffectQueue.length,t=0;t<e;t+=1)this._activeEffectQueue[t].pause()},Q.prototype.stop=function(){var t,e,i;if(this._stopTimer(),this._activeEffectQueue)for(i=this._activeEffectQueue.concat(),this._activeEffectQueue=null,e=i.length,t=0;t<e;t+=1)i[t]&&i[t].stop();Q._super.stop.call(this)},Q.prototype.resume=function(){var t,e;for(Q._super.resume.call(this),e=this._activeEffectQueue.length,t=0;t<e;t+=1)this._activeEffectQueue[t].resume()},Q.prototype.reverse=function(){var t,e;if(Q._super.reverse.call(this),this._isReversed){for(e=this._activeEffectQueue.length,t=0;t<e;t+=1)this._activeEffectQueue[t].reverse();this._stopTimer()}else{for(this._replayEffectQueue=this._doneEffectQueue.splice(0,this._doneEffectQueue.length),e=this._activeEffectQueue.length,t=0;t<e;t+=1)this._activeEffectQueue[t].reverse();this.startTimer()}this._isReversed=!this._isReversed},Q.prototype.end=function(){var t,e,i;if(this._endEffectCalled=!0,this._stopTimer(),this._activeEffectQueue)for(i=this._activeEffectQueue.concat(),this._activeEffectQueue=null,e=i.length,t=0;t<e;t+=1)i[t]&&i[t].end();Q._super.end.call(this)},Q.prototype.onEffectEnd=function(t){var e,i;if(!this._endEffectCalled&&this._activeEffectQueue){for(i=this._activeEffectQueue.length,e=0;e<i;e+=1)if(t==this._activeEffectQueue[e]){this._doneEffectQueue.push(t),this._activeEffectQueue.splice(e,1);break}1==i&&this.finishRepeat()}},Q.prototype._startTimer=function(){var t=this._timer;t||(t=new Timer(10),t.addEventListener("timer",this._timerHandler)),t.start()},Q.prototype._stopTimer=function(){this._timer&&this._timer.reset()},Q.prototype._timerHandler=function(t){var e,i;if(t=this.getDurationWithoutRepeat()-this._playheadTime,e=this._replayEffectQueue.length)for(--e;0<=e;--e)i=this._replayEffectQueue[e],t<=i.getActualDuration()&&(this._activeEffectQueue.push(i),this._replayEffectQueue.splice(e,1),i.setPlayReversed(this._playReversed),i.startEffect());else this._stopTimer()},K.prototype.apply=function(t,e){var i,s=1;(i=e?e:this.stroke)&&(r(i)&&(s=i.weight,i=Qi.color2rgba(i.color,i.alpha)),t.strokeStyle=i,t.lineWidth=s,this._offset=.5*s||0)},K.prototype.createRect=function(t,e,i,s){var a=0,r=0,n=this._offset;return 0>i&&(a=2*n),0>s&&(r=2*n),t=new b(t+n,e+n,i-2*n,s-2*n),t.setLeft(t.left-a),t.setRight(t.right+a),t.width<=2*n?(t.setTop(e),t.setBottom(e+s)):(t.setTop(t.top-r),t.setBottom(t.bottom+r)),0!=2*n%2&&(t.left+=.5,t.width=t.right-t.left,t.right+=.5,t.width=t.right-t.left,t.top+=.5,t.height=t.bottom-t.top,t.bottom+=.5,t.height=t.bottom-t.top),t},K.prototype.clear=function(t,e,i,s){var a=this.graphics;a&&(this.apply(a,this.stroke),t=this.createRect(t,e,i,s),this._offset=0,a.save(),this.drawPath(a,t),a.clip(),$i.ie&&(a.globalCompositeOperation="copy"),a.clearRect(t.left,t.top,t.width,t.height),a.restore())},K.prototype.drawPath=function(t,e){};var bs=function(t){Vi.call(this),this._source=null,this._enableEvents=!1,arguments.length?this.setSource(t):this.setSource(null),this._enableEvents=!0};ki(bs,Vi),bs.prototype.getLength=function(){return this._source?this._source.length:0},bs.prototype.getSource=function(){return this._source},bs.prototype.setSource=function(t){d(t)?this._source=[]:e(t)?this._source=t:this._source=[t],this._enableEvents&&this.dispatchEvent(new us(us.COLLECTION_CHANGE,(!1),(!1),"reset",(-1),(-1)))},bs.prototype.addItem=function(t){this.addItemAt(t,this._source.length)},bs.prototype.addItemAt=function(t,e){if(0>e||e>this._source.length)throw new RangeError("Out of range error "+e);this._source.splice(e,0,t),this.dispatchEvent(new us(us.COLLECTION_CHANGE,(!1),(!1),"add",e,(-1),[t]))},bs.prototype.getItemAt=function(t){if(0>t||t>=this._source.length)throw new RangeError("Out of range error "+t);return this._source[t]},bs.prototype.getItemIndex=function(t){return Yi.indexOf(this._source,t)},bs.prototype.removeItemAt=function(t){if(0>t||t>=this._source.length)throw new RangeError("Out of range error "+t);var e=this._source.splice(t,1)[0];return this.dispatchEvent(new us(us.COLLECTION_CHANGE,(!1),(!1),"remove",t,(-1),[e])),e},bs.prototype.removeAll=function(){0>=this._source.length||(this._source.splice(0,this._source.length),this.dispatchEvent(new us(us.COLLECTION_CHANGE,(!1),(!1),"reset",(-1),(-1))))},bs.prototype.setItemAt=function(t,e){if(0>e||e>=this._source.length)throw new RangeError("Out of range error "+e);var i=this._source[e];this._source[e]=t,i=new ms(ms.PROPERTY_CHANGE,(!1),(!1),"update",e,i,t),this.dispatchEvent(new us(us.COLLECTION_CHANGE,(!1),(!1),"replace",e,(-1),[i]))},bs.prototype.itemUpdated=function(t,e,i,s){t=new ms(ms.PROPERTY_CHANGE,(!1),(!1),"update",e,i,s,t),this.dispatchEvent(new us(us.COLLECTION_CHANGE,(!1),(!1),"update",(-1),(-1),[t]))},bs.prototype.getProperty=function(t,e){return null==t?null:t[e]},bs.prototype.setProperty=function(t,e,i){null!=t&&(t[e]=i)},bs.prototype.getPropertyAt=function(t,e){var i=this.getItemAt(t);return null==i?null:i[e]},bs.prototype.setPropertyAt=function(t,e,i){t=this.getItemAt(t),null!=t&&(t[e]=i)},bs.prototype.toArray=function(){return this._source.concat()},bs.prototype.toString=function(){return this._source?"object"==typeof JSON?JSON.stringify(this._source):this._source.toString():this.constructor.name};var Ss=function(){Vi.call(this)};ki(Ss,Vi),Ss.prototype.contains=function(t){throw"must override contains method in "+this.constructor.name},Ss.prototype.createCursor=function(t){throw"must override createCursor method in "+this.constructor.name},Ss.prototype.disableAutoUpdate=function(){throw"must override disableAutoUpdate method in "+this.constructor.name},Ss.prototype.enableAutoUpdate=function(){throw"must override enableAutoUpdate method in "+this.constructor.name},Ss.prototype.itemUpdated=function(t,e,i,s){throw"must override itemUpdated method in "+this.constructor.name},Ss.prototype.refresh=function(){throw"must override refresh method in "+this.constructor.name};var Cs=function(t){Vi.call(this),this._sort=this._list=this._localIndex=this.filterFunction=null,this._autoUpdateCounter=0,this._dispatchResetEvent=!0,this._eventDispatcher=new Vi,arguments.length?this.setList(t):this.setList(null)};ki(Cs,Ss),Cs.prototype.getLength=function(){return this._localIndex?this._localIndex.length:this._list?this._list.getLength():0},Cs.prototype.getList=function(){return this._list},Cs.prototype.setList=function(t){if(this._list!=t){var e=!1,i=!1;this._list&&(this._list.removeEventListener(us.COLLECTION_CHANGE,this._listChangeHandler,this),e=0<this._list.getLength()),(this._list=t)&&(this._list.addEventListener(us.COLLECTION_CHANGE,this._listChangeHandler,this),i=0<this._list.getLength()),(e||i)&&this.reset(),this.dispatchEvent(new cs("listChanged"))}},Cs.prototype.getSort=function(){return this._sort},Cs.prototype.setSort=function(t){this._sort=t},Cs.prototype.addAll=function(t){this.addAllAt(t,this.getLength())},Cs.prototype.addAllAt=function(t,i){var s,r,o,h;if(e(t))for(s=0;s<t.length;s++)this._list.addItemAt(t[s],i+s);else{if(a(t))h=9===t.nodeType?t.documentElement.childNodes:t.childNodes;else{s=!1,r=null!=t&&"undefined"!=typeof t;try{s=r&&t instanceof NodeList}catch(l){}r=r&&n(t.length)&&"undefined"!=typeof t.item,(s||r)&&(h=0<t.length&&9===t[0].parentNode.nodeType?t[0].parentNode.documentElement.childNodes:t[0].parentNode.childNodes)}if(!h)throw Error("children not found error in addAllAt "+i);for(r=s=0,o=h.length;s<o;s++)1===h[s].nodeType&&this._list.addItemAt(h[s],i+r++)}},Cs.prototype.addItem=function(t){this.addItemAt(t,this.getLength())},Cs.prototype.addItemAt=function(t,e){if(0>e||e>this.getLength())throw new RangeError("Out of range error "+e);var i=e;this._localIndex&&this._sort?i=this._list.getLength():this._localIndex&&null!=this.filterFunction&&(i=i===this._localIndex.length?this._list.getLength():this._list.getItemIndex(this._localIndex[e])),this._list.addItemAt(t,i)},Cs.prototype.getItemAt=function(t){if(0>t||t>=this.getLength())throw new RangeError("Out of range error "+t);return this._localIndex?this._localIndex[t]:this._list?this._list.getItemAt(t):null},Cs.prototype.getItemIndex=function(t){return this._sort||null!=this.filterFunction?Yi.indexOf(this._localIndex,t):this._list.getItemIndex(t)},Cs.prototype.getLocalItemIndex=function(t){var e,i;if(this._localIndex)for(i=this._localIndex.length,e=0;e<i;e++)if(this._localIndex[e]==t)return e;return-1},Cs.prototype.removeItemAt=function(t){if(0>t||t>=this.getLength())throw new RangeError("Out of range error "+t);var e=t;return this._localIndex&&(e=this._list.getItemIndex(this._localIndex[t])),this._list.removeItemAt(e)},Cs.prototype.removeAll=function(){var t;if(t=this.getLength(),0<t)if(this._localIndex)for(--t;0<=t;t--)this.removeItemAt(t);else this._list.removeAll()},Cs.prototype.setItemAt=function(t,e){if(0>e||e>=this.getLength())throw new RangeError("Out of range error "+e);var i=e;return this._localIndex&&(i=e>this._localIndex.length?this._list.getLength():this._list.getItemIndex(this._localIndex[e])),this._list.setItemAt(t,i)},Cs.prototype.itemUpdated=function(t,e,i,s){this._list&&this._list.itemUpdated(t,e,i,s)},Cs.prototype.getProperty=function(t,e){return this._list?this._list.getProperty(t,e):null},Cs.prototype.setProperty=function(t,e,i){if(this._list)return this._list.setProperty(t,e,i)},Cs.prototype.getPropertyAt=function(t,e){return this._localIndex?this._list.getProperty(this._localIndex[t],e):this._list?this._list.getPropertyAt(t,e):null},Cs.prototype.setPropertyAt=function(t,e,i){this._localIndex?this._list.setProperty(this._localIndex[t],e,i):this._list&&this._list.setPropertyAt(t,e,i)},Cs.prototype.toArray=function(){return this._localIndex?this._localIndex.concat():this._list.toArray()},Cs.prototype.toString=function(){return this._localIndex?this._localIndex.toString():this._list&&this._list.toString?this._list.toString():this.constructor.name},Cs.prototype.contains=function(t){return-1!=this.getItemIndex(t)},Cs.prototype.createCursor=function(t){return new ListCollectionViewCursor(this,t)},Cs.prototype.disableAutoUpdate=function(){this._autoUpdateCounter++},Cs.prototype.enableAutoUpdate=function(){0<this._autoUpdateCounter&&(this._autoUpdateCounter--,0===this._autoUpdateCounter&&this._handlePendingUpdates())},Cs.prototype.itemUpdated=function(t,e,i,s){this._list.itemUpdated(t,e,i,s)},Cs.prototype.refresh=function(){return this._internalRefresh(!0)},Cs.prototype.addEventListener=function(t,e,i,s,a){this._eventDispatcher.addEventListener(t,e,i,s,a)},Cs.prototype.removeEventListener=function(t,e,i,s){this._eventDispatcher.removeEventListener(t,e,i,s)},Cs.prototype.dispatchEvent=function(t){return this._eventDispatcher.dispatchEvent(t)},Cs.prototype.hasEventListener=function(t){return this._eventDispatcher.hasEventListener(t)},Cs.prototype.findItem=function(t,e,i){if(!this._sort)throw Error("itemNotFound");return 0===this._localIndex.length?i?0:-1:this._sort.findItem(this._localIndex,t,e,i)},Cs.prototype.reset=function(){this._internalRefresh(!1),this._dispatchResetEvent&&this.dispatchEvent(new us(us.COLLECTION_CHANGE,(!1),(!1),"reset",(-1),(-1)))},Cs.prototype.getBookmark=function(t){var e;if(0>t||t>this.getLength())throw Error("invalidIndex");try{e=this.getItemAt(t)}catch(i){e=null}return new ListCollectionViewBookmark(e,this,this._revision,t)},Cs.prototype.getBookmarkIndex=function(t){if(!(t instanceof ListCollectionViewBookmark)||t.view!=this)throw Error("bookmarkNotFound");if(t.viewRevision!=this._revision){if(0>t.index||t.index>=this.getLength()||this.getItemAt(t.index)!=t.getValue())try{t.index=this.getItemIndex(t.getValue())}catch(e){t.index=this.getLocalItemIndex(t.getValue())}t.viewRevision=this._revision}return t.index},Cs.prototype._getFilteredItemIndex=function(t){var e,i;if(t=this._list.getItemIndex(t),0==t)return 0;for(--t;0<=t;t--){var s=this._list.getItemAt(t);if(this.filterFunction(s))for(i=this._localIndex.length,e=0;e<i;e++)if(this._localIndex[e]==s)return e+1}return 0},Cs.prototype._addItemsToView=function(t,e,i){i=!!l(i)||i;var s=this._localIndex?[]:t,a=e,r=!0;if(this._localIndex){var n=e;for(e=0;e<t.length;e++){var o=t[e];if(null==this.filterFunction||this.filterFunction(o)){if(n=this._sort?this.findItem(o,Sort.ANY_INDEX_MODE,!0):this._getFilteredItemIndex(o),r&&(a=n,r=!1),this._sort&&this._sort.unique&&0==this._sort.compareFunction(o,this._localIndex[n]))throw Error("incorrectAddition");this._localIndex.splice(n++,0,o),s.push(o)}else a=-1}}return this._localIndex&&1<s.length&&(a=-1),i&&0<s.length&&(t=new us(us.COLLECTION_CHANGE,(!1),(!1),"add",a,(-1),s),this.dispatchEvent(t)),a},Cs.prototype._replaceItemsInView=function(t,e,i){if(i=!!l(i)||i,this._localIndex){var s,a=t.length,r=[],n=[];for(s=0;s<a;s++){var o=t[s];r.push(o.oldValue),n.push(o.newValue)}this._removeItemsFromView(r,e,i),this._addItemsToView(n,e,i)}else t=new us(us.COLLECTION_CHANGE,(!1),(!1),"replace",e,(-1),t),this.dispatchEvent(t)},Cs.prototype._moveItemInView=function(t,e,i){if(e=!!l(e)||e,this._localIndex){var s,a=-1;for(s=0;s<this._localIndex.length;s++)if(this._localIndex[s]===t){a=s;break}if(-1<a&&this._localIndex.splice(a,1),s=this._addItemsToView([t],a,!1),e){var r=new us(us.COLLECTION_CHANGE);r.items.push(t),i&&s==a&&-1<s?i.push(t):(-1<s&&-1<a?(r.kind="move",r.location=s,r.oldLocation=a):-1<s?(r.kind="add",r.location=s):-1<a?(r.kind="remove",r.location=a):e=!1,e&&this.dispatchEvent(r))}}},Cs.prototype._removeItemsFromView=function(t,e,i){i=!!l(i)||i;var s=this._localIndex?[]:t,a=e;if(this._localIndex)for(e=0;e<t.length;e++){var r=t[e],n=this.getItemIndex(r);-1<n&&(this._localIndex.splice(n,1),s.push(r),a=n)}i&&0<s.length&&(t=new us(us.COLLECTION_CHANGE,(!1),(!1),"remove",this._localIndex&&1!=s.length?-1:a,(-1),s),this.dispatchEvent(t))},Cs.prototype._listChangeHandler=function(t){if(0<this._autoUpdateCounter)this._pendingUpdates||(this._pendingUpdates=[]),this._pendingUpdates.push(t);else switch(t.kind){case"add":this._addItemsToView(t.items,t.location);break;case"reset":this.reset();break;case"remove":this._removeItemsFromView(t.items,t.location);break;case"replace":this._replaceItemsInView(t.items,t.location);break;case"update":this._handlePropertyChangeEvents(t.items);break;default:this.dispatchEvent(t)}},Cs.prototype._handlePropertyChangeEvents=function(t){var e=t;if(this._sort||null!=this.filterFunction){var i,s,a=[];for(i=0;i<t.length;i++){var r,e=t[i];e.target?(s=e.target,r=e.target!=e.source):(s=e.source,r=!1);for(var n=0;n<a.length;n++)if(a[n].item===s){var o,h=a[n].events,l=h.length;for(o=0;o<l;o++)if(h[o].property!=e.property){h.push(e);break}break}n<a.length?s=a[n]:(s={item:s,move:r,events:[e]},a.push(s)),s.move=s.move||null!=this.filterFunction||!e.property||this._sort&&this._sort.propertyAffectsSort(e.property)}for(e=[],i=0;i<a.length;i++)s=a[i],s.move?this._moveItemInView(s.item,s.item,e):e.push(s.item);for(s=[],t=0;t<e.length;t++)for(i=0;i<a.length;i++)e[t]===a[i].item&&(s=s.concat(a[i].events));e=s}0<e.length&&(a=new us(us.COLLECTION_CHANGE),a.kind="update",a.items=e,this.dispatchEvent(a))},Cs.prototype._handlePendingUpdates=function(){var t;if(this._pendingUpdates){t=this._pendingUpdates,this._pendingUpdates=null;var e,i,s;for(e=0;e<t.length;e++){var a=t[e];if("update"===a.kind)if(s)for(i=0;i<a.items.length;i++)s.items.push(a.items[i]);else s=a;else this._listChangeHandler(a)}s&&this._listChangeHandler(s)}},Cs.prototype._internalRefresh=function(t){if(this._sort||null!=this.filterFunction){var e=this.getList();if(this._localIndex=e?e.toArray():[],null!=this.filterFunction){var i,e=[],s=this._localIndex.length;for(i=0;i<s;i++){var a=this._localIndex[i];this.filterFunction(a)&&e.push(a)}this._localIndex=e}this._sort&&(this._sort.sort(this._localIndex),t=!0)}else this._localIndex&&(this._localIndex=null);return this._revision++,this._pendingUpdates=null,t&&this.dispatchEvent(new us(us.COLLECTION_CHANGE,(!1),(!1),"refresh",(-1),(-1))),!0};var Ds=function(t){Cs.call(this),arguments.length?this.setSource(t):this.setSource(null)};Ds._defaultProperty="source",ki(Ds,Cs),Ds.prototype.getSource=function(){return this._list&&this._list instanceof bs?this._list.getSource():null},Ds.prototype.setSource=function(t){this.setList(new bs(t))},q.productInit=function(t,e,i,a,r,n){var h;window[t]&&window[t].__productInited&&window[t].__productInited()||(window[t]={},h=window[t],h.version="5.0",h.defaultWidth=r?r:420,h.defaultHeight=n?n:280,h.instances={},h.onLoadCallFunctions={},h.create=function(s,a,r,n,o,l){if(d(n)&&(n="100%"),d(o)&&(o="100%"),d(a))throw a+" is undefined for "+t;var c,u,p,f,g,m=void 0==r?[]:r.split("&"),_={};for(c=0,u=m.length;c<u;c++)p=m[c],g=p.indexOf("="),f=p.substring(0,g),p=p.substring(g+1,p.length),_[f]=p;l&&h.setOnLoadCallFunction(s,l),d(_.licenseURL)||(h.licenseURL=decodeURIComponent(_.licenseURL)),d(_.assetsPath)||(Fi=_.assetsPath),d(_.localeChain)||hs.setLocaleChain(_.localeChain),os.domReady(function(){var h,l=$(a);if(!l)throw a+" is undefined for "+t;return this.instances[s]&&this.instances[s].destroy(),h=new e(s,a,r,n,o),h._productName=t,h._productParser=i,this.instances[s]=h,l.appendChild(h.element),h.addEvent("dblclick",Z,h),h.initialize(),h},this,s)},h.resize=function(){for(var t in this.instances)this.instances[t].resize(t)},h.setOnLoadCallFunction=function(t,e){if(!(t&&s(t)&&e&&o(e)))throw"id or onLoadCallFunction is undefined";this.onLoadCallFunctions||(this.onLoadCallFunctions={}),this.onLoadCallFunctions[t]=e},h.call=function(t,e){var i,s=this,a=[];i=2;for(var r=arguments.length;i<r;i+=1)a.push(arguments[i]);os.domReady.done&&!os.domReady.ready?(i=$(t),i[e].apply(i,a)):(s._callTimer||(s._callMethods=[],s._callTimer=window.setInterval(function(){s._callDelays()},30)),s._callMethods.push({target:t,f:e,p:a}))},h._callDelays=function(){var t,e,i,s;if(os.domReady.done&&!os.domReady.ready){if(window.clearInterval(h._callTimer),this._callMethods)for(t=0,e=this._callMethods.length;t<e;t+=1)s=this._callMethods[t],i=$(s.target),o(s.f)?(s.p.unshift(s.target),s.f.apply(window,s.p)):i[s.f].apply(i,s.p);h._callMethods=h._callDelays=null}},h.setAssetsPath=function(t){Fi=t},h.resizing=h.resize,h.__productInited=function(){return!0},a&&o(a)&&a(h))},ki(q,y),q.prototype.getTargetLayout=function(){return this._layout},q.prototype.setTargetLayout=function(t){this._layout=t,this._layoutChanged=!0,this.invalidateProperties(),this.invalidateDisplayList()},q.prototype.getLayoutXML=function(){return this._layout},q.prototype.setLayoutXML=function(t){this._layout=t,this._layoutChanged=!0,this.invalidateProperties(),this.invalidateDisplayList()},q.prototype.getTargetData=function(){return this._data},q.prototype.setTargetData=function(t){this._data!==t&&(this._data=t,this._dataChanged=!0,this.invalidateProperties(),this.invalidateDisplayList())},q.prototype.getCollection=function(){return this._collection},q.prototype._createRoot=function(){var t,e;if(this._root&&(this._root.resetInvalidate(),as.remove(this._root,!0)),this._root=this._target=this._httpService=null,this._customStyle="",this._componentIds={},this._unmatchedComponentIds=[],e=this._layout,!a(e)&&r(e)&&(e=Gi.toXMLString(e),r(e))){for(t in e.functions)this._componentIds[t]=e.functions[t];e=e.layout}s(e)&&(e=Xi.parse(e));do e=e.firstChild||e.nextSibling;while(1!=e.nodeType);0<=e.nodeName.indexOf("#")&&(e=e.firstChild),t=new this._productParser(this,e.nodeName),t.startParsing(e),this._root=t._root,this._target=t._target,this._target.id=this._paramId,this._target.setActualSize(this._rooWidth,this._rootHeight),this._httpService&&this._httpService.serviceStart()},q.prototype.createChildren=function(){var t;if(q._super.createChildren.call(this),!this._target){qi.setStyle(this,"position","relative"),t=this.element,t.setLayout=this.setLayout,t.setData=this.setData,t.addData=this.addData,t.setLayoutXML=this.setLayoutXML,t.getLayoutXML=this.getLayoutXML,t.setLayoutURLEx=t.setLayoutURL=this.setLayoutURLEx,t.setDataURLEx=t.setDataURL=this.setDataURL,t.addDataURLEx=t.addDataURLEx=this.addDataURLEx,t.setDataType=this.setDataType,t.destroy=this.destroy,t.clear=this.clear,t.resize=this.resize,t.id=this._paramId,t=void 0==this._jsVars?[]:this._jsVars.split("&");var e,i,s,a,r,n={};for(e=0,i=t.length;e<i;e++)s=t[e],r=s.indexOf("="),0>r||(a=s.substring(0,r),s=s.substring(r+1,s.length),-1<(r=s.indexOf("function"))&&(s=s.substring(r+9,s.indexOf("(")),
s=window[s]),n[a]=s,p(this,a)&&f(this,a,s));this._valuesMap=n,d(n.dataType)||this.setDataType(n.dataType);try{this.prr(this._systemManager.getClassMap())}catch(o){}t=this._getTargetSize(),this._rootWidth=t.width,this._rootHeight=t.height,this.setActualSize(this._rootWidth,this._rootHeight),this.layoutURL&&this.setLayoutURLEx(this.layoutURL),this.KoolOnLoadCallFunction?Gi.findFunction(this.KoolOnLoadCallFunction)(this._paramId):window[this._productName].onLoadCallFunctions[this._paramId]&&(window[this._productName].onLoadCallFunctions[this._paramId](this._paramId),window[this._productName].onLoadCallFunctions[this._paramId]=null),this.BIX5OnLoadCallFunction&&Gi.findFunction(this.BIX5OnLoadCallFunction)(this._paramId)}},q.prototype.commitProperties=function(){q._super.commitProperties.call(this),this._layoutChanged&&(this._layoutChanged=!1,this._createRoot(this._productParser)),this._dataChanged&&(this._target&&(this._target.removeEventListener("updateComplete",this._updateCompleteHandler,this),this._target.addEventListener("updateComplete",this._updateCompleteHandler,this),this._target.setDataProvider(this._data),this._collection=this._target.getDataProvider()),this._dataChanged=!1)},q.prototype.measure=function(){this.measuredWidth=this.getWidth(),this.measuredHeight=this.getHeight()},q.prototype.updateDisplayList=function(t,e){var i,s,a=this.getNumChildren();for(q._super.updateDisplayList.call(this,t,e),i=0;i<a;i+=1)s=this.getChildAt(i),s instanceof C&&(s.getWidth(),s.getHeight()),s instanceof y&&(s.move(0,0),s.setActualSize(this.getWidth(),this.getHeight()))},q.prototype.setDataType=function(t){(this.selfElement?this.selfElement:this).dataType=t},q.prototype.setLayout=function(t){var e=this.selfElement?this.selfElement:this;if(s(t))try{e.setLayoutXML(t)}catch(i){throw hs.getString("rmateweb","invalidLayoutXML")+(i.message||i)}else if(a(t))e.setLayoutXML(t);else{if(!r(t))throw"Invalid layout XML";e._layout=t,e._layoutChanged=!0,e.invalidateProperties(),e.invalidateDisplayList()}e.dataSet&&e._pushDataIntoWrapper()},q.prototype.setData=function(t){var e=this.selfElement?this.selfElement:this;e.dataSet=e._dataSetting(t),e._pushDataIntoWrapper()},q.prototype.setLayoutURLEx=function(e){var i=this.selfElement?this.selfElement:this;i.addLoadingBar(),i._layout=null,i.layoutURL=e,t({url:e,onSuccess:function(t){if(s(t))i.setLayoutXML(t);else{if(!a(t))throw"Invalid layout";i.setLayoutXML(t)}i.dataSet?(i._pushDataIntoWrapper(),i.removeLoadingBar()):(i.removeLoadingBar(),!i._dataURLInProcess&&i.dataURL&&i.setDataURLEx(i.dataURL))},onError:function(t){throw i.removeLoadingBar(),"XMLHttpRequest is faild to open the url, "+i.layoutURL+" : "+t}})},q.prototype.setDataURLEx=function(e){var i=this.selfElement?this.selfElement:this;i.addLoadingBar(),i._targetData=null,i.dataSet=null,i.dataURL=e,i._dataURLInProcess=!0,t({url:e,onSuccess:function(t){i.dataSet=i._dataSetting(t),i._pushDataIntoWrapper(),i.removeLoadingBar(),i._dataURLInProcess=!1},onError:function(t){throw i.removeLoadingBar(),i._dataURLInProcess=!1,"XMLHttpRequest is failed to open the url, "+e+" : "+t}})},q.prototype.addData=function(t){var e=this.selfElement?this.selfElement:this;e._target&&e._collection&&e._collection.addAll(e._dataSetting(t))},q.prototype.addDataURLEx=function(e,i){i=!(1<arguments.length)||i;var s=this.selfElement?this.selfElement:this;i&&s.lastAddURL==e||(s.lastAddURL=e,s.addLoadingBar(),t({url:e,onSuccess:function(t){s.addData(t),s.removeLoadingBar()},onError:function(t){throw s.removeLoadingBar(),"XMLHttpRequest is failed to open the url, "+e+" : "+t}}))},q.prototype.destroy=function(){var t=this.selfElement?this.selfElement:this;t.resetInvalidate(),as.remove(t,!0),t._layout=t._target=t._data=t._dataSet=t._collection=t._changedData=t._componentIds=t._unmatchedComponentIds=null,delete window[t._productName].instances[t._paramId],os.destroy(t._paramId)},q.prototype.clear=function(){var t=this.selfElement?this.selfElement:this;t._root&&as.remove(t._root),t._componentIds={},t._unmatchedComponentIds=[],t._layout=t._target=t._data=t._dataSet=t._collection=null},q.prototype.resize=function(){var t=this.selfElement?this.selfElement:this,e=t._getTargetSize();!e||e.width==t._targetRootWidth&&e.height==t._targetRootHeight||(t._targetRootWidth=e.width,t._targetRootHeight=e.height,t.setActualSize(e.width,e.height),t.invalidateDisplayList())},q.prototype.getRoot=function(){return this.selfElement},q.prototype.getTarget=function(){return(this.selfElement?this.selfElement:this)._target},q.prototype.getRemoveAllData=function(){return this.removeAllData},q.prototype.addLoadingBar=function(){var t=this.selfElement?this.selfElement:this;d(t)||(t._inLoadingBarCount++,t.showLoadingBar&&(t._loadingBar||(t._loadingBar=document.createElement("div"),t._loadingBar.style.boxSizing="content-box",t._loadingBar.style.position="absolute",t._loadingBar.className="Kool__Preloader"),t.element.contains(t._loadingBar)||t.element.appendChild(t._loadingBar)))},q.prototype.removeLoadingBar=function(){var t=this.selfElement?this.selfElement:this;d(t)||(t._inLoadingBarCount--,0>=t._inLoadingBarCount&&t._loadingBar&&t.element.contains(t._loadingBar)&&(t.element.removeChild(t._loadingBar),t._loadingBar=null,t._inLoadingBarCount=0))},q.prototype.addResourceBundle=function(t,e,i){hs.addResourceBundle(t,e,i)},q.prototype._targetCreationCompleteHandler=function(){},q.prototype._getCollectionItemAt=function(t){if(0<=t&&t<this._collection.getLength()){if(this._collection instanceof HierarchicalCollectionView){var e=this._collection.createCursor();return e.seek(CursorBookmark.getFIRST(),t),e.getCurrent()}return this._collection.getItemAt(t)}return null},q.prototype._addChangedData=function(t,e){var i;for(i=0;i<this._changedData.getLength();i++)this._changedData.getItemAt(i).idx>=e&&"D"!=this._changedData.getItemAt(i).job&&this._changedData.getItemAt(i).idx++;this._changedData.addItem({idx:e,job:"I",data:t})},q.prototype._getTargetSize=function(){var t=this._paramWidth,e=this._paramHeight,i=qi.test,s=qi.getStyle,a=qi.getRootSize,r=$(this._paramTarget);return i("%",t)?(i("%",s(r,"width"))&&this.setPercentWidth(this._paramWidth.replace("%","")),t=a(r,"width",t)):t=parseInt(t),i("%",e)?(i("%",s(r,"height"))&&this.setPercentHeight(this._paramHeight.replace("%","")),e=a(r,"height",e)):e=parseInt(e),{width:t,height:e}},q.prototype._pushDataIntoWrapper=function(){this.setTargetData(this.dataSet)},q.prototype._dataSetting=function(t){var e,i,a,r,n,o;if(s(t)){if(i=this.dataType.toLowerCase(),"json"==i)try{e=JSON.parse(t)}catch(h){return void alert(hs.getString("rmateweb","invalidJSON")+h.message)}else if("fastcsv"==i)try{a=new is,this._useDataGridFields&&this.getDataGrid()&&a.setFieldNames(this.getDataGridColumnFieldNames()),e=a.fastParse(t)}catch(h){return void alert(hs.getString("rmateweb","invalidCSV")+h.message)}else if("csv"==i)try{r=new is,this._useDataGridFields&&this.getDataGrid()&&r.setFieldNames(this.getDataGridColumnFieldNames()),e=r.parse(t)}catch(h){return void alert(hs.getString("rmateweb","invalidCSV")+h.message)}else if("fasttsv"==i)try{n=new is,this._useDataGridFields&&this.getDataGrid()&&n.setFieldNames(this.getDataGridColumnFieldNames()),n.setFieldSeperator("\t"),e=n.fastParse(t)}catch(h){return void alert(hs.getString("rmateweb","invalidTSV")+h.message)}else if("tsv"==i)try{o=new is,this._useDataGridFields&&this.getDataGrid()&&o.setFieldNames(this.getDataGridColumnFieldNames()),o.setFieldSeperator("\t"),e=o.parse(t)}catch(h){return void alert(hs.getString("rmateweb","invalidTSV")+h.message)}else try{e=Xi.parse(t)}catch(h){return void alert(hs.getString("rmateweb","invalidXML")+h.message)}return e}return t},q.prototype._eventDelayDispatcher=function(t){this.callLater(this.dispatchEvent,[t])},q.prototype._creationCompleteHandler=function(t){this._target.removeEventListener("creationComplete",this._creationCompleteHandler,this),this._eventDelayDispatcher(new cs("layoutComplete"))},q.prototype._updateCompleteHandler=function(t){this._target.removeEventListener("updateComplete",this._updateCompleteHandler,this),this._collection=this._target.getDataProvider(),this._eventDelayDispatcher(new cs("dataComplete"))},tt.resources={"ko-KR":{rmateparser:{invalidJSON:"데이터의 JSON 형식이 잘못되었습니다. 데이터를 확인해 주십시오. 에러:",invalidXML:"데이터의 XML 형식이 잘못되었습니다. 데이터를 확인해 주십시오. 에러:",invalidCSV:"데이터의 CSV 형식이 잘못되었습니다. 데이터를 확인해 주십시오. 에러:",invalidTSV:"데이터의 TSV 형식이 잘못되었습니다. 데이터를 확인해 주십시오. 에러:",invalidLayoutXML:"레이아웃 XML 형식이 잘못되었습니다. 레이아웃의 XML을 확인해 주십시오.",unknownObject:"알 수 없는 개체:{0}을(를) 정의하였습니다.",unknownVariable:"알 수 없는 변수:{0}을(를) 정의하였습니다.",unknownProperty:"알 수 없는 속성:{0}을(를) 정의하였습니다.",errorSetProperty:"속성:{0} 설정 중 오류가 발생하였습니다. 에러내용:",errorSetBoolean:"속성 {0}의 값은 true나 false여야 합니다."}}},hs.addResourceBundle("rmateparser",tt.resources["ko-KR"].rmateparser,"ko-KR"),tt.prototype._tryExtraNewInstance=function(t){return null},tt.prototype._extraParsing=function(t){return!1},tt.prototype._setExtraPropsStyles=function(t,e,i){return!1},tt.prototype.startParsing=function(t){var e,i,s=t.childNodes;e=this._getClassInfo(t);try{this._wrapper.ppr(this._systemManager.getClassMap())}catch(a){}for(this._root=new e("div",this._name),this._setPropsStyles(t,this._root,e),this._wrapper.addChild(this._root),this._root.setStyle("verticalGap",0),this._root.setStyle("horizontalGap",0),this._root.setVerticalScrollPolicy("off"),this._root.setHorizontalScrollPolicy("off"),this._csses={},(t=t.getElementsByTagName("Style"))&&t[0]&&this._parseStyle(t[0].textContent||t[0].text),t=0,e=s.length;t<e;t+=1)if(i=s[t],1==i.nodeType&&"Style"!=i.nodeName)if(p(this._root,i.nodeName))i=this._commitSubNodes(i.nodeName,i.childNodes,this._root,i),this._setPropsStylesByNode(i,this._root);else if(!this._extraParsing(i)&&!this._parseExtraLayout(i,this._root))break;this._checkUnMatchedComponentId()},tt.prototype._parseStyle=function(t){var e=t.replace(/\s+(?=([^"]*"[^"]*")*[^"]*$)(?=([^']*'[^']*')*[^']*$)/g,""),i=e.match(/(\.\w*|\w*)\s*\{/g),s=e.match(/\{.*?\}/gi);if(i&&s){if(i.length!=s.length)throw"Style tag is invalid in the layout";var a,r,n,o,l;t=[];var c=[];for(a=0,n=i.length;a<n;a++)t[a]=i[a].replace(/\{/g,""),l=s[a].replace(/\{|\}/g,""),c[a]=l.split(";");for(a=0,n=c.length;a<n;a++){for(s=c[a],e=[],r=0,o=s.length;r<o;r++)i={},l=s[r].split(":"),2<=l.length&&(i.name=l[0],i.value=l[1].replace(/\\"|"|'/g,""),Ki.mustHavePxStyles[i.name]&&!h(Number(i.value))&&(i.value+="px"),-1<i.value.indexOf("0x")&&(i.value=i.value.replace(/0x/,"#")),e[r]=i);c[a]=e}var u,i=-1,s=this._systemManager.getClassMap();if(a=qi.findCSSSheetIndex("Kool__"+this._wrapper.uno),0>a&&(a=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style"),n.type="text/css",n.styleSheet?n.styleSheet.cssText=".Kool__"+this._wrapper.uno+" {color: blue;}":n.innerHTML=".Kool__"+this._wrapper.uno+" {color: blue;}",a.appendChild(n)),a=qi.findCSSSheetIndex("Kool__"+this._wrapper.uno),0>a)throw"can not create styles in layout";for(a=0,n=t.length;a<n;a++)if(r=t[a],l=r.substr(0,1),"."!=l&&/[A-Z]/.test(l))for(s[r]?(s[r]._defaultStyles||(s[r]._defaultStyles={}),u=s[r]._defaultStyles):u=null,0>i&&(i=Ki.productCSSSheetIndex,0>i&&(i=qi.findCSSSheetIndex("Kool__(\\S)*"),0<=i&&0>Ki.productCSSSheetIndex&&(Ki.productCSSSheetIndex=i))),e=0<=i?qi.getCSSRule(i,"Kool__"+r):null,r=0,o=c[a].length;r<o;r++)l=c[a],e&&!d(e.style[l[r].name])?e.style[l[r].name]=l[r].value:u&&(u[l[r].name]=this._convertValue(l[r].value,!0));else for(l=r.replace(".",""),e=new g(l,"Kool__"+this._wrapper.uno,(!1)),this._csses[l]=e,r=0,o=c[a].length;r<o;r++)l=c[a],e.setStyle(l[r].name,this._convertValue(l[r].value,!0))}},tt.prototype._getClassInfo=function(t){return(t=this._systemManager.getClassMap()[t.nodeName])?t:null},tt.prototype._getClassInfoByName=function(t){return this._systemManager.getClassMap()[t]?this._systemManager.getClassMap()[t]:null},tt.prototype._tryCorrectNewInstance=function(t,e){var i,s,a,r,n;n=t.nodeName;var o=this._getClassInfo(t);if(o){if(r=new o,r.className||(r.className=n),e&&r instanceof m&&(e.addChild(r),e.move(0,0)),a=r._defaultProperty,s=Xi.getFirstElementChild(t),0<t.childNodes.length&&s&&!p(r,s.nodeName)&&a&&p(r,a))i=this._commitSubNodes(a,t.childNodes,r,t),this._setPropsStylesByNode(i,r);else if(t.childNodes&&0<t.childNodes.length)for(s=0,a=t.childNodes.length;s<a;s+=1)i=t.childNodes[s],1==i.nodeType&&(i=this._commitSubNodes(i.nodeName,i.childNodes,r,i),this._setPropsStylesByNode(i,r));if(this._setPropsStyles(t,r,o),(-1<n.indexOf("DataGrid")||-1<n.indexOf("MapChart")||-1<n.indexOf("Chart")||-1<n.indexOf("Gauge"))&&(this._target=r,this._target.addEventListener("creationComplete",this._wrapper._targetCreationCompleteHandler,this._wrapper)),n=this._tryExtraNewInstance(t,r))return n}return r},tt.prototype._setPropsStyles=function(t,e,a){var r,h,l,d,g;for(d=0,g=t.attributes.length;d<g;d++)if(r=t.attributes[d].name,h=t.attributes[d].value,h=h.replace(/0x/g,"#"),"id"==r)this._addIds(ji.trim(h),e),e.hasOwnProperty(r)&&f(e,r,h);else if(/styleName/.test(r)&&e instanceof _)e.setStyleName(this._csses[h]?this._csses[h]:h);else if(p(e,r))try{i(u(e,r))?("true"!=h&&"false"!=h&&alert(hs.getString("rmateparser","errorSetBoolean",[r])),f(e,r,"true"==h)):"width"==r&&-1!=h.indexOf("%")?e.setPercentWidth(Number(h.replace("%",""))):"height"==r&&-1!=h.indexOf("%")?e.setPercentHeight(Number(h.replace("%",""))):s(u(e,r))?f(e,r,h):n(u(e,r))?f(e,r,Number(h)):c(u(e,r))?f(e,r,new Date(Date.parse(h))):this._setExtraProperty(r,h,t.attributes[d],t,e,a)}catch(m){f(e,r,Number(h))}else if(!this._setExtraPropsStyles(e,r,h)){var y;o(e.getStyle)&&(y=e.getStyle(r)),y&&n(y)?e.setStyle(r,Number(h)):y&&i(y)?e.setStyle(r,0!=h&&"false"!=h):o(e.setStyle)?-1!=h.indexOf("{")&&-1!=h.indexOf("}")?(h=this._removeBrace(h),"null"==h?e.setStyle(r,null):h&&((l=this._getComponentById(h))?e.setStyle(r,l):alert(hs.getString("rmateparser","unknownVariable",[h])))):-1!=h.indexOf("[")&&-1!=h.indexOf("]")?(h=h.replace("[",""),h=h.replace("]",""),h=h.split(","),e.setStyle(r,h)):this._setCorrectStyle(a,e,r,h):alert(hs.getString("rmateparser","unknownProperty",[r]))}},tt.prototype._commitSubNodes=function(t,e,i,s){var a,r,n,o,h,l=[],d={};if(a=this._getClassInfoByName(t),d.name=t,a)return e&&0<e.length?this._tryCorrectNewInstance(e[0].parentNode,i):this._tryCorrectNewInstance(s,i),d;for(a=0,r=e.length;a<r;a++)if(n=e[a],1==n.nodeType){if(h="children"==t?this._tryCorrectNewInstance(n,i):this._tryCorrectNewInstance(n),!h){alert(hs.getString("rmateparser","unknownObject",[n.nodeName]));break}if(p(i,t)||"RPCList"==t)this._getClassPropertyType(i,t)==Array?(l.push(h),d.data=l):d.data=h;else{for(o=n=0;o<s.childNodes.length;o++)1==s.childNodes[o].nodeType&&n++;1<n||"fills"==t?(l.push(h),d.data=l):d.data=h}}return d.data||(h=this._getClassPropertyType(i,d.name))&&(d.data=new h)||(d.data=null),d},tt.prototype._parseExtraLayout=function(t,e){var i=this._tryCorrectNewInstance(t,e);return null==i?(alert(hs.getString("rmateparser","unknownObject",[t.nodeName])),!1):(i instanceof m&&this._root.addChild(i),!0)},tt.prototype._setExtraProperty=function(t,e,i,s,a,r){var n,o,h,l,d,c,p,g;try{u(a,t)instanceof Wi||"itemRenderer"==t||"headerRenderer"==t||"renderer"==t||"itemEditor"==t||"symbolRenderer"==t?(h=this._getClassInfoByName(e))&&f(a,t,new Bi(h)):"true"==e||"false"==e?f(a,t,"true"==e):"sortCompareFunction"==t&&a instanceof DataGridColumn?"numericSort"==e?f(a,"sortCompareFunction",this._wrapper._numericSort(a.getDataField())):0<=e.indexOf("GroupingSort")&&(c="first",p=!1,0<=e.indexOf("last")&&(c="last"),0<=e.indexOf("Numeric")&&(p=!0),f(a,"sortCompareFunction",this._wrapper._groupingSortCompareFunction(c,p,a))):-1!=e.indexOf("}")&&-1!=e.indexOf("[")?(d=e,-1!=e.indexOf("'")&&(d=e.replace(/'/g,'"')),(l="object"==typeof JSON?JSON.parse(d):JSONParse(d))&&f(a,t,l)):-1!=e.indexOf("{")&&-1!=e.indexOf("}")?(g=this._removeBrace(e),"null"==g?f(a,t,null):g&&(n=this._getComponentById(g,a,t))&&f(a,t,n)):-1!=e.indexOf("[")&&-1!=e.indexOf("]")?(e=e.replace("[",""),e=e.replace("]",""),o=e.split(","),f(a,t,o)):f(a,t,e)}catch(m){return alert(hs.getString("rmateparser","errorSetProperty",[t])+m.message),!1}return!0},tt.prototype._getClassPropertyType=function(t,e){var i=t.constructor;return i._propertyType?i._propertyType[e]||null:null},tt.prototype._addIds=function(t,e){this._wrapper._componentIds[t]=e},tt.prototype._getComponentById=function(t,e,i){return e=1<arguments.length?e:null,i=2<arguments.length?i:null,"$"==t.charAt(0)?(this._wrapper._componentIds[t]={target:e,name:i,id:t},null):this._wrapper._componentIds[t]?this._wrapper._componentIds[t]:(this._wrapper._unmatchedComponentIds.push({target:e,name:i,id:t}),null)},tt.prototype._checkUnMatchedComponentId=function(){var t,e;if(this._wrapper._unmatchedComponentIds&&!(0>=this._wrapper._unmatchedComponentIds.length))for(t=0;t<this._wrapper._unmatchedComponentIds.length;t++)e=this._wrapper._unmatchedComponentIds[t],this._wrapper._componentIds[e.id]?f(e.target,e.name,this._wrapper._componentIds[e.id]):alert(hs.getString("rmateparser","unknownVariable",[e.id]))},tt.prototype._removeBrace=function(t){if(!t)return null;var e=t.indexOf("{"),i=t.indexOf("}");return ji.trim(t.substring(e+1,i))},tt.prototype._setPropsStylesByNode=function(t,e){if(p(e,t.name))if(e instanceof m&&"children"==t.name)for(var i=0,s=t.data.length;i<s;i+=1)e.addChild(t.data[i]);else f(e,t.name,t.data);else o(e.setStyle)&&e.setStyle(t.name,t.data);"RPCList"==t.name&&e["set"+t.name](t.data)},tt.prototype._setCorrectStyle=function(t,e,i,s){Ki.mustHavePxStyles[i]&&!h(Number(s))&&(s+="px"),0<i.indexOf("StyleName")&&this._csses[s]?e.setStyle(i,this._csses[s]):e.setStyle(i,this._convertValue(s,!1))},tt.prototype._convertValue=function(t,e){var i=Number(t);return t?"true"==String(t)||"false"==String(t)?"true"==String(t):isNaN(i)?e&&s(t)&&0<=t.indexOf(",")?t.split(","):t:i:t},et.defaultColors="#ff812d #ffd100 #81d733 #666666 #43cbff #3284c3 #d4155b #f71075 #a48d70 #15b671 #00998e #ce4acc #9a0197 #aa94de #8d65d2 #e44747 #f99b2b #fde145 #00c574 #4c9cff #005d6e #ada59d #88827b #584737 #36ccda #2aa8b4 #8647a7 #ba7dda".split(" "),et.lineColors="#03a9f5 #fabc05 #8e5d9b #00b6aa #88b14b #8a7860 #d23579 #96d4df #57646d #d09d5c #9896a4 #f79d2e #55b48b #3991a7 #d1af94 #dd4760 #615c60 #5587a2 #54bae9 #ffc853 #e17034 #888888 #53bb9d #765e8b".split(" "),et.columnColors="#41b2e6 #4452a8 #fabc05 #5587a2 #69cabc #6c4a85 #8a7860 #96d4df #f7a33b #d8c6aa #49588b #68c0c9 #476f80 #cc3a5f #ffc853 #4d4a69 #b9d7d7 #efc471 #eb8952 #439896 #8ab840 #8a8a8a #634265 #f38072".split(" "),et.pieColors=["#40b1e6","#f97b17","#fabb05","#20cbc2","#074d81"],et.matrixColors="#5587a2 #074d81 #20cbc2 #f6a54c #d1af94 #96d4df".split(" "),et.defaultFills=[],et.systemColors=et.defaultColors.concat(),et.originalColors=et.defaultColors.concat(),et._styleSelectors={},et.inited=!1,et.createSelector=function(t){var e=et.getStyleDeclaration(t);return e||(e={},et.setStyleDeclaration(t,e,!1)),e},et.getStyleDeclaration=function(t){return et._styleSelectors[t]},et.setStyleDeclaration=function(t,e){et._styleSelectors[t]=e},et.setDefaultColors=function(t){t=t.concat(),et.defaultColors=t,et.originalColors=t,et.inited=!1,et.init(!0)},et.init=function(t){if(!et.inited){var e,i=et.defaultColors,s=i.length;for(e=0;e<s;e+=1)et.defaultFills[e]=new T(i[e]);e=et.defaultFills.concat(),et.initSeriesStyle("chartBaseChartSeriesStyles",e),et.initSeriesStyle("lineChartSeriesStyles",t?e:et.lineColors.concat()),et.initSeriesStyle("columnChartSeriesStyles",t?e:et.columnColors.concat()),et.initSeriesStyle("pieChartSeriesStyles",t?e:et.pieColors.concat()),et.initSeriesStyle("matrixChartSeriesStyles",t?e:et.pieColors.concat())}},et.initSeriesStyle=function(t,e){var i,a,r,n=e.length;for(et[t]=[],i=0;i<n;i+=1)r="rMateSeries"+i,a=e[i],et[t][i]={name:r,style:{fill:s(a)?new T(a):a,areaFill:new T(a.color||a,.3),lineStroke:new w(a.color||a,3),areaStroke:new w(a.color||a,3)}}},et.addThemeStyle=function(t,e){var i,s=0,a=e.length;for(et[t]=[];s<a;s+=1)i=e[s],et[t][s]={name:t+s,style:{fill:new T(i),areaFill:new T(i,.3),lineStroke:new w(i,3),areaStroke:new w(i,3)}}},et.removeThemeStyle=function(t){try{delete et[t]}catch(e){et[t]=null}},et.init();var ws={patterns:[],getLength:function(){return ws.patterns.length},addItem:function(t){ws.patterns.push(t)},getItem:function(t){return ws.patterns[t%ws.patterns.length]},removeAll:function(){ws.patterns=[]}},Ts={themes:{},themeColors:{},getTheme:function(t){return Ts.themes[t]},getDefaultColor:function(t){var e=Ts.themeColors;return e[t]?e[t]:et.originalColors},removeTheme:function(t){var e,i=Ts.themes[t];if(i){for(e=i.targets.length-1;-1<e;--e)Ei(i.targets[e],"default");try{delete Ts.themes[t],delete Ts.themeColors[t]}catch(s){Ts.themes[t]=null,Ts.themeColors[t]=null}}},addTheme:function(t){var e,i,s,a;if("string"!=typeof t)for(e in i=Ts.themes,t)if(!i[e])for(s in i[e]={},a=i[e],a.targets=[],t[e])"defaultColors"==s?et.addThemeStyle(e,t[e][s]):a[s]=Ts.toChartCompatible(t[e][s])},saveChartForTheme:function(t){var e,i,s,a=t._themeName,r=Ts.themes;if(a&&"default"!=a)for(s=r[a].targets,e=s.length-1,i=-1;e>i;--e)s[e]===t&&s.splice(e,1);if("default"==a)t._themeName="default";else{for(e=0,i=r[a].targets.length;e<i;e+=1)if(r[a].targets[e]===t)return;r[a].targets.push(t)}},toChartCompatible:function(t){var i,s,a,n,o,h,l={},d=Ts.toChartCompatible;for(n in t){if(o=void 0,h=t[n],/styleName|StyleName/.test(n))for(i in o=new g(n,n,(!1)),h)o.setStyle(i,h[i],!0);else if(e(h))for(o=[],s=0,a=h.length;s<a;s+=1)o.push(r(h[s])?d(h[s]):h[s]);else r(h)?(/troke/.test(n)&&(o=new w),/ill$/.test(n)&&(o=h.focalPointRatio?new A:h.angle?new I:new T),o=r(o)?qi.extend(o,h):d(h)):(/itemRenderer/.test(n)&&(h=new Bi(os.getInstance().getClassMap()[h])),o=h);l[n]=o}return l},restoreForDefault:function(t){var e,i,s,a=0,n=t.getNumChildren();for(e in t._defaultTheme){if(s=t._defaultTheme[e],s instanceof Bi)t[e]=s;else if(r(s)&&p(t,e)){for(i in s)t[e][i]=s[i];s[i]=null}else this.convertValue(t,e,s);t._defaultTheme[e]=null}for(t._defaultTheme=null;a<n;a+=1)(e=t.getChildAt(a))&&e instanceof m&&!/Selection|Layer/.test(e.className)&&(this.restoreForDefault(e),0<e.getNumChildren()&&this.restoreForDefault(e))},applyEachTheme:function(t,e,i){for(var s,a=0,r=t.getNumChildren();a<r;a+=1)(s=t.getChildAt(a))&&s instanceof m&&!/Selection|Layer/.test(s.className)&&(e&&this.applyTheme(s,e[s.className],i),0<s.getNumChildren()&&this.applyEachTheme(s,e,i));!i&&t._layout&&this.applyEachThemeXML(t,Xi.parse(t._layout).childNodes[0]),t instanceof Ri&&this.saveChartForTheme(t)},applyThemeXML:function(t,e){for(var i=0;i<e.attributes.length;i+=1)Ts.convertValue(t,e.attributes[i])},convertValue:function(t){var e,i,a;if(3>arguments.length?(a=arguments[1].name,i=arguments[1].value):4>arguments.length&&(a=arguments[1],i=arguments[2]),!/DataEffect/.test(a)){if(i&&!isNaN(Number(i)))i=Number(i);else if(s(i)&&(-1<i.indexOf("{")||-1<i.indexOf("}")))return;e=ji.lowerToUpper(a),t["get"+e]?s(i)&&-1<i.indexOf("%")?t["setPercent"+e](parseInt(i)):t["set"+e](i):t[a]instanceof Bi?(s(i)&&(i=new Bi(os.getInstance().getClassMap()[i])),t[a]=i):t.hasOwnProperty(a)?t[a]=i:!d(i)&&!l(i)||t._styles[a]||t.constructor._defaultStyles[a]?t.setStyle(a,i):t.clearStyle(a)}},applyEachThemeXML:function(t,i){var s,a,r,n,o=0,h=i.childNodes.length;for(t.className==i.nodeName&&Ts.applyThemeXML(t,i),o=0,h=i.childNodes.length;o<h;o+=1)if(n=i.childNodes[o],1==n.nodeType&&(a=n.nodeName,!/Style||DataEffect/.test(a)))if(Us("Chart",a)?s=t._chart:t["get"+ji.lowerToUpper(a)]?s=t["get"+ji.lowerToUpper(a)]():t.hasOwnProperty(a)?s=t[a]:t instanceof m&&(s=t.getStyle(a)),e(s))for(a=0,r=n.childNodes.length;a<r;a+=1)1==n.childNodes[a].nodeType&&Ts.applyEachThemeXML(s[a],n.childNodes[a]);else s&&((p(t,a)||t.getStyle(a))&&(s.className==n.childNodes[0].nodeName?Ts.applyThemeXML(s,n.childNodes[0]):(r=os.getInstance().getClassMap()[n.childNodes[0].nodeName],r=new r,Ts.applyThemeXML(r,n.childNodes[0]),p(t,a)?f(t,a,r):t.setStyle(a,r))),0<n.childNodes.length&&Ts.applyEachThemeXML(s,n))},applyTheme:function(t,i,a){var n,h,l,c,u;for(n in i){if(l=i[n],t._defaultTheme||(t._defaultTheme={}),/styleName|StyleName/.test(n))u=t[n],t.setStyle(n,l);else if(t["get"+(c=ji.lowerToUpper(n))]){if(u=t["get"+c](),e(u)){Ts.applyArrayTheme(t,n,i[n],a);continue}s(l)&&-1<l.indexOf("%")?t["setPercent"+c](parseInt(l)):t["set"+c](l)}else if(t[n]instanceof Bi||l instanceof Bi)u=t[n],t[n]=l;else if(r(t[n])){if(u=t[n]){t._defaultTheme[n]||(t._defaultTheme[n]={});for(h in l)o(l[h])||(t._defaultTheme[n][h]=t[n][h],Ts.convertValue(t[n],h,l[h]));continue}l.constructor!==Object.constructor&&(t[n]=l)}else t.hasOwnProperty(n)&&!d(t[n])?(u=t[n],t[n]=l):(u=t.getStyle(n),t.setStyle(n,l));t._defaultTheme[n]||(t._defaultTheme[n]=u)}},applyArrayTheme:function(t,e,i,s){var a,r=0;for("series"==e&&(e="allSeries"),t=t["get"+(a=ji.lowerToUpper(e))]?t["get"+a]():t[e],a=t.length;r<a;r+=1)e=t[r],Ts.applyTheme(e,i[r],s)}},Ms={chartFunc:function(t,e,i){var a,r=[],n=t.chartItem.element,h=n.id,l=t.chartItem,c=n._displayName,u=n.getDataTransform(),p=u.getAxis("h"),f=u.getAxis("v"),g=p.displayName,m=f.displayName;if(d(l.xValue)||r.push(p.formatForScreen(l.xValue)),d(l.yValue)||r.push(f.formatForScreen(l.yValue)),d(l.zValue)||(n instanceof li&&(a="bubbleRadius"),r.push(u.getAxis(a).formatForScreen(Number(l.zValue)))),d(l.value)||r.push(l.value.toString()),d(l.percentValue)||r.push(l.percentValue),(n instanceof yi||n instanceof vi)&&n._nameField&&r.push(t.item[n._nameField]),d(l.minValue)||void 0!=l.medianValue||(n instanceof ri||n instanceof ni||n instanceof oi||n instanceof gi||n instanceof mi?(a=p.formatForScreen(l.minValue),r[0]-=a):(a=f.formatForScreen(l.minValue),r[1]-=a),r.push(a)),e&&s(e)&&(e=Ms.findFunction(e)),o(e)){if("dataTipFunction"==i)return e(h,c,l.index,g,m,t.item,r);e(h,t.getDisplayText(),l.index,t.item,r)}},chartPrivateFunc:function(t,e,i,a){return a&&s(a)&&(a=Ms.findFunction(a)),o(a)&&a(e,t.id),""},itemPrivateFunc:function(t,e,i,a,r){return r&&s(r)&&(r=Ms.findFunction(r)),o(r)&&r(e,a),""},seriesFunc:function(t,e,i,a){var n,l,c=[],u=e.id,p=e.getDataTransform();p.getAxis("a"),l=p.getAxis("h");var f=p.getAxis("v");if(d(t.xValue)||c.push(l.formatForScreen(t.xValue)),d(t.yValue)||c.push(f.formatForScreen(t.yValue)),d(t.zValue)||(e instanceof li&&(n="bubbleRadius"),c.push(p.getAxis(n).formatForScreen(Number(t.zValue)))),d(t.minValue)||void 0!=t.medianValue||(e instanceof ri||e instanceof ni||e instanceof oi||e instanceof gi||e instanceof mi?(n=l.formatForScreen(t.minValue),l instanceof Lt||l instanceof At||(c[0]-=n),c.push(n)):(l=f.formatForScreen(t.minValue),c[1]-=l,c.push(l))),t.name&&c.push(t.name),d(t.value)||c.push(Number(t.value)),d(t.percentValue)||c.push(Number(t.percentValue)),(e instanceof yi||e instanceof vi)&&void 0!=e._nameField&&""!=e._nameField&&c.push(t.item[e._nameField]),e=t.item,i&&s(i)&&(i=Ms.findFunction(i)),o(i)){if(t=i(u,t.index,e,c),a){if(a=1,r(t)){if(t.entries){for(e=[],i=new I,t.focalPointRatio&&(i=new A,i.focalPointRatio=t.focalPointRatio),a=0;a<t.entries.length;a+=1)u=t.entries[a],c=new M,c.color=u.color,c.alpha=h(u.alpha)?1:u.alpha,c.ratio=h(u.ratio)?1:u.ratio,e.push(c);return i.setEntries(e),i.angle=h(t.angle)?0:t.angle,i}a=t,t=a.color,a=a.alpha}return/0 x/.test(t)&&(t=t.replace(/0x/g,"#")),new T(t,a)}return t}return""},seriesSetFunc:function(t,e,i,a){return a&&s(a)&&(a=Ms.findFunction(a)),o(a)?a(e.index,e.item,t):""},defaultFillFunc:function(t,e){var i,s=t.getStyle("fills"),a=t.className,r=t.getChart()._chartColors;return a.match(/Pie|Tree|Word/g)?s&&0<s.length?s[e%s.length]:r[e%r.length].style.fill:s&&0<s.length?s[e%s.length]:i?i:(i=t.getStyle("fill"),"string"==typeof i?new T(i):i)},axisFunc:function(t,e,i){return t=t.id,i&&s(i)&&(i=Ms.findFunction(i)),o(i)?i(t,e):e},gaugeFunc:function(t,e,i){return e&&s(e)&&(e=Ms.findFunction(e)),o(e)?e(t,i):""},defaultPatternFunc:function(t,e,i){return e=t.patternJsFunction?Ms.patternFunc(e,t,t.patternJsFunction):ws.getItem(i),ts.createPattern(t.graphics||t._graphics,e)},patternFunc:function(t,e,i){var a,r,n=[],h=e.getDataTransform();r=h.getAxis("h");var l=h.getAxis("v");return h.getAxis("a"),t.xValue&&n.push(r.formatForScreen(t.xValue)),t.yValue&&n.push(l.formatForScreen(t.yValue)),t.zValue&&(e instanceof li&&(a="bubbleRadius"),n.push(h.getAxis(a).formatForScreen(t.zValue))),t.minValue&&(e instanceof ri||e instanceof ni||e instanceof oi||e instanceof gi||e instanceof mi?(a=r.formatForScreen(t.minValue),r instanceof Lt||r instanceof At||(n[0]=Number(n[0])-a),n.push(a)):(r=l.formatForScreen(t.minValue),n[1]=Number(n[1])-r,n.push(r))),t.value&&n.push(t.value.toString()),t.percentValue&&n.push(t.percentValue.toString()),(e instanceof yi||e instanceof vi)&&void 0!=e._nameField&&""!=e._nameField&&n.push(t.item[e._nameField].toString()),i&&s(i)&&(i=Ms.findFunction(i)),o(i)?ws.getItem(i(e.id,n,ws.patterns.length)):""},findFunction:function(t){if(o(t))return t;if(0<=t.indexOf(".")){t=t.split(".");var e=window;try{for(var i=0;i<t.length;i++)if(e=e[t[i]],void 0==e)return}catch(s){return}return e}return window[t]}};st.DRAG_THRESHOLD=4,st._propertyType={series:Array,backgroundElements:Array,annotationElements:Array},st._defaultStyles={chartSeriesStyles:null,styleName:null,dataTipStyleName:null,axisDataTipStyleName:null},ki(st,y),st.prototype.getStyle=function(t){return ct.prototype.getStyle.call(this,t)},st.prototype.getRangeSelector=function(){if(this._rangeItemRenderer)return this._rangeItemRenderer},st.prototype.getEnablePattern=function(){return this._enablePattern},st.prototype.getPatternMode=st.prototype.getEnablePattern,st.prototype.setEnablePattern=st.prototype.setPatternMode=function(t){this._enablePattern=t,this.legendDataChanged(),this.invalidateDisplayList()},st.prototype.setPatternMode=st.prototype.setEnablePattern,st.prototype.getSelectionMode=function(){return this._selectionMode},st.prototype.setSelectionMode=function(t){Os&&(t="none"),this._selectionMode!=t&&(this._selectionMode=t,this.invalidateProperties())},st.prototype.getLegendData=function(){var t,e,i=[],s=this.allElements.length;for(t=0;t<s;t+=1)e=this.allElements[t],e instanceof Qe&&(i=i.concat(e.getLegendData()));return i},st.prototype.getDataProvider=function(){return this._dataProvider},st.prototype.setDataProvider=function(t){var i;a(t)&&(i=Xi.convertToArray(t,"item")),e(t)?i=new Ds(t.concat()):t instanceof Ss?i=t:t instanceof Cs?i=new Cs(t):null!=t&&(i=new Ds([t])),this._dataProvider=i,this.invalidateData(),this.dispatchEvent(new cs("dataChanged"))},st.prototype.getSeries=function(){return this._userSeries},st.prototype.setSeries=function(t){var e,i;for(this._userSeries=t=null==t?[]:t,e=0,i=t.length;e<i;e+=1)t instanceof Qe&&(t.owner=this);this.invalidateSeries(),this.invalidateData(),this.legendDataChanged()},st.prototype.getShowDataTips=function(){return this._showDataTips},st.prototype.setShowDataTips=function(t){this._showDataTips!=t&&(this._showDataTips=t)&&(this._mouseEventsInitialized||this.setupMouseDispatching())},st.prototype.getBackgroundElements=function(){return this._backgroundElements},st.prototype.setBackgroundElements=function(t){this._backgroundElements=t,this.invalidateSeries()},st.prototype.getAnnotationElements=function(){return this._annotationElements},st.prototype.setAnnotationElements=function(t){this._annotationElements=t,this.invalidateSeries()},st.prototype.getSelectedChartItem=function(){return this._selectedSeries?this._selectedSeries.getSelectedItem():null},st.prototype.getSelectedChartItems=function(){var t,e,i,s=this.getSeries(),a=s.length,r=[];for(t=0;t<a;t+=1)for(i=s[t].getSelectedItems(),e=0;e<i;e+=1)r.push(s[t].getSelectedItems[e]);return r},st.prototype.getDragEnabled=function(){return this._dragEnabled},st.prototype.setDragEnabled=function(t){this._dragEnabled&&!t&&this.removeEventListener("dragComplete",this._dragCompleteHandler,this,!1),(this._dragEnabled=t)&&this.addEventListener("dragComplete",this._dragCompleteHandler,this,!1,-50)},st.prototype.getItemsInRegion=function(t){var e,i=[];if(this._transforms)for(e=0;e<this._transforms.length;e+=1)i=i.concat(this._getItemsInRegionFromElements(this._transforms[e],t));
return i},st.prototype.getNextItem=function(){return null},st.prototype.getPreviousItem=function(){return null},st.prototype.getFirstItem=function(){return null},st.prototype.getLastItem=function(){return null},st.prototype.removeEffect=function(){function t(t){(s=t.tween)&&(W.removeTween(s),t.tween=null)}var e,i,s;for(e=0;e<this._series.length;++e)if(o(this._series[e].getAllowNegativeForStacked))for(i=0;i<this._series[e]._series.length;++i)t.call(this,this._series[e]._series[i]);else t.call(this,this._series[e])},st.prototype.advanceEffectState=function(){var t,e=[];if(this._transitionState==Zs)if(e=this.collectTransitions(),0==e.length)this.setChartState(ta);else{for(this.setChartState($s),t=new Y,this._transitionEffect=t.createInstance(),t=0;t<e.length;t++)this._transitionEffect.addChildSet([e[t]]);this._transitionEffect.addEventListener(P.EFFECT_END,this._dataEffectEndHandler,this),this._transitionEffect.play()}if(this._transitionState==ta)if(e=this.collectTransitions(),this.enableDataEffect&&0!=e.length){for(this.setChartState(ea),t=new Y,this._transitionEffect=t.createInstance(),t=0;t<e.length;t++)this._transitionEffect.addChildSet([e[t]]);this._transitionEffect.addEventListener(P.EFFECT_END,this._dataEffectEndHandler,this),this._transitionEffect.play()}else this.setChartState(qs);this.invalidateDisplayList()},st.prototype._dataEffectEndHandler=function(t){t.target.removeEventListener("effectEnd",this._dataEffectEndHandler),this.getChartState()==$s?this.setChartState(ta):this.setChartState(qs),this._transitionEffect=null,this.invalidateDisplayList()},st.prototype.setChartState=function(t){var e,i,s=this.allElements.length;if(this._transitionState!=t){for(this._transitionState=t,i=0;i<s;i+=1)(e=this.allElements[i])&&e.chartStateChanged&&e.chartStateChanged(this._transitionState,t);this.invalidateDisplayList()}},st.prototype.getChartState=function(){return this._transitionState},st.prototype.getAllSeries=function(){return d(this._allSeries)?this._series:this._allSeries},st.prototype.removeDocEvent=function(t){var e=this;void 0===st.prototype.removeScrollData&&(st.prototype.removeScrollData=function(){e._as=e._sp=void 0}),"add"==t?zs(document,"mouseup",st.prototype.removeScrollData):(Ws(document,"mouseup",st.prototype.removeScrollData),st.prototype.removeSCrollData=void 0)},st.prototype.invalidateSeriesStyles=function(){this._seriesStylesDirty||(this._seriesStylesDirty=!0,this.invalidateProperties())},st.prototype.hideData=function(){this._transitionEffect&&(this.setChartState(qs),this._transitionEffect.end(),this._transitionEffect=null),this.setChartState(Zs)},st.prototype.invalidateSeries=function(){this._bSeriesDirty||(this._bSeriesDirty=!0,this.invalidateProperties(),this.invalidateDisplayList())},st.prototype.invalidateChildOrder=function(){this._childOrderDirty||(this._childOrderDirty=!0,this.invalidateProperties())},st.prototype.updateChildOrder=function(){var t,e,i,s=0;for(t=0,e=this._backgroundElements.length;t<e;t+=1)i=this._backgroundElements[t],this.setChildIndex(i,s++);this._seriesStartIndex=s=this.updateAxisOrder(s),this.changeAxisIndex(),this._tempLastSeries=null},st.prototype.setupMouseDispatching=function(){var t=this.element;this._mouseEventsInitialized||(this._mouseEventsInitialized=!0,zs(t,"mouseup",this._mouseEventHandler,this),zs(t,"mouseover",this._mouseEventHandler,this),zs(t,"click",this._mouseEventHandler,this),Fs?(zs(t,"touchstart",this._mouseEventHandler,this),zs(t,"touchmove",this._mouseEventHandler,this),zs(t,"touchend",this._mouseEventHandler,this),this.hideToolTipAtTouchEnd||Zi.documentAddEvent("touchstart",this._touchStartRemoveTipCache,this)):(zs(t,"mouseout",this._mouseEventHandler,this),zs(t,"mousedown",this._mouseEventHandler,this),zs(t,"mousemove",this._mouseEventHandler,this),this._doubleClickEnabled&&zs(t,"dblclick",this._mouseEventHandler,this)))},st.prototype.setupRangeDispatching=function(){this._rangeEventsInitialized=!0,this.addEventListener(rt.REGION_CHANGE,this._regionChangeHandler,this)},st.prototype.resetMouseDispatching=function(){var t=this.element;this._mouseEventsInitialized&&(this._mouseEventsInitialized=!1,Ws(t,"mouseup",this._mouseEventHandler,this),Ws(t,"mouseover",this._mouseEventHandler,this),Ws(t,"click",this._mouseEventHandler,this),Fs?(Ws(t,"touchstart",this._mouseEventHandler,this),Ws(t,"touchmove",this._mouseEventHandler,this),Ws(t,"touchend",this._mouseEventHandler,this),this.hideToolTipAtTouchEnd||Zi.documentRemoveEvent("touchstart",this._touchStartRemoveTipCache,this)):(Ws(t,"mouseout",this._mouseEventHandler,this),Ws(t,"mousedown",this._mouseEventHandler,this),Ws(t,"mousemove",this._mouseEventHandler,this),this._doubleClickEnabled&&Ws(t,"dblclick",this._mouseEventHandler,this)))},st.prototype._touchStartRemoveTipCache=function(t){qi.isParentOf(this.getParent().element,t.target)||this.registerRemoveTipCache()},st.prototype._mouseEventHandler=function(t){var e,i,s,a=t.type;Fs&&t.touches&&(e=t.touches[0]),i=(e||t).pageX,s=(e||t).pageY,e&&"click"!=a&&(i+=this.touchOffset,s+=this.touchOffset),"touchstart"==a?a="mousedown":"touchmove"==a?a="mousemove":"touchend"==a?(a="mouseout",i=s=NaN):"dblclick"==a&&(a="doubleclick"),e=this.globalToLocal({x:i,y:s}),a=ji.lowerToUpper(a.replace("mouse","")),this["_mouse"+a+"Handler"](t,e.x,e.y)},st.prototype._mouseOverHandler=function(t,e,i){var s;if(o(t.preventDefault)&&t.preventDefault(),this._removeTipCacheTimeout&&(!this.adjustAxesPlacements||this.adjustAxesPlacements&&(s=this.getDataRegion())&&s.left<e&&s.top>i&&s.left+s.width>e&&s.top+s.height>i)&&(window.clearTimeout(this._removeTipCacheTimeout),this._removeTipCacheTimeout=null,this._changeTipOpacity(this._tipCache,1)),this._mouseIsOut)return this._mouseIsOut=!1,this.legend&&this.legend.setArrowVisible&&this.legend.setArrowVisible(!0),this.chartOverJsFunction&&Ms.chartPrivateFunc(this,"chartOver",t,this.chartOverJsFunction),!1},st.prototype._mouseOutHandler=function(t,e,i){var s,a;if(o(t.preventDefault)&&t.preventDefault(),!(this._mouseIsOut||(this._mouseIsOut=!0,Fs&&!this.hideToolTipAtTouchEnd||(s=qi.isParentOf(this.element,t.toElement)))))return Fs&&this._scroll&&this._startPoint&&this.scrollDragChange(t),this instanceof st&&(a=this.findDataPoints(e,i),"object"==typeof a&&this.processRollEvents(a,t,e,i),(0<this._axisDataTipCache.h.length||0<this._axisDataTipCache.v.length)&&this.registerRemoveAxisTipCache()),this.legend&&this.legend.setArrowVisible&&this.legend.setArrowVisible(!1),this.chartOutJsFunction&&Ms.chartPrivateFunc(this,"chartOut",t,this.chartOutJsFunction),s||this.registerRemoveTipCache(),!1},st.prototype._mouseDownHandler=function(t,e,i){var s;if(Fs){if(!this._mouseIsOut)return;this._mouseIsOut=!1,s=qi.getAttr(t.target,"class"),this.touchMoveEnable||/Track$/.test(s)||/ZoomMenu/.test(s)||(t.preventDefault(),t.stopPropagation())}if(this.scrollDragChange({type:t.type,point:new Oi(e,i),target:t.target}),s=this.findDataPoints(e,i),this.processRollEvents(s,t,e,i),s&&0<s.length&&this.itemDownJsFunction)for(t=0,e=s.length;t<e;t++)Ms.chartFunc.call(this,s[t],this.itemDownJsFunction);return!1},st.prototype._mouseUpHandler=function(t,e,i){var s;if(this.scrollDragChange(t),s=this.findDataPoints(e,i),this.processRollEvents(s,t,e,i),s&&0<s.length&&this.itemUpJsFunction)for(t=0,e=s.length;t<e;t++)Ms.chartFunc.call(this,s[t],this.itemUpJsFunction);return!1},st.prototype._mouseClickHandler=function(t,e,i){var s,a,r;if(r=this.findDataPoints(e,i),this.processRollEvents(r,t,e,i),r&&0<r.length){if(this.itemClickJsFunction)for("multiple"==this.dataTipMode?(a=this.maximumDataTipCount,a=h(a)?r.length:Math.min(a,r.length)):a=Math.min(r.length,1),s=0;s<a;s++)r[s].isHit&&Ms.chartFunc.call(this,r[s],this.itemClickJsFunction)}else this.chartClickJsFunction&&Ms.chartPrivateFunc(this,"chartClick",t,this.chartClickJsFunction);return this.axisClickJsFunction&&((s=this._findAxisDataPoints("h",e,i))&&Ms.findFunction(this.axisClickJsFunction)(s.id,s.h.label),(s=this._findAxisDataPoints("v",e,i))&&Ms.findFunction(this.axisClickJsFunction)(s.id,s.v.label)),t.preventDefault(),t.stopPropagation(),!1},st.prototype._mouseDoubleclickHandler=function(t,e,i){var s;if((s=this.findDataPoints(e,i))&&0<s.length){if(this.itemDoubleClickJsFunction)for("multiple"==this.dataTipMode?(i=this.maximumDataTipCount,i=h(i)?s.length:Math.min(i,s.length)):i=Math.min(s.length,1),e=0;e<i;e++)Ms.chartFunc.call(this,s[e],this.itemDoubleClickJsFunction)}else this.chartDoubleClickJsFunction&&Ms.chartPrivateFunc(this,"chartDoubleClick",t,this.chartDoubleClickJsFunction);return t.preventDefault(),t.stopPropagation(),!1},st.prototype._mouseMoveHandler=function(t,e,i){var s,a,r;if(this.scrollDragChange({type:t.type,point:new Oi(e,i),target:t.target}),this._startPoint)return this._removeTipCache(),this.clearSelection(),!1;if(s=this.findDataPoints(e,i),this.processRollEvents.call(this,s,t,e,i),(this.showHorizontalAxisDataTip||this.axisClickJsFunction)&&(a=this._findAxisDataPoints("h",e,i),this.showHorizontalAxisDataTip&&this.createAxisDataTip(a,"h")),(this.showVerticalAxisDataTip||this.axisClickJsFunction)&&(r=this._findAxisDataPoints("v",e,i),this.showVerticalAxisDataTip&&this.createAxisDataTip(r,"v")),this.buttonMode){for(t=0;s[t];){if(s[t].isHit){js(this,"Kool__cursor-pointer"),t=-1;break}t++}(a||r)&&js(this,"Kool__cursor-pointer"),-1==t||a||r||Qs(this,"Kool__cursor-pointer")}},st.prototype._selectRectangleRegion=function(t,e){var i=this.getItemsInRegion(t);e||(e=!1),e&&(i=i.concat(this.getSelectedChartItems())),this._selectSpecificChartItems(i)},st.prototype._regionChangeHandler=function(t){var e=!0;this._selectedSeries||(e=!1),this._selectRectangleRegion(t.regionSelected,t.mouseEvent.ctrlKey||t.mouseEvent.shiftKey),!e&&!this._selectedSeries||t.mouseEvent.buttonDown||this.dispatchEvent(new cs("change"))},st.prototype._dragCompleteHandler=function(t){this._mouseDown=!1,this._mouseDownItem=this._mouseDownPoint=null},st.prototype._getNextSeries=function(t){var e,i,s,a=!1;for(e=this._caretItem?ha(t,this._caretItem.element,0):-1;!a&&e<t.length-1;)++e,s=t[e],(i=s.getItems())&&s.selectable&&s.getVisible()&&0<i.length&&(a=!0);return a?i[this._caretItem?ha(this._caretItem.element.getItems(),this._caretItem,0):0]:null},st.prototype._getPreviousSeries=function(t){var e,i,s,a=!1;for(e=this._caretItem?ha(t,this._caretItem.element,0):t.length;!a&&0<e;)--e,s=t[e],(i=s.getItems())&&s.selectable&&s.getVisible()&&0<i.length&&(a=!0);return a?i[this._caretItem?ha(this._caretItem.element.getItems(),this._caretItem,0):0]:null},st.prototype._getNextSeriesItem=function(t){var e=0;return this._caretItem?(t=this._caretItem.element,e=ha(t.getItems(),this._caretItem,0),e==t.getItems().length-1?null:t.getItems()[++e]):this._getNextSeries(t)},st.prototype._getPreviousSeriesItem=function(t){var e=0;return this._caretItem?(t=this._caretItem.element,e=ha(t.getItems(),this._caretItem,0),0==e?null:t.getItems()[--e]):this._getPreviousSeries(t)},st.prototype.createAxisDataTip=function(t,e){var i,s,a,r=this.getWidth(),n=this.getHeight();i=this._axisDataTipCache[e],t&&t[e]?(this._removeTipAxisCacheTimeout&&(window.clearTimeout(this._removeTipAxisCacheTimeout),this._removeTipAxisCacheTimeout=null,this._changeTipOpacity(i,1)),t=t[e],i.length?(a=i[0],this._axisDataTipCache[e]=[]):(a=this.createToolTipDiv("AxisDataTip",this.getStyle("axisDataTipStyleName")),this.element.appendChild(a)),this._axisDataTipCache[e].push(a),a.innerHTML=t.label,i=a.offsetWidth,s=a.offsetHeight,t.x+i>r&&(t.x=r-i),t.y+s>n&&(t.y=n-s),Ys(a,"left",t.x),Ys(a,"top",t.y),h(this.axisDataTipBorderRadius)||Ys(a,"borderRadius",this.axisDataTipBorderRadius),h(this.axisDataTipBorderWidth)||Ys(a,"borderWidth",this.axisDataTipBorderWidth),""!=this.axisDataTipBorderStyle&&Gs(a,"borderStyle",this.axisDataTipBorderStyle),""!=this.axisDataTipBorderColor?Gs(a,"borderColor",Qi.hex2rgb(this.axisDataTipBorderColor)):Gs(a,"borderColor",t.color),qi.addClass(a,"Kool__show_data_tip")):0<i.length&&this.registerRemoveAxisTipCache()},st.prototype._findAxisDataPoints=function(t,e,i){var s,a,r,n,o,h,l,d,c,u,p,f,g,m,_,y,v,x=this.axisMouseSensitivity;if(a=this._computedGutters,t="h"==t?"horizontal":"vertical",h=(h=this["_"+t+"AxisRenderers"])&&0<h.length?h[0]:this[t+"AxisRenderer"],d=h._labels,s=h.axisStroke,o=Os?s.color:Qi.color2rgba(s.color,s.alpha),"horizontal"==t){for(t=h._gutters.left,a=h._gutters.right,p=h.height,u=p-h._gutters.bottom-.5+h.labelGap+s.weight-1,p=h.width-t-a,g=h.getStyle("labelRotation"),m=0<g?-g*Math.PI/180:(180-g)*Math.PI/180,s=0,a=d.length;s<a;s+=1)if(n=d[s],f=n.width,_=n.height,c=n.position,r=n.value.value,n=h.getAxis(),l=0,n.formatter?r=n.formatter.format(r):h.formatter&&(r=h.formatter.format(r)),n={id:n.id,h:{x:e+10,y:i,label:r,color:o}},0!=g){if(r=t+c*p,r=0<g?r+_:r-.5*_,l=r-f,y=u-x+0+.35*_,v=u-x+0+.75*_-f*Math.sin(m),80<=g&&90>=g&&(r=t+c*p,l=r+1,y=u-x+0,v=y+f),!(i<y||i>v)){if(f=(v-y)/(l-r),f=f*(e-r)+y,10>=Math.abs(f-i))return n;if(f=(l-r)/(v-y),f=f*(i-y)+r,10>=Math.abs(f-e))return n}}else if(c=t+c*p-.5*f,h.canStagger&&s%2&&(l=(h.labelGap+.5*_)*("top"==h.placement?-1:1)),c-x<=e&&e<=c+f+x&&u-x+l<=i&&i<=u+_+x+l)return this.axisDataTipJsFunction&&(n.h.label=Ms.axisFunc(this,r,this.axisDataTipJsFunction)),n}else if("vertical"==t)for(p=h.height-a.top-a.bottom-s.weight,g=h.getStyle("labelRotation"),m=g*Math.PI/180,s=0,a=d.length;s<a;s+=1)if(n=d[s],f=n.width,_=n.height,c=n.position,r=n.value.value,n=h.getAxis(),t=h._gutters.left-h.labelGap-f,u=this._computedGutters.top+p*c-.5*_,n.formatter?r=n.formatter.format(r):h.formatter&&(r=h.formatter.format(r)),n={id:n.id,v:{x:e+10,y:i-_-10,label:r,color:o}},0!=g){if(r=t+f+x,y=u+f,l=r-f*Math.cos(m),v=y-f,80<=g&&90>=g){if(l=r=t+f-.5*_,y=u-x,v=u-x+f,i<y||i>v)continue}else if(i>y||i<v)continue;if(f=(v-y)/(l-r),f=f*(e-r)+y,10>=Math.abs(f-i))return n;if(f=(l-r)/(v-y),f=f*(i-y)+r,10>=Math.abs(f-e))return n}else if(c=t,t=u,c-x<=e&&e<=c+f+x&&t-x<=i&&i<=t+_+x)return this.axisDataTipJsFunction&&(n.v.label=Ms.axisFunc(this,r,this.axisDataTipJsFunction)),n;return null},st.prototype.scrollDragChange=function(t){},st.prototype.findDataPoints=function(t,e,i){var s,a,r,n=[];if(0==this.getDataRegion().contains(t,e))return n;for(s=this.allElements.length,a=s-1;0<=a;a--)r=this.allElements[a],s=this.mouseSensitivity,r&&o(r.mappingChanged)&&(!o(r.getVisible)||r.getVisible())&&(s=r.interactive&&r.getIncludeInLayout()?r.findDataPoints(t-r.x,e-r.y,s,i):[],0!=s.length&&(n=n.concat(s)));for(a=0,s=n.length;a<s;a++)n[a].x+=r.getX(),n[a].y+=r.getY();return n},st.prototype.processRollEvents=function(t,e,i,s){var a;a=null;var r=0,n=0,o=[],h=e.type,l=[],d=[],c=t.length,u=this._currentHitSet.length,p=Ms.itemPrivateFunc;if(this.renderingComplete){if(!Os){if(0==c&&0==u)return void("single"!=this._selectionMode||"mousedown"!=h&&"touchstart"!=h?"multiple"!=this._selectionMode||"mousedown"!=h&&"touchstart"!=h||this._startTracking(e):this.clearSelection());if("axis"==this.dataTipDisplayMode&&"multiple"==this._selectionMode&&("mousedown"==h||"touchstart"==h))return this.clearSelection(!0),void this._startTracking(e);for(a=t.concat(),1<c&&(a=Yi.sortOn(a,"id"));n<u||r<c;)r==c||n<u&&this._currentHitSet[n].id<a[r].id?(l.push(this._currentHitSet[n]),n++):n==u||r<c&&this._currentHitSet[n].id>a[r].id?(o.push(a[r]),r++):(d.push(a[r]),r++,n++);if(0<l.length&&this.itemOutJsFunction&&p(this,"itemOut",e,l,this.itemOutJsFunction),0<o.length&&this.itemOverJsFunction&&p(this,"itemOver",e,o,this.itemOverJsFunction),0<d.length&&this.itemMoveJsFunction&&p(this,"itemMove",e,d,this.itemMoveJsFunction),"mousedown"==h||"touchstart"==h)if(this._dragEnabled&&!ds.isDragging)this._mouseDown=!0,this._mouseDownPoint=new Oi(i,s),this._mouseDownItem=t[0].chartItem;else if(0<t.length)if("axis"==this.dataTipDisplayMode)for(r=0;t[r];){if(t[r].isHit){this._selectItem(t[r].chartItem,e);break}r++}else this._selectItem(t[0].chartItem,e);"mouseup"==e.type&&(this._dragEnabled&&this._mouseDown&&ds.isDragging&&this._selectItem(this._mouseDownItem,e),this._mouseDown=!1,this._mouseDownPoint=this._mouseDownItem=null),(Fs?"touchstart"!=h:"mousedown"!=h&&"mouseup"!=h)&&(ds.isDragging||this._rollOverItem(t,l)),"mousemove"==e.type&&(a=new Oi(i,s),this._dragEnabled&&this._mouseDown&&!ds.isDragging&&(Math.abs(this._mouseDownPoint.x-a.x)>st.DRAG_THRESHOLD||Math.abs(this._mouseDownPoint.y-a.y)>st.DRAG_THRESHOLD)&&(a=this._mouseDownItem.element,-1==ha(a.getSelectedItems(),this._mouseDownItem,0)&&this._selectItem(this._mouseDownItem,e),this._selectedSeries&&(e=new cs("dragStart"),e.dragInitiator=this,e.localX=this._mouseDownPoint.x,e.localY=this._mouseDownPoint.y,e.buttonDown=!0,this._selectedSeries.dispatchEvent(e))))}this._currentHitSet=t,this._dragEnabled&&this._mouseDown&&ds.isDragging?this.updateDataTipToMatchHitSet([]):this.updateDataTipToMatchHitSet(this._currentHitSet,i,s)}},st.prototype._rollOverItem=function(t,e){var i,s,a,r,n=null,o=null;if(0<t.length){for(i=0,s=t.length;i<s;i+=1)n=t[i],"none"!=this._selectionMode&&n.chartItem.element.selectable&&n.chartItem.setCurrentState(sa);if("axis"==this.dataTipDisplayMode)for(a=t.length,i=e.length-1;-1<i;--i)for(o=0;o<a;o+=1)e[i]&&t[o]&&e[i].id==t[o].id&&e.splice(i,1)}if(0<e.length)for(i=0;i<e.length;i+=1)if(n=e[i],o=n.chartItem.element,o.selectable){for(s=-1,r=o.getSelectedItems(),o=0,a=r.length;o<a;o+=1)if(r[o]===n.chartItem){s=o;break}-1==s?this._selectedSeries?n.chartItem.setCurrentState(ra):n.chartItem.setCurrentState(ia):n.chartItem.setCurrentState(aa)}},st.prototype._selectItem=function(t,e){var i;i=null;var s=!1,a=!1,r=this._selectionMode;t.isGroup||(i=t.element,e.shiftKey&&this._anchorItem?(s=!0,1<i.getSelectedItems().length&&(a=ha(i.getSelectedItems(),t,0),i.getSelectedItems().splice(a,1),i.getSelectedItems().push(t),this._selectedSeries=i)):"none"!=this._selectionMode&&i.selectable&&(-1==ha(i.getSelectedItems(),t,0)&&(a=!0),a?(this._selectedSeries?"single"==r?1<this.getSelectedChartItems().length?(this.clearSelection(),this._setChartItemsToDisabled()):this._selectedSeries._removeItemFromSelection(this._selectedSeries.getSelectedItem()):e.ctrlKey||(this.clearSelection(),this._setChartItemsToDisabled()):this._setChartItemsToDisabled(),i._addItemtoSelection(t),this._selectedSeries=i,s=!0):"multiple"==r?(e.ctrlKey?(i._removeItemFromSelection(t),0==this._selectedSeries.getSelectedItems().length&&((i=this._getSelectedSeries(i))?this._selectedSeries=i:this.clearSelection()),s=!0):i!=this._selectedSeries||this._getSelectedSeries(i)||1!=this._selectedSeries.getSelectedItems().length?(this.clearSelection(),this._setChartItemsToDisabled(),i._addItemtoSelection(t),this._selectedSeries=i,s=!0):s=!1,t.setCurrentState(sa)):(1<this.getSelectedChartItems().length&&(this.clearSelection(),i._addItemtoSelection(t)),this._selectedSeries=i)),s&&(this._selectedSeries&&(this._caretItem&&(-1!=ha(this._caretItem.element.getSelectedItems(),this._caretItem,0)?this._caretItem.setCurrentState(aa):this._caretItem.setCurrentState(ra)),this._caretItem=this._selectedSeries.getSelectedItem(),this._caretItem.setCurrentState(oa),this._anchorItem||!e.shiftKey)&&(this._anchorItem=this._caretItem),this.dispatchEvent(new cs("change"))))},st.prototype._getSelectedSeries=function(t){var e,i,s,a,r,n;for(e=0,i=this._transforms.length;e<i;e+=1)for(n=this._transforms[e],s=0,a=n.elements.length;s<a;s+=1)if(r=n.elements[s],r instanceof Qe&&r!=t&&0!=r.getSelectedItems().length)return r;return null},st.prototype._setChartItemsToDisabled=function(){var t,e,i,s,a;for(t=0,e=this._transforms.length;t<e;t+=1)for(a=this._transforms[t],i=0,s=a.elements.length;i<s;i+=1)a.elements[i]instanceof Qe&&a.elements[i]._clearSeriesItemsState(!1,ra)},st.prototype.getSeriesTransformState=function(t){var e,i=!1;if(o(t.getAllowNegativeForStacked)){for(e=0;e<t._series.length;e++)if(i=this.getSeriesTransformState(t._series[e]))return!0;return!1}return t.getTransformState()},st.prototype._getItemsInRegionFromElements=function(t,e){var i,s,a=[],r=t.elements;for(s=0;s<r.length;s+=1)i=r[s],i instanceof Qe&&i.selectable&&i.getVisible()&&(a=a.concat(i.getItemsInRegion(e)));return a},st.prototype.updateDataTipToMatchHitSet=function(t,e,i){var s=0;if(this._showDataTips){for("multiple"==this.dataTipMode?(s=this.maximumDataTipCount,s=h(s)?t.length:Math.min(s,t.length)):s=Math.min(t.length,1),"axis"==this.dataTipDisplayMode&&(s=1),1>t.length?this.registerRemoveTipCache():this._removeTipCacheTimeout&&(window.clearTimeout(this._removeTipCacheTimeout),this._removeTipCacheTimeout=null,this._changeTipOpacity(this._tipCache,1)),t=this._tipCache.length;t<s;t+=1)this._tipCache[t]=this.createToolTipDiv("DataTip",this.getStyle("dataTipStyleName"));if(0<s)for(;0<this._tipCache.length-s;)this.element.removeChild(this._tipCache[0]),this._tipCache.shift();this.positionDataTips(e,i)}},st.prototype.positionDataTips=function(t,e){var i,s,a;if(this._tipCache){var n,o,l,d,c,u,p,f="",g=[];u=[];var m=[];l=[];var _,y,v,x=[],b=this.dataTipJsFunction;c=this.getDataRegion(),v=this._tipCache.length;var S,C=_=0,D=this.showDataTipTargets,T=this.horizontalDataTipOffset,M=this.horizontalDataTipOffset,C="",L=this.dataTipDisplayMode;if(h(T)&&(T=6),h(M)&&(M=6),this._dataTipOverlay&&(n=this._dataTipOverlay.graphics,this._dataTipOverlay.clear()),v=this._currentHitSet.length){for("single"==this.dataTipMode&&(v=1),"axis"==L&&"reverse"!=this.dataTipOrder&&this._currentHitSet.reverse(),o=0;o<v;o+=1)d=this._currentHitSet[o],_=r(d.contextColor)?d.contextColor.color?d.contextColor.color:d.contextColor._entries[0].color:d.contextColor,"#ffffff"==_.toLocaleLowerCase()&&(_="#000000"),C=b?Ms.chartFunc.call(this,d,b,"dataTipFunction"):this.dataTipFunction?this.dataTipFunction.call(d.chartItem.element,d):d.dataTipFunction.call(d.chartItem.element,d),"axis"!=L||this instanceof Vt||this instanceof Qt||this instanceof jt?(f=this.dataTipFontColorOnSeries?"<font color='"+_+"'>"+C+"</font>":C,x.push(f)):(b||(0==o&&(Us("Bar",this.className)?(y=this._verticalAxis.categoryField?d.chartItem.item[this._verticalAxis.categoryField]:d.chartItem.yValue,this._verticalAxis.formatter&&(y=this._verticalAxis.formatter.format(y))):(y=this._horizontalAxis.categoryField?d.chartItem.item[this._horizontalAxis.categoryField]:d.chartItem.xValue,this._horizontalAxis.formatter&&(y=this._horizontalAxis.formatter.format(y))),y=(y+"").replace(/<br>/," "),f=this.dataTipFontColorOnSeries?f+("<font color='"+_+"'>"+y+"</font>"):f+y,0<d.chartItem.element._displayName.length&&(f+="<br/>")),this.showDataTipMarker&&1<v&&(y="",this._enablePattern&&(y=";border:solid 1px #000;background-image:url("+ws.getItem(d.chartItem.element.seriesIndex).getAttribute("src")+");"),f+="<span class='Kool__DataTipMarker' style='background-color:"+_+(Es.ie7&&Ns?";float:none":"")+y+"'></span>&nbsp;")),f=this.dataTipFontColorOnSeries?f+("<font color='"+_+"'>"+C+"</font>"):f+C,1<v&&(f+="<br/>"),!b&&o==v-1&&(p=d.chartItem.element.stacker)&&"stacked"==p.getType()&&(C=p._posTotalsByPrimaryAxis[d.chartItem[(d.chartItem.element instanceof ri?"y":"x")+"Value"]],this.dataTipFormatter&&(C=this.dataTipFormatter.format(C)),f+="Total : "+C),x[0]=f);for(o=0,v=x.length;o<v;o+=1)d=this._currentHitSet[o],f=this._tipCache[o],f.parentNode&&f.parentNode==this.element||this.element.appendChild(f),f.innerHTML=x[o],_=Math.max(c.left,Math.min(d.x,c.right)),C=Math.max(c.top,Math.min(d.y,c.bottom)),S={x:_,y:C},d=new nt(f,d,_,C,S.x,S.y),d.py=0<d.gy-M-f.offsetHeight?d.gy-M-f.offsetHeight-4:d.gy+M+4,l.push(d),g[o]=d;for(0<l.length&&(l=Yi.sortOn(l,"gx"),a=4,i=this.getWidth(),s=this.getHeight(),o=Math.floor(l.length/2),u.length>m.length?o=Math.max(0,o-(u.length-m.length)):m.length>u.length&&(o=Math.min(l.length,o+(m.length-u.length))),u=u.concat(l.slice(0,o)),m=m.concat(l.slice(o,l.length))),m=Yi.sortOn(m,"gy"),l=m.length,c=[],v=null,x=[],o=0;o<l;o++)d=m[o],d.isRight=!0,d.px=d.gx+T,d.px+d.width>this.getWidth()?x.push(o):(v?d.py<v.gy+v.height||(ot(c,v),v=new ht):v=new ht,v.addTip(d,screen.height));for(u=Yi.sortOn(u,"gy"),o=x.length-1;-1<o;--o)u.unshift(m[x[o]]),m.splice(o,1);for(v&&ot(c,v),x=m=0,l=c.length,o=0;o<l;o++)c[o].positionY();for(l=u.length,c=[],v=null,o=0;o<l;o++)d=u[o],d.isRight=!1,d.px=d.gx-d.width-T,v?d.py<v.gy+v.height||(ot(c,v),v=new ht):v=new ht,v.addTip(d,screen.height);for(v&&ot(c,v),l=c.length,o=0;o<l;o++)c[o].positionY();for(g=Yi.sortOn(g,"py"),l=g.length,c=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY,b=0,v=!0,M=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY,f=0;v&&2>=f;)for(v=!1,f++,o=0;o<l;o++){for(p=g[o],_=b=!1;x<g.length&&g[x].gy+4.5<p.py;)g[x].gx>=c&&(b=!0),g[x].gx<=u&&(_=!0),x++;for(m=Math.max(m,x);m<g.length&&g[m].gy-4.5<p.py+p.height;)g[m].gx>=c&&(b=!1,c=g[m].gx),g[m].gx<=u&&(_=!1,u=g[m].gx),m++;if(b||_)for(c=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY,b=x;b<m;b++)c=Math.max(c,g[b].gx),u=Math.min(u,g[b].gx);if("axis"==this.dataTipDisplayMode?(0>p.py&&(p.py=0),p.px+p.width>=i-4.5&&(p.px=t-p.width-T-4.5)):p.isRight?(p.px=Math.max(p.px,c+4.5),p.px=Math.max(M,p.px),2>l&&(p.px=p.px-T-.5*p.width),p.px>=i-p.width?(p.px=i-p.width-T-4.5,d>p.px&&(d=p.px,v=!0)):0>=p.px-.5*p.width&&(p.px+=.5*p.width)):(p.px=Math.min(p.px,u-4.5-p.width),p.px=Math.min(d-p.width,p.px),p.px<=a&&(p.px=a,p.px+p.width>M&&(M=p.px+p.width,v=!0))),0>p.py)p.py=0;else if(p.height>s){for(b=this.getParent();0>b.className.indexOf("Chart");)b=b.getParent();p.py=qi.pageXY(b).y-qi.pageXY(this).y}else p.py+p.height>=this.getY()+s&&(p.py=s-p.height);S.x=p.px,S.y=p.py,_=S,C=r(p.hd.contextColor)?p.hd.contextColor.color:p.hd.contextColor,(p.hd.contextColor instanceof I||p.hd.contextColor instanceof A)&&(C=p.hd.contextColor._entries[0].color),C=Qi.hex2rgb(C),this.dataTipBackgroundColorOnSeries&&Gs(p.tip,"backgroundColor",C),h(this.dataTipBorderWidth)||Ys(p.tip,"borderWidth",this.dataTipBorderWidth),h(this.dataTipBorderRadius)||Ys(p.tip,"borderRadius",this.dataTipBorderRadius),this.dataTipBorderStyle&&Gs(p.tip,"borderStyle",this.dataTipBorderStyle),this.dataTipBorderColorOnSeries&&Gs(p.tip,"borderColor",C),""!=this.dataTipBorderColor&&Gs(p.tip,"borderColor",Qi.hex2rgb(this.dataTipBorderColor)),Ys(p.tip,"left",Math.floor(S.x)),Ys(p.tip,"top",Math.floor(S.y)),js(p.tip,"Kool__show_data_tip"),p.x=Math.floor(p.x)+.5,p.y=Math.floor(p.y)-.5,n&&(1<l&&(ts.apply(n,new w(C)),this.calloutStroke&&ts.apply(n,this.calloutStroke),b=Math.floor(.5*p.height),n.beginPath(),p.isRight?n.moveTo(_.x,_.y+b):n.moveTo(_.x+p.width,_.y+b),n.lineTo(p.x,_.y+b),n.lineTo(p.x,p.y),n.stroke()),D&&(ts.apply(n,new w(C)),n.fillStyle="#FFFFFF",n.beginPath(),n.moveTo(p.x,p.y),n.arc(p.x-.5*n.lineWidth,p.y-n.lineWidth/2,4.5,0,2*Math.PI,!0),n.stroke(),n.fill(),n.fillStyle=C,n.beginPath(),n.moveTo(p.x,p.y),n.arc(p.x-.5*n.lineWidth,p.y-n.lineWidth/2,1.5,0,2*Math.PI,!0),n.stroke(),n.fill()))}}}},st.prototype.registerRemoveTipCache=function(){var t=this;t._tipCache&&t._tipCache.length&&(t._removeTipCacheTimeout&&(clearTimeout(t._removeTipCacheTimeout),t._removeTipCacheTimeout=null),t._changeTipOpacity(t._tipCache,0),Os?t._removeTipCache():t._removeTipCacheTimeout=window.setTimeout(function(){t._removeTipCache(),t=t._removeTipCacheTimeout=null},500))},st.prototype._removeTipCache=function(){var t,e,i;for(e=0,i=this._tipCache.length;e<i;e+=1)t=this._tipCache[e],t.parentNode&&t.parentNode.removeChild(t),this._tipCache[e]=null;this._tipCache=[]},st.prototype.registerRemoveAxisTipCache=function(){var t=this;t._axisDataTipCache&&(t._axisDataTipCache.h.length||t._axisDataTipCache.v.length)&&(t._removeTipAxisCacheTimeout&&(clearTimeout(t._removeTipAxisCacheTimeout),t._removeTipAxisCacheTimeout=null),t._changeTipOpacity(t._axisDataTipCache.h,0),t._changeTipOpacity(t._axisDataTipCache.v,0),Os?t._removeAxisTipCache():t._removeTipAxisCacheTimeout=window.setTimeout(function(){t._removeAxisTipCache(),t=t._removeTipAxisCacheTimeout=null},500))},st.prototype._removeAxisTipCache=function(){var t,e,i,s=this._axisDataTipCache.h.concat(this._axisDataTipCache.v);for(e=0,i=s.length;e<i;e+=1)t=s[e],t.parentNode&&t.parentNode.removeChild(t),s[e]=null;this._axisDataTipCache.h=[],this._axisDataTipCache.v=[]},st.prototype._changeTipOpacity=function(t,e){var i,s;for(i=0,s=t.length;i<s;i+=1)(e?js:Qs)(t[i],"Kool__show_data_tip")},st.prototype.createToolTipDiv=function(t,e){var i=qi.createElement("div","Kool__"+t+" Kool__pointer-events-none");return e&&js(i,e.className),"mouse"!=this.dataTipDisplayMode&&js(i,"Kool__DataTipTransition"),i},st.prototype.cancelEffect=function(){this._transitionEffect&&(this._transitionEffect.end(),this._transitionEffect=null),this.setChartState(qs)},st.prototype._historyDual=function(){var t,e,i=this.getParent();if(!i)return!0;if(t=i._displayerChart||i._mainChart,e=i._navigator||i._subChart,!t||!e)return!0;if(t.renderingComplete||e.renderingComplete){if(!t.renderingComplete&&e.renderingComplete||t.renderingComplete&&!e.renderingComplete)return i.displayCompleteCallFunction&&(this.displayCompleteCallFunction=i.displayCompleteCallFunction),i.displayUpdateCallFunction&&(this.displayUpdateCallFunction=i.displayUpdateCallFunction),i.renderingComplete=!0;if(t.renderingComplete&&e.renderingComplete&&!t.getChartState()&&!e.getChartState())return i.themeRunning=!1,!0}else this.renderingComplete=!0;return!1},st.prototype.allSeriesRenderingComplete=function(t){var e,i=this;0!=i.getChartState()||!i._dataProvider||(i._dataProvider.length?1>i._dataProvider.length:1>i._dataProvider.getLength())||(o(i.measureLabels)&&i.measureLabels(),i._historyDual()&&(e=i.displayUpdateCallFunction,t=i.displayCompleteCallFunction,i.renderingComplete?e&&Ms.findFunction(e)(i.id):(i.renderingComplete=!0,i.callLater(function(t,e){t&&Ms.findFunction(t)(e),i.dispatchEvent(new cs("renderingComplete"))},[t,i.id])),i.themeRunning=!1))},st.prototype.measureLabels=function(){var t,e=this.allElements.length;for(this.allLabelsMeasured=!0,t=0;t<e;t++)this.invalidateDisplay(this.allElements[t])},st.prototype.invalidateDisplay=function(t){var e,i,s=t.labelLayer;if(o(t.getAllowNegativeForStacked))for(i=t._series,e=0;e<i.length;e++)this.invalidateDisplay(i[e]);s&&t.getIncludeInLayout()&&(t.labelClear(),o(t.drawTrendLine)&&t.drawTrendLine(),t.showErrorBar&&o(t.drawErrorBar)&&t.drawErrorBar(),o(t.updateLabels)&&t.updateLabels(),o(t.updateLinkLabels)&&t.updateLinkLabels())},st.prototype.addChild=function(t){if(t.elementWrapDiv){if(t.elementWrapDiv.parentNode){if(t.elementWrapDiv.parentNode==this.element)return;t.elementWrapDiv.parentNode.removeChild(t.elementWrapDiv)}this.element.appendChild(t.elementWrapDiv),t.parentElement=this}else{if(!(t instanceof m))throw Error("added element is not an instance of HTMLObject");if(t.element.parentNode){if(t.element.parentNode==this.element)return;t.element.parentNode.removeChild(t.element)}this.element.appendChild(t.element),t.parentElement=this,t instanceof _&&(t.setNestLevel(this._nestLevel+1),t.initialize())}},st.prototype.setActualSize=function(t,e){t==this.getWidth()&&e==this.getHeight()||this.cancelEffect(),y.prototype.setActualSize.call(this,t,e)},st.prototype.invalidateSize=function(){this.cancelEffect(),st._super.invalidateSize.call(this)},st.prototype.updateDisplayList=function(t,e){y.prototype.updateDisplayList.call(this,t,e),this._commitPropertiesCalled||this.commitProperties(),this._dataTipOverlayCreated&&(this._dataTipOverlay.move(0,0),this._dataTipOverlay.setActualSize(t,e)),this._removeTipCache()},st.prototype.measure=function(){y.prototype.measure.call(this),this.measuredHeight=this.measuredWidth=100},st.prototype.commitProperties=function(){this._commitPropertiesCalled=!0,y.prototype.commitProperties.call(this),this._showDataTips&&this.showDataTipTargetsLine&&!this._dataTipOverlayCreated&&(this._dataTipOverlayCreated=!0,this._dataTipOverlay=new x("DataTipLayer"),this._dataTipOverlay.owner=this,this._dataTipOverlay.chart=this,this.addChild(this._dataTipOverlay)),this._bSeriesDirty&&(this.updateSeries(),this._selectedSeries=null,this._bSeriesDirty=!1),this._updateSeriesStyles(),this._bDataDirty&&(this.updateData(),this._bDataDirty=!1),this._childOrderDirty&&(this.updateChildOrder(),this._childOrderDirty=!1),this._selectionMode!=ia||this.buttonMode?(this._mouseEventsInitialized||this.setupMouseDispatching(),
this._rangeEventsInitialized||this.setupRangeDispatching()):Os?this._mouseEventsInitialized||this.setupMouseDispatching():this.setDragEnabled(!1)},st.prototype.getForceTheme=function(){return this._forceTheme},st.prototype.getTheme=function(){return this._themeName},st.prototype.setTheme=function(t,e){this._themeName=t,this._forceTheme=e,this._seriesStylesDirty=!0,this.invalidateProperties()},st.prototype.clearSelection=function(t){var e,i;if(this._selectedSeries||t){for(t=0;t<this._transforms.length;t++)for(e=0;e<this._transforms[t].elements.length;e++)i=this._transforms[t].elements[e],i instanceof Qe&&i._clearSeriesItemsState(!0);this._anchorItem=this._caretItem=this._selectedSeries=null}},st.prototype._selectSpecificChartItems=function(t){var e,i=t.length,s=null,a=!1;for(this.clearSelection(),e=0;e<i;e+=1)s=t[e].element,s.selectable&&(a||(a=!0,this._setChartItemsToDisabled()),"single"==this._selectionMode&&this._selectedSeries&&this._selectedSeries._removeItemFromSelection(this._selectedSeries.getSelectedItem()),-1==ha(s.getSelectedItems(),t[e],0)&&s._addItemtoSelection(t[e]),this._selectedSeries=s);this._selectedSeries&&(this._caretItem=this._selectedSeries.getSelectedItem(),this._caretItem.setCurrentState(oa),this._anchorItem=this._carteItem)},st.prototype._seriesSelectionChanged=function(t,e){var i,s;if(i=null,"none"!=this._selectionMode)if(this._selectedSeries?t._clearSeriesItemsState(!0,ra):this._setChartItemsToDisabled(),s=e.length,0==s)(i=this._getSelectedSeries(t))?this._selectedSeries=i:this.clearSelection();else{if("single"==this._selectionMode)this._selectedSeries&&this._selectedSeries!=t&&this._selectedSeries._removeItemFromSelection(this._selectedSeries.getsSelectedItem()),t._addItemtoSelection(e[e.length-1]);else{for(i=0;i<s;i+=1)t._addItemtoSelection(e[i]);this._selectedSeries=t}this._selectedSeries&&(this._caretItem=this._selectedSeries.getSelectedItem(),this._caretItem.setCurrentState(oa),this._anchorItem=this._caretItem)}},st.prototype._handleSpace=function(t){var e,i=!1,s=e=!1;t.ctrlKey&&(e=!0),t.shiftKey&&(i=!0,e=!1),t=this._caretItem.element,t.selectable&&(-1!=ha(t.getSelectedItems(),this._caretItem,0)?e&&(t._removeItemFromSelection(this._caretItem),this._caretItem.setCurrentState(dt.FOCUSED),"single"==this._selectionMode?this.clearSelection():this._selectedSeries.getSelectedItems().length||((t=this._getSelectedSeries(t))?this._selectedSeries=t:this.clearSelection()),s=!0):(("single"==this._selectionMode||"multiple"==this._selectionMode&&!e)&&(e=this._caretItem,this.clearSelection(),this._caretItem=e),this._selectedSeries||this._setChartItemsToDisabled(),this._selectedSeries=t,this._selectedSeries._addItemtoSelection(this._caretItem),this._caretItem.setCurrentState(oa),s=!0)),s&&(!this._selectedSeries||i&&this._anchorItem||(this._anchorItem=this._selectedSeries.getSelectedItem()),this.dispatchEvent(new cs("change")))},st.prototype._handleNavigation=function(t,e){var i,s,a,r,n=!1;if(a=r=!1,i=t.element,e.ctrlKey&&(r=!0),e.shiftKey&&(n=!0,r=!1),r)this._caretItem&&(i=this._caretItem.element,i.selectable&&(-1!=ha(i.getSelectedItems(),this._caretItem,0)?this._caretItem.setCurrentState(aa):this._selectedSeries?this._caretItem.setCurrentState(ra):this._caretItem.setCurrentState(ia))),t.setCurrentState(dt.FOCUSED);else{if(n&&this._anchorItem)if("single"==this._selectionMode)this._selectedSeries._removeItemFromSelection(this._selectedSeries.getSelectedItem()),i._addItemtoSelection(t);else if(s=this._anchorItem,a=ha(this._anchorItem.element.getItems(),this._anchorItem,0),r=ha(i.getItems(),t,0),this.clearSelection(),this._setChartItemsToDisabled(),this._anchorItem=s,this._anchorItem.element==i)for(a>r&&(s=a,a=r,r=s),s=a;s<=r;s++)i._addItemtoSelection(i.getItems()[s]);else this._anchorItem.element._addItemtoSelection(this._anchorItem),i._addItemtoSelection(t);else this._selectedSeries?"single"==this._selectionMode?this._selectedSeries._removeItemFromSelection(this._selectedSeries.getSelectedItem()):(this.clearSelection(),this._setChartItemsToDisabled()):this._setChartItemsToDisabled(),i._addItemtoSelection(t);this._selectedSeries=i,t.setCurrentState(oa),a=!0}this._caretItem=t,a&&this._selectedSeries&&((!n||this._selectedSeries&&!this._anchorItem)&&(this._anchorItem=this._selectedSeries.getSelectedItem()),this.dispatchEvent(new cs("change")))},st.prototype.commitPatternProperties=function(){var t,e,i,s,a=0,r=!1,n=ws.getItem;for(t=st.prototype.findSeries,r=this.enablePattern,s=t.call(this,this._series),e=0,i=s.length;e<i;e+=1)t=s[e],t.pattern=r?n(a):null,a+=1},st.prototype.changeStackedSeriesDirty=function(){},st.prototype.updateData=function(){var t,e=this._series.length;for(this.clearSelection(!0),this._type&&"clustered"==this._type&&this.applySeriesSet(this._userSeries,this._transforms[0]),null!=this._dataProvider&&this.applyDataProvider(this._dataProvider,this._transforms[0]),t=0;t<e;t++)this.applyDataProvider(this._dataProvider,this._series[t].getDataTransform())},st.prototype.collectTransitions=function(){var t,e,i=[],s=this.allElements.length;for(e=0;e<s;e+=1)(t=this.allElements[e])&&t.collectTransitions(this._transitionState,i);return i},st.prototype._updateSeriesStyles=function(){var t,e,i,s=0,a=et.chartBaseChartSeriesStyles.concat();if("default"==this._themeName?i=this.className.match(/Line|Area|Combination|Vector/g)?et.lineChartSeriesStyles:this.className.match(/Pie|Bubble|Plot|Radar|TreeMap|Word|Pyramid/g)?et.pieChartSeriesStyles:et.columnChartSeriesStyles:a=et[this._themeName].concat(),i)for(t=0,e=i.length;t<e;t+=1)a[t]=i[t];if(this._chartColors=a.concat(),this._seriesStylesDirty&&(this._seriesStylesDirty=!1,a))for(e=this.allElements.length,t=0;t<e;t+=1)i=this.allElements[t],i instanceof Qe&&(s=i.claimStyles(this._chartColors,s))},st.prototype.applyDataProvider=function(t,e){var i,s;s=e.axes;var a=e.elements,r=a.length;for(i in s)s[i].setChartDataProvider(t);for(i=0;i<r;i++)s=a[i],o(s.setChartDataProvider)?s.setChartDataProvider(t):s.chartDataProvider=t,a[i].tween&&W.removeTween(a[i].tween.id);this.clearSelection()},st.prototype.updateSeries=function(){var t=[],e=this.applySeriesSet(this._userSeries,this._transforms[0]);this.addElements(this._backgroundElements,this._transforms[0]),this.allElements=this._backgroundElements.concat(),this.addElements(e,this._transforms[0]),this.allElements=this.allElements.concat(e),t=this.updateAddSeries(e),this.addElements(t,this._transforms[0]),this.allElements=this.allElements.concat(t),this.addElements(this._annotationElements,this._transforms[0]),this.allElements=this.allElements.concat(this._annotationElements),this._transforms[0].elements=this._annotationElements.concat(e).concat(this._backgroundElements),this._bDataDirty=!0,this.invalidateData(),this.invalidateSeriesStyles()},st.prototype.updateAddSeries=function(t){var e,i,s,a=[];for(i=0,s=t.length;i<s;i+=1)(e=t[i])&&(o(e.getAllowNegativeForStacked)?a=a.concat(this.updateAddSeries(e._series)):(e.createLabelLayer(),e.invalidateProperties(),e.labelLayer&&a.push(e.labelLayer)));return a.concat()},st.prototype.addElements=function(t,e,i){var s,a=t.length;for(i=0;i<a;i++)s=t[i],this.addChild(s),s&&!(s instanceof Qe)&&s instanceof ct&&s.setDataTransform(e)},st.prototype.applySeriesSet=function(t,e){var i,s=t.length;for(i=0;i<s;i++)this.customizeSeries(t[i],i);return t},st.prototype.customizeSeries=function(t,e){},st.prototype.invalidateData=function(){this._bDataDirty=!0,this.resetUserElement(),this.invalidateProperties()},st.prototype.invalidateAllElements=function(){},st.prototype.findSeries=function(t,e){var i,s,a=[],r=t.length;for(i=0;i<r;i+=1)(s=t[i])&&(o(s.getAllowNegativeForStacked)?(a=a.concat(this.findSeries(s._series)),e&&a.push(s)):a.push(s));return a},st.prototype.getTransforms=function(){return this._transforms},st.prototype.setTransforms=function(t){this._transforms=t,this.invalidateProperties(),this.invalidateSeries(),this.invalidateData(),this.legendDataChanged()},st.prototype.legendDataChanged=function(){this.dispatchEvent(new cs("legendDataChanged"))},st.prototype.updateBFilterDirty=function(t){var e,i;if(o(t.getAllowNegativeForStacked))for(i=this.findSeries(t._series),t=0,e=i.length;t<e;t+=1)i[t].invalidateMapping(!0);else t instanceof Qe&&!t._bFilterDirty&&t.invalidateMapping(!0)},st.prototype.getUserDefineWrapper=function(t,e){var i,s;for(s in this._userDefineCache)if(i=this._userDefineCache[s],i.free)return i.free=!1,i.seriesItem=t,i.data=e,i.element.element.className="Kool__UserDefineWrapper",i.element;return i=new m("div","UserDefineWrapper"),this._userDefineCache[i.uno]={free:!1,element:i,seriesItem:t,data:e},i},st.prototype.resetUserElement=function(){var t,e,i,s,a,r,n;for(t in this._userDefineCache)for(e in n=this._userDefineCache[t],n.free=!0,n.seriesItem.element.setUserDefineDirty(!1),n.element.getParent()&&this.removeChild(n.element),n=n.element.element,n.events)for(r=n.events[e],i=0,s=r.length;i<s;i+=1)a=r[i],Zi.removeEvent(n,e,a.listener,a.context,a.useCapture,a.priority)},st.prototype._startTracking=function(t){var e,i=0,s=0,a=this.getDataRegion(),r=t.pageX;if(e=t.pageY,Fs&&(e=t.touches[0],r=e.pageX+this.touchOffset,e=e.pageY+this.touchOffset),t=qi.pageXY(this.element),r-=t.x,e-=t.y,a.contains(r,e)){for(this._startPoint=void 0;this._transforms[s];){for(t=this._transforms[s].elements;t[i];){if(t[i]instanceof ge){t[i].clearCrossHair();break}i++}s++}this._rangeItemRenderer?this._rangeItemRenderer.setVisible(!1):(this._rangeItemRenderer=new at,this.addChild(this._rangeItemRenderer)),this._dataRegionForRange=a,Zi.documentAddEvent(Fs?"touchend":"mouseup",this._endTracking,this,!0),Zi.documentAddEvent(Fs?"touchmove":"mousemove",this._track,this,!0),this._tX=r,this._tY=e,i=[this._tX,this._tY],this._updateTrackBounds(i)}},st.prototype._track=function(t){var e,i=t.pageX,s=t.pageY;Fs&&(e=t.touches[0],i=e.pageX+this.touchOffset,s=e.pageY+this.touchOffset),e=qi.pageXY(this.element),i-=e.x,s-=e.y,this._updateTrackBounds([i,s]),this._dispatchRegionChange(t),t.stopPropagation()},st.prototype._dispatchRegionChange=function(t){var e=new Oi(this._dLeft,this._dTop),i=new Oi(this._dRight,this._dBottom),s=this.getDataRegion();this.dispatchEvent(new rt(rt.REGION_CHANGE,new b(e.x-s.left,e.y-s.top,i.x-e.x,i.y-e.y),t))},st.prototype._endTracking=function(t){Zi.documentRemoveEvent(Fs?"touchend":"mouseup",this._endTracking,this,!0),Zi.documentRemoveEvent(Fs?"touchmove":"mousemove",this._track,this,!0),this._rangeItemRenderer.setVisible(!1),this._dispatchRegionChange(t),this._dLeft=this._dTop=this._dRight=this._dBottom=this._tX=this._tY=null},st.prototype._updateTrackBounds=function(t){this._dRight=Math.max(this._tX,t[0]),this._dLeft=Math.min(this._tX,t[0]),this._dTop=Math.min(this._tY,t[1]),this._dBottom=Math.max(this._tY,t[1]),this._dLeft=Math.max(this._dLeft,this._dataRegionForRange.left),this._dTop=Math.max(this._dTop,this._dataRegionForRange.y),this._dRight=Math.min(this._dRight,this._dataRegionForRange.x+this._dataRegionForRange.width),this._dBottom=Math.min(this._dBottom,this._dataRegionForRange.y+this._dataRegionForRange.height),this._rangeItemRenderer.setVisible(!0),this._rangeItemRenderer.draw(this._dLeft,this._dTop,this._dRight-this._dLeft,this._dBottom-this._dTop)},st.prototype._keyDownHandler=function(t){},ki(at,m),at.prototype.draw=function(t,e,i,s){this.setPxStyle("left",t),this.setPxStyle("top",e),this.setPxStyle("width",i),this.setPxStyle("height",s)},rt.REGION_CHANGE="regionChange",ki(rt,cs),lt._propertyType={verticalAxisRenderers:Array,horizontalAxisRenderers:Array},ki(lt,st),lt.prototype.getSelectedChartItems=function(){for(var t,e,i,s=[],a=0,r=this._allSeries.length,r=this._allSeries.length;a<r;a+=1)for(i=this._allSeries[a].getSelectedItems(),t=0,e=i.length;t<e;t+=1)s.push(i[t]);return s},lt.prototype.getGapBetweenAxes=function(){return this._gapBetweenAxes},lt.prototype.setGapBetweenAxes=function(t){this._gapBetweenAxes=t},lt.prototype.getHorizontalAxis=function(){return this._horizontalAxis},lt.prototype.setHorizontalAxis=function(t){this._horizontalAxis=t,this._bAxesRenderersDirty=!0,this.invalidateData(),this.invalidateProperties()},lt.prototype.getVerticalAxis=function(){return this._verticalAxis},lt.prototype.setVerticalAxis=function(t){this._verticalAxis=t,this._bAxesRenderersDirty=!0,this.invalidateData(),this.invalidateProperties()},lt.prototype.getVerticalAxisRenderers=function(){return this._verticalAxisRenderers},lt.prototype.setVerticalAxisRenderers=function(t){var e;for(this._verticalAxisRenderers=t,e=0;e<t.length;e++)this._verticalAxisRenderers[e].horizontal=!1,this._verticalAxisRenderers[e].chart=this;this._bAxesRenderersDirty=this._bAxisStylesDirty=!0},lt.prototype.getHorizontalAxisRenderers=function(){return this._horizontalAxisRenderers},lt.prototype.setHorizontalAxisRenderers=function(t){var e;for(this._horizontalAxisRenderers=t,e=0;e<t.length;e++)this._horizontalAxisRenderers[e].horizontal=!0,this._horizontalAxisRenderers[e].chart=this;this._bAxesRenderersDirty=this._bAxisStylesDirty=!0},lt.prototype.setDataProvider=function(t){var i;t&&(a(t)&&(i=Xi.convertToArray(t,"item")),t[0]&&(t[0][this._horizontalAxis.groupCategoryField]?t=this._updateHierarchy(t,0,[]):this._horizontalAxis.setGroupCategoryValues(null)),e(t)?i=new Ds(t.concat()):t instanceof Ss?i=t:t instanceof Cs?i=new Cs(t):null!=t&&(i=new Ds([t])),this._dataProvider=i,this.invalidateData(),this.dispatchEvent(new cs("dataChanged")))},lt.prototype._updateHierarchy=function(t,i,s){var a,r,n,o=[],h=0,l=-1<this.className.indexOf("Bar")?"verticalAxis":this._horizontalAxis;if(e(t))for(a=0,r=t.length;a<r;a+=1)n=t[a],n[this.groupField]?o=o.concat(this._updateHierarchy(n[this.groupField],i+1,s)):o.push(n),n.groupCategory&&(s[i]||(s[i]=[]),s[i].push({count:o.length-h,groupCategory:n.groupCategory}),h=o.length);else t[this.groupField]&&(o=o.concat(this._updateHierarchy(t[this.groupField],i+1,s))),t.groupCategory&&(s[i]||(s[i]=[]),s[i].push({count:o.length-h,groupCategory:t.groupCategory}));return i||l.setGroupCategoryValues(s.reverse()),o},lt.prototype.getDataRegion=function(){return this._transformBounds},lt.prototype.setChartState=function(t){var e,i,s;if(this.getChartState()!=t){for(s=this.getChartState(),st.prototype.setChartState.call(this,t),this.horizontalAxisRenderer&&this.horizontalAxisRenderer.chartStateChanged(s,t),this.verticalAxisRenderer&&this.verticalAxisRenderer.chartStateChanged(s,t),e=0,i=this._horizontalAxisRenderers.length;e<i;e+=1)this._horizontalAxisRenderers[e].chartStateChanged(s,t);for(e=0,i=this._verticalAxisRenderers.length;e<i;e+=1)this._verticalAxisRenderers[e].chartStateChanged(s,t)}},lt.prototype.commitProperties=function(){var t,e,i=this._series.length;if(0!=this._horizontalAxisRenderers.length||this.horizontalAxisRenderer||(this.horizontalAxisRenderer=new Rt,this.horizontalAxisRenderer.horizontal=!0,this.horizontalAxisRenderer.chart=this,this instanceof kt?this.horizontalAxisRenderer.initStyles("rMateBlockNumericAxis"):this.horizontalAxisRenderer.initStyles("rMateBlockCategoryAxis"),this.addChild(this.horizontalAxisRenderer)),0!=this._verticalAxisRenderers.length||this.verticalAxisRenderer||(this.verticalAxisRenderer=new Rt,this.verticalAxisRenderer.horizontal=!1,this.verticalAxisRenderer.chart=this,this.verticalAxisRenderer.initStyles("rMateBlockNumericAxis"),this.addChild(this.verticalAxisRenderer)),this._bAxesRenderersDirty){for(this._transforms&&(this._transforms[0].setAxis("h",this._horizontalAxis),this._transforms[0].setAxis("v",this._verticalAxis)),this.horizontalAxisRenderer&&this.horizontalAxisRenderer.setAxis(this._horizontalAxis),this.verticalAxisRenderer&&this.verticalAxisRenderer.setAxis(this._verticalAxis),this.updateMultipleAxesRenderers(),t=0;t<i;t++)(e=this._series[t])&&e.invalidateProperties();for(i=this._annotationElements.length,t=0;t<i;t++)(e=this._annotationElements[t])&&e.invalidateProperties();for(i=this._backgroundElements.length,t=0;t<i;t++)(e=this._backgroundElements[t])&&e.invalidateProperties();this._bAxesRenderersDirty=!1}st.prototype.commitProperties.call(this)},lt.prototype.updateDisplayList=function(t,e){0>=t||0>=e||(st.prototype.updateDisplayList.call(this,t,e),this.updateAxisLayout(t,e),this.advanceEffectState())},lt.prototype.changeAxisIndex=function(){var t,e,i;i=this._horizontalAxisRenderers;var s=this._verticalAxisRenderers;t=i.length;var a=s.length,r=this.getChildIndex(this._allSeries[this._allSeries.length-1]);if(!(0>r)){for(--t;-1<t;--t)e=i[t],e instanceof Pt&&"top"==e.placement&&this.setChildIndex(e,r);for(t=a-1;-1<t;--t)i=s[t],i instanceof Pt&&"right"==i.placement&&this.setChildIndex(i,r)}},lt.prototype.updateMultipleAxesRenderers=function(){var t,e;for(t=0,e=this._horizontalAxisRenderers.length;t<e;t+=1)this.addChild(this._horizontalAxisRenderers[t]);for(t=0,e=this._verticalAxisRenderers.length;t<e;t+=1)this.addChild(this._verticalAxisRenderers[t]);this.adjustAxesPlacements(),this.dispatchEvent(new cs("initializeDualSetGutter"))},lt.prototype.adjustAxesPlacements=function(){var t,e,i,s,a,r,n=0,o=[],h=[];for(e=this._verticalAxisRenderers.length,i=this._horizontalAxisRenderers.length,this._leftRenderers=[],this._rightRenderers=[],this._bottomRenderers=[],this._topRenderers=[],t=0;t<i;t++)this._horizontalAxisRenderers[t].invalidateProperties(),"bottom"==this._horizontalAxisRenderers[t].placement?this._bottomRenderers.push(this._horizontalAxisRenderers[t]):"top"==this._horizontalAxisRenderers[t].placement?this._topRenderers.push(this._horizontalAxisRenderers[t]):h.push(this._horizontalAxisRenderers[t]);for(t=0;t<e;t++)this._verticalAxisRenderers[t].invalidateProperties(),"left"==this._verticalAxisRenderers[t].placement?this._leftRenderers.push(this._verticalAxisRenderers[t]):"right"==this._verticalAxisRenderers[t].placement?this._rightRenderers.push(this._verticalAxisRenderers[t]):o.push(this._verticalAxisRenderers[t]);if(this.horizontalAxisRenderer&&(this.horizontalAxisRenderer.invalidateProperties(),"bottom"==this.horizontalAxisRenderer.placement?this._bottomRenderers.push(this.horizontalAxisRenderer):"top"==this.horizontalAxisRenderer.placement?this._topRenderers.push(this.horizontalAxisRenderer):h.push(this.horizontalAxisRenderer)),this.verticalAxisRenderer&&(this.verticalAxisRenderer.invalidateProperties(),"left"==this.verticalAxisRenderer.placement?this._leftRenderers.push(this.verticalAxisRenderer):"right"==this.verticalAxisRenderer.placement?this._rightRenderers.push(this.verticalAxisRenderer):o.push(this.verticalAxisRenderer)),t=this._leftRenderers.length,s=this._rightRenderers.length,e=this._topRenderers.length,i=this._bottomRenderers.length,a=h.length,r=o.length,t>s)for(n=0;n<t-s&&n<r;n++)this._rightRenderers.push(o[n]),o[n].placement="right";else if(t<s)for(n=0;n<s-t&&n<r;n++)this._leftRenderers.push(o[n]),o[n].placement="left";for(t=n;t<r;t++)0==t%2?(this._leftRenderers.push(o[t]),o[t].placement="left"):(this._rightRenderers.push(o[t]),o[t].placement="right");if(n=0,i>e)for(n=0;n<i-e&&n<a;n++)this._topRenderers.push(h[n]),h[n].placement="top";else if(e<i)for(n=0;n<e-i&&n<a;n++)this._bottomRenderers.push(h[n]),h[n].placement="bottom";for(t=n;t<a;t++)0==t%2?(this._bottomRenderers.push(h[t]),h[t].placement="bottom"):(this._topRenderers.push(h[t]),h[t].placement="top")},lt.prototype.updateAxisLayout=function(t,e){var i,s=0,a=0,a=this.getStyle("paddingTop"),r=this.getStyle("paddingLeft"),n=this.getStyle("paddingRight"),l=this.getStyle("paddingBottom"),d=this.gutterTop,c=this.gutterLeft,u=this.gutterRight,p=this.gutterBottom;i=this._topRenderers.length;var f=this._leftRenderers.length,g=this._rightRenderers.length,m=this._bottomRenderers.length,_=this._verticalAxisRenderers.length,y=this._horizontalAxisRenderers.length,v=0,x=0,S=0,C=0,D={left:!0,top:!0,right:!0,bottom:!0};if(!h(.33))for(this.horizontalAxisRenderer&&(this.horizontalAxisRenderer.heightLimit=.33*e),s=0;s<y;s++)this._horizontalAxisRenderers[s].heightLimit=.33*e;if(!h(.33))for(this.verticalAxisRenderer&&(this.verticalAxisRenderer.heightLimit=.33*t),s=0;s<_;s++)this._verticalAxisRenderers[s].heightLimit=.33*t;for(this.horizontalAxisRenderer&&(this.horizontalAxisRenderer.setActualSize(t-r-n,e-a-l),this.horizontalAxisRenderer.move(r,a)),s=0;s<y;s++)this._horizontalAxisRenderers[s].setActualSize(t-r-n,e-a-l),this._horizontalAxisRenderers[s].move(r,a);for(this.verticalAxisRenderer&&(this.verticalAxisRenderer.setActualSize(t-r-n,e-a-l),this.verticalAxisRenderer.move(r,a)),s=0;s<_;s++)this._verticalAxisRenderers[s].setActualSize(t-r-n,e-a-l),this._verticalAxisRenderers[s].move(r,a);if(0==_&&0==y){for(""==this.horizontalAxisRenderer.placement&&(this.horizontalAxisRenderer.placement="bottom"),""==this.verticalAxisRenderer.placement&&(this.verticalAxisRenderer.placement="left"),this._computedGutters=new b,h(c)||(this._computedGutters.setLeft(c),D.left=!1),h(u)||(this._computedGutters.setRight(u),D.right=!1),h(d)||(this._computedGutters.setTop(d),D.top=!1),h(p)||(this._computedGutters.setBottom(p),D.bottom=!1),this.horizontalAxisRenderer.otherAxes=[this.verticalAxisRenderer],this.verticalAxisRenderer.otherAxes=[this.horizontalAxisRenderer],s=0;s<this._backgroundElements.length;s++)o(this._backgroundElements[s].addChild)&&this.addChild(this._backgroundElements[s]);this._computedGutters=this.verticalAxisRenderer.adjustGutters(this._computedGutters,D),this._computedGutters=this.horizontalAxisRenderer.adjustGutters(this._computedGutters,D)}else{for(this._computedGutters=new b,h(c)||(v=c/f,D.left=!1,this._computedGutters.setLeft(c)),h(u)||(S=u/g,D.right=!1,this._computedGutters.setRight(u)),h(d)||(x=d/i,D.top=!1,this._computedGutters.setTop(d)),h(p)||(C=p/m,D.bottom=!1,this._computedGutters.setBottom(p)),s=0;s<this._backgroundElements.length;s++)o(this._backgroundElements[s].addChild)&&this.addChild(this._backgroundElements[s]);for(s=0;s<f;s++)this._leftRenderers[s].getIncludeInLayout()&&(D.left||this._computedGutters.setLeft(v*(s+1)),0!=s&&this._computedGutters.setLeft(this._computedGutters.left+this._gapBetweenAxes),this._computedGutters=this._leftRenderers[s].adjustGutters(this._computedGutters,D));for(s=0;s<g;s++)this._rightRenderers[s].getIncludeInLayout()&&(D.right||this._computedGutters.setRight(S*(s+1)),0!=s&&this._computedGutters.setRight(this._computedGutters.right+this._gapBetweenAxes),this._computedGutters=this._rightRenderers[s].adjustGutters(this._computedGutters,D));for(d=[],0<f&&d.push(this._leftRenderers[f-1]),0<g&&d.push(this._rightRenderers[g-1]),s=0;s<m;s++)this._bottomRenderers[s].getIncludeInLayout()&&(D.bottom||this._computedGutters.setBottom(C*(s+1)),0!=s&&this._computedGutters.setBottom(this._computedGutters.bottom+this._gapBetweenAxes),this._bottomRenderers[s].otherAxes=d,this._computedGutters=this._bottomRenderers[s].adjustGutters(this._computedGutters,D));for(s=0;s<i;s++)this._topRenderers[s].getIncludeInLayout()&&(D.top||this._computedGutters.setTop(x*(s+1)),0!=s&&this._topRenderers[s].userVisible&&this._computedGutters.setTop(this._computedGutters.top+this._gapBetweenAxes),this._topRenderers[s].otherAxes=d,this._computedGutters=this._topRenderers[s].adjustGutters(this._computedGutters,D))}for(s=m=0;s<f;s++)m=this._leftRenderers[s].getGutters().left;for(m=m<this._computedGutters.left?this._computedGutters.left-m:0,s=0;s<f;s++)i=this._leftRenderers[s].getGutters(),m&&i.setLeft(i.left+m),i.setTop(this._computedGutters.top),i.setBottom(this._computedGutters.bottom),this._leftRenderers[s].setGutters(i);for(s=0;s<g;s++)i=this._rightRenderers[s].getGutters(),i.setTop(this._computedGutters.top),i.setBottom(this._computedGutters.bottom),this._rightRenderers[s].setGutters(i);if(this._transformBounds=new b(this._computedGutters.left+r,this._computedGutters.top+a,t-this._computedGutters.right-n-(this._computedGutters.left+r),e-this._computedGutters.bottom-l-(this._computedGutters.top+a)),this._transforms)for(a=this._transforms.length,s=0;s<a;s++)this._transforms[s].pixelWidth=this._transformBounds.width,this._transforms[s].pixelHeight=this._transformBounds.height;for(a=this.allElements.length,s=0;s<a;s++)(r=this.allElements[s])&&(r.chart=this,r.setActualSize(this._transformBounds.width,this._transformBounds.height),r.move(this._transformBounds.x,this._transformBounds.y),r instanceof Qe&&this.updateLabelLayer(r)),(r=r._dataTransform)&&(r.pixelWidth=this._transformBounds.width,r.pixelHeight=this._transformBounds.height);this._bAxisLayoutDirty=!1},lt.prototype.updateLabelLayer=function(t){var e,i;if(t instanceof qe)for(e=0,i=t._series.length;e<i;e+=1)this.updateLabelLayer(t._series[e]);else t.labelLayer&&(t.labelLayer.setActualSize(this._transformBounds.width,this._transformBounds.height),t.labelLayer.move(this._transformBounds.x,this._transformBounds.y))},lt.prototype.updateAxisOrder=function(t){var e,i,s;for(s=this._horizontalAxisRenderers,(!s||1>s.length)&&(s=[this.horizontalAxisRenderer]),e=0,i=s.length;e<i;e+=1)this.setChildIndex(s[e],t++);for(s=this._verticalAxisRenderers,(!s||1>s.length)&&(s=[this.verticalAxisRenderer]),e=0,i=s.length;e<i;e+=1)this.setChildIndex(s[e],t++);return t},lt.prototype.updateSeries=function(){var t;for(st.prototype.updateSeries.call(this),this._allSeries=this.findSeries(this._userSeries),this.invalidateData(),t=0;t<this._allSeries.length;t++)this._allSeries[t].seriesIndex=t},lt.prototype.getLeftMostRenderer=function(){var t=this._leftRenderers.length;return 0<t?this._leftRenderers[t-1]:null},lt.prototype.getRightMostRenderer=function(){var t=this._rightRenderers.length;return 0<t?this._rightRenderers[t-1]:null},lt.prototype.getTopMostRenderer=function(){var t=this._topRenderers.length;return 0<t?this._topRenderers[t-1]:null},lt.prototype.getBottomMostRenderer=function(){var t=this._bottomRenderers.length;return 0<t?this._bottomRenderers[t-1]:null},lt.prototype.getLastItem=function(t){return t=null,this._caretItem?(t=this._caretItem.element.getItems(),t=t[t.length-1]):t=this._getPreviousSeriesItem(this._allSeries),t},lt.prototype.getFirstItem=function(t){return this._caretItem?this._caretItem.element.getItems()[0]:this._getNextSeriesItem(this._allSeries)},lt.prototype.getNextItem=function(t){return"horizontal"==t?this._getNextSeriesItem(this._allSeries):"vertical"==t?this._getNextSeries(this._allSeries):null},lt.prototype.getPreviousItem=function(t){return"horizontal"==t?this._getPreviousSeriesItem(this._allSeries):"vertical"==t?this._getPreviousSeries(this._allSeries):null},lt.prototype._keyDownHandler=function(t,e){var i=null,s=!1;if(this._selectionMode!=ia){switch(t.keyCode){case 38:i=this.getNextItem("vertical"),s=!0;break;case 40:i=this.getPreviousItem("vertical"),s=!0;break;case 37:i=this.getPreviousItem("horizontal"),s=!0;break;case 39:i=this.getNextItem("horizontal"),s=!0;break;case 35:case 34:i=this.getLastItem("horizontal"),s=!0;break;case 36:case 33:i=this.getFirstItem("horizontal"),s=!0;break;case 32:this._handleSpace(t),t.stopPropagation(),s=!0}i&&(e?t.stopPropagation():t.stopImmediatePropagation(),this._handleNavigation(i,t)),s&&t.preventDefault()}},ki(dt,Vi),dt.NONE="none",dt.DISABLED="disabled",dt.SELECTED="selected",dt.ROLLOVER="rollover",dt.FOCUSED="focused",dt.FOCUSEDSELECTED="focusedSelected",dt.prototype.getCurrentState=function(){return this._currentState},dt.prototype.setCurrentState=function(t,e){var i,s,a=this.element;i=a.getChart(),this._currentState!=t&&(this._currentState=t,i.getChartState()||(i=a.getSelectionContainer(),t==dt.NONE||t==dt.DISABLED?(this._canvas&&(this._canvas.onwer=null,L.getInstance().freeElement(this._canvas.element)),this._canvas=null):(s=this._canvas,s||(s=new x("Selection"),i.addChild(s),this._canvas=s,s.owner=this),a._updateItemState(this,t,s))))},dt.prototype.clone=function(){var t=new dt(this.element,this.item,this.index);return qi.extend(t,this,!0),t},ki(ct,x),ct.prototype.getChart=function(){for(var t=this.getParent();!(t instanceof st)&&t;)t=t.getParent();return t},ct.prototype.setChartDataProvider=function(t){this._userDataProvider||this._processNewDataProvider(t)},ct.prototype.getDataProvider=function(){return this._dataProvider},ct.prototype.setDataProvider=function(t){this._userDataProvider=t,this._processNewDataProvider(t)},ct.prototype.getDataTransform=function(){return this._dataTransform},ct.prototype.setDataTransform=function(t){var e,i;for(this._dataTransform=t,t=0,e=this.getNumChildren();t<e;t+=1)i=this.getChildAt(t),this._dataTransform&&i instanceof ct&&i.setDataTransform(this._dataTransform);this._dataTransform&&this._dataTransform.dataChanged(),this.invalidateDisplayList()},ct.prototype.getStyle=function(t){var e,i;return this.getChart&&(i=this.getChart()),!this._styles||!i||"default"!=i.getTheme()&&i.getForceTheme()||(e=this._styles[t]),!e&&this._internalStyleName&&(e=this._internalStyleName.style[t]),s(e)&&-1<e.indexOf("px")&&(e=parseInt(e)),e?e:ct._super.getStyle.call(this,t)},ct.prototype.addChild=function(t){return this.getChart().addChild(t),this._dataTransform&&t instanceof ct&&(t._dataTransform=this._dataTransform),t},ct.prototype.addChildAt=function(t,e){var i=this.getChart();return i.addChildAt.call(i,t,e),this._dataTransform&&t instanceof ct&&(t._dataTransform=this._dataTransform),t},ct.prototype._processNewDataProvider=function(t){this._userDefineDirty=!1,null!=this._dataProvider&&this._dataProvider.removeEventListener(us.COLLECTION_CHANGE,this._collectionChangeHandler,this),e(t)?t=new Ds(t):t instanceof Ss||(t=a(t)?new XMLListCollection(t):null!=t?new Ds([t]):new Ds),this._dataProvider=t,null!=this._dataProvider&&this._dataProvider.addEventListener(us.COLLECTION_CHANGE,this._collectionChangeHandler,this),this._dataChanged()},ct.prototype._dataChanged=function(){this.invalidateDisplayList(),this._dataTransform&&this._dataTransform.dataChanged()},ct.prototype._createDataID=function(t){return(this.uno<<16)+t},ct.prototype.mappingChanged=function(){},ct.prototype.describeData=function(){return[]},ct.prototype.findDataPoints=function(t,e,i){var s,a,r;for(s=this.getNumChildren()-1;0<=s;--s)(a=this.getChildAt(s))&&a.getVisible()&&(a=a.findDataPoints(t,e,i),a.length&&(r=r.concat(a)));return r},ct.prototype.chartStateChanged=function(t,e){var i,s,a=this.getNumChildren();for(s=0;s<a;s+=1)(i=this.getChildAt(s))&&i.chartStateChanged(t,e)},ct.prototype.collectTransitions=function(t,e){var i,s,a=this.getNumChildren();if(o(this.getAllowNegativeForStacked))for(a=this._series.length,s=0;s<a;s+=1)(i=this._series[s])&&i.collectTransitions(t,e);else for(s=0;s<a;s+=1)(i=this.getChildAt(s))&&i.collectTransitions(t,e)},ct.prototype.dataToLocal=function(){return null},ct.prototype.localToData=function(t){return null},ct.prototype.claimStyles=function(t,e){return e},ct.prototype.setFont=function(t){var e;e=this.labelLayer,ct._super.setFont.call(this,t),e&&(Gs(e,"color",this.getStyle("color")),Gs(e,"fontStyle",this.getStyle("fontStyle")),Gs(e,"fontWeight",this.getStyle("fontWeight")),Gs(e,"fontFamily",this.getStyle("fontFamily")),Gs(e,"fontSize",this.getStyle("fontSize")),Gs(e,"textDecoration",this.getStyle("textDecoration")),qi.extend(e,{textAlign:this.getStyle("textAlign")}),t=this.graphics,e=this.labelLayer.graphics,e.fillStyle=t.fillStyle,e.font=t.font)},ct.prototype._collectionChangeHandler=function(t){t&&"reset"==t.kind&&(this._cursor=this._dataProvider.createCursor()),this._dataChanged()},ut.NONE=0,ut.PREPARING_TO_HIDE_DATA=1,ut.HIDING_DATA=2,ut.PREPARING_TO_SHOW_DATA=3,ut.SHOWING_DATA=4,pt.REQUIRED_BOUNDED_VALUES=2,pt.REQUIRED_MIN_INTERVAL=1,pt.REQUIRED_MIN_MAX=4,pt.REQUIRED_PADDING=8,ft.prototype.createDisabledRangeSet=function(t,e,i,s){var a,r;if(this.disabledRangeSet=[],this.disabledDaySet=[],this.minimum=i,t)for(a=0;a<t.length;a++)-1==this.disabledDaySet.indexOf(t[a])&&0<=t[a]&&6>=t[a]&&this.disabledDaySet.push(t[a]);if(e)for(a=0;a<e.length;a++)"date"==typeof e[a]?(r=Date.parse(e[a]),t=Math.max(i,r),r=Math.min(s,r+this.MILLISECONDS_IN_DAY-1),t<r&&this.disabledRangeSet.push(new gt(t,r))):"object"==typeof e[a]&&(!e[a].rangeStart&&e[a].rangeEnd?(t=i,r=0==e[n].rangeEnd.getHours()&&0==e[n].rangeEnd.getMinutes()&&0==e[n].rangeEnd.getSeconds()&&0==e[n].rangeEnd.getMilliseconds()?Math.min(s,Date.parse(e[a].rangeEnd)+this.MILLISECONDS_IN_DAY-1):Math.min(s,Date.parse(e[a].rangeEnd)-1),
t<r&&this.disabledRangeSet.push(new gt(t,r))):e[a].rangeStart&&!e[a].rangeEnd?(r=s,t=Math.max(i,Date.parse(e[a].rangeStart)),t<r&&this.disabledRangeSet.push(new gt(t,r))):e[a].rangeStart&&e[a].rangeEnd&&(r=0==e[n].rangeEnd.getHours()&&0==e[n].rangeEnd.getMinutes()&&0==e[n].rangeEnd.getSeconds()&&0==e[n].rangeEnd.getMilliseconds()?Math.min(s,Date.parse(e[a].rangeEnd)+this.MILLISECONDS_IN_DAY-1):Math.min(s,Date.parse(e[a].rangeEnd)-1),t=Math.max(i,Date.parse(e[a].rangeStart)),t<r&&this.disabledRangeSet.push(new gt(t,r))));for(e=!0,s=[this.disabledRangeSet],a=0;a<this.disabledRangeSet.length;){for(var n=0;n<s.length;)if(e=!1,s[n].rangeStart>=this.disabledRangeSet[a].rangeStart&&s[n].rangeEnd<=this.disabledRangeSet[a].rangeEnd&&n!=a?(s[n].rangeStart=i-1,e=!0):s[n].rangeStart>=this.disabledRangeSet[a].rangeStart&&s[n].rangeStart<=this.disabledRangeSet[a].rangeEnd&&s[n].rangeEnd>=this.disabledRangeSet[a].rangeEnd&&n!=a?(s[a].rangeEnd=s[n].rangeEnd,s[n].rangeStart=i-1,e=!0):s[n].rangeStart<=this.disabledRangeSet[a].rangeStart&&s[n].rangeEnd>=this.disabledRangeSet[a].rangeStart&&s[n].rangeEnd<=this.disabledRangeSet[a].rangeEnd&&n!=a&&(s[a].rangeStart=s[n].rangeStart,s[n].rangeStart=i-1,e=!0),e){for(n=0;n<s.length;)s[n].rangeStart<i?s.removeItemAt(n):n++;for(this.disabledRangeSet=[],n=0;n<s.length;n++)this.disabledRangeSet.push(s.getItemAt(n));n=0}else n++;e?a=0:a++}this.disabledRangeSet=Yi.sortOn(["rangeStart","rangeEnd"],[Array.NUMERIC])},ft.prototype.calculateDisabledRange=function(t,e){var i,s,a=0;if(s=new Date(t),s.setHours(0,0,0,0),i=s.getTime(),i+=this.MILLISECONDS_IN_DAY,0<this.disabledDaySet.length){-1!=this.disabledDaySet.indexOf(s.day)&&(s=new gt(t,i-1),a=this.getActualDisabledRange(s,a));for(var r=i,n=0;n<this.disabledDaySet.length;n++){var o=this.disabledDaySet[n];for(i=r;i<e;)s=new Date(i),s=s.day,s==o?(s=new gt(i,i+this.MILLISECONDS_IN_DAY-1),a=this.getActualDisabledRange(s,a)):(s<o?(s=o-s,i+=s*this.MILLISECONDS_IN_DAY):(s=this.DAYS_IN_WEEK-s,i+=(s+o)*this.MILLISECONDS_IN_DAY),i<e&&(s=new gt(i,i+this.MILLISECONDS_IN_DAY-1),a=this.getActualDisabledRange(s,a))),i+=this.MILLISECONDS_IN_WEEK;i==e&&(s=new Date(i),s=s.day,s==o&&(s=new gt(i,i+this.MILLISECONDS_IN_DAY-1),a=this.getActualDisabledRange(s,a)))}}i=this.disabledRangeSet.length;for(var n=0;n<i&&e>this.disabledRangeSet[n].rangeStart;n++)a+=this.disabledRangeSet[n].rangeEnd-this.disabledRangeSet[n].rangeStart;return a},ft.prototype.getActualDisableRange=function(t,e){var i=!1;if(0!=this.disabledRangeSet.length)for(var s=0;s<this.disabledRangeSet.length;){if(t.rangeStart>=this.disabledRangeSet[s].rangeStart&&t.rangeEnd<=this.disabledRangeSet[s].rangeEnd){i=!0;break}t.rangeStart>=this.disabledRangeSet[s].rangeStart&&t.rangeStart<this.disabledRangeSet[s].rangeEnd&&t.rangeEnd>this.disabledRangeSet[s].rangeEnd?(t.rangeStart=this.disabledRangeSet[s].rangeEnd,s=0):t.rangeStart<=this.disabledRangeSet[s].rangeStart&&t.rangeEnd>this.disabledRangeSet[s].rangeStart&&t.rangeEnd<this.disabledRangeSet[s].rangeEnd?(t.rangeEnd=this.disabledRangeSet[s].rangeStart,s=0):s++}return i||(e+=t.rangeEnd-t.rangeStart),e},ft.prototype.getDisabledRange=function(t,e,i){var s;switch(s=0,s=t,i){case"years":i=this.MILLISECONDS_IN_YEAR;break;case"months":i=this.MILLISECONDS_IN_MONTH;break;default:i=this.MILLISECONDS_IN_DAY}if(this.begin?Math.abs(t-this.minimum)<i&&(this.disabledDayDifference=0,this.begin=!1):this.begin=!0,this.disabledDaySet)for(;s<e;s+=this.MILLISECONDS_IN_DAY)t=new Date(s),-1!=this.disabledDaySet.indexOf(t.day)&&(t=new gt(s,Math.min(s+this.MILLISECONDS_IN_DAY-1,e)),this.disabledDayDifference=this.getActualDisabledRange(t,this.disabledDayDifference));for(s=this.disabledDayDifference,t=0,i=this.disabledRangeSet.length,t=0;t<i&&e>this.disabledRangeSet[t].rangeStart;t++)s+=this.disabledRangeSet[t].rangeEnd-this.disabledRangeSet[t].rangeStart;return s},ft.prototype.isDisabled=function(t){var e,i=!1;e=new Date(t);var s=this.disabledRangeSet.length;if(this.disabledDaySet&&-1!=this.disabledDaySet.indexOf(e.day))return!0;for(e=0;e<s;e++){if(t>=this.disabledRangeSet[e].rangeStart&&t<=this.disabledRangeSet[e].rangeEnd){i=!0;break}if(t<this.disabledRangeSet[e].rangeStart)break}return i},ki(yt,Vi),yt.prototype.transformCache=function(t,e,i,s,a){},yt.prototype.invertTransform=function(){return null},yt.prototype.dataChanged=function(){for(var t in this.axes)this.axes[t]&&o(this.axes[t].dataChanged)&&this.axes[t].dataChanged()},yt.prototype.describeData=function(t,e){var i,s,a=this.elements.length,r=[];for(i=0;i<a;i++)(s=this.elements[i])&&(r=r.concat(s.describeData(t,e)));return r},yt.prototype.getAxis=function(t){var e;return this.axes[t]||(e=new Mt,e.autoAdjust=!1,this._setAxisNoEvent(t,e)),this.axes[t]},yt.prototype.setAxis=function(t,e){this._setAxisNoEvent(t,e)&&this._mappingChangeHandler()},yt.prototype._setAxisNoEvent=function(t,e){var i=this.axes[t];return i!=e&&(i&&(i.unregisterDataTransform(this),i.removeEventListener("mappingChange",this._mappingChangeHandler,this)),this.axes[t]=e,e.registerDataTransform(this,t),e.addEventListener("mappingChange",this._mappingChangeHandler,this),!0)},yt.prototype._mappingChangeHandler=function(){var t,e,i=this.elements.length;for(t=0;t<i;t++)(e=this.elements[t])&&o(e.mappingChanged)&&e.mappingChanged()},ki(vt,yt),vt.HORIZONTAL_AXIS="h",vt.VERTICAL_AXIS="v",vt.prototype.invertTransform=function(t,e){var i=1-e/this.pixelHeight,s=this.axes.h.invertTransform(t/this.pixelWidth),i=this.axes.v.invertTransform(i);return[s,i]},vt.prototype.transformCache=function(t,e,i,s,a){var r=this.axes,n=this.pixelWidth,o=this.pixelHeight,l=t.length,d=0,c=0;if(0!=l&&r.h&&r.v)if(e&&""!=e&&r.h.transformCache(t,e,i),s&&""!=s&&r.v.transformCache(t,s,a),h(r.v._maximumLabelPadding)?h(r.h._maximumLabelPadding)||(c=r.h._maximumLabelPadding):d=r.v._maximumLabelPadding,e=l-1,i&&i.length&&a&&a.length){do s=t[e],s[i]*=n-c,s[a]=this.pixelY+d+(1-s[a])*(o-this.pixelY-d),e--;while(0<=e)}else if(i&&i.length){do s=t[e],s[i]*=n-c,e--;while(0<=e)}else do s=t[e],s[a]=(1-s[a])*(o-this.pixelY-d),s[a]+=this.pixelY+d,e--;while(0<=e)},xt.RADIAL_AXIS="r",xt.ANGULAR_AXIS="a",xt.TWO_PI=2*Math.PI,ki(xt,yt),xt.prototype.setRadius=function(t,e){this.radius=t,this.origin=e},xt.prototype.invertTransform=function(t){0<t.length&&null!=t[0]&&((void 0)[0]=this.getAxis("a").invertTransform(t[0]/xt.TWO_PI)),1<t.length&&null!=t[1]&&((void 0)[1]=this.getAxis("r").invertTransform(t[1]/this._radius))},xt.prototype.transformCache=function(t,e,i,s,a,r){var n,o;if(null!=e)for(this.getAxis("a").transformCache(t,e,i),o=t.length,e=0;e<o;e++)n=t[e][i],null!=n&&(t[e][i]=r?Number(n)*Math.PI:Number(n)*xt.TWO_PI);if(null!=s)for(this.getAxis("r").transformCache(t,s,a),o=t.length,e=0;e<o;e++)n=t[e][a],null!=n&&(t[e][a]=Number(n)*this.radius)},xt.prototype.setSize=function(t,e){this.radius=Math.min(.5*t,.5*e),this.origin=new Oi(.5*t,.5*e)},bt.X_RADIAL_AXIS="x",bt.Y_RADIAL_AXIS="y",bt.ANGULAR_AXIS="a",bt.TWO_PI=2*Math.PI,ki(bt,yt),bt.prototype.invertTransform=function(t){var e=[];if(0<t.length&&null!=t[0]&&(e[0]=this.getAxis(bt.ANGULAR_AXIS).invertTransform(t[0]/bt.TWO_PI)),1<t.length&&null!=t[1]&&(e[1]=this.getAxis(bt.X_RADIAL_AXIS).invertTransform(t[1]/this.radius)),2<t.length&&null!=t[2]){var i=Math.cos(this.elevation)*this.radius;e[1]=this.getAxis(bt.Y_RADIAL_AXIS).invertTransform(t[2]/i)}return e},bt.prototype.transformCache=function(t,e,i,s,a){var r;if(null!=e)for(this.getAxis(bt.ANGULAR_AXIS).transformCache(t,e,i),e=0;e<t.length;e++)r=t[e][i],null!=r&&(t[e][i]=Number(r)*bt.TWO_PI);if(null!=s)for(this.getAxis(bt.X_RADIAL_AXIS).transformCache(t,s,a),i=Math.cos(this.elevation)*this.radius,e=0;e<t.length;e++)r=t[e][a],null!=r&&(t[e][a]=Number(r)*i)},bt.prototype.setSize=function(t,e,i,s,a,r){this.elevation=i*bt.TWO_PI/360,this.depth=s*Math.sin(this.elevation),this.origin=new Oi(t/2,(e-this.depth)/2),a>r-this.depth?(this.radius=a/2,this.radius*Math.cos(this.elevation)>(r-this.depth)/2&&(this.radius=(r-this.depth)/2/Math.cos(this.elevation))):this.radius=a/2},St.prototype.getLength=function(){return this.cache?this.cache.length:0},St.prototype.clone=function(){var t=new St;return qi.extend(t,this),t},ki(Ct,Vi),Ct.prototype.setChartDataProvider=function(t){},Ct.prototype.dispatchEventAxisMapping=function(){this.dispatchEvent(new cs("mappingChange",this)),this.dispatchEvent(new cs("axisChange",this))},Ct.prototype.describeData=function(t){var e,i=[],s=this._transforms.length;for(e=0;e<s;e++)i=i.concat(this._transforms[e].transform.describeData(this._transforms[e].dimension,t));return i},Ct.prototype.registerDataTransform=function(t,e){this._transforms.push({transform:t,dimension:e}),this.dataChanged()},Ct.prototype.unregisterDataTransform=function(t){var e,i=this._transforms.length;for(e=0;e<i;e++)if(this._transforms[e].transform==t){this._transforms.splice(e,1);break}this.dataChanged()},Ct.prototype.dataChanged=function(){},ki(Tt,Ct),Tt.prototype.getDirection=function(){return this._direction},Tt.prototype.setDirection=function(t){this._direction=t},Tt.prototype.getTicks=function(){var t,e=[],i=this.labelCache.length;for(t=0;t<i;t++)e.push(this.labelCache[t].position);return e},Tt.prototype.getMinorTicks=function(){return this.minorTickCache||(this.minorTickCache=this.buildMinorTickCache()),this.minorTickCache},Tt.prototype.getDataDescriptions=function(){return this._cachedDataDescriptions||(this._cachedDataDescriptions=this.describeData(this.requiredDescribedFields),this._cachedValuesHaveBounds=!1),this._cachedDataDescriptions},Tt.prototype.getBaseline=function(){return 0<=this.computedMinimum?this.computedMinimum:0>=this.computedMaximum?this.computedMaximum:0},Tt.prototype.buildMinorTickCache=function(){return[]},Tt.prototype.preferDropLabels=function(){return!0},Tt.prototype.update=function(){this.updateCache(!0,0)},Tt.prototype.updateCache=function(t,e){if(this._regenerateAutoValues){var i,s=this.unitSize,a=.5*this.unitSize,r=this.computedMinimum,n=this.computedMaximum,o=this.computedInterval,l=this.getDataDescriptions();for(i=h(this.assignedMinimum)||h(this.assignedMaximum),h(this.assignedMinimum)||(this.computedMinimum=this.assignedMinimum),h(this.assignedMaximum)||(this.computedMaximum=this.assignedMaximum),i&&this.autoGenerate(t,e),this.adjustMinMax(this.computedMinimum,this.computedMaximum),this.labelMinimum=this.computedMinimum,this.labelMaximum=this.computedMaximum,(this.autoAdjust||i)&&t&&this._cachedValuesHaveBounds&&this.adjustForMargins(e),h(this.padding)||(this.labelMinimum-this.computedMinimum<this.padding*s&&(this.computedMinimum=this.labelMinimum-this.padding*s),this.computedMaximum-this.labelMaximum<this.padding*s&&(this.computedMaximum=this.labelMaximum+this.padding*s)),i=0;i<l.length;i++){var d=l[i];h(d.padding)||(h(this.assignedMinimum)&&d.min-this.computedMinimum<d.padding*s&&(this.computedMinimum=d.min-d.padding*s),h(this.assignedMaximum)&&this.computedMaximum-d.max<d.padding*s&&(this.computedMaximum=d.max+d.padding*s))}this.computedMinimum==this.computedMaximum&&(this.computedMinimum-=a,this.computedMaximum+=a),r==this.computedMinimum&&n==this.computedMaximum&&o==this.computedInterval||(this.minorTickCache=this.labelCache=null),this._regenerateAutoValues=!1}},Tt.prototype.adjustMinMax=function(t,e){},Tt.prototype.autoGenerate=function(t,e){var i,s,a,r=this.getDataDescriptions(),n=r.length;if(this.autoAdjust&&this.baseAtZero&&("inverted"==this._direction?a=this.zeroValue():s=this.zeroValue()),0<n)for("inverted"==this._direction?(s=r[0].min,!h(a)&&s>a&&(i=a,a=s,s=i),h(a)?a=r[0].max:h(r[0].max)||(a=Math.max(a,r[0].max))):(a=r[0].max,!h(s)&&s>a&&(i=a,a=s,s=i),h(s)?s=r[0].min:h(r[0].min)||(s=Math.min(s,r[0].min))),i=0;i<n;i++){var o=r[i];h(s)?s=o.min:h(o.min)||(s=Math.min(s,o.min)),h(a)?a=o.max:h(o.max)||(a=Math.max(a,o.max)),this._cachedValuesHaveBounds=this._cachedValuesHaveBounds||o.boundedValues&&0<o.boundedValues.length}(r=this.guardMinMax(s,a))&&(s=r[0],a=r[1]),h(this.assignedMinimum)&&(this.computedMinimum=s),h(this.assignedMaximum)&&(this.computedMaximum=a)},Tt.prototype.buildLabelCache=function(){return!1},Tt.prototype.mapCache=function(t,e,i,a){var r,o=t.length;for(a=0;a<o&&null==t[a][e];a++);if(a!=o)if(s(t[a][e])||n(t[a][e]))for(;a<o;a++)r=t[a],r[i]=null==r[e]||""==r[e].toString()?NaN:Number(r[e]);else for(;a<o;a++)r=t[a],r[i]=parseFloat(r[e])},Tt.prototype.filterCache=function(t,e,i){this.update();var s,a,r=t.length,n=this.computedMaximum+1e-5,o=this.computedMinimum-1e-5;for(s=0;s<r;s++)a=t[s][e],t[s][i]=a>=o&&a<=n?a:NaN;return t},Tt.prototype.transformCache=function(t,e,i){this.update();var s,a=t.length,r=this.computedMaximum-this.computedMinimum;for(s=0;s<a;s++)t[s][i]=(t[s][e]-this.computedMinimum)/r},Tt.prototype.invertTransform=function(t){return this.update(),t*(this.computedMaximum-this.computedMinimum)+this.computedMinimum},Tt.prototype.formatForScreen=function(t){return t="inverted"==this._direction?-Number(t):Number(t),t.toString()},Tt.prototype.getLabelEstimate=function(){return this.labelCache&&this.invalidateCache(),this.update(),this.buildLabelCache()&&(this._labelSet=new wt,this._labelSet.labels=this.labelCache,this._labelSet.accurate=0==this._cachedValuesHaveBounds,this._labelSet.minorTicks=this.getMinorTicks(),this._labelSet.ticks=this.getTicks()),this._labelSet},Tt.prototype.getLabels=function(t){return this._cachedValuesHaveBounds||!this.labelCache?(this._regenerateAutoValues=!0,this.updateCache(!0,t),t=this.buildLabelCache()):t=!1,t&&(this._labelSet=new wt,this._labelSet.labels=this.labelCache,this._labelSet.minorTicks=this.getMinorTicks(),this._labelSet.ticks=this.getTicks()),this._labelSet},Tt.prototype.adjustForMargins=function(t){var e,i,s,a=0,r=!0,n=this.computedMinimum,o=this.computedMaximum,l=!0,d=[],c=this.getDataDescriptions();for(i=c.length,e=0;e<i;e++)c[e].boundedValues&&(d=d.concat(c[e].boundedValues));for(i=d.length,e=0;e<i;e++)d[e].lowerMargin<t&&d[e].upperMargin<t||(l=!1);if(0<d.length&&0<t&&l)for(h(n)&&(n=d[0].value),h(o)&&(o=d[0].value),s=o-n,i=d.length;r;){var u,p,f,g,c=l=0,m=n,_=o,y=0,v=t;for(e=0;e<i;e++)u=d[e],p=(u.value-n)/s*t,!h(u.lowerMargin)&&p-u.lowerMargin<v&&(v=p-u.lowerMargin,f=u),!h(u.upperMargin)&&p+u.upperMargin>y&&(y=p+u.upperMargin,g=u);if(-1e-4<v&&y<t+1e-4)break;if(y>t?(_=g.value,l=g.upperMargin):r=!1,0>v?(m=f.value,c=f.lowerMargin):r=!1,n=t-l,n=(n*m-c*_)/Math.abs(n-c),o=t*(_-n)/(t-l)+n,s=o-n,3==a++)break}(t=this.guardMinMax(n,o))&&(n=t[0],o=t[1]),h(this.assignedMinimum)&&(this.computedMinimum=n),h(this.assignedMaximum)&&(this.computedMaximum=o)},Tt.prototype.dataChanged=function(){this._cachedDataDescriptions=this.minorTickCache=null,this._regenerateAutoValues=!0,(h(this.assignedMinimum)||h(this.assignedMaximum))&&(this.dispatchEvent(new cs("mappingChange")),this.dispatchEvent(new cs("axisChange")))},Tt.prototype.invalidateCache=function(){this.minorTickCache=null,this._regenerateAutoValues=!0,this.labelCache=null},Tt.prototype.setGroupCategoryValues=function(){},ki(Mt,Tt),Mt.prototype.getDirection=function(){return this._direction},Mt.prototype.setDirection=function(t){this.labelCache=null,this.minorTickCache=[],this._labelSet=[],"inverted"==t?(h(this._actualAssignedMaximum)||(this.computedMinimum=-this._actualAssignedMaximum,this.assignedMinimum=-this._actualAssignedMaximum),h(this._actualAssignedMinimum)||(this.computedMaximum=-this._actualAssignedMinimum,this.assignedMaximum=-this._actualAssignedMinimum)):(h(this._actualAssignedMaximum)||(this.assignedMaximum=this.computedMaximum=this._actualAssignedMaximum),h(this._actualAssignedMinimum)||(this.assignedMinimum=this.computedMinimum=this._actualAssignedMinimum)),Tt.prototype.setDirection.call(this,t)},Mt.prototype.getInterval=function(){return this.computedInterval},Mt.prototype.setInterval=function(t){0>=t&&(t=NaN),this.invalidateCache.call(this),this._labelSet=[],this.computedInterval=this._userInterval=t},Mt.prototype.getMaximum=function(){return"inverted"==this._direction?-this.computedMinimum:this.computedMaximum},Mt.prototype.setMaximum=function(t){this.invalidateCache.call(this),this._labelSet=[],"inverted"==this._direction?(this.assignedMinimum=-t,this.computedMinimum=-t):this.computedMaximum=this.assignedMaximum=t,this._actualAssignedMaximum=t,this.invalidateCache.call(this),this.dispatchEvent(new cs("mappingChange")),this.dispatchEvent(new cs("axisChange"))},Mt.prototype.getMinimum=function(){return"inverted"==this._direction?-this.computedMaximum:this.computedMinimum},Mt.prototype.setMinimum=function(t){this.invalidateCache.call(this),this._labelSet=[],"inverted"==this._direction?(this.assignedMaximum=-t,this.computedMaximum=-t):this.computedMinimum=this.assignedMinimum=t,this._actualAssignedMinimum=t,this.invalidateCache.call(this),this.dispatchEvent(new cs("mappingChange")),this.dispatchEvent(new cs("axisChange"))},Mt.prototype.getMinorInterval=function(){return this._minorInterval},Mt.prototype.setMinorInterval=function(t){0>=t&&(t=NaN),this.invalidateCache.call(this),this._minorInterval=this._userMinorInterval=t},Mt.prototype.getTicks=function(){var t,e,i=[];if(this.ticksBetweenLabels){if(e=this.labelCache.length,2<=e){var s,a=1/e/2;for(t=0;t<e;t++)s=this.labelCache[t].position-a,i.push(s)}}else for(e=this.labelCache.length,t=0;t<e;t++)i.push(this.labelCache[t].position);return i},Mt.prototype.buildMinorTickCache=function(){var t,e,i=[];e=this._originalComputedMaximum;var s=(h(e)?this.computedMaximum:e)-this.computedMinimum;for(t=this.labelMinimum-Math.floor((this.labelMinimum-this.computedMinimum)/this._minorInterval)*this._minorInterval,this.alignLabelsToInterval&&(t=Math.ceil(t/this._minorInterval)*this._minorInterval),e=this.computedMaximum;t<=e;t+=this._minorInterval)i.push((t-this.computedMinimum)/s);return i},Mt.prototype.buildLabelCache=function(){if(this.labelCache)return!1;this.labelCache=[];var t,e,i;i=this.labelJsFunction;var s=this._maximumLabelPrecision,a=this._originalComputedMaximum,a=h(a)?this.computedMaximum:a,r=a-this.computedMinimum;if(t=this.labelMinimum-Math.floor((this.labelMinimum-this.computedMinimum)/this.computedInterval)*this.computedInterval,this.alignLabelsToInterval&&(t=Math.ceil(t/this.computedInterval)*this.computedInterval),h(s)&&(e=Math.abs(this.computedInterval)-Math.floor(Math.abs(this.computedInterval)),s=0==e?1:-Math.floor(Math.log(e)/Math.LN10),e=Math.abs(this.computedMinimum)-Math.floor(Math.abs(this.computedMinimum)),s=Math.max(s,0==e?1:-Math.floor(Math.log(e)/Math.LN10))),s=Math.pow(10,s),null!=i)for(;t<=a;t+=this.computedInterval)e=Math.round(t*s)/s,"inverted"==this._direction&&(e=-e),this.labelFunction&&(e=this.labelFunction(e)),i&&(e=Ms.axisFunc(this,e,i)),this.labelCache.push(new Dt((t-this.computedMinimum)/r,t,e));else for(;t<=a;t+=this.computedInterval)e=Math.round(t*s)/s,"inverted"==this._direction&&(e=-e),i=this.labelFunction?this.labelFunction(e):null!=this.formatter?this.formatter.format(e.toString()):e.toString(),this.labelCache.push(new Dt((t-this.computedMinimum)/r,t,i));return!0},Mt.prototype.describeData=function(t){var e,i,s,a,r,n,h=[];for(e=0;e<this._transforms.length;e++)if(i=this._transforms[e].transform,r=this._transforms[e].dimension,a=i.elements,s=a.length,1<s&&i instanceof vt)for(n="v"==r?"verticalAxis":"horizontalAxis",i=0;i<s;++i)(r=a[i])&&(d(r["_"+n])?o(r.describeData)&&(h=h.concat(r.describeData(this._transforms[e].dimension,t))):r instanceof qe&&r.updateStacking());else for(i=0;i<s;++i)(r=a[i])&&(h=h.concat(r.describeData(this._transforms[e].dimension,t)));return h},Mt.prototype.adjustMinMax=function(t,e){var i,s,a;(0!=this.autoAdjust||h(this._userInterval)||h(this._userMinorInterval))&&(0==e&&0==t&&(e=100),i=Math.floor(Math.log(Math.abs(e-t))/Math.LN10),h(this._userInterval)?(a=Math.pow(10,i),4>Math.abs(e-t)/a&&(a=0<this._transforms.length&&"r"==this._transforms[0].dimension?4*a/10:2*a/10)):a=this._userInterval,i=Math.round(e/a)*a==e?e:(Math.floor(e/a)+1)*a,isFinite(t),0>t||0==this.baseAtZero?(s=Math.floor(t/a)*a,0>e&&this.baseAtZero&&(i=0)):s=0,h(this._userInterval)&&(this.computedInterval=a),h(this._userMinorInterval)&&(this._minorInterval=this.computedInterval/2),this.autoAdjust&&(h(this.assignedMinimum)&&(this.computedMinimum=s),h(this.assignedMaximum)&&(this.computedMaximum=i)))},Mt.prototype.reduceLabels=function(t,e){var i,s=[],a=[],r=[],n=this.labelCache.length,o=this.computedMaximum-this.computedMinimum,h=Math.round((Number(e.value)-Number(t.value))/this.computedInterval)+1,l=h*this._minorInterval,d=this.computedMaximum+1e-6,c=this.labelMinimum-Math.floor((this.labelMinimum-this.computedMinimum)/l)*l;for(i=0;i<n;i+=h)s.push(this.labelCache[i]),a.push(this.labelCache[i].position);for(this.alignLabelsToInterval&&(c=Math.ceil(c/l)*l),i=c;i<=d;i+=l)r.push((i-this.computedMinimum)/o);return o=new wt,o.labels=s,o.minorTicks=r,o.ticks=a,o.accurate=!0,o},ki(It,Tt),It.prototype.getInterval=function(){return Math.pow(10,this.computedInterval)},It.prototype.setInterval=function(t){h(t)||(this.value=Math.max(1,Math.round(Math.log(t)/Math.LN10))),h(t)&&(this.value=1),this.computedInterval=this.value,this.invalidateCache.call(this)},It.prototype.getMaximum=function(){return Math.pow(10,this.computedMaximum)},It.prototype.setMaximum=function(t){this.assignedMaximum=this.computedMaximum=Math.ceil(Math.log(t)/Math.LN10),this.invalidateCache.call(this)},It.prototype.getMinimum=function(){return Math.pow(10,this.computedMinimum)},It.prototype.setMinimum=function(t){this.computedMinimum=this.assignedMinimum=0==t?NaN:Math.round(Math.log(t)/Math.LN10),this.invalidateCache.call(this)},It.prototype.adjustMinMax=function(t,e){this.computedMinimum=Math.floor(this.computedMinimum),this.computedMaximum=Math.ceil(this.computedMaximum)},It.prototype.mapCache=function(t,e,i,s){var a,r=t.length,n=Math.LN10,o=this.parseFunction;if(null!=o)for(s=0;s<r;s++)a=t[s],a[i]=Math.log(Number(o(a[e])))/n;else{for(s=0;s<r&&null==t[s][e];s++);if(s!=r)if("string"==typeof t[s][e])for(s=0;s<r;s++)a=t[s],a[i]=Math.log(Number(a[e]))/n;else if("number"==typeof t[s][e])for(s=0;s<r;s++)a=t[s],a[i]=null==a[e]?NaN:Math.log(a[e])/n;else for(s=0;s<r;s++)a=t[s],a[i]=Math.log(parseFloat(a[e]))/n}},It.prototype.buildLabelCache=function(){if(this.labelCache)return!1;this.labelCache=[];var t,e,i,s,a=this.computedMaximum+1e-6,r=this.computedMaximum-this.computedMinimum;if(t=this.labelMinimum-Math.floor((this.labelMinimum-this.computedMinimum)/this.computedInterval)*this.computedInterval,h(this._labelPrecision)||(i=Math.pow(10,this._labelPrecision)),null!=this.labelJsFunction)for(;t<=a;t+=this.computedInterval)e=Math.pow(10,t),s=h(this._labelPrecision)?e:Math.round(e*i)/i,this.labelCache.push(new Dt((t-this.computedMinimum)/r,e,Ms.axisFunc(this,s,this.labelJsFunction)));else for(;t<=a;t+=this.computedInterval)e=Math.pow(10,t),s=h(this._labelPrecision)?e:Math.round(e*i)/i,null!=this.formatter?this.labelCache.push(new Dt((t-this.computedMinimum)/r,e,this.formatter.format(s.toString()))):this.labelCache.push(new Dt((t-this.computedMinimum)/r,e,s.toString()));return!0},It.prototype.buildMinorTickCache=function(){var t,e=[];for(t=0;t<this.labelCache.length;t++)e.push(this.labelCache[t].position);return e},It.prototype.reduceLabels=function(t,e){var i,s,a=Math.round(Math.log(Number(e.value))/Math.LN10-Math.log(Number(t.value))/Math.LN10),a=Math.floor(a/this.computedInterval)+1,r=[],n=[],o=[];for(i=0;i<this.labelCache.length;i+=a)s=this.labelCache[i],r.push(s),n.push(s.position),o.push(s.position);return i=new wt,i.labels=r,i.minorTicks=o,i.ticks=n,i.accurate=!0,i},It.prototype.invertTransform=function(t){return Math.pow(10,t*(this.computedMaximum-this.computedMinimum)+this.computedMinimum)},It.prototype.guardMinMax=function(t,e){return!h(t)&&isFinite(t)||(t=0),!h(e)&&isFinite(e)||(e=t+2),e==t&&(e=t+2),[t,e]},ki(At,Ct),At.prototype.getMinimum=function(){return this._minimum},At.prototype.setMinimum=function(t){this._minimum=t,this.invalidateCategories()},At.prototype.getMaximum=function(){return this._maximum},At.prototype.setMaximum=function(t){this._maximum=t,this.invalidateCategories()},At.prototype.setChartDataProvider=function(t){this._chartDataProvider!==t&&(this._chartDataProvider=t,this.invalidateCategories())},At.prototype.invalidateCategories=function(){this._cachedTicks=this._cachedMinorTicks=this._labelSet=null,this.dispatchEvent(new cs("mappingChange",this)),this.dispatchEvent(new cs("axisChange",this))},At.prototype.preferDropLabels=function(){return!1},At.prototype.mapCache=function(t,e,i,s){var a,r,o=t.length;for(this.update(),a=0;a<o&&null==t[a][e];a++);if(a!=o)if(r=t[a][e],n(r)&&1==s)for(a=0;a<o;a++)s=t[a],s[i]=s[e];else for(;a<o;a++)t[a][i]=this._catMap[t[a][e]]},At.prototype.filterCache=function(t,e,i){this.update();var s,a,r=this._categoryValues.length-1+this.padding+1e-6,n=-this.padding-1e-6,o=t.length;for(s=0;s<o;s++)a=t[s][e],t[s][i]=a>=n&&a<r?a:NaN;return t},At.prototype.transformCache=function(t,e,i){this.update();var s=h(this._maximum)?this._categoryValues.length:this._maximum+1;s>this._categoryValues.length&&(s=this._categoryValues.length);var a=h(this._minimum)?0:this._minimum;0>a&&(a=0);for(var a=a-this.padding,r=s-1+this.padding-a,s=0;s<t.length;s++)t[s][i]=(t[s][e]-a)/r},At.prototype.invertTransform=function(t){this.update();var e=h(this._maximum)?this._categoryValues.length:this._maximum+1;e>this._categoryValues.length&&(e=this._categoryValues.length);var i=h(this._minimum)?0:this._minimum;return 0>i&&(i=0),i-=this.padding,Math.round(t*(e-1+this.padding-i)+i)},At.prototype.formatForScreen=function(t){if(n(t)&&t<this._categoryValues.length){var e=this._categoryValues[Math.round(Number(t))];return null==e?t.toString():e.toString()}return t.toString()},At.prototype.getLabelEstimate=function(){return this.update(),this._labelSet},At.prototype.getLabels=function(t){return this.update(),this._labelSet},At.prototype.reduceLabels=function(t,e){var i=this._catMap[e.value]-this._catMap[t.value]+1;if(0>=i)return null;var s,a=[],r=[],n=this._categoryValues.length;for(n<this._labelsMatchToCategoryValuesByIndex.length&&(n=this._labelsMatchToCategoryValuesByIndex.length),s=0;s<n;s+=i)this._labelsMatchToCategoryValuesByIndex[s]&&(a.push(this._labelsMatchToCategoryValuesByIndex[s]),r.push(this._labelsMatchToCategoryValuesByIndex[s].position));return i=new wt,i.labels=a,i.groupLabels=this._labelSet.groupLabels,i.ticks=r,i.minorTicks=this.generateMinorTicks(),i},At.prototype.update=function(){if(!this._labelSet){this._catMap={},this._categoryValues=[],this._labelsMatchToCategoryValuesByIndex=[];var t,e,i=[];if(this._chartDataProvider&&this._chartDataProvider.getLength())if(this._chartDataProvider.getItemAt(0),""==this.categoryField)for(t=0;t<this._chartDataProvider.getLength();t++)e=this._chartDataProvider.getItemAt(t),d(e)||(this._catMap[e.toString()]=t),this._categoryValues[t]=i[t]=e;else for(t=0;t<this._chartDataProvider.getLength();t++)i[t]=this._chartDataProvider.getItemAt(t),i[t]&&this.categoryField in i[t]?(e=i[t][this.categoryField],d(e)||(this._catMap[e.toString()]=t),this._categoryValues[t]=e):this._categoryValues[t]=null;var i=[],s=[];e=h(this._maximum)?this._categoryValues.length:this._maximum+1,e>this._categoryValues.length&&(e=this._categoryValues.length),t=h(this._minimum)?0:this._minimum,0>t&&(t=0);var a,r=t-this.padding,n=e-1+this.padding-r;if(this.labelFunction=this.labelJsFunction,d(this.labelFunction))for(;t<e;t++)d(this._categoryValues[t])||(a=null!=this.formatter&&this.formatter instanceof xs?this.formatter.format(this._categoryValues[t].toString()):this._categoryValues[t].toString(),a=new Dt((t-r)/n,this._categoryValues[t],a),this._labelsMatchToCategoryValuesByIndex[t]=a,i.push(a));else for(;t<e;t++)null!=this._categoryValues[t]&&(a=new Dt((t-r)/n,this._categoryValues[t],Ms.axisFunc(this,this._categoryValues[t],this.labelFunction)),this._labelsMatchToCategoryValuesByIndex[t]=a,i.push(a));if(this._groupCategoryValues){e=this._groupCategoryValues.length;var o,l,c,u=0;for(t=0;t<e;t+=1)for(u=0,s[t]=[],c=this._groupCategoryValues[t],o=0,l=c.length;o<l;o+=1)a=new Dt((u+.5*(c[o].count-1)-r)/n,c[o],c[o][this.groupCategoryField]),this.groupLabelJsFunction&&(a.text=Ms.axisFunc(this,c[o][this.groupCategoryField],this.groupLabelJsFunction)),a.rowIndex=t,a.start=u/n,a.end=(u+c[o].count)/n,s[t].push(a),u+=c[o].count}this._labelSet=new wt,this._labelSet.labels=i,this._labelSet.groupLabels=s,this._labelSet.accurate=!0,this._labelSet.minorTicks=this.generateMinorTicks(),this._labelSet.ticks=this.generateTicks()}},At.prototype.generateTicks=function(){if(!this._cachedTicks){this._cachedTicks=[];var t,e,i,s=h(this._maximum)?this._categoryValues.length:this._maximum+1;if(s>this._categoryValues.length&&(s=this._categoryValues.length),t=h(this._minimum)?0:this._minimum,0>t&&(t=0),e=t-this.padding,i=s-1+this.padding-e,0==this.ticksBetweenLabels)for(;t<s;t++)this._cachedTicks.push((t-e)/i);else for(this._cachedMinorTicks=[],s=.5>this.padding?s-1.5:s-.5,t-=.5>this.padding?.5:-.5;t<=s;t+=1)this._cachedTicks.push((t-e)/i)}return this._cachedTicks},At.prototype.generateMinorTicks=function(){if(!this._cachedMinorTicks){this._cachedMinorTicks=[];var t,e,i,s,a=h(this._maximum)?this._categoryValues.length:this._maximum+1;if(a>this._categoryValues.length&&(a=this._categoryValues.length),t=h(this._minimum)?0:this._minimum,0>t&&(t=0),e=t-this.padding,i=a-1+this.padding,s=i-e,0==this.ticksBetweenLabels)for(a=i>=a-.5?a:a-1,t-=-.5>=e?0:1;t<=a;t++)this._cachedMinorTicks.push((t-.5-e)/s);else for(;t<a;t++)this._cachedMinorTicks.push((t-e)/s)}return this._cachedMinorTicks},At.prototype.dataChanged=function(){Tt.prototype.dataChanged.call(this),this._cachedTicks=this._cachedMinorTicks=this._labelSet=null},ki(Lt,Tt),Lt.prototype.getRequiredDescribedFields=function(){var t=pt.REQUIRED_MIN_MAX|pt.REQUIRED_BOUNDS_VALUES;return null==this._userDataUnits&&(t|=pt.REQUIRED_MIN_INTERVAL),t},Lt.prototype.getDataInterval=function(){return this._dataInterval},Lt.prototype.setDataInterval=function(t){h(t)&&(t=1),this._dataInterval=this._userDataInterval=t,this.unitSize=null!=this._userDataUnits?this.toMilli(this._dataInterval,this._userDataUnits):this.MILLISECONDS_IN_DAY,this.invalidateCache.call(this),this.dispatchEventAxisMapping()},Lt.prototype.getDataUnits=function(){return this._dataUnits},Lt.prototype.setDataUnits=function(t){this._dataUnits=this._userDataUnits=t,this.unitSize=null!=this._dataUnits?this.toMilli(this._dataInterval,this._dataUnits):this.MILLISECONDS_IN_DAY,this.invalidateCache.call(this),this.dispatchEventAxisMapping()},Lt.prototype.getDisplayLocalTime=function(){return this._displayLocalTime},Lt.prototype.setDisplayLocalTime=function(t){this._displayLocalTime=t,this.invalidateCache.call(this),this.dispatchEventAxisMapping(),this.updatePropertyAccessors()},Lt.prototype.getAlignLabelsToUnits=function(){return this._alignLabelsToUnits},Lt.prototype.setAlignLabelsToUnits=function(t){this._alignLabelsToUnits!=t&&(this._alignLabelsToUnits=t),this.invalidateCache.call(this)},Lt.prototype.getInterval=function(){return this._interval},Lt.prototype.setInterval=function(t){this._interval=Math.max(1,t),this.invalidateCache.call(this),this.dispatchEventAxisMapping()},Lt.prototype.getLabelUnits=function(){return this._labelUnits},Lt.prototype.setLabelUnits=function(t){this._userLabelUnits=this._labelUnits=t,this.invalidateCache.call(this),this.dispatchEventAxisMapping()},Lt.prototype.getMaximum=function(){return new Date(this.computedMaximum)},Lt.prototype.setMaximum=function(t){this.assignedMaximum=null!=t?new Date(t).getTime():NaN,this.invalidateCache.call(this),this.dispatchEventAxisMapping()},Lt.prototype.getMinimum=function(){return new Date(this.computedMinimum)},Lt.prototype.setMinimum=function(t){this.assignedMinimum=null!=t?new Date(t).getTime():NaN,this.invalidateCache.call(this),this.dispatchEventAxisMapping()},Lt.prototype.getMinorTickInterval=function(){return this._userMinorTickInterval},Lt.prototype.setMinorTickInterval=function(t){this._userMinorTickInterval=t,this.invalidateCache.call(this)},Lt.prototype.getMinorTickUnits=function(){
return this._minorTickUnits},Lt.prototype.setMinorTickUnits=function(t){this._minorTickUnits=this._userMinorTickUnits=t,this.invalidateCache.call(this),this.dispatchEventAxisMapping()},Lt.prototype.getDisableDays=function(){return this._disabledDays},Lt.prototype.setDisableDays=function(t){this._disabledDays=t,this.invalidateCache.call(this),this.dispatchEventAxisMapping()},Lt.prototype.getDisabledRanges=function(){return this._disabledRanges},Lt.prototype.setDisabledRanges=function(t){this._disabledRanges=t,this.invalidateCache.call(this),this.dispatchEventAxisMapping()},Lt.prototype.roundDateUp=function(t,e){switch(e){case"seconds":0<t[this.propGetSet(this.millisecondsP,"get")]()&&(t[this.propGetSet(this.secondsP,"set")](t[this.propGetSet(this.secondsP,"get")]()+1),t[this.propGetSet(this.millisecondsP,"set")](0));break;case"minutes":(0<t[this.propGetSet(this.secondsP,"get")]()||0<t[this.propGetSet(this.millisecondsP,"get")]())&&(t[this.propGetSet(this.minutesP,"set")](t[this.propGetSet(this.minutesP,"get")]()+1),t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0));break;case"hours":(0<t[this.propGetSet(this.minutesP,"get")]()||0<t[this.propGetSet(this.secondsP,"get")]()||0<t[this.propGetSet(this.millisecondsP,"get")]())&&(t[this.propGetSet(this.hoursP,"set")](t[this.propGetSet(this.hoursP,"get")]()+1),t[this.propGetSet(this.minutesP,"set")](0),t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0));break;case"days":(0<t[this.propGetSet(this.hoursP,"get")]()||0<t[this.propGetSet(this.minutesP,"get")]()||0<t[this.propGetSet(this.secondsP,"get")]()||0<t[this.propGetSet(this.millisecondsP,"get")]())&&(t[this.propGetSet(this.hoursP,"set")](0),t[this.propGetSet(this.minutesP,"set")](0),t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0),t[this.propGetSet(this.dateP,"get")](t[this.propGetSet(this.dateP,"get")]()+1));break;case"weeks":t[this.propGetSet(this.hoursP,"set")](0),t[this.propGetSet(this.minutesP,"set")](0),t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0),0!=t[this.propGetSet(this.dayP,"get")]()&&t[this.propGetSet(this.dateP,"set")](t[this.propGetSet(this.dateP,"get")]()+(7-t[this.propGetSet(this.dayP,"get")]()));break;case"months":(1<t[this.propGetSet(this.dateP,"get")]()||0<t[this.propGetSet(this.hoursP,"get")]()||0<t[this.propGetSet(this.minutesP,"get")]()||0<t[this.propGetSet(this.secondsP,"get")]()||0<t[this.propGetSet(this.millisecondsP,"get")]())&&(t[this.propGetSet(this.hoursP,"set")](0),t[this.propGetSet(this.minutesP,"set")](0),t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0),t[this.propGetSet(this.dateP,"set")](1),t[this.propGetSet(this.monthP,"set")](t[this.propGetSet(this.monthP,"get")]()+1));break;case"years":(0<t[this.propGetSet(this.monthP,"get")]()||1<t[this.propGetSet(this.dateP,"get")]()||0<t[this.propGetSet(this.hoursP,"get")]()||0<t[this.propGetSet(this.minutesP,"get")]()||0<t[this.propGetSet(this.secondsP,"get")]()||0<t[this.propGetSet(this.millisecondsP,"get")]())&&(t[this.propGetSet(this.hoursP,"set")](0),t[this.propGetSet(this.minutesP,"set")](0),t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0),t[this.propGetSet(this.dateP,"set")](1),t[this.propGetSet(this.monthP,"set")](0),t[this.propGetSet(this.fullYearP,"set")](t[this.propGetSet(this.fullYearP,"get")]()+1))}},Lt.prototype.roundDateDown=function(t,e){switch(e){case"seconds":t[this.propGetSet(this.secondsP,"set")](0);break;case"minutes":t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0);break;case"hours":t[this.propGetSet(this.minutesP,"set")](0),t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0);break;case"days":t[this.propGetSet(this.hoursP,"set")](0),t[this.propGetSet(this.minutesP,"set")](0),t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0);break;case"weeks":t[this.propGetSet(this.hoursP,"set")](0),t[this.propGetSet(this.minutesP,"set")](0),t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0),0!=t[this.propGetSet(this.dayP,"get")]()&&t[this.propGetSet(this.dateP,"set")](t[this.propGetSet(this.dateP,"get")]()-t[this.propGetSet(this.dayP,"get")]());break;case"months":t[this.propGetSet(this.hoursP,"set")](0),t[this.propGetSet(this.minutesP,"set")](0),t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0),t[this.propGetSet(this.dateP,"set")](1);break;case"years":t[this.propGetSet(this.hoursP,"set")](0),t[this.propGetSet(this.minutesP,"set")](0),t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0),t[this.propGetSet(this.dateP,"set")](1),t[this.propGetSet(this.monthP,"set")](0)}},Lt.prototype.transformCache=function(t,e,i){var s,a=t.length,r=this.computedMaximum-this.computedMinimum-this.dateRangeUtilities.calculateDisabledRange(this.computedMinimum,this.computedMaximum);if(this._disabledRanges||this._disabledDays){var n=0;for(s=0;s<a;s++)n=this.dateRangeUtilities.calculateDisabledRange(this.computedMinimum,t[s][e]),t[s][i]=(t[s][e]-n-this.computedMinimum)/r}else Tt.prototype.transformCache.call(this,t,e,i)},Lt.prototype.adjustMinMax=function(t,e){var i,s,a,r=!1;s=this._interval;var n=this.autoAdjust&&h(this.assignedMinimum),o=this.autoAdjust&&h(this.assignedMaximum),l=h(this._interval)?1:this._interval;if(null==this._userDataUnits){a="years",this._dataInterval=1,null!=this._userLabelUnits&&""!=this._userLabelUnits&&(a=this._userLabelUnits);var d=1/0,c=this.getDataDescriptions();for(i=0;i<c.length;i++)s=c[i].minInterval,h(s)||(d=Math.min(s,d));if(1/0==d||0==d)this.unitSize=this.MILLISECONDS_IN_DAY,this._dataUnits="days";else{for(;null!=a&&(this.unitSize=this.toMilli(1,a),!(this.unitSize<=d));)a=this.UNIT_PROGRESSION[a];null==a?this.unitSize=this.MILLISECONDS_IN_DAY:this._dataUnits=a}}else this._dataUnits=this._userDataUnits,this._dataInterval=h(this._userDataInterval)?1:this._userDataInterval;a="years",null!=this._userLabelUnits&&""!=this._userLabelUnits&&(a=this._userLabelUnits);for(var d=a,c=new Date(t),u=new Date(e);null!=a;){switch(d=a,a==this._dataUnits&&(l=Math.max(l,this._dataInterval)),n&&(c.setTime(t),this.roundDateDown(c,a),this.minMilli=c.getTime()),o&&(u.setTime(e),this.roundDateUp(u,a),this.maxMilli=u.getTime()),a){case"milliseconds":this.minMilli=t,this.maxMilli=e;break;case"seconds":case"hours":case"days":case"minutes":case"years":i=this.fromMilli(c.getTime(),a),s=this.fromMilli(u.getTime(),a),s-i>=this.MINIMUM_LABEL_COUNT*l&&(r=!0);break;case"weeks":this.fromMilli(e-t,"weeks")>=this.MINIMUM_LABEL_COUNT*l&&(r=!0);break;case"months":i=c[this.propGetSet(this.monthP,"get")]()+12*c[this.propGetSet(this.fullYearP,"get")](),s=u[this.propGetSet(this.monthP,"get")]()+12*u[this.propGetSet(this.fullYearP,"get")](),s-i>=this.MINIMUM_LABEL_COUNT*l&&(r=!0)}if(r)break;if(a==this._userLabelUnits||null==this.UNIT_PROGRESSION[a])break;if(a==this._dataUnits){if(l<=this._dataInterval)break;l=this._dataInterval}else a=this.UNIT_PROGRESSION[a]}if(this._labelUnits=d,null!=this._userMinorTickUnits&&""!=this._userMinorTickUnits)this._minorTickInterval=h(this._userMinorTickInterval)?1:this._userMinorTickInterval,this._minorTickUnits=this._userMinorTickUnits;else if(1==l)this._minorTickInterval=1,this._minorTickUnits=this._labelUnits;else for(this._minorTickUnits=this._labelUnits,i=2;i<=l;i++)if(0==l%i){this._minorTickInterval=l/i;break}this.invalidateCache.call(this),n&&(this.computedMinimum=this.minMilli),o&&(this.computedMaximum=this.maxMilli),this.computedInterval=l},Lt.prototype.guardMinMax=function(t,e){return h(t)||!isFinite(t)?[0,100]:h(e)||!isFinite(e)||t==e?[t,t+1]:null},Lt.prototype.filterCache=function(t,e,i){Tt.prototype.filterCache.call(this,t,e,i);var s,a=t.length;if(this._disabledRanges||this._disabledDays)for(s=0;s<a;s++)t[s][i]=this.dateRangeUtilities.isDisabled(t[s][e])?NaN:t[s][e];return t},Lt.prototype.mapCache=function(t,e,i,s){var a,r=t.length,n=this.parseFunction;if(null!=n)for(s=0;s<r;s++){a=t[s];var o=n(a[e]);null!=o&&(a[i]=o.getTime())}else{for(s=0;s<r&&null==t[s][e];s++);if(s!=r)if("string"==typeof t[s][e])for(;s<r;s++)a=t[s],a[i]=Date.parse(a[e]);else if("xml"==typeof t[s][e]||"xmllist"==typeof t[s][e])if(a=t[s],h(Number(a[e].toString())))for(;s<r;s++)a=t[s],a[i]=Date.parse(a[e].toString());else for(;s<r;s++)a=t[s],a[i]=Number(a[e].toString());else if("date"==typeof t[s][e])for(;s<r;s++)a=t[s],a[i]=a[e].getTime();else for(;s<r;s++)a=t[s],a[i]=a[e]}},Lt.prototype.formatForScreen=function(t){var e=this.tmpDate;return null!=this.parseFunction?e=this.parseFunction(t):"string"==typeof t?e.setTime(Date.parse(t)):"date"==typeof t?e=t:e.setTime(t),this.labelJsFunction?Ms.axisFunc(this,e,this.labelJsFunction):null!=this.formatter?this.formatter.format(e):this.chooseLabelFunction()(e,null,this)},Lt.prototype.buildLabelCache=function(){function t(t,e,i){var s="";return s=this.labelJsFunction?Ms.axisFunc(this,t,this.labelJsFunction):null!=this.formatter?this.formatter.format(t):i(t,e,this)}this.dateRangeUtilities.createDisabledRangeSet(this._disabledDays,this._disabledRanges,this.computedMinimum,this.computedMaximum);var e=this.chooseLabelFunction();if(this.labelCache)return!1;this.labelCache=[];var i,s,a=0;s=new Date;var r=null;i=!1;var n=this.labelMinimum,o=this.labelMaximum+1e-6;this.toMilli(this.computedInterval,this._labelUnits);var h=this.computedMaximum-this.computedMinimum-this.dateRangeUtilities.calculateDisabledRange(this.computedMinimum,this.computedMaximum);switch(s=new Date(n),this._alignLabelsToUnits&&this.roundDateUp(s,this._labelUnits),n=s.getTime(),this._labelUnits){case"months":for(var l=s[this.propGetSet(this.monthP,"get")]();s.getTime()<=o;)i=s.getTime(),this._disabledDays||this._disabledRanges?(a=null!=r?this.dateRangeUtilities.getDisabledRange(r.getTime()+1,i,this._labelUnits):this.dateRangeUtilities.getDisabledRange(this.computedMinimum,i,this._labelUnits),this.dateRangeUtilities.isDisabled(i)||this.labelCache.push(new Dt((i-this.computedMinimum-a)/h,new Date(i),t.call(this,s,r,e)))):this.labelCache.push(new Dt((i-this.computedMinimum)/h,new Date(i),t.call(this,s,r,e))),null==r?r=new Date(i):r.setTime(i),l+=this.computedInterval,s.setTime(n),s[this.propGetSet(this.monthP,"set")](l),s[this.propGetSet(this.monthP,"get")]()!=l%12&&s[this.propGetSet(this.dateP,"set")](0);break;case"years":for(l=s[this.propGetSet(this.fullYearP,"get")]();s.getTime()<=o;)i=s.getTime(),this._disabledDays||this._disabledRanges?(a=null!=r?this.dateRangeUtilities.getDisabledRange(r.getTime()+1,i,this._labelUnits):this.dateRangeUtilities.getDisabledRange(this.computedMinimum,i,this._labelUnits),this.dateRangeUtilities.isDisabled(i)||this.labelCache.push(new Dt((i-this.computedMinimum-a)/h,new Date(i),t.call(this,s,r,e)))):this.labelCache.push(new Dt((i-this.computedMinimum)/h,new Date(i),t.call(this,s,r,e))),null==r?r=new Date(i):r.setTime(i),l+=this.computedInterval,s.setTime(n),s[this.propGetSet(this.fullYearP,"set")](l),s[this.propGetSet(this.fullYearP,"get")]()!=l&&s[this.propGetSet(this.dateP,"set")](0);break;default:for(;n<=o;)s=new Date(n),this._disabledDays||this._disabledRanges?(a=null!=r?this.dateRangeUtilities.getDisabledRange(r.getTime()+1,n,this._labelUnits):this.dateRangeUtilities.getDisabledRange(this.computedMinimum,n,this._labelUnits),this.dateRangeUtilities.isDisabled(n)||(this.labelCache.push(new Dt((n-this.computedMinimum-a)/h,s,t.call(this,s,r,e))),i||(i=!0)),r=s,i?(a=new Date(n),"weeks"==this._labelUnits?a.setUTCDate(a.getUTCDate()+7*this.computedInterval):"hours"==this._labelUnits?a.setUTCHours(a.getUTCHours()+this.computedInterval):"minutes"==this._labelUnits?a.setUTCMinutes(a.getUTCMinutes()+this.computedInterval):"seconds"==this._labelUnits?a.setUTCSeconds(a.getUTCSeconds()+this.computedInterval):"milliseconds"==this._labelUnits?a.setUTCMilliseconds(a.getUTCMilliseconds()+this.computedInterval):a.setUTCDate(a.getUTCDate()+this.computedInterval),n=a.getTime()):n+=this.MILLISECONDS_IN_DAY):(this.labelCache.push(new Dt((n-this.computedMinimum)/h,s,t.call(this,s,r,e))),r=s,a=new Date(n),"weeks"==this._labelUnits?a.setUTCDate(a.getUTCDate()+7*this.computedInterval):"hours"==this._labelUnits?a.setUTCHours(a.getUTCHours()+this.computedInterval):"minutes"==this._labelUnits?a.setUTCMinutes(a.getUTCMinutes()+this.computedInterval):"seconds"==this._labelUnits?a.setUTCSeconds(a.getUTCSeconds()+this.computedInterval):"milliseconds"==this._labelUnits?a.setUTCMilliseconds(a.getUTCMilliseconds()+this.computedInterval):a.setUTCDate(a.getUTCDate()+this.computedInterval),n=a.getTime())}return!0},Lt.prototype.reduceLabels=function(t,e){this.minorTickCache||(this.minorTickCache=[]);var i=0;switch(this._labelUnits){case"months":i=Math.floor((12*e.value[this.propGetSet(this.fullYearP,"get")]()+e.value[this.propGetSet(this.monthP,"get")]()-(12*t.value[this.propGetSet(this.fullYearP,"get")]()+t.value[this.propGetSet(this.monthP,"get")]()))/this.computedInterval)+1;break;case"years":i=Math.floor((e.value[this.propGetSet(this.fullYearP,"get")]()-t.value[this.propGetSet(this.fullYearP,"get")]())/this.computedInterval)+1;break;default:var s=this.toMilli(this.computedInterval,this._labelUnits),i=Math.floor((e.value.getTime()-t.value.getTime())/s)+1}var a,s=[],r=[],n=[];for(a=0;a<this.labelCache.length;a+=i)s.push(this.labelCache[a]),r.push(this.labelCache[a].position);if(this.computedInterval==this._minorTickInterval&&1<i)for(a=i-1;1<=a;a--)if(0==i%a){i=a;break}for(a=0;a<this.minorTickCache.length;a+=i)n.push(this.minorTickCache[a]);return i=new wt,i.labels=s,i.minorTicks=n,i.ticks=r,i.accurate=!0,i},Lt.prototype.buildMinorTickCache=function(){var t,e,i=0;t=new Date;var s=null,a=[],r=this.labelMinimum,n=this.labelMaximum+1e-6;this.toMilli(this._minorTickInterval,this._minorTickUnits);var o=this.computedMaximum-this.computedMinimum-this.dateRangeUtilities.calculateDisabledRange(this.computedMinimum,this.computedMaximum);switch(e=new Date(r),this._alignLabelsToUnits&&this.roundDateUp(e,this._minorTickUnits),r=e.getTime(),this._minorTickUnits){case"months":for(var h=e[this.propGetSet(this.monthP,"get")]();e.getTime()<=n;)t=e.getTime(),this._disabledDays||this._disabledRanges?(i=null!=s?this.dateRangeUtilities.getDisabledRange(s.getTime()+1,t,this._minorTickUnits):this.dateRangeUtilities.getDisabledRange(this.computedMinimum,t,this._minorTickUnits),this.dateRangeUtilities.isDisabled(t)||a.push((t-this.computedMinimum-i)/o)):a.push((t-this.computedMinimum)/o),null==s?s=new Date(t):s.setTime(t),h+=this._minorTickInterval,e.setTime(r),e[this.propGetSet(this.monthP,"set")](h),e[this.propGetSet(this.monthP,"get")]()!=h%12&&e[this.propGetSet(this.dateP,"set")](0);break;case"years":for(h=e[this.propGetSet(this.fullYearP,"get")]();e.getTime()<=n;)t=e.getTime(),this._disabledDays||this._disabledRanges?(i=null!=s?this.dateRangeUtilities.getDisabledRange(s.getTime()+1,t,this._minorTickUnits):this.dateRangeUtilities.getDisabledRange(this.computedMinimum,t,this._minorTickUnits),this.dateRangeUtilities.isDisabled(t)||a.push((t-this.computedMinimum-i)/o)):a.push((t-this.computedMinimum)/o),null==s?s=new Date(t):s.setTime(t),h+=this._minorTickInterval,e.setTime(r),e[this.propGetSet(this.fullYearP,"set")](h),e[this.propGetSet(this.fullYearP,"get")]()!=h&&e[this.propGetSet(this.dateP,"set")](0);break;default:for(e=r;e<=n;)t=new Date(e),this._disabledDays||this._disabledRanges?(i=null!=s?this.dateRangeUtilities.getDisabledRange(s.getTime()+1,e,this._minorTickUnits):this.dateRangeUtilities.getDisabledRange(this.computedMinimum,e,this._minorTickUnits),this.dateRangeUtilities.isDisabled(e)||a.push((e-this.computedMinimum-i)/o)):a.push((e-this.computedMinimum)/o),s=t,i=new Date(e),"weeks"==this._minorTickUnits?i.dateUTC+=7*this._minorTickInterval:"hours"==this._minorTickUnits?i.hoursUTC+=this._minorTickInterval:"minutes"==this._minorTickUnits?i.minutesUTC+=this._minorTickInterval:"seconds"==this._minorTickUnits?i.secondsUTC+=this._minorTickInterval:"milliseconds"==this._minorTickUnits?i.millisecondsUTC+=this._minorTickInterval:i.dateUTC+=this._minorTickInterval,e=i.time}return a},Lt.prototype.formatYears=function(t,e,i){return t[i.propGetSet(i.fullYearP,"get")]().toString()},Lt.prototype.formatMonths=function(t,e,i){return e=t[i.propGetSet(i.fullYearP,"get")](),t[i.propGetSet(i.monthP,"get")]()+1+"/"+(10>e%100?"0"+e%100:e%100)},Lt.prototype.formatDays=function(t,e,i){return e=t[i.propGetSet(i.fullYearP,"get")](),t[i.propGetSet(i.monthP,"get")]()+1+"/"+t[i.propGetSet(i.dateP,"get")]()+"/"+(10>e%100?"0"+e%100:e%100)},Lt.prototype.formatMinutes=function(t,e,i){return t[i.propGetSet(i.hoursP,"get")]()+":"+(10>t[i.propGetSet(i.minutesP,"get")]()?"0"+t[i.propGetSet(i.minutesP,"get")]():t[i.propGetSet(i.minutesP,"get")]())},Lt.prototype.formatSeconds=function(t,e,i){return t[i.propGetSet(i.hoursP,"get")]()+":"+(10>t[i.propGetSet(i.minutesP,"get")]()?"0"+t[i.propGetSet(i.minutesP,"get")]():t[i.propGetSet(i.minutesP,"get")]())+":"+(10>t[i.propGetSet(i.secondsP,"get")]()?"0"+t[i.propGetSet(i.secondsP,"get")]():t[i.propGetSet(i.secondsP,"get")]())},Lt.prototype.formatMilliseconds=function(t,e,i){if(e=t[i.propGetSet(i.hoursP,"get")]()+":"+(10>t[i.propGetSet(i.minutesP,"get")]()?"0"+t[i.propGetSet(i.minutesP,"get")]():t[i.propGetSet(i.minutesP,"get")]())+":"+(10>t[i.propGetSet(i.secondsP,"get")]()?"0"+t[i.propGetSet(i.secondsP,"get")]():t[i.propGetSet(i.secondsP,"get")]()),t=t[i.propGetSet(i.millisecondsP,"get")]().toString(),4>t.length)for(i=t.length;4>i;i++)t="0"+t;return e+t},Lt.prototype.chooseLabelFunction=function(){if(null!=this.labelFunction)return this.labelFunction;switch(this._labelUnits){case"years":return Lt.prototype.formatYears;case"months":return Lt.prototype.formatMonths;case"hours":case"minutes":return Lt.prototype.formatMinutes;case"seconds":return Lt.prototype.formatSeconds;case"milliseconds":return Lt.prototype.formatMilliseconds}return Lt.prototype.formatDays},Lt.prototype.toMilli=function(t,e){switch(e){case"milliseconds":return t;case"seconds":return 1e3*t;case"minutes":return t*this.MILLISECONDS_IN_MINUTE;case"hours":return t*this.MILLISECONDS_IN_HOUR;case"weeks":return t*this.MILLISECONDS_IN_WEEK;case"months":return t*this.MILLISECONDS_IN_MONTH;case"years":return t*this.MILLISECONDS_IN_YEAR;default:return t*this.MILLISECONDS_IN_DAY}},Lt.prototype.fromMilli=function(t,e){switch(e){case"milliseconds":return t;case"seconds":return t/1e3;case"minutes":return t/this.MILLISECONDS_IN_MINUTE;case"hours":return t/this.MILLISECONDS_IN_HOUR;case"days":return t/this.MILLISECONDS_IN_DAY;case"weeks":return t/this.MILLISECONDS_IN_WEEK;case"months":return t/this.MILLISECONDS_IN_MONTH;case"years":return t/this.MILLISECONDS_IN_YEAR}return NaN},Lt.prototype.updatePropertyAccessors=function(){this.getDisplayLocalTime()?(this.millisecondsP="milliseconds",this.secondsP="seconds",this.minutesP="minutes",this.hoursP="hours",this.dateP="date",this.dayP="day",this.monthP="month",this.fullYearP="fullYear"):(this.millisecondsP="UTCMilliseconds",this.secondsP="UTCSeconds",this.minutesP="UTCMinutes",this.hoursP="UTCHours",this.dateP="UTCDate",this.dayP="UTCDay",this.monthP="UTCMonth",this.fullYearP="UTCFullYear")},Lt.prototype.propGetSet=function(t,e){return e+t.substring(0,1).toUpperCase()+t.substring(1,t.length)},Rt._defaultStyles={axisTitleStyleName:{fontSize:13,color:"#888",fontWeight:"normal",fontStyle:"normal",fontFamily:""},labelRotation:0},ki(Rt,x),Rt.prototype.getChart=function(){return ct.prototype.getChart.call(this)},Rt.prototype.getAxis=function(){return this._axis},Rt.prototype.setAxis=function(t){this._axis&&this._axis.removeEventListener("axisChange",this._axisChangeHandler),this._axis=t,this._axis.addEventListener("axisChange",this._axisChangeHandler,this)},Rt.prototype.setGutters=function(t){var e=this._gutters;e&&e.left==t.left&&e.right==t.right&&e.bottom==t.bottom&&e.top==t.top||this.adjustGutters(t,{left:!1,top:!1,right:!1,bottom:!1})},Rt.prototype.getGutters=function(){return this.horizontal?this._gutters:this._gutters.clone()},Rt.prototype.getTicks=function(){return this._ticks},Rt.prototype.getLength=function(){return this.horizontal?this._unscaledWidth-this._gutters.left-this._gutters.right:this._unscaledHeight-this._gutters.top-this._gutters.bottom},Rt.prototype.chartStateChanged=function(t,e){this.invalidateDisplayList()},Rt.prototype.measureTitle=function(){var t,e;e=this.getChart(),t=this._axis.title;var i=this.verticalAxisTitleAlignment;if(t&&""!=t){if(e=e.getStyle("axisTitleStyleName")||this.getStyle("axisTitleStyleName"),this.setFont(e),t=this.measureText(t),"left"===this.placement||"right"===this.placement)if("horizontal"==i)t=t.width;else{if("top"==i||"bottom"==i)return{width:t.width+this.titleGap+this.ABSOLUTE_TITLE_PADDING,height:t.height};t=.5*t.height}else t=t.height;return t+=this.titleGap+this.ABSOLUTE_TITLE_PADDING}return 0},Rt.prototype.measureLabels=function(t,e){var i;if(!this._axis)throw"noAxisSet";if(i=t?this._axis.getLabelEstimate():this._axis.getLabels(e),i===this._axisLabelSet&&0==this._forceLabelUpdate)return i.accurate;var s=this.processAxisLabels(i);return this._axisLabelSet=i,s},Rt.prototype.adjustGutters=function(t,e){var i,s=this.width,a=!1;i=this.getInverted();var n,o,h=this.measureTitle(),l=t.clone(),d=this.axisStroke?this.axisStroke.weight:0;if(this._includeInLayout?(a=this.measureLabels(!0,0),n=(r(h)?0:h)+this.labelGap,this._measureLabelSize=this.measureLabelSize(),n+=this._measureLabelSize,"top"!=this.verticalAxisTitleAlignment&&"bottom"!=this.verticalAxisTitleAlignment||(o=h,h=h.width>this._measureLabelSize?h.width-this._measureLabelSize:0,n+=h,"top"==this.verticalAxisTitleAlignment&&t.setTop(Math.max(t.top,h))),this.showLine&&(n+=d),n+=this.measureTickSize(this.showLine),this.titlePos=n-h,this._titleHeight=h,"left"!=this.placement&&"right"!=this.placement||"horizontal"==this.verticalAxisTitleAlignment||"top"==this.verticalAxisTitleAlignment||"bottom"==this.verticalAxisTitleAlignment||(n+=h)):n=0,this.horizontal?(e.top&&0>=t.top&&t.setTop(.7*parseInt(this.getStyle("fontSize"))),e.bottom&&0>=t.bottom&&t.setBottom(.7*parseInt(this.getStyle("fontSize"))),i?t.setTop(t.top+n):t.setBottom(t.bottom+n)):(i?t.setRight(t.right+n):t.setLeft(t.left+n),o&&t.setTop(t.top+o.height)),e.left||t.setLeft(l.left),e.right||t.setRight(l.right),e.top||t.setTop(l.top),e.bottom||t.setBottom(l.bottom),this.userVisible){var c,h=0>=this._labels.length?"":this._labels[this._labels.length-1];this.horizontal&&h&&((i=this.getStyle("labelRotation"))?(h=this._labels[0],e.left&&0<i&&t.left<h.rotateWidth?t.setLeft(h.rotateWidth):e.right&&0>i&&t.right<this._labels[this._labels.length-1].rotateWidth&&t.setRight(this._labels[this._labels.length-1].rotateWidth),e.right&&t.right<(c=this.getSizeStyle("fontSize"))&&t.setRight(c)):(e.right&&s<(c=t.left+(s-t.left-t.right)*h.position+.5*h.width)&&t.setRight(t.right+(c-s)+3),e.left&&0>(c=t.left+(s-t.left-t.right)*this._labels[0].position-.5*this._labels[0].width)&&t.setLeft(t.left-c+3))),e.left&&this.horizontal&&0>=t.left&&0==this._axis.padding&&t.setLeft(h.width/2+2)}return this._gutters=t.clone(),a||this.measureLabels(!1,this.getLength()),this.calcSpacing(),this.invalidateDisplayList(),t.clone()},Rt.prototype.calcSpacing=function(){if(this.canDropLabels){var t,e,i,s,a,r,n,o,h=0,l=0,d=!0,c=!1,u=this.getStyle("labelRotation");do{h=l=0,this.horizontal?(0<this._labels.length&&(s=this._labels[0]),e=0,t=1):(0<this._labels.length&&(s=this._labels[this._labels.length-1]),e=this._labels.length-1,t=-1);for(var p=1;p<this._labels.length;p++)i=this._labels[e+t*p],a=Math.abs(i.position-s.position)*this.getLength(),this.horizontal?0!=u?(r=i.height,a=Math.sqrt(Math.pow(a,2)-Math.pow(a*Math.cos(u*Math.PI/180),2))):r=(i.width+s.width)/2+4:r=90==u||-90==u?(i.width+s.width)/2:(i.height+s.height)/2+12,r>a?h++:(h>l&&(l=h,o=s,n=this._labels[e+t*(p-1)]),h=0,s=i);h>l&&(l=h,o=s,n=this._labels[e+t*(p-1)]),l?c=this.reduceLabels(o.value,n.value):d=!1}while(d&&c)}},Rt.prototype.processAxisLabels=function(t){var e,i,s=this.graphics,a=0,r=[];if(t.labels&&(a=t.labels.length),this._labels=[],this.labelFunction=this.labelJsFunction,null!=this.labelFunction){if(t!=this._axisLabelSet)for(r=[],e=0;e<a;e++)r.push(Ms.axisFunc(this,t.labels[e].text,this.labelFunction))}else if(null!=this.formatter&&this._axis.hasOwnProperty("formatter")){if(t!=this._axisLabelSet)for(r=[],e=0;e<a;e++)h(parseInt(t.labels[e].text))?this.formatter instanceof xs?r.push(this.formatter.format(t.labels[e].text)):r.push(t.labels[e].text):r.push(this.formatter.format(t.labels[e].text))}else for(e=0;e<a;e++)r.push(t.labels[e].text);var n;if(i=this.getStyle("labelRotation"),s.save(),this.setFont(),this.horizontal){for(e=0;e<a;e++)n=t.labels[e],n={value:n,position:n.position,text:r[e]},Ui.measureText(this,n),0!=i&&(n.rotateWidth=n.width*Math.cos(Math.PI/180*i),n.rotateHeight=0<i?Math.sqrt(Math.pow(n.width,2)-Math.pow(n.rotateWidth,2)):0),this._labels[e]=n;if(t.groupLabels)for(this._groupLabels=[],a=t.groupLabels.length,e=0;e<a;e+=1)for(this._groupLabels[e]=[],r=0,i=t.groupLabels[e].length;r<i;r+=1)n=t.groupLabels[e][r],n={value:n,position:n.position,text:n.text},Ui.measureText(this,n),this._groupLabels[e][r]=n;this._ticks=null==t.ticks?[]:t.ticks,this._minorTicks=null==t.minorTicks?[]:t.minorTicks}else{for(i=a-1,e=0;e<a;e++)n=t.labels[e],n={value:n,position:1-n.position,text:r[e]},Ui.measureText(this,n),this._labels[i-e]=n;if(this._ticks=[],t.ticks)for(n=t.ticks,a=n.length,e=a-1;0<=e;e--)this._ticks.push(1-n[e]);if(this._minorTicks=[],t.minorTicks)for(n=t.minorTicks,a=n.length,e=a-1;0<=e;e--)this._minorTicks.push(1-n[e])}return s.restore(),this._forceLabelUpdate=!1,1==t.accurate},Rt.prototype.reduceLabels=function(t,e){var i=this._axis.reduceLabels(t,e);return!(!i||i==this._axisLabelSet||i.labels.length>=this._axisLabelSet.labels.length)&&(this.processAxisLabels(i),this._axisLabelSet=i,!0)},Rt.prototype.setCommonProps=function(t,e){this.getLength();var i=this._gutters,s=this.getInverted(),a=this.axisStroke,a=0==a.weight?1:a.weight;return this.showLine||(a=0),a*=.5,{b:this.horizontal?s?i.top-a:e-i.bottom+a:s?t-i.right+a:i.left-a,g:i,l:this.getLength(),h:this.horizontal,i:this.getInverted(),a:a}},Rt.prototype.updateDisplayList=function(t,e){x.prototype.updateDisplayList.call(this,t,e);var i=this.graphics;i&&this._axis&&(this.setVisible(this.userVisible),this.clear(),i.lineCap="butt",i=this.setCommonProps(t,e),this.showLine&&this.drawAxis(i),this.drawTicks(i),this.showLabels&&this.drawLabels(i),this._axis.title&&""!=this._axis.title&&this.drawTitle(this._axis.title,i))},Rt.prototype.drawTitle=function(t,e){var i,s,a,r=this.graphics,n=this.getChart();s=e.l,i=e.g;var o=e.b,h=e.i,l=e.a;a=e.h;var d=this.titlePos,c=this.titleGap,u=i.left,p=i.top,f=this.verticalAxisTitleAlignment,g=n.getStyle("axisTitleStyleName")||this.getStyle("axisTitleStyleName"),n=this.ABSOLUTE_TITLE_PADDING;r.save(),this.setFont(g),r.textAlign="center",r.textBaseline="bottom",a?(i=u+.5*s,h?s=o-d-c+l-n:(r.textBaseline="top",s=o+d+c-l+n)):(a=Math.PI/2,s=p+.5*s,"horizontal"==f?(i="right"==this.placement?o+l+c+n+this._measureLabelSize+.5*this._titleHeight+.5*r.measureText(t).width+2:.5*r.measureText(t).width+n+c,r.translate(i,s)):"top"==f?(s=p>g.fontSize?.5*(p-g.fontSize)+n+c:.5*g.fontSize+n+c,i="left"==this.placement?.5*(this._unscaledWidth-(this._unscaledWidth-o)):o+.5*(this._unscaledWidth-o),r.translate(i,s)):"bottom"==f?(s=this._unscaledHeight-i.bottom+g.fontSize+this.labelGap,i="left"==this.placement?.5*(this._unscaledWidth-(this._unscaledWidth-o)):o+.5*(this._unscaledWidth-o),r.translate(i,s)):(h?("flippedVertical"!=this.verticalAxisTitleAlignment&&(r.textBaseline="top",a=-Math.PI/2),i=o+d+c-l+n):("flippedVertical"==this.verticalAxisTitleAlignment?r.textBaseline="top":a=-Math.PI/2,i=o-d-c+l-n),r.translate(i,s),r.rotate(a)),r.svg||(i=s=0)),r.fillText(t,i,s),r.restore()},Rt.prototype.drawAxis=function(t){var e,i,s,a,r,n=t.g,o=t.b,h=t.h,l=0;a=0,t=this.graphics;var d=this.otherAxes;if(t.save(),ts.apply(t,this.axisStroke),h&&d)for(e=0;e<d.length;e++)(r=d[e])&&(s=r.axisStroke,i=r.showLine),r=r.placement,s&&i&&("right"==r||"top"==r?a+=s.weight:l+=s.weight);t.beginPath(),o=Math.floor(o),t.lineWidth%2&&(o+=.5),h?(i=n.left-l,n=this.width-n.right+a,s=a=o):(a=this.height-n.bottom,s=n.top,i=n=o),t.moveTo(i,s),t.lineTo(n,a),t.stroke(),t.restore()},Rt.prototype.drawTicks=function(t){function e(){switch(g){case"inside":c=r-h,u=r-p-h;break;default:c=r+h,u=r+h+p;break;case"cross":c=r-h-p,u=r+h+p;break;case"none":u=c=0}}function i(t){var e,i,r,n=!1;for(0==d.lineWidth%2&&(n=!0),"RadarChart"!=l.getChart().className||o||(c+=1,u+=1),d.save(),d.beginPath(),i=0,r=t.length;i<r;i+=1)e=t[i],0>e||(e=Math.floor(s*e),e=o?e+a.left:e+a.top,n||(e+=.5),o?(d.moveTo(e,c),d.lineTo(e,u)):(d.moveTo(c,e),d.lineTo(u,e)));d.stroke(),d.closePath(),d.restore()}var s=t.l,a=t.g,r=t.b,n=t.i,o=t.h,h=t.a,l=this,d=l.graphics;t=l._ticks;var c,u,p=l.tickLength,f=l._minorTicks,g=l.tickPlacement;n&&(p*=-1,h*=-1),o||(p*=-1,h*=-1),(t&&"none"!=g&&0!=p||"cross"==g)&&(e(),ts.apply(d,l.tickStroke),i(t)),p=l.minorTickLength,g=l.minorTickPlacement,c=u=0,n&&(p*=-1),o||(p*=-1),(f&&"none"!=g&&0!=p||"cross"==g)&&(e(),ts.apply(d,l.minorTickStroke),i(f))},Rt.prototype.drawLabels=function(t){var e,i,s,a,r,n,o=t.l,h=t.g,l=t.i,d=t.b,c=t.a,u=t.h,p=0;t=this.graphics,i=this.getChart();var f=0,g=this._labels;e=parseInt(this.getStyle("fontSize")),s=this.getStyle("labelRotation");var m=-s*Math.PI/180;if(g){if(t.save(),this.setFont(),u){var _,f=e+this.labelGap,c=this.labelGap+this.tickSize+c,u=0,y=!1;for(2<g.length&&g[g.length-2].position*o+.5*g[g.length-2].width>=g[g.length-1].position*o-g[g.length-1].width&&(y=!0),90==s?p=.75*e:-90==s&&(p=.5*-e),l&&(c=-1*(c+e),f*=-1,p*=-1),m=s?Math.PI/180*(360-s):0,l=0,e=g.length;l<e;l++)a=g[l],t.save(),_=!1,r=h.left+o*a.position-p-(s?0<s?a.rotateWidth:0:.5*a.width)-1,n=d+c+(a.rotateHeight||0)-2,this.canStagger&&!s&&0!=l%2&&(n+=f),i.getRadialAxis&&(0==l?r=0:(y||l==g.length-1)&&(r-=.5*a.width)),r=Math.floor(r)-.5,n=Math.floor(n)-.5,t.translate(r,n),m&&t.rotate(m),t.svg?this.fillText(a,Math.floor(r),Math.floor(n),_):this.fillText(a,0,0,_),t.restore(),u=Math.max(u,a.rotateHeight||a.height);if(g=this._groupLabels){for(u+=this.groupLabelGap+(0!=m?this.groupLabelGap:0),ts.apply(t,this.groupLabelStroke),t.beginPath(),l=0,e=g.length;l<e;l+=1){for(m=h.left,f=Math.floor(d+c+u)+.5,i=0,s=g[l].length;i<s;i+=1)a=g[l][i],t.save(),r=h.left+o*a.position-p-(a.rotateWidth||.5*a.width),n=d+c-2+(a.rotateHeight||0)+u+this.groupLabelGap,t.translate(r,n),t.svg?this.fillText(a,Math.floor(r),Math.floor(n),_):this.fillText(a,Math.floor(0),Math.floor(0),_),t.restore(),r=Math.floor(m+a.value.start*o)-.5,n=Math.floor(m+a.value.end*o)-.5,t.moveTo(r,f-this.groupLabelGap),t.lineTo(r,f),t.moveTo(n,f-this.groupLabelGap),t.lineTo(n,f),t.moveTo(r,f),t.lineTo(n,f),t.stroke();u+=a.height+this.groupLabelGap}t.closePath()}}else for(p=-(c+this.tickSize+this.labelGap),s*=-1,m*=-1,l&&(p*=-1),l=0,e=g.length;l<e;l++)t.save(),a=g[l],r=d+p,r="left"==this.placement?r+(-a.width+2):r-2,n=h.top+o*a.position-.5*a.height,i.getRadialAxis&&(r=d-.5*a.width+p,l==e-1?n-=.5*a.height:0==l&&(n+=.5*a.height)),0<s?(n+=a.height,90==s&&(n+=.5*a.width,r=d+p-a.height)):0>s&&(r=-90==s?d+p:r+.5*a.width),t.translate(r,n),m&&t.rotate(m),t.svg?this.fillText(a,Math.floor(r),Math.floor(n),_):this.fillText(a,Math.floor(0),Math.floor(0),_),t.restore();t.restore()}},Rt.prototype._axisChangeHandler=function(t){(t=this.getChart())&&t.invalidateDisplayList(),this.invalidateDisplayList()},ki(Pt,Rt),Pt.prototype.getLength=function(){var t=this.getChart(),e=t.cubeDepth||0;return this.horizontal?this.width-this._gutters.left-this._gutters.right-e:this.height-this._gutters.top-this._gutters.bottom-e*(t.cubeAngleRatio||0)},Pt.prototype.setCommonProps=function(t,e){
var i,s=this.getChart(),a=Rt.prototype.setCommonProps.call(this,t,e),r=a.g;return a.d=s.cubeDepth||0,a.r=s.cubeAngleRatio||0,a.u=Math.floor(a.d*a.r),a.f=0,a.h?i=Number(a.i?r.top+a.u:e-r.bottom):(i=Number(a.i?t-r.right-a.d+2*a.a:r.left),r.setTop(r.top+a.u)),a.f=s.cubeDepthOffset||0,s instanceof Wt?(a.d-a.f)*a.r<a.u/3&&(a.f=a.u-a.u/3):s instanceof Ot&&a.d-a.f<a.d/3&&(a.f=a.d-a.d/3),a.i&&(i=a.h?i-a.f:i+a.f),a.b=i,a},Pt.prototype.updateDisplayList=function(t,e){if(x.prototype.updateDisplayList.call(this,t,e),!d(this.element)&&this._axis){this.setVisible(this.userVisible),this.clear(),this.graphics.lineCap="butt";var i=this.setCommonProps(t,e);this.showLine&&this.drawAxis(i),this.drawTicks(i),this.showLabels&&this.drawLabels(i),this._axis.title&&""!=this._axis.title&&this.drawTitle(this._axis.title,i)}},Pt.prototype.drawAxis=function(t){var e,i,s,a,r=0,n=0,o=this.graphics,h=this.otherAxes,l=this.axisStroke;e=0;var d=t.u,c=t.g,u=t.b,p=t.d,f=t.h,g=2*t.a;t=t.f;var m=this.width,_=this.height,y=Math.floor(c.left);if(h)for(e=0;e<h.length;e++)(s=h[e])&&(a=s.axisStroke,i=s.showLine),s=s.placement,a&&i&&("right"==s||"top"==s?n=a.weight:r=a.weight);u=Math.floor(u)+.5,i=Qi.color2rgba(l.color,l.alpha),e=-34,m=m-p-c.right+n+.5,o.save(),f?(o.fillStyle=i,o.strokeStyle=Qi.adjustBrightness(l,-3),o.lineWidth=1,o.beginPath(),o.moveTo(y-r+1,u),o.lineTo(y-r+p-t,u-d+t),o.lineTo(m+p-.5-t,u-d+t),o.lineTo(m,u),o.closePath(),o.fill(),o.stroke(),1<g&&(o.fillStyle=Qi.adjustBrightness(l,e),o.strokeStyle=o.fillStyle,o.beginPath(),o.moveTo(y-r+.5,u),o.lineTo(m,u),o.lineTo(m,u+g-1),o.lineTo(y-r+.5,u+g-1),o.closePath(),o.fill(),o.stroke(),o.save(),o.beginPath(),o.fillStyle=Qi.adjustBrightness(l,e-10),o.moveTo(m,u),o.lineTo(m+p-t,u-d+.5+t),o.lineTo(m+p-t,u+g-d-1+t),o.lineTo(m,u+g-.5-1),o.closePath(),o.fill(),o.stroke())):(d-=.5,o.fillStyle=i,o.strokeStyle=Qi.adjustBrightness(l,-3),o.lineWidth=1,o.beginPath(),o.moveTo(u-o.lineWidth,c.top),o.lineTo(u+p-t,c.top-d+.5+t),o.lineTo(u+p-t,_-c.bottom-d+t),o.lineTo(u-o.lineWidth,_-c.bottom-1-.5),o.closePath(),o.fill(),o.stroke(),1<g&&(o.fillStyle=Qi.adjustBrightness(l,e),o.strokeStyle=o.fillStyle,o.beginPath(),o.moveTo(u,c.top),o.lineTo(u+p-t-.5,c.top-d+t),o.lineTo(u-g+p-t+1,c.top-d+t),o.lineTo(u-g,c.top),o.closePath(),o.fill(),o.stroke(),o.beginPath(),o.fillStyle=Qi.adjustBrightness(l,e-20),o.strokeStyle=o.fillStyle,o.moveTo(u-o.lineWidth,c.top),o.lineTo(u-o.lineWidth,_-c.bottom-.5),o.lineTo(u-g,_-c.bottom-.5),o.lineTo(u-g,c.top),o.closePath(),o.fill(),o.stroke())),o.restore()},Pt.prototype.drawTicks=function(t){function e(t){if(t){var e,r,n,o=0==a.lineWidth%2,h={"true":i,"false":s};for(a.save(),a.beginPath(),r=0,n=t.length;r<n;r+=1)e=t[r],g&&0>=e||(e*=d,e=g?c.left+e:c.top+e,e=o?Math.round(e):g?Math.floor(e)+.5:Math.floor(e)-.5,h[g](e));a.stroke(),a.closePath(),a.restore()}}function i(e){p?("outside"!=h&&"cross"!=h||(a.moveTo(e,u-n),a.lineTo(e,u)),"cross"==h&&a.lineTo(e,u+m),("inside"==h||"cross"==h)&&n>l-_&&(a.moveTo(e+f-_,u+m),a.lineTo(e+f-_,u+m+n-(f-_)*t.r))):("inside"!=h&&"cross"!=h||(a.moveTo(e+f-_,u-l-n+_),a.lineTo(e+f-_,u-l+_)),"cross"==h&&(a.lineTo(e,u),a.lineTo(e,Math.floor(u+m))),"outside"!=h&&"cross"!=h||(a.moveTo(e,u+m),a.lineTo(e,u+m+n)))}function s(e){p?("outside"!=h&&"cross"!=h||(a.moveTo(u+n,e),a.lineTo(u,e)),"cross"==h&&a.lineTo(u-m,e),("inside"==h||"cross"==h)&&n>l-_&&(a.moveTo(u-m,e-l+_),a.lineTo(u-m-n+(f-_)*t.r,e-l+_))):(e+=_+1,"inside"!=h&&"cross"!=h||(a.moveTo(u+f-_+n,e-l),a.lineTo(u+f-_,e-l)),"cross"==h&&(a.lineTo(u-.5,e-_),a.lineTo(u-m,e-_)),"outside"!=h&&"cross"!=h||(a.moveTo(u-m-n,e-_),a.lineTo(u-m,e-_)))}var a=this.graphics,r=this._ticks,n=this.tickLength,o=this._minorTicks,h=this.tickPlacement,l=t.u,d=t.l,c=t.g,u=Math.floor(t.b)+.5,p=t.i,f=t.d,g=t.h,m=2*t.a,_=t.f;ts.apply(a,this.tickStroke),"none"!=h&&e(r),n=this.minorTickLength,h=this.minorTickPlacement,ts.apply(a,this.minorTickStroke),"none"!=h&&e(o)},ki(Et,x),Et.prototype.getChart=function(){return ct.prototype.getChart.call(this)},Et.prototype.setAxis=function(t){this.axis&&this.axis.removeEventListener("axisChange",this.axisChangeHandler,this),this.axis=t,this.axis.addEventListener("axisChange",this.axisChangeHandler,this)},Et.prototype.axisChangeHandler=function(t){(t=this.getChart())&&t.invalidateProperties(),this.invalidateDisplayList()},Et.prototype.commitProperties=function(){x.prototype.commitProperties.call(this),this.initStyles(this.axis)},Et.prototype.updateDisplayList=function(t,e){var i=this.getChart();x.prototype.updateDisplayList.call(this,t,e),this.clear(),i&&(this.showLine&&this.drawAxis(),this.showLabels&&this.drawLabels())},Et.prototype.drawAxis=function(){var t,e,i=this.graphics,s=this.getChart(),a=s.getRadius();e=s.getOrigin();var r=s.startAngleRadians,n=this.axisStroke?this.axisStroke:this.tempAxisStroke;if(t=e.x,e=e.y,i.save(),ts.apply(i,n),i.lineJoin="miter",i.lineCap="round",i.beginPath(),"circle"==s.type)i.arc(t,e,a,0,2*Math.PI,!0);else for(var o,h,l,d=s.numCategories(),s=0;s<d;++s)o=s*Math.PI*2/d,h=(s+1)*Math.PI*2/d,n=t+Math.cos(o+r)*a,l=e+Math.sin(o+r)*a,o=t+Math.cos(h+r)*a,h=e+Math.sin(h+r)*a,i.moveTo(n,l),i.lineTo(o,h),i.stroke();i.closePath(),i.stroke(),i.restore()},Et.prototype.drawLabels=function(){var t=this.graphics,e=this.getChart(),i=e.getOrigin(),s=this.axis.getLabels(0),a=e.numCategories(),r=this.axisStroke?this.axisStroke.weight:this.tempAxisStroke.weight,r=e.getRadius()+r;if(t.save(),this.setFont(),0!=s.labels.length&&0!=a){var n,o,h=this.labelGap,l=0;n=0;var d=e.startAngleRadians;if(i){for(e=0;e<s.labels.length;++e)n=e*Math.PI*2/a,o=this.measureText(s.labels[e]),l=i.x+Math.cos(n+d)*r-.5*o.width+Math.cos(n+d)*(.5*o.width+h),n=i.y+Math.sin(n+d)*r-.5*o.height+Math.sin(n+d)*(.5*o.height+h),this.fillText(o,l,n);t.restore()}}},ki(Nt,lt),Nt.prototype.measureLabels=function(){var t,e,i,s,a,r,n;if(n=this._userSeries.length,Nt._super.measureLabels.call(this),this.endPointDisplayName&&1>this._rightRenderers.length){for(t=0;t<n;t++)a=this._userSeries[t],a.getDisplayName()&&a.getIncludeInLayout()&&(e=a.getRenderData(),e.filteredCache&&(r=e.filteredCache[e.filteredCache.length-1],i=r.y,a.displayNameLabel?e=a.displayNameLabel:(e=a.displayNameLabel=new k,js(e.element,"Kool__DisplayNameLabel"),e.setStyle("position","absolute"),e.setStyle("fontFamily",a.getStyle("displayNameFontFamily")||a.getStyle("fontFamily")),e.setStyle("color",a.getStyle("displayNameFontColor")||a.getStyle("lineStroke").color),e.setPxStyle("fontSize",a.getStyle("displayNameFontSize")||a.getStyle("fontSize")),this.addChild(e)),e.setText(a.getDisplayName()),i=a.getY()+i-.5*qi.getSizeStyle(e,"height"),a.displayNameLabel.move(a.getX()+a.getWidth()+this.endPointDisplayNameXOffset,i),this._displayNameLabels[t]={label:e,oy:r.y,y:e.getY(),height:e.getHeight()}));for(a=Yi.sortOn(this._displayNameLabels,"y"),t=1;t<a.length;t+=1)n=a[t],e=a[t-1],s=e.y<n.y&&e.y+e.height>n.y?s+(e.y+e.height-n.y):0,n.label.setY(n.y+s)}},Nt.prototype.updateAxisLayout=function(t,e){var i,s,a,r=0;if(Nt._super.updateAxisLayout.call(this,t,e),this.endPointDisplayName&&(!this._rightRenderes||1>this._rightRenderes.length)){for(i=0,s=this._userSeries.length;i<s;i+=1)a=this._userSeries[i],a.getIncludeInLayout()&&""!=a.getDisplayName()&&(a.setFont(),r=Math.max(r,a.measureText(a.getDisplayName()).width+this.endPointDisplayNameXOffset));for(this._computedGutters.setRight(this._computedGutters.right+r),i=0,s=this._leftRenderers.length;i<s;i+=1)this._leftRenderers[i].setGutters(this._computedGutters);for(i=0,s=this._bottomRenderers.length;i<s;i+=1)this._bottomRenderers[i].setGutters(this._computedGutters);for(i=0,s=this._topRenderers.length;i<s;i+=1)this._topRenderers[i].setGutters(this._computedGutters);if(this._transformBounds.setRight(t-this._computedGutters.right-this.getStyle("paddingRight")),this._transforms)for(s=this._transforms.length,i=0;i<s;i++)this._transforms[i].pixelWidth=this._transformBounds.width,this._transforms[i].pixelHeight=this._transformBounds.height;for(s=this.allElements.length,i=0;i<s;i++)(a=this.allElements[i])&&(a.chart=this,a.setActualSize(this._transformBounds.width,this._transformBounds.height),a.move(this._transformBounds.x,this._transformBounds.y),a instanceof Qe&&this.updateLabelLayer(a)),(a=a._dataTransform)&&(a.pixelWidth=this._transformBounds.width,a.pixelHeight=this._transformBounds.height);this._bAxisLayoutDirty=!1}},ki(Ft,lt),Ft.prototype.customizeSeries=function(t,e){t instanceof ei&&(t.stacker=null,t.setStackTotals(null))},Ft.prototype.getType=function(){return this._type},Ft.prototype.setType=function(t){this._type!=t&&(this._type=t,this.invalidateSeries(),this.invalidateData())},Ft.prototype.applySeriesSet=function(t,e){switch(this._type){case"stacked":case"100%":var i=new ai;return i.setSeries(t),i.setType(this._type),[i];default:return lt.prototype.applySeriesSet.call(this,t,e)}},ki(kt,lt),kt.INVALIDATING_STYLES={barWidthRatio:1,maxBarWidth:1},kt.prototype.getType=function(){return this._type},kt.prototype.setType=function(t){this._type!=t&&(this._type=t,this.invalidateSeries(),this.invalidateData())},kt.prototype.commitProperties=function(){0!=this._verticalAxisRenderers.length||this.verticalAxisRenderer||(this.verticalAxisRenderer=new Rt,this.verticalAxisRenderer.horizontal=!1,this.verticalAxisRenderer.chart=this,this.verticalAxisRenderer.initStyles("rMateBlockCategoryAxis"),this.addChild(this.verticalAxisRenderer)),lt.prototype.commitProperties.call(this)},kt.prototype.customizeSeries=function(t,e){(t instanceof ri||t instanceof oi)&&(h(this._perSeriesBarWidthRatio)||(t.barWidthRatio=this._perSeriesBarWidthRatio),h(this._perSeriesMaxBarWidth)||(t.maxBarWidth=this._perSeriesMaxBarWidth),t.offset="overlaid"==this._type?0:this._rightOffset-e*this._perSeriesBarWidthRatio,t.setChartDataProvider(this._dataProvider),t instanceof ri&&(t.stacker=null,t.setStackTotals(null)))},kt.prototype.applySeriesSet=function(t,e){var i,s,a,r,n=this.maxBarWidth,o=this.barWidthRatio;switch(this._type){case"stacked":case"100%":for(a=t.length,s=0;s<a;s++)t[s].offset=0;for(r=new oi,r.owner=this,r.setSeries(t),s=0;s<a;s++)(i=t[s])&&(i.owner=r);return h(o)||(r.barWidthRatio=this.barWidthRatio),h(n)||(r.maxBarWidth=this.maxBarWidth),r.setType(this._type),[r];case"overlaid":return this._perSeriesBarWidthRatio=o,this._perSeriesMaxBarWidth=n,this._rightOffset=0,lt.prototype.applySeriesSet.call(this,t,e);default:for(r=0,a=t.length,s=0;s<a;s++)i=t[s],i.getIncludeInLayout(!0)&&(i instanceof oi||i instanceof ri)&&r++;for(this._perSeriesBarWidthRatio=o/r,this._perSeriesMaxBarWidth=n/r,this._rightOffset=.5*o-.5*this._perSeriesBarWidthRatio,a=t.length,s=n=0;s<a;s++)o=t[s],o.getIncludeInLayout(!0)&&(o instanceof ri||o instanceof oi)&&(this.customizeSeries(o,n),n++);return t}},ki(Ot,kt),Ot.prototype.getType=function(){return this._type},Ot.prototype.setType=function(t){this._type=t,this.invalidateSeries(),this.invalidateData()},Ot.prototype.commitProperties=function(){if(0!=this._horizontalAxisRenderers.length||this.horizontalAxisRenderer||(this.horizontalAxisRenderer=new Pt,this.horizontalAxisRenderer.horizontal=!0,this.horizontalAxisRenderer.chart=this,this.addChild(this.horizontalAxisRenderer)),0!=this._verticalAxisRenderers.length||this.verticalAxisRenderer||(this.verticalAxisRenderer=new Pt,this.verticalAxisRenderer.horizontal=!1,this.verticalAxisRenderer.chart=this,this.verticalAxisRenderer.initStyles("rMateBlockCategoryAxis"),this.addChild(this.verticalAxisRenderer)),kt.prototype.commitProperties.call(this),"clustered"==this._type&&!this._seriesIndexDirty){this._seriesIndexDirty=!0;var t;for(t=this._userSeries.length%2?Math.floor(this._userSeries.length/2):this._userSeries.length/2;t<this._userSeries.length;t+=1)this.swapChildren(this._userSeries[this._userSeries.length-1-t],this._userSeries[t])}},Ot.prototype.updateDisplayList=function(t,e){var i=this.cubeDepth;kt.prototype.updateDisplayList.call(this,t-i,e-i*this.cubeAngleRatio)},Ot.prototype.updateAxisLayout=function(t,e){var i,s,a,r=this.cubeDepth,n=r*this.cubeAngleRatio;for(kt.prototype.updateAxisLayout.call(this,t,e),this._transformBounds.setBottom(this._transformBounds.bottom+n),this.horizontalAxisRenderer&&this.horizontalAxisRenderer.setActualSize(this.horizontalAxisRenderer.width+r,this.horizontalAxisRenderer.height+n),this.verticalAxisRenderer&&this.verticalAxisRenderer.setActualSize(this.verticalAxisRenderer.width+r,this.verticalAxisRenderer.height+n),s=0,a=this._horizontalAxisRenderers.length;s<a;s++)this._horizontalAxisRenderers[s].setActualSize(this._horizontalAxisRenderers[s].width+r,this._horizontalAxisRenderers[s].height+n);for(s=0,a=this._verticalAxisRenderers.length;s<a;s++)this._verticalAxisRenderers[s].setActualSize(this._verticalAxisRenderers[s].width+r,this._verticalAxisRenderers[s].height+n);for(s=0,a=this.allElements.length;s<a;s++)i=this.allElements[s],i.setActualSize(this._transformBounds.width+r,this._transformBounds.height),i.move(this._transformBounds.x,this._transformBounds.top),(i=i._dataTransform)&&(i.pixelWidth=this._transformBounds.width,i.pixelHeight=this._transformBounds.height,i.pixelX=r,i.pixelY=n)},ki(Ht,lt),Ht.prototype.getRadiusAxis=function(){return this._transforms[0].getAxis(li.RADIUS_AXIS)},Ht.prototype.setRadiusAxis=function(t){t.autoAdjust=!1,t.setMinimum(0),t.setInterval(1),this.radiusAxis=t,this._transforms[0].setAxis(li.RADIUS_AXIS,t),this.invalidateData()},Ht.prototype.commitProperties=function(){0!=this._horizontalAxisRenderers.length||this.horizontalAxisRenderer||(this.horizontalAxisRenderer=new Rt,this.horizontalAxisRenderer.horizontal=!0,this.horizontalAxisRenderer.initStyles("rMateBlockCategoryAxis"),this.horizontalAxisRenderer.chart=this,this.addChild(this.horizontalAxisRenderer)),0!=this._verticalAxisRenderers.length||this.verticalAxisRenderer||(this.verticalAxisRenderer=new Rt,this.verticalAxisRenderer.horizontal=!1,this.verticalAxisRenderer.chart=this,this.addChild(this.verticalAxisRenderer)),Ht._super.commitProperties.call(this)},Ht.prototype.updateDisplayList=function(t,e){var i=this.cubeDepth||0;Ht._super.updateDisplayList.call(this,t-i,e-i*(this.cubeAngleRatio||0))},Ht.prototype.updateAxisLayout=function(t,e){var i,s,a,r=this.cubeDepth||0,n=r*(this.cubeAngleRatio||0);for(Ht._super.updateAxisLayout.call(this,t,e),this._transformBounds.setBottom(this._transformBounds.bottom+n),this.horizontalAxisRenderer&&this.horizontalAxisRenderer.setActualSize(this.horizontalAxisRenderer.width+r,this.horizontalAxisRenderer.height+n),this.verticalAxisRenderer&&this.verticalAxisRenderer.setActualSize(this.verticalAxisRenderer.width+r,this.verticalAxisRenderer.height+n),s=0,a=this._horizontalAxisRenderers.length;s<a;s++)this._horizontalAxisRenderers[s].setActualSize(this._horizontalAxisRenderers[s].width+r,this._horizontalAxisRenderers[s].height+n);for(s=0,a=this._verticalAxisRenderers.length;s<a;s++)this._verticalAxisRenderers[s].setActualSize(this._verticalAxisRenderers[s].width+r,this._verticalAxisRenderers[s].height+n);for(s=0,a=this.allElements.length;s<a;s++)i=this.allElements[s],i.setActualSize(this._transformBounds.width+r,this._transformBounds.height),i.move(this._transformBounds.x,this._transformBounds.top),(i=i._dataTransform)&&(i.pixelWidth=this._transformBounds.width,i.pixelHeight=this._transformBounds.height,i.pixelX=r,i.pixelY=n)},ki(Vt,Ht),Vt.prototype.commitProperties=function(){0!=this._horizontalAxisRenderers.length||this.horizontalAxisRenderer||(this.horizontalAxisRenderer=new Pt,this.horizontalAxisRenderer.horizontal=!0,this.horizontalAxisRenderer.initStyles("rMateBlockCategoryAxis"),this.horizontalAxisRenderer.chart=this,this.addChild(this.horizontalAxisRenderer)),0!=this._verticalAxisRenderers.length||this.verticalAxisRenderer||(this.verticalAxisRenderer=new Pt,this.verticalAxisRenderer.horizontal=!1,this.verticalAxisRenderer.chart=this,this.addChild(this.verticalAxisRenderer)),lt.prototype.commitProperties.call(this)},ki(zt,lt),zt.INVALIDATING_STYLES={columnWidthRatio:1,maxColumnWidth:1},zt.prototype.getType=function(){return this._type},zt.prototype.setType=function(t){this._type!=t&&(this._type=t,this.invalidateSeries(),this.invalidateData())},zt.prototype.customizeSeries=function(t,e){(t instanceof di||t instanceof ci)&&(h(this._perSeriescolumnWidthRatio)||(t.columnWidthRatio=this._perSeriescolumnWidthRatio),h(this._perSeriesMaxColumnWidth)||(t.maxColumnWidth=this._perSeriesMaxColumnWidth),t.offset="overlaid"==this._type?0:this._leftOffset+e*this._perSeriescolumnWidthRatio,(t instanceof di||t instanceof ri||t instanceof ei)&&(t.stacker=null,t.setStackTotals(null)))},zt.prototype.applySeriesSet=function(t,e){var i,s=this.maxColumnWidth,a=this.columnWidthRatio;switch(this._type){case"stacked":case"100%":var r,n=t.length;for(r=0;r<n;r++)t[r].offset=0;var o=new ci;for(o.owner=this,o.setSeries(t),r=0;r<n;r++)(i=t[r])&&(i.owner=o);return h(a)||(o.columnWidthRatio=this.columnWidthRatio),h(s)||(o.maxColumnWidth=this.maxColumnWidth),o.setType(this._type),[o];case"overlaid":return this._perSeriescolumnWidthRatio=a,this._perSeriesMaxColumnWidth=s,this._leftOffset=0,lt.prototype.applySeriesSet.call(this,t,e);default:for(o=0,n=t.length,r=0;r<n;r++)i=t[r],i.getIncludeInLayout()&&(i instanceof ci||i instanceof di)&&o++;for(this._perSeriescolumnWidthRatio=a/o,this._perSeriesMaxColumnWidth=s/o,this._leftOffset=(1-a)/2+this._perSeriescolumnWidthRatio/2-.5,n=t.length,r=s=0;r<n;r++)a=t[r],a.getIncludeInLayout()&&(a instanceof di||a instanceof ci)&&(this.customizeSeries(a,s),s++);return t}},ki(Wt,zt),Wt.prototype.commitProperties=function(){0!=this._horizontalAxisRenderers.length||this.horizontalAxisRenderer||(this.horizontalAxisRenderer=new Pt,this.horizontalAxisRenderer.horizontal=!0,this.horizontalAxisRenderer.chart=this,this.horizontalAxisRenderer.initStyles("rMateBlockCategoryAxis"),this.addChild(this.horizontalAxisRenderer)),0!=this._verticalAxisRenderers.length||this.verticalAxisRenderer||(this.verticalAxisRenderer=new Pt,this.verticalAxisRenderer.horizontal=!1,this.verticalAxisRenderer.chart=this,this.addChild(this.verticalAxisRenderer)),zt.prototype.commitProperties.call(this)},Wt.prototype.updateDisplayList=function(t,e){var i=this.cubeDepth;lt.prototype.updateDisplayList.call(this,t-i,e-i*this.cubeAngleRatio)},Wt.prototype.updateAxisLayout=function(t,e){var i,s,a,r=this.cubeDepth,n=r*this.cubeAngleRatio;for(zt.prototype.updateAxisLayout.call(this,t,e),this._transformBounds.setBottom(this._transformBounds.bottom+n),this.horizontalAxisRenderer&&this.horizontalAxisRenderer.setActualSize(this.horizontalAxisRenderer.width+r,this.horizontalAxisRenderer.height+n),this.verticalAxisRenderer&&this.verticalAxisRenderer.setActualSize(this.verticalAxisRenderer.width+r,this.verticalAxisRenderer.height+n),s=0,a=this._horizontalAxisRenderers.length;s<a;s++)this._horizontalAxisRenderers[s].setActualSize(this._horizontalAxisRenderers[s].width+r,this._horizontalAxisRenderers[s].height+n);for(s=0,a=this._verticalAxisRenderers.length;s<a;s++)this._verticalAxisRenderers[s].setActualSize(this._verticalAxisRenderers[s].width+r,this._verticalAxisRenderers[s].height+n);for(s=0,a=this.allElements.length;s<a;s++)i=this.allElements[s],i.setActualSize(this._transformBounds.width+r,this._transformBounds.height),i.move(this._transformBounds.x,this._transformBounds.top),(i=i.getDataTransform())&&(i.pixelWidth=this._transformBounds.width,i.pixelHeight=this._transformBounds.height,i.pixelX=r,i.pixelY=n)},ki(Bt,lt),Bt.prototype.commitProperties=function(){for(var t,e=0,i=0,s=this._userSeries;e<s.length;e+=1)t=s[e],t instanceof bi&&(t.defaultRenderer=new Bi($t.prototype.defaultSkins[i%$t.prototype.defaultSkins.length]),i++);lt.prototype.commitProperties.call(this)},Bt.prototype.updateDisplayList=function(t,e){lt.prototype.updateDisplayList.call(this,t,e)},ki(Ut,lt),Ut.prototype.commitProperties=function(){var t=this;0!=t._horizontalAxisRenderers.length||t.horizontalAxisRenderer||(t.horizontalAxisRenderer=new Pt,t.horizontalAxisRenderer.horizontal=!0,t.horizontalAxisRenderer.getChart=function(){return t},t.horizontalAxisRenderer.initStyles("rMateBlockCategoryAxis"),t.addChild(t.horizontalAxisRenderer)),0!=t._verticalAxisRenderers.length||t.verticalAxisRenderer||(t.verticalAxisRenderer=new Pt,t.verticalAxisRenderer.horizontal=!1,t.verticalAxisRenderer.getChart=function(){return t},t.addChild(t.verticalAxisRenderer)),lt.prototype.commitProperties.call(t)},Ut.prototype.updateDisplayList=function(t,e){var i=this.cubeDepth;lt.prototype.updateDisplayList.call(this,t-i,e-i*this.cubeAngleRatio)},Ut.prototype.updateAxisLayout=function(t,e){var i,s,a,r=this.cubeDepth,n=r*this.cubeAngleRatio;for(lt.prototype.updateAxisLayout.call(this,t,e),this._transformBounds.setBottom(this._transformBounds.bottom+n),this.horizontalAxisRenderer&&this.horizontalAxisRenderer.setActualSize(this.horizontalAxisRenderer.width+r,this.horizontalAxisRenderer.height+n),this.verticalAxisRenderer&&this.verticalAxisRenderer.setActualSize(this.verticalAxisRenderer.width+r,this.verticalAxisRenderer.height+n),s=0,a=this._horizontalAxisRenderers.length;s<a;s++)this._horizontalAxisRenderers[s].setActualSize(this._horizontalAxisRenderers[s].width+r,this._horizontalAxisRenderers[s].height+n);for(s=0,a=this._verticalAxisRenderers.length;s<a;s++)this._verticalAxisRenderers[s].setActualSize(this._verticalAxisRenderers[s].width+r,this._verticalAxisRenderers[s].height+n);for(s=0,a=this.allElements.length;s<a;s++)i=this.allElements[s],i.setActualSize(this._transformBounds.width+r,this._transformBounds.height),i.move(this._transformBounds.x,this._transformBounds.top),(i=i.getDataTransform())&&(i.pixelWidth=this._transformBounds.width,i.pixelHeight=this._transformBounds.height,i.pixelX=r,i.pixelY=n)},ki(Gt,y),Gt._defaultStyles={alternatingItemColors:null,borderColor:null,borderStyle:"solid",borderThickness:null,color:null,headerColor:null,fontFamily:null,fontSize:null,fontStyle:null,fontWeight:null,textAlign:null,textDecoration:null,textIndent:null,headerColors:null,paddingBottom:null,paddingLeft:null,paddingRight:null,paddingTop:null,userRollOver:!1,rollOverColor:null,selectionColor:null,textSelectedColor:null,verticalGridLineColor:null,horizontalGridLineColor:null,headerLineColor:null},Gt.prototype.getEditorHeight=function(){return this._editorHeight},Gt.prototype.setEditorHeight=function(t){this._editorHeight=t,Gt._super.setHeight.call(this,t)},Gt.prototype.setDataProvider=function(t){this._dataProvider=t,this.invalidateProperties()},Gt.prototype.commitProperties=function(){var t,e,i,s,a,r=this,n=r._dataEditor;Gt._super.commitProperties.call(r);try{for(i=window[r._productName],r._dataEditor||""==r.chartId||void 0==window.EditableGrid||(r.element.id="Kool__"+r.className+"_"+r.chartId,r._dataEditor=new EditableGrid(r.chartId),n=r._dataEditor,i[r.chartId]={gridRowInfo:{}},n.enableSort=!1),r.formatter&&(n.formatter=r.formatter),(s=r.chartData2DataEditor(r._dataProvider))&&n.load({metadata:s[0],data:s[1]}),t=0,e=s[1].length;t<e;t+=1)a=t,r.reverseRow&&(a=s[1].length-1-t),i[r.chartId].gridRowInfo[t]=r.fieldNames[a];r._dataEditor._KoolChartId=r.chartId,r._dataEditor.renderGrid(r.element.id,"EditableGrid__"+r.chartId),r._dataEditor.table.cellSpacing=r._dataEditor.table.cellPadding=0,r._dataEditor.table.id=r._dataEditor.table.className,h(r.minColumnWidth)?r._dataEditor.table.width="100%":r._dataEditor.table.width=s[0].length*r.minColumnWidth,r.useCloseButton&&!r._closeDiv&&(r._closeDiv=new y("span","CloseButton"),r.getParent().getRawChildren().addChild(r._closeDiv),r._closeDiv.addEvent("click",function(){r.visibleDataEditor(!1),this.element.style.display="none"},r._closeDiv)),r._initStyle()}catch(o){}},Gt.prototype.updateDisplayList=function(t,e){this.getStyle("styleName"),Gt._super.updateDisplayList(this,t,e),this._closeDiv&&this._closeDiv.move(t-this._closeDiv.getWidth(),this.getY()+1)},Gt.prototype.gridData2EditableData=function(t){try{if(EditableGrid&&0<t.length){var e,i,s,a,r,n,o,h=[],l=[];for(o in t[0])"displayName"!=o&&h.push({name:o,label:o,datatype:"double",editable:this.editable});for(h.unshift({name:"displayName",label:" ",datatype:"string",editable:!1}),i=0,s=t.length;i<s;i+=1){for(n={},n.id=i,n.values={},a=0,r=h.length;a<r;a+=1)e=h[a].name,n.values[e]=t[i][e];l.push(n)}return this.reverseRow&&(l=l.reverse()),[h,l]}}catch(d){throw"undefined EditableGrid"}return[]},Gt.prototype.chartData2DataEditor=function(t){var e,i,s,a,r,n,o,h,l,d,c=[],u=!1;e=this.chart;var p=t.concat();for(s=st.prototype.findSeries,e.displayerChart?e=e.displayerChart:e.mainChart&&(e=e.mainChart),t=e.getSeries(),t=s.call(e,t),e._horizontalAxis?l=e._horizontalAxis.categoryField:e._verticalAxis?l=e._verticalAxis.categoryField:e._angularAxis&&(l=e._angularAxis.categoryField),e.hasOwnProperty("barWidthRatio")&&(l=e._verticalAxis.categoryField),l&&(u=!0),this.fieldNames=[],e=0,s=t.length;e<s;e+=1){h=["yField"],t[e].hasOwnProperty("barWidthRatio")?h=["xField"]:t[e].hasOwnProperty("field")?h=["field"]:t[e].hasOwnProperty("openField")&&(h=["openField","closeField","highField","lowField"]);for(var f=0,g=h.length;f<g;f+=1){for(n={},i=h[f],a=t[e]._displayName?t[e]._displayName:t[e][i],o=t[e][i],"field"==i&&t[e].getNameField()&&(l=t[e].getNameField(),u=!0),this.fieldNames.push(t[e][i]),n.displayName=a,i=0,a=p.length;i<a;i+=1)r=p[i][o],u?(d=p[i][l],/<br>/.test(d)&&(d=d.replace(/<br>/g," ")),n[d]=r):n[i]=r;c.push(n)}}return this.gridData2EditableData(c)},Gt.prototype.visibleDataEditor=function(t){t!=this._dataEditorVisible&&(this._dataEditorVisible=t,this.setHeight(t?this._editorHeight:0),t?this.setStyle("overflow","auto"):this.setStyle("overflow","hidden"),this._closeDiv&&this._closeDiv.setStyle("display",t?"block":"none"))},Gt.prototype._initStyle=function(){var t,e,i,s,a=this;e=qi,i=a.chartId;var r=function(t){return a._getRule(s,t)},n=a._styleName;if(!n)for(t in n={_styles:{}},Gt._defaultStyles)n._styles[t]=a.getStyle(t);if(n){s=e.findCSSSheetIndex("editablegrid_"+i),-1==s&&(s=e.createCSSSheet("editablegrid_"+i)),i=n._styles;for(t in i)i[t]&&("alternatingItemColors"==t?(e=r("td.oddRow"),e.style.backgroundColor=i[t][0],e=r("td.evenRow"),e.style.backgroundColor=i[t][1]):"headerColors"==t?(e=r("th"),$i.ie8L||$i.ie9?e.style.filter=qi.drawFilterGradient(i[t][0],1):e.style.background=$i.getCssPrefix()+"linear-gradient(270deg,"+i[t][0]+" 20%, "+i[t][1]+" 100%)"):"horizontalGridLineColor"==t?(e=r("td.row"),e.style.borderBottomColor=i[t]):"verticalGridLineColor"==t?(e=r("td.column"),e.style.borderRightColor=i[t]):"headerLineColor"==t?(e=r("th.row"),e.style.borderBottomColor=i[t],e=r("th.column"),e.style.borderRightColor=i[t]):"horizontalGridLines"==t?(e=r("td.row"),e.style.borderBottomStyle=i[t]?"solid":"none",e=r("th.row"),e.style.borderBottomStyle=i[t]?"solid":"none"):"verticalGridLines"==t?(e=r("td.column"),e.style.borderBottomStyle=i[t]?"solid":"none",e=r("th.column"),e.style.borderBottomStyle=i[t]?"solid":"none"):"rollOverColor"==t?(e=r("td:hover"),e.style.color=i[t]):"selectionColor"==t?(e=r("td:focus"),e.style.color=i[t]):"headerColor"==t?(e=r("th"),e.style.color=i[t]):"textAlign"==t?(e=r("th"),e.style[t]=i[t],e=r("td"),e.style[t]=i[t]):n.getStyle||qi.setStyle(a._dataEditor.table,t,i[t]));qi.setStyle(a._dataEditor.table.tHead,"display",a.showHeaders?"table-header-group":"none"),n.getStyle&&n.getStyle("borderColor")&&qi.setStyle(a._dataEditor.table,"borderColor",a._styleName.getStyle("borderColor")),e=r("th"),e.style.verticalAlign=a.verticalAlign,e=r("td"),e.style.verticalAlign=a.verticalAlign}},Gt.prototype._getRule=function(t,e){var i;i=qi.getCSSRule;var s=qi.addCSSRule,a="EditableGrid__"+this.chartId;return e&&0<e.length&&(a+=" "),(i=i(t,a+e))||(i=s(t,a+e)),i},Yt._defaultStyles={maintainAspectRatio:!0,labelPlacement:"right",markerWidth:NaN,markerHeight:NaN,stroke:new w,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5,verticalGap:6,horizontalGap:6,disableItemFill:new T("#cccccc")},ki(Yt,F),Yt.prototype.addChild=function(t){Yt._super.addChild.call(this,t)},Yt.prototype.getDataProvider=function(){return this._dataProvider},Yt.prototype.setDataProvider=function(t){this._dataProvider instanceof st&&(this._dataProvider.removeEventListener("legendDataChanged",this._legendDataChangedHandler,this),this._dataProvider.removeEventListener("patternChanged",this._patternChangedHandler,this)),this._dataProvider=t?t:[],this._dataProvider instanceof st?(this._dataProvider.addEventListener("legendDataChanged",this._legendDataChangedHandler,this),this._dataProvider.addEventListener("patternChanged",this._patternChangedHandler,this)):this._dataProvider instanceof Ss||(this._dataProvider=this._dataProvider instanceof Cs?new Cs(this._dataProvider):this._dataProvider instanceof Array?new Ds(this._dataProvider):null!=this._dataProvider?new Ds([this._dataProvider]):new Ds),this.invalidateProperties(),this.invalidateSize(),this._childrenDirty=!0,this.dispatchEvent(new cs("collectionChange"))},Yt.prototype.getLegendItemClass=function(){return this._legendItemClass},Yt.prototype.setLegendItemClass=function(t){this._legendItemClass=t,this._legendItemClassChanged=!0,this.invalidateProperties()},Yt.prototype.getUseVisibleCheck=function(){return this._useVisibleCheck},Yt.prototype.setUseVisibleCheck=function(t){this._useVisibleCheck!=t&&(this._useVisibleCheck=t,this.setLegendItemClass(Xt),t?this.addEvent("click",this._childMouseEventHandler,this):this.removeEvent("click",this._childMouseEventHandler,this),this._setupMouseDispatching())},Yt.prototype.getDefaultMouseOverAction=function(){return this._defaultMouseOverAction},Yt.prototype.setDefaultMouseOverAction=function(t){this._defaultMouseOverAction=t,this._setupMouseDispatching()},Yt.prototype.getSelected=function(){return this._selected},Yt.prototype.setSelected=function(t){this._selected=t,this._selectedChanged=!0,this.invalidateProperties()},Yt.prototype.getChangeItemOrder=function(){return this._changeLegendItemFlag},Yt.prototype.setChangeItemOrder=function(t){this._changeLegendItemFlag!=t&&(this._changeLegendItemFlag=t,this._childrenDirty=!0,this.invalidateProperties())},Yt.prototype.measure=function(){var t,e,i,s,a,r,n,o,l;t=!1,Yt._super.measure.call(this),this._findCellSize(),i=this._cellWidth,s=this._cellHeight;var d=this.getNumChildren();if(0<d)if(r=this.getStyle("horizontalGap"),n=this.getStyle("verticalGap"),e=this.getViewMetricsAndPadding(),"vertical"==this._direction)if(t=!1,h(this._explicitHeight)?h(this._actualMajorAxisLength)||(l=this._actualMajorAxisLength*this._cellHeight+(this._actualMajorAxisLength-1)*n,this._actualMajorAxisLength=NaN,t=!0):(l=this._explicitHeight-e.top-e.bottom,t=!0),t){for(a=this._calcColumnWidthsForHeight(l),o=0,e=a.length,t=0;t<e;t++)o+=a[t];o+=(e-1)*r,r=Math.min(d,Math.max(1,Math.floor((l+n)/(this._cellHeight+n)))),l=r*this._cellHeight+(r-1)*n,this._preferredMajorAxisLength=r}else l=d*this._cellHeight+(d-1)*n,o=this._cellWidth,this._preferredMajorAxisLength=d;else{if(h(this._explicitWidth)){if(l=this,this.getNestLevel()){for(;l instanceof m&&l.getParent();)l=l.getParent();o=qi.getStyle(l.element.parentNode,"width"),o=-1<o.indexOf("%")?l.element.parentNode.parentNode?qi.getRootSize(l.element.parentNode.parentNode,"width",o):l.element.parentNode.offsetWidth:parseInt(o)}o-=e.left+e.right,this._actualMajorAxisLength=NaN}else o=this._explicitWidth-e.left-e.right;for(a=this._calcColumnWidthsForWidth(o),o=0,e=a.length,t=0;t<e;t++)o+=a[t];o+=(e-1)*r,r=Math.ceil(d/e),l=r*this._cellHeight+(r-1)*n,this._preferredMajorAxisLength=e}else o=i,l=s;e=this.getViewMetricsAndPadding(),n=e.left+e.right,r=e.top+e.bottom,this.measuredMinWidth=i+n,this.measuredMinHeight=s+r,this.measuredWidth=o+n,this.measuredHeight=l+r},Yt.prototype.commitProperties=function(){Yt._super.commitProperties.call(this),(this._childrenDirty||this._useVisibleCheckChanged)&&(this._populateFromArray(this._dataProvider),this._legendItemClassChanged=this._useVisibleCheckChanged=this._childrenDirty=!1,this._setupVisibleCheck()),this instanceof te&&this._setupVisibleCheck()},Yt.prototype.updateDisplayList=function(t,e){var i=this.getViewMetricsAndPadding();
0>=t-i.left-i.right||0>=e-i.top-i.bottom||(Yt._super.updateDisplayList.call(this,t,e),this._unscaledWidth=t,this._unscaledHeight=e,h(this._cellWidth)&&this._findCellSize(),"vertical"==this._direction?this._layoutVertical():this._layoutHorizontal())},Yt.prototype._setupMouseDispatching=function(){var t=Fs?"touchmove":"mousemove",e=Fs?"touchend":"mouseout";this.addEvent("mouseover",this._childMouseEventHandler,this),this._defaultMouseOverAction?(this.addEvent(t,this._childMouseEventHandler,this),this.addEvent(e,this._childMouseEventHandler,this)):(this.removeEvent(t,this._childMouseEventHandler,this),this.removeEvent(e,this._childMouseEventHandler,this))},Yt.prototype._setupVisibleCheck=function(){var t,e,i,s=0,s=0;for(t=this.getNumChildren();s<t;s+=1)e=this.getChildAt(s),i=e.target||e.targetSeries,this._useVisibleCheck&&(js(e.element,"Kool__cursor-pointer"),e.disableItemFill=this.getStyle("disableItemFill"),i instanceof Qe&&(i.getVisibility()?e.selected=i.getVisibility():this.legendItemVisibleChange(s,!1)))},Yt.prototype._addLegendItem=function(t,e,i){e=new this._legendItemClass,e.setMarker(t.marker),""!=t.label&&e.setLabel(t.label),t.target&&(e.target=t.target),t.fill&&(e.fill=t.fill),t.stroke&&(e.stroke=t.stroke),t.declineFill&&(e.declineFill=t.declineFill),t.patternOpp&&(e.patternOpp=t.patternOpp),this.titleJsFunction&&(e.titleJsFunction=this.titleJsFunction),this.itemClickJsFunction&&(e.itemClickJsFunction=this.itemClickJsFunction),e.markerAspectRatio=t.aspectRatio,e.legendData=t,e._percentWidth=100,e._percentHeight=100,e.setStyle("labelPlacement",this.getStyle("labelPlacement")),e.setStyle("markerWidth",this.getStyle("markerWidth")),e.setStyle("markerHeight",this.getStyle("markerHeight")),(e.target instanceof Ze||e.target instanceof ei)&&h(e.getStyle("markerWidth"))&&e.setStyle("markerWidth",20),this.addChild(e)},Yt.prototype._populateFromArray=function(t){var i,s,a,r,n;if(t instanceof st&&(t=t.getLegendData()),0<this.getNumChildren())for(this._formerItemCheck=[],s=0;s<this.getNumChildren();++s)this.getChildAt(s),this._formerItemCheck.push(!0);for(this.removeAllChildren(),i=0;i<t.length;i++)if(r=t[i],e(r))for(n=r.length,s=0;s<n;s++)a=r[s],this._formerItemCheck&&this._formerItemCheck[i]instanceof Boolean?this._addLegendItem(a,this._formerItemCheck[s],s):this._addLegendItem(a,this._selected,s);else a=t[i],this._formerItemCheck&&this._formerItemCheck[i]instanceof Boolean?this._addLegendItem(a,this._formerItemCheck[i],i):this._addLegendItem(a,this._selected,i);this._changeLegendItemFlag&&this._doInvertChildren(),this._actualMajorAxisLength=NaN},Yt.prototype.removeAllChildren=function(){for(var t=L.getInstance(),e=0,i=this.getNumChildren();e<i;e+=1)t.freeElement(this.getChildAt(e).getMarker().element),this.getChildAt(e).resetInvalidate();Yt._super.removeAllChildren.call(this)},Yt.prototype._doInvertChildren=function(){var t,e,i;if(0<this.getNumChildren()){for(e=this.getNumChildren()-1,i=0;i<=e;)t=this.getChildAt(e),this.setChildIndex(t,i),i++;this.invalidateDisplayList()}},Yt.prototype._getHorizontalAlignValue=function(){return this.getStyle("horizontalAlign"),"center"==this._horizontalAlign?.5:"right"==this._horizontalAlign?1:0},Yt.prototype._getVerticalAlignValue=function(){return this.getStyle("verticalAlign"),"middle"==this._verticalAlign?.5:"bottom"==this._verticalAlign?1:0},Yt.prototype.widthPadding=function(t){var e=this.getViewMetricsAndPadding(),e=e.left+e.right;return 1<t&&"horizontal"==this._direction&&(e+=this.getStyle("horizontalGap")*(t-1)),e},Yt.prototype._heightPadding=function(t){var e=this.getViewMetricsAndPadding(),e=e.top+e.bottom;return 1<t&&"vertical"==this._direction&&(e+=this.getStyle("verticalGap")*(t-1)),e},Yt.prototype._calcColumnWidthsForHeight=function(t){var e,i,s,a,r=this.getNumChildren();if(e=this.getStyle("verticalGap"),t=Math.min(r,Math.max(1,Math.floor((t+e)/(this._cellHeight+e)))),i=0==t?0:Math.ceil(r/t),h(e),1>=i)a=[this._cellWidth];else{for(a=[],e=0;e<i;e++)a[e]=0;for(e=0;e<r;e++)s=this.getChildAt(e),i=Math.floor(e/t),a[i]=Math.max(a[i],s.getExplicitOrMeasuredWidth())}return a},Yt.prototype._layoutVertical=function(){var t,e,i,s,a,r,n=this.getNumChildren(),o=this.getBorderMetrics(),h=this.getViewMetricsAndPadding(),l=h.left-o.left,d=h.top-o.top;t=this._unscaledHeight-h.bottom-o.bottom;var o=this.getStyle("verticalGap"),c=this.getStyle("verticalAlign"),u=this.getStyle("horizontalGap"),p=this.getStyle("horizontalAlign"),f=Math.min(n,Math.max(1,Math.floor((t-d+o)/(this._cellHeight+o))));for(s=this._calcColumnWidthsForHeight(t-d),t=0;t<n;t++)i=this.getChildAt(t),e=Math.floor(t/f),e=s[e],a=0<i._percentWidth?Math.min(e,e*i._percentWidth/100):i.getExplicitOrMeasuredWidth(),r=0<i._percentHeight?Math.min(this._cellHeight,this._cellHeight*i._percentHeight/100):i.getExplicitOrMeasuredHeight(),i.setActualSize(a,r),a=Math.floor(this._calcHorizontalOffset(i.getWidth(),p)),r=Math.floor(this._calcVerticalOffset(i.getHeight(),c)),i.move(l+a,d+r),t%f==f-1?(d=h.top,l+=e+u):d+=this._cellHeight+o;f!=this._preferredMajorAxisLength&&(this._actualMajorAxisLength=f,this.invalidateSize())},Yt.prototype._calcColumnWidthsForWidth=function(t){var e,i,s;i=0;var a,r=this.getNumChildren(),n=!0,o=this.getStyle("horizontalGap"),h=0;for(e=0;e<r&&(s=this.getChildAt(e),s=s.getExplicitOrMeasuredWidth(),!(i+s>t));e++)i+=s+o,h++;for(;1<h&&n;){for(a=[],e=0;e<h;e++)a[e]=0;for(e=0;e<r;e++)i=e%h,a[i]=Math.max(a[i],this.getChildAt(e).getExplicitOrMeasuredWidth());for(e=i=0;e<h&&!(i+a[e]>t);e++)i+=a[e]+o;e==h?n=!1:h--}return 1>=h&&(a=[this._cellWidth]),a},Yt.prototype._layoutHorizontal=function(){var t,e,i,s,a,r,n=0,o=this.getNumChildren(),h=this.getBorderMetrics(),l=this.getViewMetricsAndPadding(),d=l.left-h.left,c=l.top-h.top;t=this._unscaledWidth-l.right+h.right;var h=this.getStyle("verticalGap"),u=this.getStyle("verticalAlign"),p=this.getStyle("horizontalGap"),f=this.getStyle("horizontalAlign");for(a=this._calcColumnWidthsForWidth(t-d),n=a.length,t=0;t<o;t++)i=this.getChildAt(t),e=t%n,s=a[e],s=0<i._percentWidth?Math.min(s,s*i._percentWidth/100):i.getExplicitOrMeasuredWidth(),r=0<i._percentHeight?Math.min(this._cellHeight,this._cellHeight*i._percentHeight/100):i.getExplicitOrMeasuredHeight(),i.setActualSize(s,r),s=Math.floor(this._calcHorizontalOffset(i.getWidth(),f)),r=Math.floor(this._calcVerticalOffset(i.getHeight(),u)),i.move(d+s,c+r),e==n-1?(d=l.left,c+=this._cellHeight+h):d+=a[e]+p;n!=this._preferredMajorAxisLength&&(this._actualMajorAxisLength=this._unscaledWidth,this.invalidateSize())},Yt.prototype._legendDataChangedHandler=function(t){this._childrenDirty=!0,this.invalidateProperties(),this.invalidateSize()},Yt.prototype._patternChangedHandler=function(t){this._populateFromArray(this._dataProvider)},Yt.prototype._childMouseEventHandler=function(t){function e(t,e){var s;for(i=0;i<t.length;i+=1)(s=t[i])&&s.changeClassName("un-focused",(s!==n||!s.getIncludeInLayout())&&!e)}var i,s,a,r,n,o,h,l,d=this.getNumChildren();if("touchend"==t.type||"mouseout"==t.type){for(r=[],i=0,d=this.getNumChildren();i<d;i+=1)a=this.getChildAt(i),a.selected&&r.push(a.target||a.targetSeries);e(r,!0)}else{for(s=qi.pageXY(this),o=t.pageX,h=t.pageY,t.touches&&0<t.touches.length&&(o=t.touches[0].pageX,h=t.touches[0].pageY),o-=s.x,h-=s.y,s=this._contentPane.element.scrollLeft,l=this._contentPane.element.scrollTop,i=0;i<d&&(a=this.getChildAt(i),!(a.getX()-s<o&&o<a.getX()-s+a.getWidth()&&a.getY()-l<h&&h<a.getY()-l+a.getHeight()));i+=1)a=null;if(!a||!(n=a.target||a.targetSeries))return this._defaultMouseOverAction&&this._dataProvider&&(r=this._dataProvider.getAllSeries())&&e(r,!1),!1;switch(r=n.getChart().getAllSeries(),o=this.getChildIndex(a),h=a.getLabel(),t.type){case"mouseover":a.element.title=this.titleJsFunction?Ms.findFunction(this.titleJsFunction)(o,h):h;break;case"mousemove":case"touchmove":e(r,!1);break;case"click":if(this.itemClickJsFunction&&Ms.findFunction(this.itemClickJsFunction)(o,h),!this._useVisibleCheck)return;this.legendItemIncludeChange(a)}}return Fs&&!this._useVisibleCheck&&(t.preventDefault(),t.stopPropagation()),!1},Yt.prototype.legendItemIncludeChange=function(t,e){var i=this._dataProvider;t.targetSeries&&(i=t.targetSeries.getChart()),i&&!i.getChartState()&&this._useVisibleCheck&&(i.clearSelection(),this.legendItemVisibleChange(t,e),t instanceof Jt&&(i=t.targetSeries.getChart()),i.invalidateData())},Yt.prototype.legendItemVisibleChange=function(t,e){var i,s,a,r=!0;if(n(t)&&(t=this.getChildAt(t)),t&&(void 0==e||t.selected!=e))if(a=t.target||t.targetSeries,/Pie|Pyramid|Overlay/g.test(a.className))t.selected=!t.selected,i=this.getChildIndex(t),a.renderDirection&&(i=Math.floor(this.getChildIndex(t)%a.getItems().length)),a.legendCheckWedge[i]=t.selected,t.invalidateDisplayList();else if(t.selected=!t.selected,a.setVisible(t.selected),s=t.getMarker(),s=s.renderer,t.selected?(s&&(s.tempFill=void 0),Qs(t.element,"Kool__UnChecked")):(js(t.element,"Kool__UnChecked"),r=!1),a._includeInLayout=r,t.invalidateDisplayList(),this.useAxisVisibleCheck){var o,h,l,d,c,u,p,r=!1;if(s=a.getParent(),a=s.getVerticalAxisRenderers(),1<a.length&&0>s.className.indexOf("Wing"))for(h=0,l=a.length;h<l;h+=1){r=!1,s=a[h],d=s.getAxis(),c=d._transforms;for(i in c)for(p in u=c[i].transform.elements)if(o=u[p],o instanceof Qe&&o.getIncludeInLayout()&&(!o.getVerticalAxis()||o.getVerticalAxis()===d)){r=!0;break}s.setVisible(r),s.setIncludeInLayout(r)}}},Xt._defaultStyles={labelPlacement:"right",markerWidth:9,markerHeight:9,horizontalGap:8,verticalGap:6,legendMarkerRenderer:new Bi(Se)},ki(Xt,y),Xt.prototype.getMarkerWidth=function(){return this._markerWidth},Xt.prototype.getMarkerHeight=function(){return this._markerHeight},Xt.prototype.getLabel=function(){return this._label},Xt.prototype.setLabel=function(t){this._label=t,this._labelChanged=!0,this.invalidateSize(),this.invalidateDisplayList()},Xt.prototype.getLegendData=function(){return this._legendData},Xt.prototype.setLegendData=function(t){this._legendData=t,this._marker.hasOwnProperty("data")&&(this._marker.data=this._legendData)},Xt.prototype.getMarker=function(){return this._marker},Xt.prototype.setMarker=function(t){this._marker&&this.removeChild(this._marker),t instanceof K?(this._marker=new x("LegendMarker"),this._marker.renderer=t):this._marker=t,this._marker&&(this.addChild(this._marker),this._marker.data=this._legendData),this.invalidateDisplayList()},Xt.prototype.getSource=function(){return this.element},Xt.prototype.createChildren=function(){y._super.createChildren.call(this),this._nameLabel||(this._nameLabel=new v,this._nameLabel.setStyle("position","absolute"),this.addChild(this._nameLabel))},Xt.prototype.commitProperties=function(){Xt._super.commitProperties.call(this),this._labelChanged&&(this._labelChanged=!1,this._nameLabel.setText(this._label))},Xt.prototype.measure=function(){var t,e=0,i=0,s=this.getStyle("labelPlacement");x._super.measure.call(this),s||(s=this.getParent().getStyle("labelPlacement")),this._labelChanged&&(this._labelChanged=!1,this._nameLabel.setText(this._label)),t=this.measureText(this._label),ks&&""!=this._label&&!t.width&&(t=this.measureText(this._label));var a=t.width+v.TEXT_WIDTH_PADDING;t=t.height+v.TEXT_HEIGHT_PADDING,h(a)&&(a=0),h(t)&&(t=0),(0<a||0<this._getMarkerWidth())&&(e+=this.getStyle("paddingLeft")+this.getStyle("paddingRight"),i+=this.getStyle("paddingTop")+this.getStyle("paddingBottom"),"top"==s||"bottom"==s?(e+=Math.max(a,this._getMarkerWidth()),i+=this.getStyle("verticalGap")+this._getMarkerHeight()+t):(e+=this.getStyle("horizontalGap")+this._getMarkerWidth()+a,i+=Math.max(t,this._getMarkerHeight()))),this.measuredWidth=e,this.measuredHeight=i},Xt.prototype.updateDisplayList=function(t,e){var i,a,r,n,o;i=this.getStyle("verticalGap"),n=this.getStyle("horizontalGap");var l=this.getStyle("paddingLeft"),d=this.getStyle("paddingRight");o=this.getStyle("paddingTop"),a=this._getMarkerWidth();var c=this._getMarkerHeight(),u=a,p=c,f=this.getStyle("labelPlacement");r=v.TEXT_WIDTH_PADDING;var g=v.TEXT_HEIGHT_PADDING;switch(r=this._nameLabel.getWidth()+r,g=this._nameLabel.getHeight()+g,Xt._super.updateDisplayList.call(this,t,e),this._labelChanged&&(this._labelChanged=!1),h(r)&&(r=0),h(g)&&(g=0),f){case"top":n=o,o=n+i+g,i=l+.5*(t-l-d),r=i-.5*r,i-=.5*u;break;case"bottom":n=o+i+p,i=l+.5*(t-l-d),r=i-.5*r,i-=.5*u;break;case"left":i=t-u-d,r=i-n-r,n=o,g<p?n+=.5*(p-g):o+=.5*(g-p);break;default:i=l,r=i+n+u,o=n=o,p<g?o+=.5*(g-p):n+=.5*(p-g)}this._nameLabel.move(r,n),h(this._markerAspectRatio)||(u/p>this._markerAspectRatio?u=this._markerAspectRatio*p:p=u/this._markerAspectRatio),new zi(.5*(a-u),.5*(c-p),u,p),this._marker||((r=this.getStyle("legendMarkerRenderer"))?this.setMarker(r.newInstance()):this.setMarker(new Se)),this._marker.move(i+.5*(a-u),o+.5*(c-p)),this._marker.setActualSize(u,p),this._marker instanceof x&&(a=this._marker.renderer,this.legendData&&(a.pattern=this.legendData.pattern),this.declineFill&&(a.declineFill=this.declineFill),this.patternOpp&&(a.patternOpp=this.patternOpp),this._marker.graphics.clearRect(0,0,u,p),s(this.fill)&&(this.fill=new T(this.fill)),s(this.stroke)&&(this.stroke=new w(this.stroke)),a.owner=this.target,a.fill=this.selected?this.fill:this.disableItemFill,a.stroke=this.selected?qi.clone(this.stroke,!0):new w(this.disableItemFill.color),this.target instanceof Ze&&(a.lineStroke=this.selected?qi.clone(this.target.getStyle("lineStroke"),!0):new w(this.disableItemFill.color)),this.target instanceof ei&&(a.areaStroke=this.selected?qi.clone(this.target.getStyle("areaStroke"),!0):new w(this.disableItemFill.color),a.areaFill=this.selected?this.target.getStyle("areaFill"):this.disableItemFill),a.draw(0,0,u,p,this._marker.graphics)),this._markerWidth=u,this._markerHeight=p},Xt.prototype._getMarkerWidth=function(){var t,e=this.getParent();return e&&h(t=e.getStyle("markerWidth"))&&(t=this.getStyle("markerWidth")),h(t)&&(t=Xt._defaultStyles.markerWidth),t},Xt.prototype._getMarkerHeight=function(){var t,e=this.getParent();return e&&h(t=e.getStyle("markerHeight"))&&(t=this.getStyle("markerHeight")),h(t)&&(t=Xt._defaultStyles.markerHeight),t},ki(Jt,Xt),ki(jt,st),jt.prototype.getAngularAxis=function(){return this._angularAxis},jt.prototype.setAngularAxis=function(t){this._transforms[0].setAxis("a",t),this._angularAxis=t,this._axisDirty=!0,this.invalidateData(),this.invalidateProperties()},jt.prototype.getRadialAxis=function(){return this._transforms[0].getAxis("r")},jt.prototype.setRadialAxis=function(t){this._transforms[0].setAxis("r",t),this._axisDirty=!0,this.invalidateData(),this.invalidateProperties()},jt.prototype.setDataProvider=function(t){var e,i;if(jt._super.setDataProvider.call(this,t),-1<this.className.indexOf("Pie"))for(i=this._userSeries,t=0,e=i.length;t<e;t+=1)i[t].legendCheckWedge=[]},jt.prototype.commitProperties=function(){var t,e;if(jt._super.commitProperties.call(this),this._axisDirty){for(t=0;t<this._userSeries.length;t+=1)this._userSeries[t].invalidateProperties();for(t=0;t<this._annotationElements.length;t+=1)(e=this._annotationElements[t])&&e.invalidateProperties();for(t=0;t<this._backgroundElements.length;t+=1)(e=this._backgroundElements[t])&&e.invalidateProperties();this._axisDirty=!1}},jt.prototype.commitPatternProperties=function(){},jt.prototype.updateDisplayList=function(t,e){var i,s,a,r=this,n=t,o=e,h=parseInt(r.getStyle("paddingLeft"));i=parseInt(r.getStyle("paddingRight"));var l=parseInt(r.getStyle("paddingTop"));for(s=parseInt(r.getStyle("paddingBottom")),jt._super.updateDisplayList.call(r,t,e),1>r.radius&&(r.radius=1),n=n-h-i,o=o-l-s,a=r._backgroundElements.length||0,s=0;s<a;s++)(i=r._backgroundElements[s])&&(i.getChart=function(){return r},i.move(h,l),i.setActualSize(n,o));for(a=r._userSeries.length||0,s=0;s<a;s++)if(i=r._userSeries[s]){if(i.owner){i.owner.move(h,l),i.owner.setActualSize(n,o);break}i.getChart=function(){return r},i.move(h,l),i.setActualSize(n,o),i.perWedgeId=s,i.labelLayer&&(i.labelLayer.move(h,l),i.labelLayer.setActualSize(n,o),i.labelLayer.chart=r)}for(a=r._annotationElements.length||0,s=0;s<a;s+=1)(i=r._annotationElements[s])&&(i.getChart=function(){return r},i.move(h,l),i.setActualSize(n,o));r._transformBounds=new b(h,l,n,o),r._axisLayoutDirty=!1,r.advanceEffectState()},jt.prototype.invalidateDisplay=function(t){var e=t.labelLayer;e&&t.getIncludeInLayout()&&(e.clear(),o(t.renderingLabel)&&t.renderingLabel())},jt.prototype.updateChildOrder=function(){var t,e,i,s=0;for(t=0,e=this._backgroundElements.length;t<e;t+=1)i=this._backgroundElements[t],this.setChildIndex(i,s++);for(s=this.updateSeriesOrder(s),t=0,e=this._annotationElements.length;t<e;t+=1)i=this._annotationElements[t],this.setChildIndex(i,s++)},jt.prototype.updateSeriesOrder=function(t){var e,i;for(e=0,i=this._userSeries.length;e<i;e+=1)this.setChildIndex(this._userSeries[e],t++);return t},jt.prototype.calcAngle=function(t,e){var i=2*Math.PI,s=Math.atan(-e/t);return 0>t?s+Math.PI:0>e?s:s+i},jt.prototype.getDataRegion=function(){return this._transformBounds},jt.prototype._keyDownHandler=function(t,e){var i=null,s=!1;if(this._selectionMode!=ia){switch(t.keyCode){case 38:i=this.getNextItem("vertical"),s=!0;break;case 40:i=this.getPreviousItem("vertical"),s=!0;break;case 37:i=this.getPreviousItem("horizontal"),s=!0;break;case 39:i=this.getNextItem("horizontal"),s=!0;break;case 35:case 34:i=this.getLastItem("horizontal"),s=!0;break;case 36:case 33:i=this.getFirstItem("horizontal"),s=!0;break;case 32:this._handleSpace(t),t.stopPropagation(),s=!0}i&&(e?t.stopPropagation():t.stopImmediatePropagation(),this._handleNavigation(i,t)),s&&t.preventDefault()}},jt.prototype.getLastItem=function(t){return t=null,this._caretItem?(t=this._caretItem.element.getItems(),t=t[t.length-1]):t=this._getPreviousSeriesItem(this.getSeries()),t},jt.prototype.getFirstItem=function(t){return this._caretItem?this._caretItem.element.getItems()[0]:this._getNextSeriesItem(this.getSeries())},jt.prototype.getNextItem=function(t){return"horizontal"==t?this._getNextSeriesItem(this.getSeries()):"vertical"==t?this._getNextSeries(this.getSeries()):null},jt.prototype.getPreviousItem=function(t){return"horizontal"==t?this._getPreviousSeriesItem(this.getSeries()):"vertical"==t?this._getPreviousSeries(this.getSeries()):null},ki(Qt,st),Qt.prototype.commitProperties=function(){var t,e,i;for(st.prototype.commitProperties.call(this),i=this._backgroundElements.length||0,e=0;e<i;e++)(t=this._backgroundElements[e])&&t.invalidateProperties();for(i=this._userSeries.length||0,e=0;e<i;e++)this._userSeries[e].invalidateProperties();i=this.angularAxisRenderers.length||0,0==i&&(this.angularAxisRenderers=[new Et],this.angularAxisRenderers[0].setAxis(this._angularAxis),this.angularAxisRenderers[0].chart=this)},Qt.prototype.commitPatternProperties=function(){st.prototype.commitPatternProperties.call(this)},Qt.prototype.axisChangeHandler=function(t){this&&(this.invalidateProperties(),this.invalidateDisplayList())},Qt.prototype.updateDisplayList=function(t,e){st.prototype.updateDisplayList.call(this,t,e);var i,s,a;a=this.depth;var r=this.elevation,n=parseInt(this.getStyle("paddingLeft"));i=parseInt(this.getStyle("paddingRight"));var o=parseInt(this.getStyle("paddingTop"));s=parseInt(this.getStyle("paddingBottom"));var h=this._dataTipOverlay,l=this._transformBounds=new b(n,o,t-n-i,e-o-s);for(s=this._transforms.length||0,i=0;i<s;i++)this._transforms[i].setSize(l.width,l.height,r,a,l.width,l.height);for(s=this._backgroundElements.length||0,i=0;i<s;i+=1)a=this._backgroundElements[i],a.chart=this,a.move(n,o),a instanceof pe?(a.setActualSize(0,0),a.setSize(l.width,l.height)):a.setActualSize(l.width,l.height);for(s=this._userSeries.length||0,i=0;i<s;i++)a=this._userSeries[i],a.chart=this,a.perWedgeId=i,a.depth=a.depth||this.depth,a.elevation=a.elevation||this.elevation,a.move(this.getX(),this.getY()),a.setActualSize(t,e),a.getDataTransform().setSize(t,e,a.elevation,a.depth,l.width*(i+1)/s,l.height*(i+1)/s),a.labelLayer&&(a.labelLayer.move(this.getX(),this.getY()),a.labelLayer.setActualSize(t,e),a.labelLayer.chart=this),i<s-1&&(a.innerStack=!0),0<i&&(a.innerRadius=this._userSeries[i-1].getDataTransform().radius/a.getDataTransform().radius+a.innerStackRatio);for(h&&(h.owner=this,h.chart=this,h.move(this.getX(),this.getY()),h.setActualSize(this.getWidth(),this.getHeight())),s=this._annotationElements.length||0,i=0;i<s;i+=1)a=this._annotationElements[i],a.chart=this,a.move(n,o),a instanceof pe?(a.setActualSize(0,0),a.setSize(l.width,l.height)):a.setActualSize(l.width,l.height);this._axisLayoutDirty=!1,this.advanceEffectState()},Qt.prototype.invalidateDisplay=function(t){jt.prototype.invalidateDisplay.call(this,t)},Qt.prototype.updateChildOrder=function(){jt.prototype.updateChildOrder.call(this)},Qt.prototype.updateSeriesOrder=function(t){var e;for(e=this._userSeries.length-1;0<=e;--e)this.setChildIndex(this._userSeries[e],t++);return t},Qt.prototype.calcAngle=function(t,e){var i=2*Math.PI,s=Math.atan(-e/t);return 0>t?s+Math.PI:0>e?s:s+i},Qt.prototype.getDataRegion=function(){return this._transformBounds},ki(Kt,jt),Kt.prototype.commitProperties=function(){jt.prototype.commitProperties.call(this)},Kt.prototype.updateDisplayList=function(t,e){var i,s,a=this._userSeries.length||0;for(i=parseInt(this.getStyle("paddingLeft")),s=parseInt(this.getStyle("paddingTop")),this.rc=new b(i,s,t-i-parseInt(this.getStyle("paddingRight")),e-s-parseInt(this.getStyle("paddingBottom"))),this.radius=Math.min(.5*this.rc.width,.5*this.rc.height),this.origin=new Oi(.5*this.rc.width,.5*this.rc.height),i=0;i<a;i++)s=this.radius*(i+1)/a,this._userSeries[i].getDataTransform().setRadius(s,this.origin),0<i&&(this._userSeries[i].innerRadius=this._userSeries[i-1]._dataTransform.radius/this._userSeries[i]._dataTransform.radius+this._userSeries[i].innerStackRatio);this.itemClickJsFunction&&(this._pieItemClickJsFunction=this.itemClickJsFunction,this.itemClickJsFunction=null),jt.prototype.updateDisplayList.call(this,t,e)},function(t){Kt.prototype["_mouse"+t+"Handler"]=function(t){var e,i,s,a,r,n=this;if(r=Ks(n.element),a=n.getParent().element,e=Js(a,"borderWidth"),Us("DataTip$",t.target.className))return t.preventDefault(),t.stopPropagation(),!1;if(a=t.pageX,s=t.pageY,Fs){if(s=t.touches[0],a=s.pageX,s=s.pageY,!n._mouseIsOut)return;n._mouseIsOut=!1}if(a-=r.x,s-=r.y,(r=n.findDataPoints(a-e,s-e))&&0<r.length){if(n.explodable){for(e=0;e<n._userSeries.length;e++)if(!n._userSeries[e].explodable)return;if(e=r[0].chartItem,i=n._userSeries[e.element.perWedgeId],n.explodingAlone)for(e=0;e<i.perWedgeExplodeRadius.length;++e)e!=r[0].id&&(i.perWedgeExplodeRadius[e]="0");for(i.perWedgeExplodeRadius[r[0].id]=i.perWedgeExplodeRadius[r[0].id]&&"0"!=i.perWedgeExplodeRadius[r[0].id]?"0":"0.1",i=n._userSeries.length||0,e=0;e<i;e++)n._userSeries[e]._bTransformDirty=!0;n.invalidateDisplayList(),"single"!=n._selectionMode&&"multiple"!=n._selectionMode||n.callLater(function(t,e,i,s){n.clearSelection(t),n.processRollEvents(e,i,s)},[!0,r,a,s])}else n.processRollEvents(r,a,s);n._pieItemClickJsFunction&&Ms.chartFunc.call(n,r[0],n._pieItemClickJsFunction)}return Fs&&!n.touchMoveEnable&&(t.preventDefault(),t.stopPropagation()),!1}}($i.supportTouch?"Down":"Click"),ki(qt,Qt),qt.prototype.commitProperties=function(){Qt.prototype.commitProperties.call(this)},qt.prototype.updateDisplayList=function(t,e){this.itemClickJsFunction&&(this._pieItemClickJsFunction=this.itemClickJsFunction,this.itemClickJsFunction=null),Qt.prototype.updateDisplayList.call(this,t,e)},function(t){qt.prototype["_mouse"+t+"Handler"]=function(t){var e,i,s,a,r,n=this;r=Ks(n.element);var o=n._userSeries;if(a=n.getParent().element,e=Js(a,"borderWidth"),a=t.pageX,s=t.pageY,Fs){if(s=t.touches[0],a=s.pageX,s=s.pageY,!n._mouseIsOut)return;n._mouseIsOut=!1}if(a-=r.x,s-=r.y,(r=n.findDataPoints(a-e,s-e))&&0<r.length){if(n.explodable){for(e=0;e<o.length;e++)if(!o[e].explodable)return;if(e=r[0].chartItem,o=o[e.element.perWedgeId],n.explodingAlone)for(e=0;e<o.perWedgeExplodeRadius.length;++e)e!=r[0].id&&(o.perWedgeExplodeRadius[e]="0");for(o.perWedgeExplodeRadius[r[0].id]=o.perWedgeExplodeRadius[r[0].id]&&"0"!=o.perWedgeExplodeRadius[r[0].id]?"0":"0.1",i=o.length||0,e=0;e<i;e++)o[e]._bTransformDirty=!0;n.invalidateDisplayList(),"single"!=n._selectionMode&&"multiple"!=n._selectionMode||n.callLater(function(t,e,i,s){n.clearSelection(t),n.processRollEvents(e,i,s)},[!0,r,a,s])}else n.processRollEvents(r,a,s);n._pieItemClickJsFunction&&Ms.chartFunc.call(n,r[0],n._pieItemClickJsFunction)}return Fs&&!n.touchMoveEnable&&(t.preventDefault(),t.stopPropagation()),!1}}($i.supportTouch?"Down":"Click"),qt.prototype._keyDownHandler=function(t){Kt.prototype._keyDownHandler.call(this,t)},qt.prototype.getLastItem=function(t){return Kt.prototype.getLastItem.call(this,t)},qt.prototype.getFirstItem=function(t){return Kt.prototype.getFirstItem.call(this,t)},qt.prototype.getNextItem=function(t){return Kt.prototype.getNextItem.call(this,t)},qt.prototype.getPreviousItem=function(t){return Kt.prototype.getPreviousItem.call(this,t)},Zt._defaultStyles={paddingTop:10,paddingBottom:10},ki(Zt,Kt),Zt.prototype.updateDisplayList=function(t,e){var i,s,a=this._userSeries.length||0;i=parseInt(this.getStyle("paddingLeft")),s=parseInt(this.getStyle("paddingTop"));var r=parseInt(this.getStyle("paddingBottom"));for(this.rc=new b(i,s,.5*(t-i-parseInt(this.getStyle("paddingRight"))),e-s-r),this.radius=Math.min(this.rc.width,this.rc.height),this.origin=new Oi(this.rc.width,this.rc.height),i=0;i<a;i++)s=this.radius*(i+1)/a,this._userSeries[i].getDataTransform().setRadius(s,this.origin),0<i&&(this._userSeries[i].innerRadius=this._userSeries[i-1]._dataTransform.radius/this._userSeries[i]._dataTransform.radius+this._userSeries[i].innerStackRatio);this.itemClickJsFunction&&(this._pieItemClickJsFunction=this.itemClickJsFunction,this.itemClickJsFunction=null),jt.prototype.updateDisplayList.call(this,t,e)},ki($t,lt),$t.prototype.defaultSkins=[Ae,Ce,He],$t.prototype.commitProperties=function(){for(var t,e=0,i=this._userSeries;e<i.length;++e)t=i[e],t.defaultRenderer=new Bi(this.defaultSkins[e%this.defaultSkins.length]);lt.prototype.commitProperties.call(this)},ki(te,Yt),ki(ee,U),ee.prototype._initInstance=function(t){ee._super._initInstance.call(this,t),t.offset=this.offset,t.elementOffset=this.elementOffset,t.minimumElementDuration=this.minimumElementDuration,t.defaultEasingFunction=this.easingFunction,t.type=this.type},ki(ie,ee),ki(se,ee),se.prototype._initInstance=function(t){se._super._initInstance.call(this,t),t.direction=this.direction},ki(ae,ee),ae.prototype._initInstance=function(t){ae._super._initInstance.call(this,t),t.direction=this.direction},ki(re,ee),re.prototype._initInstance=function(t){re._super._initInstance.call(this,t),t.horizontalFocus=this.horizontalFocus,t.verticalFocus=this.verticalFocus,t.relativeTo=this.relativeTo},ki(ne,J),ne.LinearEase=function(t,e,i,s){return e+i*t/s},ne.sinEase=function(t,e,i,s){return e+i*(1-Math.cos(Math.PI*t/s))*.5},ne.EaseOutElastic=function(t,e,i,s,a,r){if(!t)return e;if(1==(t/=s))return e+i;var n;return r=r&&"number"==typeof r?r:.3*s,a=a&&"number"==typeof a?a:0,!a||a<Math.abs(i)?(a=i,n=r/4):n=r/(2*Math.PI)*Math.asin(i/a),a*Math.pow(2,-10*t)*Math.sin(2*(t*s-n)*Math.PI/r)+i+e},ne.EaseOutBounce=function(t,e,i,s){return(t/=s)<1/2.75?7.5625*i*t*t+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},ne.prototype.onTweenUpdate=function(t){var e,i=Number(t),s=this._elementCount;if(this._forward)for(e=0;e<s;e++)1!=this._playHeads[e]&&(t=(i-this.offset-e*this.elementOffset)/this._elementDuration,this._interpolationValues[e]=1<t?1:0<=t?this._easingFunctionHolder(t,0,1,1):0,this._playHeads[e]=t);else for(e=0;e<s;e++)1!=this._playHeads[e]&&(t=(i-this.offset-(s-1-e)*this.elementOffset)/this._elementDuration,this._interpolationValues[e]=1<t?1:0<=t?this._easingFunctionHolder(t,0,1,1):0,this._playHeads[e]=t)},ne.prototype.beginTween=function(t){this._easingFunctionHolder=this._findEasingEquation(this.getTarget(),this.easingFunction),this._elementCount=t,0>this.elementOffset&&(this._forward=!1,this.elementOffset*=-1),0<t&&(isNaN(this._duration)||(this._elementDuration=this._duration-Math.abs(this.elementOffset)*(t-1)),(h(this._duration)||this._elementDuration<this.minimumElementDuration)&&(this._elementDuration=this.minimumElementDuration,this.setDuration(Math.abs(this.elementOffset)*(this._elementCount-1)+this._elementDuration)),this.setDuration(this._duration+this.offset)),this.elementOffset/=this._duration,this._elementDuration/=this._duration,this.offset/=this._duration,this._interpolationValues=[],this._playHeads=[],this.tween=new W(this,0,1,this._duration),this.tween.easingFunction=ee.sinEase},ne.prototype._findEasingEquation=function(t,e){var i;if(null==e)return ne[this.defaultEasingFunction];if(o(e))return e;for(;null!=t;){if(i=t[e],null!=i&&o(i))return i;t=t.getParent()}return ne[this.defaultEasingFunction]},ki(oe,ne),oe.prototype.play=function(){"hide"==this._type?this.end():(this._sourceRenderData=this.targetSeries.getRenderDataForTransition("hide"),this._destRenderData=this.targetSeries.getRenderDataForTransition("show"),this._len=Math.max(this._sourceRenderData.getLength(),this._destRenderData.getLength()),this._sourceRenderData&&this._destRenderData&&(this._customIData=this.targetSeries.beginInterpolation(this._sourceRenderData,this._destRenderData)),this.beginTween(this._len))},oe.prototype.onTweenUpdate=function(t){oe._super.onTweenUpdate.call(this,t),this._sourceRenderData&&this._destRenderData&&(this.targetSeries.interpolate(this._interpolationValues,this._customIData),this.targetSeries.updateSeriesItem())},oe.prototype.onTweenEnd=function(t){oe._super.onTweenEnd.call(this,t),this._sourceRenderData&&this._destRenderData&&this.targetSeries.endInterpolation(this._customIData)},ki(he,ne),he.prototype.play=function(){var t;t=this.type;var e,i,s,a=!1,r=this.targetSeries,n=r._unscaledWidth,o=r._unscaledHeight;if(e=this._seriesRenderData=r.getRenderDataForTransition(t),"show"==t)switch(this.direction){case"right":i=n,a=!0;break;case"left":i=-n,a=!0;break;case"down":i=o;break;case"up":i=-o}else switch(this.direction){case"right":i=n,a=!0;break;case"left":i=-n,a=!0;break;case"up":i=-o;break;case"down":i=o}if(this._slideDistance=i,this._horizontal=a,"show"==t)s=this._horizontal?new b((-i),0,r._unscaledWidth,r._unscaledHeight):new b(0,(-i),r._unscaledWidth,r._unscaledHeight);else for(t=0;void 0>t;t++)s[t]=(void 0)[t].clone();e.clipBounds=s,r.transitionRenderData=e,this._startingBounds=void 0,this.beginTween(1)},he.prototype.onTweenUpdate=function(t){he._super.onTweenUpdate.call(this,t);var e,i,s;e=this.direction,t=this._seriesRenderData.clipBounds;var a=this._slideDistance,r=this.targetSeries,n=this._interpolationValues[0];if(i=r._unscaledWidth,r=r._unscaledHeight,"show"==this.type)this._horizontal?s="right"==this.direction?new b(0,0,i-(1-n)*a,r):new b(i+n*a,0,i,r):"down"==e?(n=1-n,s=new b(0,0,i,r-n*a)):s=new b(0,r+n*a,i,r);else if(this._horizontal)for(e=0;void 0>e;e++)n=this._interpolationValues[e],i=this._startingBounds[e],s=t[e],s.setLeft(i.left+n*a),s.setRight(i.right+n*a),s.setTop(i.top),s.setBottom(i.bottom);else for(e=0;void 0>e;e++)n=this._interpolationValues[e],i=this._startingBounds[e],s=t[e],s.setTop(i.top+n*a),s.setBottom(i.bottom+n*a),s.setLeft(i.left),s.setRight(i.right);this._seriesRenderData.clipBounds=s,this.targetSeries.updateSeriesItem()},he.prototype.onTweenEnd=function(t){he._super.onTweenEnd.call(this,t),this.targetSeries.transitionRenderData=null,this.targetSeries._renderData.clipBounds=null,this.targetSeries.updateSeriesItem()},ki(le,ne),le.prototype.play=function(){var t,e,i;t=this.type;var s,a,r=this.targetSeries,n=[];if(s=this._seriesRenderData=r.getRenderDataForTransition(t),r.getElementBounds(s),(e=s.visibleRegion)||(e=new b(0,0,r._unscaledWidth,r._unscaledHeight,(!0))),s.bounds)if("show"==t)switch(this.direction){case"right":this._slideDistance=s.bounds.right,this._horizontal=!0;break;case"left":this._slideDistance=-(e.right-s.bounds.left),
this._horizontal=!0;break;case"down":this._slideDistance=s.bounds.bottom,this._horizontal=!1;break;case"up":this._slideDistance=-(e.bottom-s.bounds.top),this._horizontal=!1}else switch(this.direction){case"left":this._slideDistance=-s.bounds.right,this._horizontal=!0;break;case"right":this._slideDistance=e.right-s.bounds.left,this._horizontal=!0;break;case"up":this._slideDistance=-s.bounds.bottom,this._horizontal=!1;break;case"down":this._slideDistance=e.bottom-s.bounds.top,this._horizontal=!1}if(a=s.elementBounds,e=a.length,"show"==t)if(this._horizontal)for(t=0;t<e;t++)(i=a[t])&&(n[t]=new b(i.left-this._slideDistance,i.top,i.width,i.height,(!0)));else for(t=0;t<e;t++)(i=a[t])&&(n[t]=new b(i.left,i.top-this._slideDistance,i.width,i.height,(!0)));else for(t=0;t<e;t++)n[t]=a[t].clone();s.elementBounds=n,r._transitionRenderData=s,this._startingBounds=a,this.beginTween(e)},le.prototype.onTweenUpdate=function(t){le._super.onTweenUpdate.call(this,t);var e,i,s,a=this._startingBounds,r=this._seriesRenderData.elementBounds,n=a.length,o=this._slideDistance,h=this._interpolationValues;if("show"==this.type)if(this._horizontal)for(t=0;t<n;t++)s=1-h[t],e=a[t],i=r[t],e&&i&&(i.setLeft(e.left-s*o),i.setRight(e.right-s*o),i.setTop(e.top),i.setBottom(e.bottom));else for(t=0;t<n;t++)s=1-h[t],e=a[t],i=r[t],e&&i&&(i.setTop(e.top-s*o),i.setBottom(e.bottom-s*o),i.setLeft(e.left),i.setRight(e.right));else if(this._horizontal)for(t=0;t<n;t++)s=h[t],e=a[t],i=r[t],e&&i&&(i.setLeft(e.left+s*o),i.setRight(e.right+s*o),i.setTop(e.top),i.setBottom(e.bottom));else for(t=0;t<n;t++)s=h[t],e=a[t],i=r[t],e&&i&&(i.setTop(e.top+s*o),i.setBottom(e.bottom+s*o),i.setLeft(e.left),i.setRight(e.right));this.targetSeries.updateSeriesItem()},le.prototype.onTweenEnd=function(t){le._super.onTweenEnd.call(this,t),this.targetSeries._transitionRenderData=null,this.targetSeries._renderData.elementBounds=null},ki(de,ne),de.prototype.play=function(){var t,e,i,s;t=this.type;var a,r,n=[],o=[],h=this.targetSeries;if(r=this._seriesRenderData=h.getRenderDataForTransition(t),h.getElementBounds(r),a=this._elementBounds=r.elementBounds,e=a.length,"series"==this.relativeTo?this._loadSeriesRelativePoints(o,a):this._loadChartRelativePoints(o,a,r.visibleRegion),"show"==t)switch(this._direction){case 0:for(t=0;t<e;t++)s=o[t],n[t]=new b(s.x,s.y,0,0,(!0));break;case 1:for(t=0;t<e;t++)s=o[t],i=a[t],n[t]=new b(s.x,i.top,0,i.height,(!0));break;case 2:for(t=0;t<e;t++)s=o[t],i=a[t],n[t]=new b(i.left,s.y,i.width,0,(!0))}else for(t=0;t<e;t++)n[t]=a[t].clone();r.elementBounds=n,h._transitionRenderData=r,this._zoomPoints=o,this.beginTween(e)},de.prototype.onTweenUpdate=function(t){de._super.onTweenUpdate.call(this,t);var e,i,s=0;e=this.type;var a,r,n=1,o=this._elementBounds,h=this._seriesRenderData.elementBounds,l=this._zoomPoints,d=this._interpolationValues;switch(t=o.length,"hide"==e&&(s=1,n=-1),this._direction){case 0:for(e=0;e<t;e++)r=s+n*d[e],i=o[e],a=l[e],h[e]=new b(a.x+(i.left-a.x)*r,a.y+(i.top-a.y)*r,i.width*r,i.height*r,(!0));break;case 1:for(e=0;e<t;e++)r=s+n*d[e],i=o[e],a=l[e],h[e]=new b(a.x+(i.left-a.x)*r,i.top,i.width*r,i.height,(!0));break;case 2:for(e=0;e<t;e++)r=s+n*d[e],i=o[e],a=l[e],h[e]=new b(i.left,a.y+(i.top-a.y)*r,i.width,i.height*r,(!0))}this.targetSeries.updateSeriesItem()},de.prototype.onTweenEnd=function(t){de._super.onTweenEnd.call(this,t),this.targetSeries._transitionRenderData=null,this.targetSeries._renderData.elementBounds=null},de.prototype._loadChartRelativePoints=function(t,e,i){var s;e=e.length;var a=this.targetSeries;switch(i||(i=new b(0,0,a._unscaledWidth,a._unscaledHeight,(!0))),this.horizontalFocus){case"left":switch(this.verticalFocus){case"top":for(a=0,i=new Oi(i.left,i.top),s=0;s<e;s++)t[s]=i;break;case"middle":case"center":for(a=0,i=new Oi(i.left,i.top+i.height/2),s=0;s<e;s++)t[s]=i;break;case"bottom":for(a=0,i=new Oi(i.left,i.bottom),s=0;s<e;s++)t[s]=i;break;default:for(a=1,i=new Oi(i.left,NaN),s=0;s<e;s++)t[s]=i}break;case"right":switch(this.verticalFocus){case"top":for(a=0,i=new Oi(i.right,i.top),s=0;s<e;s++)t[s]=i;break;case"middle":case"center":for(a=0,i=new Oi(i.right,i.top+i.height/2),s=0;s<e;s++)t[s]=i;break;case"bottom":for(a=0,i=new Oi(i.right,i.bottom),s=0;s<e;s++)t[s]=i;break;default:for(a=1,i=new Oi(i.right,NaN),s=0;s<e;s++)t[s]=i}break;case"center":switch(this.verticalFocus){case"top":for(a=0,i=new Oi(i.left+i.width/2,i.top),s=0;s<e;s++)t[s]=i;break;case"middle":case"center":for(a=0,i=new Oi(i.left+i.width/2,i.top+i.height/2),s=0;s<e;s++)t[s]=i;break;case"bottom":for(a=0,i=new Oi(i.left+i.width/2,i.bottom),s=0;s<e;s++)t[s]=i;break;default:for(a=1,i=new Oi(i.left+i.width/2,NaN),s=0;s<e;s++)t[s]=i}break;default:switch(this.verticalFocus){case"top":for(a=2,i=new Oi(NaN,i.top),s=0;s<e;s++)t[s]=i;break;case"middle":case"center":for(a=2,i=new Oi(NaN,i.top+i.height/2),s=0;s<e;s++)t[s]=i;break;case"bottom":for(a=2,i=new Oi(NaN,i.bottom),s=0;s<e;s++)t[s]=i;break;default:for(a=0,i=new Oi(i.left+i.width/2,i.top+i.height/2),s=0;s<e;s++)t[s]=i}}this._direction=a},de.prototype._loadSeriesRelativePoints=function(t,e){var i,s,a,r=e.length;switch(this.horizontalFocus){case"left":switch(this.verticalFocus){case"top":for(i=a=0;i<r;i++)s=e[i],t[i]=new Oi(s.left,s.top);break;case"middle":case"center":for(i=a=0;i<r;i++)s=e[i],t[i]=new Oi(s.left,(s.top+s.bottom)/2);break;case"bottom":for(i=a=0;i<r;i++)s=e[i],t[i]=new Oi(s.left,s.bottom);break;default:for(a=1,i=0;i<r;i++)s=e[i],t[i]=new Oi(s.left,NaN)}break;case"right":switch(this.verticalFocus){case"top":for(i=a=0;i<r;i++)s=e[i],t[i]=new Oi(s.right,s.top);break;case"middle":case"center":for(i=a=0;i<r;i++)s=e[i],t[i]=new Oi(s.right,(s.top+s.bottom)/2);break;case"bottom":for(i=a=0;i<r;i++)s=e[i],t[i]=new Oi(s.right,s.bottom);break;default:for(a=1,i=0;i<r;i++)s=e[i],t[i]=new Oi(s.right,NaN)}break;case"center":switch(this.verticalFocus){case"top":for(i=a=0;i<r;i++)s=e[i],t[i]=new Oi((s.left+s.right)/2,s.top);break;case"middle":case"center":for(i=a=0;i<r;i++)s=e[i],t[i]=new Oi((s.left+s.right)/2,(s.top+s.bottom)/2);break;case"bottom":for(i=a=0;i<r;i++)s=e[i],t[i]=new Oi((s.left+s.right)/2,s.bottom);break;default:for(a=1,i=0;i<r;i++)s=e[i],t[i]=new Oi((s.right+s.left)/2,NaN)}break;default:switch(this.verticalFocus){case"top":for(a=2,i=0;i<r;i++)s=e[i],t[i]=new Oi(NaN,s.top);break;case"middle":case"center":for(a=2,i=0;i<r;i++)s=e[i],t[i]=new Oi(NaN,(s.top+s.bottom)/2);break;case"bottom":for(a=2,i=0;i<r;i++)s=e[i],t[i]=new Oi(NaN,s.bottom);break;default:for(i=a=0;i<r;i++)s=e[i],t[i]=new Oi((s.left+s.right)/2,(s.top+s.bottom)/2)}}this._direction=a},ce._propertyType={lines:Array,ranges:Array},ki(ce,ct),ce.prototype.getLines=function(){return this._lines},ce.prototype.setLines=function(t){this._lines!=t&&(this._linesChanged=!0,this._lines=t)},ce.prototype.getRanges=function(){return this._ranges},ce.prototype.setRanges=function(t){this._ranges!=t&&(this._rangesChanged=!0,this._ranges=t)},ce.prototype.describeData=function(){return[]},ce.prototype.findDataPoints=function(){return[]},ce.prototype.findTickPosition=function(t,e,i,s,a,r){var n=0;if(!e)return n;if(s-=this.depRatio,"left"==i){for(i=e.length-1;0<=i;i--)if(n=e[i]*s,t>n){a||(n=(e[i]+1/e.length/2)*s);break}if(t<=n)return 0}else if("right"==i){for(i=0;i<e.length;i++)if(n=e[i]*s,t<n){a||(n=(e[i]-1/e.length/2)*s);break}if(t>=n)return s}else n=t;return n<s?n:s-r},ce.prototype.drawLine=function(t,e,i,s,a,r,n,o,l){var d,c,u,p,f,g={},m=[g],_=!0,y=this.graphics,v=this.getChart(),x=t.horizontal;if(x?(c=0,p=i,t.value||0==t.value?n instanceof At?(g.d1=t.value,_=n.ticksBetweenLabels,n.mapCache(m,"d1","v1"),this.transformCache(m,"v0","s0","v1","s1",a,n),u=f=(d=t.linePosition)&&"center"!=d?this.findTickPosition(g.s1,o,d,s,_):g.s1):(g.d1=n instanceof Lt?t.value instanceof Date?t.value:new Date(Date.parse(t.value)):t.value,n.mapCache(m,"d1","v1"),this.transformCache(m,"v0","s0","v1","s1",a,n),u=f=g.s1):(t.startValue&&t.endValue||0==t.startValue||0==t.endValue)&&(n instanceof At?(g.d1=t.startValue,_=n.ticksBetweenLabels,n.mapCache(m,"d1","v1"),this.transformCache(m,"v0","s0","v1","s1",a,n),u=(d=t.linePosition)&&"center"!=d?this.findTickPosition(g.s1,o,d,s,_):g.s1,g.d1=t.endValue,n.mapCache(m,"d1","v1"),this.transformCache(m,"v0","s0","v1","s1",a,n),f=d&&"center"!=d?this.findTickPosition(g.s1,o,d,s,_):g.s1):(g.d1=n instanceof Lt?t.startValue instanceof Date?t.startValue:new Date(Date.parse(t.startValue)):t.startValue,n.mapCache(m,"d1","v1"),this.transformCache(m,"v0","s0","v1","s1",a,n),u=g.s1,g.d1=n instanceof Lt?t.endValue instanceof Date?t.endValue:new Date(Date.parse(t.endValue)):t.endValue,n.mapCache(m,"d1","v1"),this.transformCache(m,"v0","s0","v1","s1",a,n),f=g.s1)),0!=this.depRatio&&(a=v.getRightMostRenderer(),null!=a&&(p-=a.axisStroke.weight+this.depRatio),u+=this.depRatio,f+=this.depRatio)):(u=s,f=0,t.value||0==t.value?a instanceof At?(g.d0=t.value,_=a.ticksBetweenLabels,a.mapCache(m,"d0","v0"),this.transformCache(m,"v0","s0","v1","s1",a,n),c=p=(d=t.linePosition)&&"center"!=d?this.findTickPosition(g.s0,r,d,i,_):g.s0):(g.d0=a instanceof Lt?t.value instanceof Date?t.value:new Date(Date.parse(t.value)):t.value,a.mapCache(m,"d0","v0"),this.transformCache(m,"v0","s0","v1","s1",a,n),c=p=g.s0):(t.startValue&&t.endValue||0==t.startValue||0==t.endValue)&&(a instanceof At?(g.d0=t.startValue,_=a.ticksBetweenLabels,a.mapCache(m,"d0","v0"),this.transformCache(m,"v0","s0","v1","s1",a,n),c=(d=t.linePosition)&&"center"!=d?this.findTickPosition(g.s0,r,d,i,_):g.s0,g.d0=t.endValue,a.mapCache(m,"d0","v0"),this.transformCache(m,"v0","s0","v1","s1",a,n),p=(d=t.linePosition)&&"center"!=d?this.findTickPosition(g.s0,r,d,i,_):g.s0):(g.d0=a instanceof Lt?t.startValue instanceof Date?t.startValue:new Date(Date.parse(t.startValue)):t.startValue,a.mapCache(m,"d0","v0"),this.transformCache(m,"v0","s0","v1","s1",a,n),c=g.s0,g.d0=a instanceof Lt?t.endValue instanceof Date?t.endValue:new Date(Date.parse(t.endValue)):t.endValue,a.mapCache(m,"d0","v0"),this.transformCache(m,"v0","s0","v1","s1",a,n),p=g.s0))),a=t.stroke,r=0,y.save(),ts.apply(y,a),y.beginPath(),!(h(c)||h(u)||h(p)||h(f))){if(0!=y.lineWidth%2&&(r=.5),c=Math.floor(c)+r,u=Math.floor(u)+r,p=Math.floor(p)+r,f=Math.floor(f)+r,"normal"==t.lineStyle?(y.moveTo(c,u),y.lineTo(p,f)):ts.drawLine(y,{x:c,y:u},{x:p,y:f},!0,t.dashLinePattern),y.stroke(),e){if(a=t.labelAlign,r=Math.PI/180*t.labelRotation,r=h(r)?0:r,this.setFont(e),this.measureText(e,"label"),n=e.width,o=e.height,x)if("left"==a?p=0==r?c+1:c+o-1:"right"==a?(p=0==r?i-n-4:i-4,u=f):(p=0==r?(i-n)/2:(i-o)/2,u=Math.min(u,f)+Math.abs(f-u)/2),"up"==t.labelUpDown&&(u-=0==r?o+3:n,0!=r&&--u),0!=r&&(p+=1,"down"==t.labelUpDown&&(u-=o/2)),0>u){if(!(0<u+o))return;u=1}else 0==r&&u>s-o?u=s-o-1:0!=r&&u>s-n&&(u=s-n+1);else if("left"==a?u=f:"right"==a?(u=0==r?s-o-2:s-n-1,p=c):(u=0==r?(s-o)/2-1:(s-n)/2,p=Math.min(c,p)+Math.abs(p-c)/2),p="up"==t.labelUpDown?p+(0==r?0-n-4:o-1):p+4,0!=r&&(p="down"==t.labelUpDown?c-.5*o+4:c+o+2,u+=2),0==r){if(0>p){if(!(0<p+n))return;p=1}else if(p>i-n){if(!(p-n<i))return;p=i-n}}else p<o?p=o:p>i&&(p=i-1);p+=t.labelXOffset,u+=t.labelYOffset,l?(l.setText(e.label),l.setStyle("color",e.color),l.setPxStyle("fontSize",e.fontSize),l.setStyle("fontFamily",e.fontFamily),l.setStyle("fontStyle",e.fontStyle),l.setStyle("fontWeight",e.fontWeight),t.labelSeriesIn||(x?"right"==a?l.move(this.x+this.width,this.y+u+.5*e.height):l.move(this.x-n-t.seriesOutLabelGap-2,this.y+u+.5*e.height):"left"==a?l.move(this.x+p+.5*n,this.y-e.height-t.seriesOutLabelGap):l.move(this.x+p+.5*n,this.y+this.height+t.seriesOutLabelGap))):(y.translate(p,u),y.rotate(r),this.fillText(e,0,0))}y.restore()}},ce.prototype.drawLines=function(t,e,i,s,a,r){var n,o,h,l,d;for(n=0;n<this._lines.length;n++)(o=this._lines[n])&&(l=a,d=i,null!=o.axis&&(o.horizontal?l=o.axis:d=o.axis),o.labelSeriesIn||(h=this["dLabel"+n])||(h=this["dLabel"+n]=new k,js(h,"Kool__AxisLineLabel"),this.getChart().addChild(h)),this.drawLine(o,this._lineLabels[n],t,e,d,s,l,r,h))},ce.prototype.drawRange=function(t,e,i,s,a,r,n,o){var l,d,c,u,p,f={},g=[f],m=this.graphics,_=this.getChart(),y=t.endRangePosition,v=t.startRangePosition,x=t.horizontal;x?(l=0,c=i,(t.startValue&&t.endValue||0==t.startValue||0==t.endValue)&&(n instanceof At?(f.d1=t.startValue,p=n.ticksBetweenLabels,n.mapCache(g,"d1","v1"),this.transformCache(g,"v0","s0","v1","s1",a,n),d=this.findTickPosition(f.s1,o,v,s,p,0),f.d1=t.endValue,n.mapCache(g,"d1","v1"),this.transformCache(g,"v0","s0","v1","s1",a,n),u=this.findTickPosition(f.s1,o,y,s,p,0)):(f.d1=n instanceof Lt?t.startValue instanceof Date?t.startValue:new Date(Date.parse(t.startValue)):t.startValue,n.mapCache(g,"d1","v1"),this.transformCache(g,"v0","s0","v1","s1",a,n),d=f.s1,f.d1=n instanceof Lt?t.endValue instanceof Date?t.endValue:new Date(Date.parse(t.endValue)):t.endValue,n.mapCache(g,"d1","v1"),this.transformCache(g,"v0","s0","v1","s1",a,n),u=f.s1),d+=1.5,u+=1.5,0!=this.depRatio&&(a=_.getRightMostRenderer(),null!=a&&(c-=a.axisStroke.weight+this.depRatio),d+=this.depRatio,u+=this.depRatio))):(d=s,u=0,(t.startValue&&t.endValue||0==t.startValue||0==t.endValue)&&(a instanceof At?(f.d0=t.startValue,p=a.ticksBetweenLabels,a.mapCache(g,"d0","v0"),this.transformCache(g,"v0","s0","v1","s1",a,n),l=v&&"center"!=v?this.findTickPosition(f.s0,r,v,i,p,0):f.s0,f.d0=t.endValue,a.mapCache(g,"d0","v0"),this.transformCache(g,"v0","s0","v1","s1",a,n),c=y&&"center"!=y?this.findTickPosition(f.s0,r,y,i,p,0):f.s0):(f.d0=a instanceof Lt?t.startValue instanceof Date?t.startValue:new Date(Date.parse(t.startValue)):t.startValue,a.mapCache(g,"d0","v0"),this.transformCache(g,"v0","s0","v1","s1",a,n),l=f.s0,f.d0=a instanceof Lt?t.endValue instanceof Date?t.endValue:new Date(Date.parse(t.endValue)):t.endValue,a.mapCache(g,"d0","v0"),this.transformCache(g,"v0","s0","v1","s1",a,n),c=f.s0),l+=.5,c+=.5)),h(l)||h(d)||h(c)||h(u)||(a=new b(Math.min(l,c),Math.min(d,u),Math.abs(l-c),Math.abs(d-u)),m.fillStyle=Qi.adjustBrightness(t.fill,0),m.save(),m.beginPath(),m.moveTo(a.left,a.top),m.lineTo(a.right,a.top),m.lineTo(a.right,a.bottom),m.lineTo(a.left,a.bottom),m.lineTo(a.left,a.top),m.fill(),e&&(o=t.labelVerticalAlign,p=t.labelHorizontalAlign,a=Math.PI/180*t.labelRotation,a=h(a)?0:a,this.setFont(),this.measureText(e,"label"),r=e.width,n=e.height,x?(l="left"==p?0==a?Math.min(l,c)+2:Math.min(l,c)+4:"right"==p?0==a?i-r-4:i-n-4:0==a?(i-r)/2:(i+n)/2,d="top"==o?0==a?Math.min(d,u):Math.min(d,u)+4:"bottom"==o?0==a?Math.max(d,u)-n-1:Math.max(d,u)-r-4:0==a?Math.max(d,u)-(Math.abs(d-u)+e.height)/2:Math.max(d,u)-(Math.abs(d-u)+r)/2):(d="top"==o?0==a?Math.min(d,u):Math.min(d,u)+4:"bottom"==o?0==a?s-n:s-r-4:0==a?(s-n)/2+1:(s-r)/2,l="left"==p?0==a?Math.min(l,c)+2:Math.min(l,c)+4:"right"==p?0==a?Math.max(l,c)-r-4:Math.max(l,c)-n-4:0==a?Math.max(l,c)-(Math.abs(l-c)+r)/2-1:Math.max(l,c)-Math.abs(l-c)/2-n/2),l+=t.labelXOffset,d+=t.labelYOffset,m.translate(l,d),m.rotate(a),this.fillText(e,0,0)),m.restore())},ce.prototype.drawRanges=function(t,e,i,s,a,r){var n,o,h,l;for(n=0;n<this._ranges.length;n++)(o=this._ranges[n])&&(h=a,l=i,null!=o.axis&&(o.horizontal?h=o.axis:l=o.axis),this.drawRange(o,this._rangeLabels[n],t,e,l,s,h,r))},ce.prototype.copyStyle=function(t,e){for(var i in e)t.hasOwnProperty(i)&&(t[i]=e[i])},ce.prototype.transformCache=function(t,e,i,s,a,r,n){var o=t.length,h=this.width-this.cubeDepth,l=this.height-this.depRatio;if(this._dataTransform.getAxis("h")instanceof Pt&&(h-=this._dataTransform.getAxis("v").axisStroke.weight),0!=o)if(e&&""!=e&&r.transformCache(t,e,i),s&&""!=s&&n.transformCache(t,s,a),s=o-1,i&&i.length&&a&&a.length){do e=t[s],e[i]*=h,e[a]=(1-e[a])*l,s--;while(0<=s)}else if(i&&i.length){do e=t[s],e[i]*=h,s--;while(0<=s)}else do e=t[s],e[a]=(1-e[a])*l,s--;while(0<=s)},ce.prototype.categoryFieldToLinear=function(t,e){var i,s,a=this.getChart().getDataProvider();if(a)for(i=0,s=a.getLength();i<s;i+=1)if(a.getItemAt(i)[e]==t)return i.toString();return""},ce.prototype.commitProperties=function(){var t,e,i;if(this._linesChanged&&(this._lineLabels=[],this._lines))for(t=0;t<this._lines.length;t++)(e=this._lines[t])&&e.label&&(i=new ue,this._lineLabels[t]=i,this.copyStyle(i,e));if(this._rangesChanged&&(this._rangeLabels=[],this._ranges))for(t=0;t<this._ranges.length;t++)(e=this._ranges[t])&&e.label&&(i=new ue,this._rangeLabels[t]=i,this.copyStyle(i,e))},ce.prototype.updateDisplayList=function(t,e){var i=this.getChart();if(i&&1!=i.chartState&&2!=i.chartState){var s,a,r=this._dataTransform,n=r.getAxis("h"),r=r.getAxis("v");i.horizontalAxisRenderer?s=i.horizontalAxisRenderer:(s=i.getBottomMostRenderer())||(s=i.getTopMostRenderer()),s=s.getTicks()?s.getTicks().concat():[],i.verticalAxisRenderer?a=i.verticalAxisRenderer:(a=i.getLeftMostRenderer())||(a=i.getRightMostRenderer()),a=a.getTicks()?a.getTicks().concat():[],this.cubeDepth=i.cubeDepth||0,this.cubeRatio=i.cubeAngleRatio||0,this.cubeOffset=i.cubeDepthOffset||0,this.depRatio=this.cubeDepth*this.cubeRatio,this.clear(),this._lines&&this.drawLines(t,e,n,s,r,a),this._ranges&&this.drawRanges(t,e,n,s,r,a)}},ce.prototype.mappingChanged=function(){this.invalidateDisplayList()},ki(pe,y),pe.prototype._defaultProperty="children",pe.prototype.setDataTransform=function(t){ct.prototype.setDataTransform.call(this,t)},pe.prototype.getDataTransform=function(){return ct.prototype.getDataTransform.call(this)},pe.prototype.setSize=function(t,e){this._elementWidth=t,this._elementHeight=e,this.invalidateDisplayList()},pe.prototype.getSize=function(){return{w:this._elementWidth,h:this._elementHeight}},pe.prototype.measure=function(){y.prototype.measure.call(this)},pe.prototype.commitProperties=function(){var t,e,i;for(y.prototype.commitProperties.call(this),t=0,e=this.getNumChildren();t<e;t+=1)i=this.getChildAt(t),(h(i.width)||h(i.height))&&i.invalidateSize(),i.invalidateProperties()},pe.prototype.updateDisplayList=function(t,e){if(this.getSize(),y.prototype.updateDisplayList.call(this,t,e),!(0>=t||0>=e)){var i,s,a,r,n,o,l,d=this.getNumChildren();for(i=0;i<d;i+=1)o=this.getChildAt(i),s=a=0,r=o.getExplicitOrMeasuredWidth(),n=o.getExplicitOrMeasuredHeight(),0>=r||0>=n||(o.maintainAspectRatio&&(l=Math.min(t/r,e/n)*this.childMaintainAspectRatio,r*=l,n*=l),h(o.left)?h(o.right)?h(o.horizontalCenter)||(s=.5*(t-r)+o.horizontalCenter):s=t-o.right-r:s=o.left,h(o.top)?h(o.bottom)?h(o.verticalCenter)||(a=.5*(e-n)+o.verticalCenter):a=e-o.bottom-n:a=o.top,o.move(s,a),o.setActualSize(r,n),o.invalidateDisplayList())}},pe.prototype.mappingChanged=function(){this.invalidateDisplayList()},pe.prototype.describeData=function(){return[]},pe.prototype.collectTransitions=function(){},ki(fe,ct),fe.prototype.getFontStyle=function(){return{fontStyle:this.fontStyle,fontSize:this.fontSize,fontWeight:this.fontWeight,fontFamily:this.fontFamily,color:this.color}},fe.prototype.measure=function(){var t;t=this.text,x.prototype.measure.call(this),this.setFont(this.getFontStyle()),t=this.measureText(t),ks&&(t.width+=6),h(this._explicitWidth)&&(this.measuredWidth=t.width+this.paddingLeft+this.paddingRight),h(this._explicitHeight)&&(this.measuredHeight=t.height+this.paddingTop+this.paddingBottom)},fe.prototype.commitProperties=function(){var t=this;x.prototype.commitProperties.call(t),t.itemClickJsFunction&&!t._addEventDirty&&(Gs(t,"cursor","pointer"),zs(t,"click",function(){Ms.findFunction(t.itemClickJsFunction)(t.id,t.text)}),t._addEventDirty=!0)},fe.prototype.updateDisplayList=function(t,e){var i,s,a,r=this.graphics,n=this.borderThickness||this.borderWidth,o=this.borderRadius||this.cornerRadius,l=this.textAlign,d=this.verticalAlign,c=this.paddingLeft,u=this.paddingRight,p=this.paddingTop,f=this.paddingBottom;x.prototype.updateDisplayList.call(this),r.save(),this.clear(),r.fillStyle=Qi.color2rgba(Qi.hex2rgb(this.backgroundColor),this.backgroundAlpha),h(o)?r.fillRect(0,0,t,e):(ts.drawRoundRect(r,t,e,o),r.fill()),i=0!=.5*n?0:.5,"none"!=this.borderStyle&&(r.lineWidth=n,r.strokeStyle=Qi.color2rgba(Qi.hex2rgb(this.borderColor),this.borderAlpha),h(o)?r.strokeRect(.5*n-i,.5*n-i,t-n+2*i,e-n+2*i):(ts.drawRoundRect(r,t,e,o),r.stroke())),this.setFont(this.getFontStyle()),i=this.measureText(this.text),"left"==l?s=0:"right"==l?s=Math.floor(t-i.width-u)-.5:"center"==l&&(s=Math.floor(c+.5*(t-i.width))-.5),"top"==d?a=0:"bottom"==d?a=Math.floor(e-i.height-f)+.5:"middle"==d&&(a=Math.floor(p+.5*(e-i.height))+.5),this.fillText(i,s,a),r.restore()},fe.prototype.mappingChanged=function(){this.invalidateDisplayList()},ki(ge,ct),ge.ZOOM_DISTANCE=10,ge.prototype.createChildren=function(){function t(t){if(!e[t]){var i=new m("span","CrossHair_Label");e[t]=i,i.owner=e,e.getChart().addChild(i)}}var e=this;t("_hLabel0"),t("_hLabel1"),t("_vLabel0"),t("_vLabel1"),e._restoreButton||(e._restoreButton=new m("div","CrossRangeZoomer_Restore"),e._restoreButton.element.title=e.restoreButtonText),e._setupMouseEvent()},ge.prototype.commitProperties=function(){var t,e,i,a,r=[this._hLabel0,this._hLabel1,this._vLabel0,this._vLabel1];for(ge._super.commitProperties.call(this),this.syncCrossRangeChart&&s(this.syncCrossRangeChart)&&(this.syncCrossRangeChart=document.getElementById(this.syncCrossRangeChart.replace(/{|}/g,"")).selfElement.getTarget()),(!this._chartAxisRenderers||0>=this._chartAxisRenderers.length)&&(this._chartAxisRenderers=this._getAxisRenderers()),t=0,e=r.length;t<e;t+=1)for(i in a=r[t],this._styles)this._styles[i]&&a.setStyle(i,this._styles[i]);this._saveOriginalMinMax()},ge.prototype.updateDisplayList=function(t,e){ge._super.updateDisplayList.call(this),this.graphics.clearRect(0,0,t,e),this.enableCrossHair&&this._crosshairs?this._drawCrossHair(t,e):this._labelVisible(!1),this._zoomRectFlag&&this._drawZoomRect(t,e)},ge.prototype.clearCrossHair=function(){this._crosshairs=null,this.invalidateDisplayList()},ge.prototype._drawCrossHair=function(t,e){var i,s,a,r=this.graphics;i=this.getChart();var n=Math.floor(this._crosshairs.x)-.5,o=Math.floor(this._crosshairs.y)-.5,h=Qi.color2rgba,l=0,d=e,c=0,u=t;-1<i.className.indexOf("3D")&&(s=i.cubeDepth,a=s*i.cubeAngleRatio,d=Math.floor(d-a/3)-.5,u=Math.floor(t-s+s/3)-.5,l=Math.floor(a-a/3)-.5,c=Math.floor(s/3)-.5),i=this.horizontalStroke,r.save(),r.beginPath(),this.horizontalStrokeEnable&&(r.strokeStyle=h(i.color,i.alpha),r.lineWidth=i.weight,r.moveTo(u,o),r.lineTo(c,o),c&&r.lineTo(0,o+a/3)),i=this.verticalStroke,this.verticalStrokeEnable&&(r.strokeStyle=h(i.color,i.alpha),r.lineWidth=i.weight,r.moveTo(n,l),r.lineTo(n,d),l&&r.lineTo(n-Math.floor(s/3)-.5,d+a/3)),r.stroke(),r.restore()},ge.prototype._drawZoomRect=function(t,e){var i,s,a=this.graphics;switch(this.zoomType){case"vertical":this._dLeft=0,this._dRight=t;break;case"horizontal":this._dTop=0,this._dBottom=e}a.save(),i=this.zoomRangeStroke,s=this.zoomRangeFill,a.strokeStyle=Qi.color2rgba(i.color,i.alpha),a.lineWidth=i.weight,a.fillStyle=Qi.adjustBrightness(s),this._dRight>=t&&--this._dRight,a.beginPath(),a.moveTo(this._dLeft,this._dTop),a.lineTo(this._dRight,this._dTop),a.lineTo(this._dRight,this._dBottom),a.lineTo(this._dLeft,this._dBottom),a.closePath(),a.fill(),a.stroke(),a.restore()},ge.prototype._setupMouseEvent=function(){this.getChart(),Fs?(this.addEvent("touchstart",this._mouseEventHandler,this),this.addEvent("touchmove",this._mouseEventHandler,this)):(this.addEvent("mousedown",this._mouseEventHandler,this),this.addEvent("mousemove",this._mouseEventHandler,this))},ge.prototype._labelVisible=function(t){t=t?"visible":"hidden",this._hLabel0.element.style.visibility=t,this._hLabel1.element.style.visibility=t,this._vLabel0.element.style.visibility=t,this._vLabel1.element.style.visibility=t},ge.prototype._correctPoint=function(t,e,i){var s,a,r,n,o,h,l,d,c,u,p,f;s=this.getChart();var g,m,_=s.cubeDepth||0,y=_?s.cubeDepth*s.cubeAngleRatio:0,v=this._unscaledWidth,x=this._unscaledHeight,b=s._unscaledWidth,S=s._unscaledHeight,C=this._chartAxisRenderers,D=C[0][0],w=C[1][0];if(o=t/v,u=e/x,-1<s.className.indexOf("3D")){if(e<s.cubeDepth*s.cubeAngleRatio||t>v-s.cubeDepth)return null;o=t/(v-_),u=(e-y)/(x-y)}if(n=D.getAxis(),p=n.invertTransform(o),h=w.getAxis(),f=h.invertTransform(1-u),c=p,n instanceof At){if(d=n._labelsMatchToCategoryValuesByIndex,!d.length)return null;if(p=0>p?0:p>=d.length?d.length-1:p,!(l=d[p]))return null;t=l.position*(v-_),p=l.text}if(h instanceof At){if(d=h._labelsMatchToCategoryValuesByIndex,!d.length||!(l=d[f>=d.length?d.length-1:f]))return null;e=y+(1-l.position)*(x-y),f=l.text}if(t=Math.floor(t)+.5,e=Math.floor(e)+.5,t>=v&&(t-=.5),0>=e&&(e=0),g=s._computedGutters,this.enableCrossHair){if(this.verticalStrokeEnable){if(this._hLabelDatas=[],l=this._hLabel0,this._getRendererWeight(w),this.useDualCrossXLabel)for(a=2<C[0].length?2:C[0].length,s=0;s<a;s+=1){if(r=C[0][s],n=r.getAxis(),c=n.invertTransform(o),n instanceof At){if(d=n._labelsMatchToCategoryValuesByIndex,!d.length)return null;if(c=0>c?0:c>=d.length?d.length-1:c,!(l=d[c]))return null;t=l.position*(v-_),p=l.text}d=this.verticalLabelFormatter,l=this["_hLabel"+s],l.index=c,"top"==r.placement&&(d=this.verticalLabelOppFormatter,l.placement=!0),this._setFormatter(l,p,d,n),this._hLabelDatas.push(l)}else this._setFormatter(l,p,this.verticalLabelFormatter,n),this._hLabelDatas.push(l),"top"==this.verticalLabelPlacement&&(l.placement=!0),l.index=c;for(s=0,a=this._hLabelDatas.length;s<a;s+=1)r=C[0][s],n=r.labelGap,o=this._getTickLength(r),m=this._getRendererWeight(D),l=this._hLabelDatas[s],c=l.getWidth(),d=l.getHeight(),p=g.left+t-.5*c,v=r.showLabels?r.getSizeStyle("fontSize"):0,v=l.placement?g.top-m-n-o-.5*(v+d):S-g.bottom+m+n+o+.5*(v-d),r.canStagger&&l.index%2&&(v+=(n+.5*d)*("top"==r.placement?-1:1)),p+c>=b?p=b-c-1:p<=-g.left&&(p=-g.left),l.setX(p),l.setY(v),l.element.style.visibility="visible"}if(this.horizontalStrokeEnable){if(this._vLabelDatas=[],l=this._vLabel0,this._getRendererWeight(D),this.useDualCrossYLabel)for(a=2<C[1].length?2:C[1].length,s=0;s<a;s+=1){if(r=C[1][s],h=r.getAxis(),f=h.invertTransform(1-u),h instanceof At){if(d=h._labelsMatchToCategoryValuesByIndex,!d.length||!(l=d[f>=d.length?d.length-1:f]))return null;e=y+(1-l.position)*(x-y),f=l.text}d=this.horizontalLabelFormatter,l=this["_vLabel"+s],"right"==r.placement&&(d=this.horizontalLabelOppFormatter,l.placement=!0),this._setFormatter(l,f,d,h),this._vLabelDatas.push(l)}else this._setFormatter(l,f,this.horizontalLabelFormatter,h),this._vLabelDatas.push(l),"right"==this.horizontalLabelPlacement&&(l.placement=!0);for(s=0,a=this._vLabelDatas.length;s<a;s+=1)r=C[1][s],n=r.labelGap,o=this._getTickLength(r),u=this._getRendererWeight(w),l=this._vLabelDatas[s],c=l.getWidth(),d=l.getHeight(),p=l.getSizeStyle("paddingLeft")+l.getSizeStyle("paddingRight")-2,v=e+g.top+r.getSizeStyle("fontSize")-d-1,p=l.placement?b-g.right+u+o+n-p:g.left-u-o-n+p-c,0>=v?v=0:v+d>=S&&(v=S-d),l.setX(p),l.setY(v),l.element.style.visibility="visible"}}return _&&(t=Math.floor(t+_/3)-.5,e=Math.floor(e-y/3)-.5),i?(this._crosshairs={x:t,y:e},void this.invalidateDisplayList()):{x:t,y:e}},ge.prototype._getRendererWeight=function(t){return t.showLine?t.axisStroke.weight:0},ge.prototype._getTickLength=function(t){return"outside"==t.tickPlacement||"cross"==t.tickPlacement?t.tickLength:0},ge.prototype._setFormatter=function(t,e,i,s){if("inverted"!=s.getDirection()||s instanceof Lt||(e=-1*Number(e)),i)if(i instanceof xs)try{e=i.format(new Date(e))}catch(a){e=e.toString()}else h(e)||(e=i.format(e));t.element.innerHTML=e},ge.prototype._doZoomIn=function(){var t,e,i,s,a,r,n,o=this.zoomType,h=this._dLeft/this._unscaledWidth,l=this._dRight/this._unscaledWidth,d=1-this._dTop/this._unscaledHeight,c=1-this._dBottom/this._unscaledHeight;t=this._chartAxisRenderers;var u=t[0],p=t[1],f=this.horizontalAxisOppEnable,g=this.verticalAxisOppEnable,m=1;if(!this.getChart().getChartState()){if(this.getChart().clearSelection(!0),-1==this._zoomDepth&&this._storeOriginalMinMax(),this._zoomDepth++,"both"==o||"horizontal"==o)for(t=0,e=u.length;t<e;t+=1)i=u[t].getAxis(),f?(s=1-l,n=1-h,a||r||(a=Number(i.invertTransform(s)),r=Number(i.invertTransform(n)))):(a=Number(i.invertTransform(h)),r=Number(i.invertTransform(l))),i instanceof At?i.padding||a!=r||(a=Number(a)-1,r=Number(r)+1):i instanceof Tt&&!(i instanceof Lt)&&"inverted"==i.getDirection()&&(a=-1*Number(a),r=-1*Number(r),s=Number(a),a=r,r=s),Fs&&(a<this._originalMinMax.h[t].min&&(a=this._originalMinMax.h[t].min),r>this._originalMinMax.h[t].max&&(r=this._originalMinMax.h[t].max)),n=this.minimumVisibleItemSize,i instanceof Lt&&(m=i.unitSize,n*=m),(s=Math.abs(r-a))<n&&(s=n-s-m,i instanceof At?-1<a-s?a-=s:r+s<i._categoryValues.length?r+=s:(a=0,r=i._categoryValues.length-1):Math.abs(a-s)>Math.abs(r-s)?a-=s:r+=s),i instanceof Lt?(i.setMinimum(new Date(a)),i.setMaximum(new Date(r))):(i.setMinimum(a),i.setMaximum(r));if("both"==o||"vertical"==o)for(t=0,e=p.length;t<e;t+=1)i=p[t].getAxis(),g||(a=Number(i.invertTransform(d)),r=Number(i.invertTransform(c))),i instanceof At?i.padding||a!=r||(a=Number(a)-1,r=Number(r)+1):i instanceof Tt&&!(i instanceof Lt)&&"inverted"==i.getDirection()&&(a=-1*Number(a),r=-1*Number(r),s=Number(a),a=r,r=s),Fs&&(a<this._originalMinMax.v[t].min&&(a=this._originalMinMax.v[t].min),r>this._originalMinMax.v[t].max&&(r=this._originalMinMax.v[t].max)),n=this.minimumVisibleItemSize,i instanceof Lt&&(m=i.unitSize,n*=m),(s=Math.abs(r-a))<n&&(s=n-s-m,i instanceof At?-1<a-s?a-=s:r+s<i._categoryValues.length?r+=s:(a=0,r=i._categoryValues.length-1):Math.abs(a-s)>Math.abs(r-s)?a-=s:r+=s),i instanceof Lt?(i.setMinimum(new Date(a)),i.setMaximum(new Date(r))):(i.setMinimum(a),i.setMaximum(r));this._drawRestoreButton(),this._crosshairs&&this.callLater(this._correctPoint,[this._crosshairs.x,this._crosshairs.y,!0])}},ge.prototype._resetAxisMinMax=function(){var t,e,i,s=this.zoomType;t=this._chartAxisRenderers;var a=t[0],r=t[1];if("both"==s||"horizontal"==s)for(t=0,e=a.length;t<e;t+=1)this._horiOrgMinMax[t]&&(i=a[t].getAxis(),i instanceof Lt?(i.setMinimum(new Date(this._horiOrgMinMax[t].min)),i.setMaximum(new Date(this._horiOrgMinMax[t].max))):(i.setMinimum(this._horiOrgMinMax[t].min),i.setMaximum(this._horiOrgMinMax[t].max)));if("both"==s||"vertical"==s)for(t=0,e=r.length;t<e;t+=1)this._vertiOrgMinMax[t]&&(i=r[t].getAxis(),i instanceof Lt?(i.setMinimum(new Date(this._vertiOrgMinMax[t].min)),i.setMaximum(new Date(this._vertiOrgMinMax[t].max))):(i.setMinimum(this._vertiOrgMinMax[t].min),i.setMaximum(this._vertiOrgMinMax[t].max)))},ge.prototype.resetZoom=function(){this._resetZoom()},ge.prototype._resetZoom=function(t,e){this._zoomDepth=-1,this._zoomRectFlag=!1,this.getChart().resetUserElement(),this.getChart().clearSelection(!0),this._resetAxisMinMax(),this._restoreButton.removeEvent("click",this._resetZoom,this),this.getChart().removeChild(this._restoreButton),!e&&this.rangeUpdateJsFunction&&Ms.findFunction(this.rangeUpdateJsFunction)("restore")},ge.prototype._saveOriginalMinMax=function(t,e,i){this._originalMinMax[t]||(this._originalMinMax[t]={}),this._originalMinMax[t][e]=i},ge.prototype._storeOriginalMinMax=function(){var t,e,i,s,a=this._chartAxisRenderers[0],r=this._chartAxisRenderers[1];for(this._horiOrgMinMax=[],this._vertiOrgMinMax=[],t=0;t<r.length;++t)e=r[t].getAxis(),i=e.getMinimum(),s=e.getMaximum(),e.padding&&e instanceof Lt&&(e=e.unitSize*e.padding,i=new Date(i.getTime()+e),s=new Date(s.getTime()-e)),this._vertiOrgMinMax.push({min:i,max:s}),this._saveOriginalMinMax("v",t,{min:i,max:s});for(t=0;t<a.length;++t)e=a[t].getAxis(),i=e.getMinimum(),s=e.getMaximum(),e.padding&&e instanceof Lt&&(e=e.unitSize*e.padding,i=new Date(i.getTime()+e),s=new Date(s.getTime()-e)),this._horiOrgMinMax.push({min:i,max:s}),this._saveOriginalMinMax("h",t,{min:i,max:s})},ge.prototype._drawRestoreButton=function(){var t,e=this._restoreButton;this.getChart().resetUserElement(),!e||e.getParent()||this._checkExistRestoreButton()||(this.getChart().addChild(e),t=e.element,t.innerHTML=this.restoreButtonText,e.addEvent("click",this._resetZoom,this))},ge.prototype._checkExistRestoreButton=function(){var t,e,i,s=this.getChart();for(t=0,e=s.getNumChildren();t<e;t+=1)if((i=s.getChildAt(t))&&i.className==this.className+"_Restore")return!0;
return!1},ge.prototype._updateTrackBounds=function(t,e){this._dRight=Math.floor(Math.max(this._tX,t))+.5,this._dLeft=Math.floor(Math.min(this._tX,t))+.5,this._dBottom=Math.floor(Math.min(this._tY,e))+.5,this._dTop=Math.floor(Math.max(this._tY,e))+.5,this._orgTrackX=t,this._orgTrackY=e},ge.prototype._getAxisRenderers=function(){var t,e;return e=this.getChart(),(this._dataTransform&&this._dataTransform.elements||this._dataTransformOpp&&this._dataTransformOpp.elements)&&e?(t=e.horizontalAxisRenderer?[e.horizontalAxisRenderer]:e.getHorizontalAxisRenderers(),e=e.verticalAxisRenderer?[e.verticalAxisRenderer]:e.getVerticalAxisRenderers(),[t,e]):[]},ge.prototype._syncCrossRangeHandler=function(t,e){var i=this.syncCrossRangeZoomer;i._crosshairs=t,i.showValueLabels=e,i.horizontalStrokeEnable=e,i.invalidateDisplayList(),i.validateNow()},ge.prototype.findDataPoints=function(){return[]},ge.prototype.describeData=function(){return[]},ge.prototype.mappingChanged=function(){this.invalidateDisplayList()},ge.prototype._mouseEventHandler=function(t,e){var i,s,a,r,n,h,l,d=1,c=t.touches,u=this.zoomType;this.getChart();var p=this.syncCrossRangeZoomer;switch(i=Ks(this),Fs?1==c.length?(c=c[0],s=c.pageX-35,a=c.pageY-35):2<=c.length&&(s=c[0].pageX,a=c[0].pageY,r=c[1].pageX-i.x,n=c[1].pageY-i.y):(s=t.pageX,a=t.pageY),s-=i.x,a-=i.y,h=s,l=a,t.type){case"mousedown":if(ks){if(1!=t.button)return}else if(1!=t.which)return;case"touchstart":if(!this.enableZooming)return this._tX=s,void(this._tY=a);if(c&&2<=c.length&&(this._pinchZoomStart=new b(Math.min(s,r),Math.min(a,n),Math.abs(r-s),Math.abs(n-a))),this._bTracking=this._mouseDown=!0,this._zoomRectFlag=!1,i=this._correctPoint(s,a),!i)return;this._tX=i.x,this._tY=i.y,this._crosshairs||(this._crosshairs={}),this._crosshairs.x=this._tX,this._crosshairs.y=this._tY,e||(Fs?Zi.documentAddEvent("touchend",this._mouseEventHandler,this):(Zi.documentAddEvent("mouseup",this._mouseEventHandler,this),this._updateTrackBounds(this._tX,this._tY),this.invalidateDisplayList()),this.rangeUpdateJsFunction&&Ms.findFunction(this.rangeUpdateJsFunction)(t.type,h/this._unscaledWidth,l/this._unscaledHeight));break;case"mousemove":case"touchmove":if(0>s||0>a||s>this._unscaledWidth||a>this._unscaledHeight)return!1;if(c&&2<=c.length){if(!this._pinchZoomStart)return;if(i=new b(Math.min(s,r),Math.min(a,n),Math.abs(s-r),Math.abs(a-n)),this._originalPinchRect||(this._originalPinchRect=i),this._pinchZoomOriginal={x:this._originalPinchRect.left+.5*this._originalPinchRect.width,y:this._originalPinchRect.top+.5*this._originalPinchRect.height},Math.abs(i.width-this._originalPinchRect.width)<ge.ZOOM_DISTANCE||Math.abs(i.height-this._originalPinchRect.height)<ge.ZOOM_DISTANCE)return;this._pinchZoomed=!0,r=i.width/this._unscaledWidth,n=i.height/this._unscaledHeight,(this._pinchZoomStart.width>i.width||this._pinchZoomStart.height>i.height)&&(d=0),d?(this._dLeft=this._pinchZoomOriginal.x*r,this._dRight=this._pinchZoomOriginal.x+(1-r)*(this._unscaledWidth-this._pinchZoomOriginal.x),this._dTop=this._pinchZoomOriginal.y+(1-n)*(this._unscaledHeight-this._pinchZoomOriginal.y),this._dBottom=this._pinchZoomOriginal.y*n):(r=Math.abs(i.width-this._pinchZoomStart.width)/this._unscaledWidth,n=Math.abs(i.height-this._pinchZoomStart.height)/this._unscaledHeight,this._dLeft=-this._pinchZoomOriginal.x*r,this._dRight=this._unscaledWidth+this._pinchZoomOriginal.x+(1-r)*this._pinchZoomOriginal.x,this._dTop=this._unscaledHeight+this._pinchZoomOriginal.y+(1-n)*this._pinchZoomOriginal.y,this._dBottom=-this._pinchZoomOriginal.y*n)}else{if(i=this._correctPoint(s,a),!i){this._crosshairs=null,this.graphics.clearRect(0,0,this._unscaledWidth,this._unscaledHeight),this._labelVisible(!1);break}s=i.x,a=i.y,this._crosshairs||(this._crosshairs={}),this._crosshairs.x=s,this._crosshairs.y=a,!Fs&&this._bTracking&&this._mouseDown&&(this._nowTracking=this._zoomRectFlag=!0,this._updateTrackBounds(s,a),("both"==u||"horizontal"==u)&&Math.abs(this._tX-s)<ge.ZOOM_DISTANCE&&(this._zoomRectFlag=!1),("both"==u||"vertical"==u)&&Math.abs(this._tY-a)<ge.ZOOM_DISTANCE&&(this._zoomRectFlag=!1)),this.invalidateDisplayList(),this.validateNow(),e||(this.addEvent("mouseout",this._mouseEventHandler,this),this.addEvent("touchend",this._mouseEventHandler,this),this.rangeUpdateJsFunction&&Ms.findFunction(this.rangeUpdateJsFunction)(t.type,h/this._unscaledWidth,l/this._unscaledHeight,[this._hLabel0.element.innerHTML,this._vLabel0.element.innerHTML,this._hLabel1.element.innerHTML,this._vLabel1.element.innerHTML]))}p&&p.enableCrossHair&&this._syncCrossRangeHandler({x:s,y:a},!1,!1);break;case"mouseup":this._zoomRectFlag&&this._doZoomIn(),this._bTracking=this._mouseDown=this._zoomRectFlag=!1,Zi.documentRemoveEvent("mouseup",this._mouseEventHandler,this),this.invalidateDisplayList(),!e&&this.rangeUpdateJsFunction&&Ms.findFunction(this.rangeUpdateJsFunction)(t.type);break;case"touchend":this._pinchZoomed&&this._doZoomIn(),this._pinchZoomStart=null,this._pinchZoomed=!1,this._crosshairs=this._originalPinchRect=null,this._bTracking=this._mouseDown=this._zoomRectFlag=!1,Zi.documentRemoveEvent("touchend",this._mouseEventHandler,this),this.invalidateDisplayList(),this.validateNow(),p&&p.enableCrossHair&&this._syncCrossRangeHandler(null,!0);break;case"mouseout":if(this._crosshairs=null,qi.isParentOf(this.element,t.toElement))return!1;p&&p.enableCrossHair&&this._syncCrossRangeHandler(null,!0),this.invalidateDisplayList(),this.validateNow(),!e&&this.rangeUpdateJsFunction&&Ms.findFunction(this.rangeUpdateJsFunction)(t.type)}return o(t.preventDefault)&&t.preventDefault(),!1},ki(me,ct),me.prototype.findDataPoints=function(){return[]},me.prototype.describeData=function(){return[]},me.prototype.updateDisplayList=function(t,e){x.prototype.updateDisplayList.call(this,t,e);var i,s,a,r,n,o,l,d,c,u,p,f=this.graphics,g=!1,m=this.getChart(),_=.5;n=[];var y,v,S,C=this.direction,D=ts.apply,w=0,T=m.cubeDepth||0;n=m.cubeAngleRatio||0;var M,I=(T-w)*n;i=this.horizontalChangeCount,l=this.horizontalShowOrigin;var A=this.verticalShowOrigin;if(d=this.verticalChangeCount,m&&f){if((m instanceof Wt||m instanceof Ot)&&(w=m.cubeDepthOffset,(T-w)*n<T*n&&(w=-(T*n/3)+T)),this.clear(),"horizontal"==C||"both"==C){for(m=this.horizontalStroke,C=Math.max(1,i),(0!=0*C||1>=C)&&(C=1),c=this._getVerticalRenderer(),a=[],p=c._labels||a,i=0,n=p.length;i<n;i+=1)a.push(p[i].position);if(a&&0<a.length){if(0==this.horizontalTickAligned)for(o=a.length,n=[],i=1;i<o;i++)n[i-1]=(a[i]+a[i-1])/2;else n=a;for(v=S=!1,0!=n[0]&&(S=!0,n.unshift(0)),1!=n[n.length-1]&&(v=!0,n.push(1)),y=e-I,p=[this.horizontalFill,this.horizontalAlternateFill],o=n.length,1>n[o-1]&&(a=p[1],null!=a&&(f.lineWidth=1,f.fillStyle=a,f.fillRect(0,n[o-1]*y,t,e),f.fill())),D(f,m),0==m.weight%2&&(g=!0),f.beginPath(),i=0;i<n.length;i+=C)s=o-1-i,a=p[i/C%2],u=n[s]*y+w+1,r=n[Math.max(0,s-C)]*y,r=new b(T-w,r+w,t-T,u-r-w),null!=a&&(f.fillStyle=Qi.color2rgba(a.color,a.alpha),f.fillRect(r.left,r.top,r.width,r.height),f.fill()),!(m&&-1<=r.bottom)||S&&0==s||v&&s==n.length-1||(u=Math.floor(u),i?g||(u-=.5):u-=1.5,f.moveTo(r.left,u),f.lineTo(r.right,u),_=u);f.stroke()}}if(this.showEdgeHorizontalStroke&&(c||(c=this._getVerticalRenderer()),c.getAxis()instanceof At&&(_=.5),D(f,this.horizontalStroke),f.beginPath(),f.moveTo(T,_),f.lineTo(t,_),f.moveTo(T,e-T),f.lineTo(t,e-T),f.closePath(),f.stroke()),g=!1,"vertical"==this.direction||"both"==this.direction){for(m=this.verticalStroke,C=Math.max(1,d),(h(C)||1>=C)&&(C=1),M=this._getHorizontalRenderer(),a=[],p=M._labels||a,i=0,n=p.length;i<n;i+=1)a.push(p[i].position);if(a&&0<a.length){if(0==this.verticalTickAligned)for(o=a.length,n=[],i=1;i<o;i++)n[i-1]=(a[i]+a[i-1])/2;else n=a;for(v=S=!1,0!=n[0]&&(S=!0,n.unshift(0)),1!=n[n.length-1]&&(v=!0,n.push(1)),y=t-T,p=[this.verticalFill,this.verticalAlternateFill],D(f,m),0==m.weight%2&&(g=!0),f.beginPath(),i=0;i<n.length;i+=C)a=p[i/C%2],c=Math.floor(n[i]*y+T-w),d=n[Math.min(n.length-1,i+C)]*y+T,r=new b(c,w,d-c-w,e-I),null!=a&&(f.fillStyle=Qi.color2rgba(a.color,a.alpha),f.fillRect(r.left,r.top,r.width,r.height),f.fill()),!m||S&&0==i||v&&i==n.length-1||(g||(c=c>=this.width?c-.5:0>c?c+1:c+.5),f.moveTo(c,r.top),f.lineTo(c,r.bottom));f.stroke()}}this.showEdgeVerticalStroke&&(M||(M=this._getHorizontalRenderer()),M.getAxis(),D(f,this.verticalStroke),f.beginPath(),f.moveTo(I+.5,_),f.lineTo(I+.5,e-I),f.moveTo(t-.5,_+w),f.lineTo(t-.5,e-I),f.closePath(),f.stroke()),(A||l)&&(g=[{xOrigin:0,yOrigin:0}],this._dataTransform.transformCache(g,"xOrigin","x","yOrigin","y"),l&&0<g[0].y&&g[0].y<e&&(l=this.horizontalOriginStroke,D(f,l),f.beginPath(),_=Math.floor(g[0].y-I),0!=l.weight%2&&(_+=.5),f.moveTo(T,_),f.lineTo(t,_),f.stroke()),A&&0<g[0].x&&g[0].x<t&&(l=this.verticalOriginStroke,D(f,l),f.beginPath(),_=Math.floor(g[0].x+T),0!=l.weight%2&&(_+=.5),f.moveTo(_,0),f.lineTo(_,e-I))),this.horizontalShowCenterLine&&(l=this.horizontalCenterStroke,D(f,l),f.beginPath(),_=Math.floor(.5*e),0!=l.weight%2&&(_+=.5),f.moveTo(0,_),f.lineTo(t,_),f.closePath(),f.stroke()),this.verticalShowCenterLine&&(l=this.verticalCenterStroke,D(f,l),f.beginPath(),_=Math.floor(.5*t),0!=l.weight%2&&(_+=.5),f.moveTo(_,0),f.lineTo(_,e),f.closePath(),f.stroke())}},me.prototype.mappingChanged=function(){this.invalidateDisplayList()},me.prototype._getVerticalRenderer=function(){var t,e=this.chart||this.getChart();return e.verticalAxisRenderer?t=e.verticalAxisRenderer:(t=e.getLeftMostRenderer())||(t=e.getRightMostRenderer()),t},me.prototype._getHorizontalRenderer=function(){var t,e=this.chart||this.getChart();return e.horizontalAxisRenderer?t=e.horizontalAxisRenderer:(t=e.getBottomMostRenderer())||(t=e.getTopMostRenderer()),t},ki(_e,y),_e.prototype.getSource=function(){return this._source},_e.prototype.setSource=function(t){this._source!=t&&(this.setVisible(!1),this._source=t,this._imageLoad())},_e.prototype.updateDisplayList=function(t,e){if(y.prototype.updateDisplayList.call(this,t,e),this._imgLoaded){var i,s;0==t||0==e?h(this.measuredWidth)||h(this.measuredHeight)||y.prototype.setActualSize.call(this,this.measuredWidth,this.measuredHeight):this.maintainAspectRatio?(s=this.measuredWidth>this.measuredHeight?t/this.measuredWidth:e/this.measuredHeight,i=s*this.measuredWidth,s*=this.measuredHeight,y.prototype.setActualSize.call(this,i,s)):y.prototype.setActualSize.call(this,t,e),this.setVisible(!0)}},_e.prototype.collectTransitions=function(){},_e.prototype.describeData=function(){return[]},_e.prototype.getDataTransform=function(){return this._dataTransform},_e.prototype._imageLoad=function(){this.addEvent("load",this._imageLoadHandler,this),this.element.src=this._source},_e.prototype._imageLoadHandler=function(t){var e=NaN,i=NaN;this._imgLoaded=!0,this.removeEvent("load",this._imageLoadHandler,this),ks?(t=document.createElement("img"),t.src=this.element.src,e=t.width,i=t.height):(e=t.target.naturalWidth,i=t.target.naturalHeight),this.measuredWidth=e,this.measuredHeight=i,this.invalidateSize()},ki(ye,K),ye.prototype.draw=function(t,e,i,s,a){var r=this.fill,n=this.stroke,o=.5*i;(a=this.graphics||a)&&(this.apply(a,n),t=this.createRect(t,e,i,s),this.begin(a,this,t,r,o),this.drawPath(a,t),a.fill(),n&&a.stroke())},ye.prototype.drawPath=function(t,e){var i=.5*e.width;t.beginPath(),t.arc(e.left+i,e.top+i,i-.5*this._offset,0,2*Math.PI,!0),t.closePath()},ki(ve,K),ve.prototype.draw=function(t,e,i,s,a){function r(t){o="right"==t?c.createRect(n.right,n.top,n.right+2.5*d,n.top+2.5*d):c.createRect(n.left,n.top,n.left+2.5*d,n.top+2.5*+d),y.save(),c.begin(y,c,o,p),!c.pattern&&p instanceof T&&(l="right"==t?y.createLinearGradient(n.right,n.top,n.right,n.top+n.height):y.createLinearGradient(n.left,n.top,n.left,n.top+n.height),l.addColorStop(0,c.bright(p,30)),l.addColorStop(.3,c.bright(p,32)),l.addColorStop(1,c.bright(p,0)),y.fillStyle=l),y.beginPath(),"right"==t?c.drawEllipse(y,n.right,n.top,d,n.height):c.drawEllipse(y,n.left,n.top,d,n.height),y.fill(),c.stroke&&y.stroke()}var n,o,l,d,c=this,u=c.data,p=u.fill,f=c.stroke,g=c.cubeDepth,m=c.maxDepth,_=c.cubeAngleRatio,y=c.graphics||a;y&&u&&(y.lineCap="butt",y.lineJoin="round",h(g)&&(g=10),h(_)&&(_=.6),g>m&&(g=m),d=g,y.save(),c.apply(y,f),n=c.createRect(t,e,i,s),c.reversed&&y.translate(Math.abs(n.width),0),0<n.width&&d>n.height&&(d=n.height),0>n.width&&Math.abs(n.height)<d&&(d=Math.abs(n.height)),d=.4*d*_,c.begin(y,c,n,p),o=0>n.width?c.createRect(n.left,n.top,n.left,n.top+n.height):c.createRect(n.right,n.top,n.right,n.top+n.height),!c.pattern&&p instanceof T&&(l=y.createLinearGradient(n.left,n.top,n.left,n.bottom),l.addColorStop(0,c.bright(p,-16)),l.addColorStop(.2,c.bright(p,0)),l.addColorStop(.3,c.bright(p,16)),l.addColorStop(1,c.bright(p,-16)),y.fillStyle=l),y.beginPath(),0>n.width?(y.moveTo(n.left,n.top),y.lineTo(n.right+d/2,n.top),c.drawArc(y,n.right+d/2,n.top+n.height/2,Math.PI/2,Math.PI,d/2,n.height/2,!0),y.lineTo(n.left,n.bottom),c.drawArc(y,n.left+d/2,n.top+n.height/2,3*Math.PI/2,-Math.PI,d/2,n.height/2,!0)):(y.moveTo(n.right+d/2,n.top),y.lineTo(n.left+d/2,n.top),c.drawArc(y,n.left+d/2,n.top+n.height/2,Math.PI/2,Math.PI,d/2,n.height/2,!0),y.lineTo(n.right+d/2,n.bottom),c.drawArc(y,n.right+d/2,n.top+n.height/2,3*Math.PI/2,-Math.PI,d/2,n.height/2,!0)),y.fill(),c.stroke&&y.stroke(),isNaN(n.width)||(0>i?r.call(c,"left"):r.call(c,"right")),y.restore())},ki(xe,K),xe.prototype.draw=function(t,e,i,s,a){function r(t){o="right"==t?p.createRect(n.right,n.top,n.right+2.5*d,n.top+2.5*+d):p.createRect(n.left,n.top,n.left+2.5*d,n.top+2.5*+d),p.begin(D,p,o,g),!p.pattern&&g instanceof T&&(l="right"==t?D.createLinearGradient(n.right,n.top,n.right,n.top+n.height):D.createLinearGradient(n.left,n.top,n.left,n.top+n.height),l.addColorStop(.2,p.color2rgba(g.color,.5)),D.fillStyle=l),D.save(),D.beginPath(),"right"==t?p.drawEllipse(D,n.right,n.top,d,n.height):p.drawEllipse(D,n.left,n.top,d,n.height),D.fill(),p.stroke&&D.stroke()}var n,o,l,d,c,u,p=this,f=p.data,g=f.fill,m=p.stroke,_=p.bright,y=p.cubeDepth,v=p.maxDepth,x=p.cubeAngleRatio,b=f.element,S=b.getChart().getSeries(),C=b.seriesIndex,b=b.xField,D=p.graphics||a;if(D&&f){for(D.lineCap="butt",D.lineJoin="round",h(y)&&(y=10),h(x)&&(x=.6),y>v&&(y=v),d=y,D.save(),p.apply(D,m),n=p.createRect(t,e,i,s),p.reversed&&D.translate(Math.abs(n.width),0),0<n.width&&d>n.height&&(d=n.height),0>n.width&&Math.abs(n.height)<d&&(d=Math.abs(n.height)),d=.4*d*x,o=0>n.width?p.createRect(n.left,n.top,n.left,n.top+n.height):p.createRect(n.right,n.top,n.right,n.top+n.height),p.begin(D,p,o,g),!p.pattern&&g instanceof T&&(l=D.createLinearGradient(n.left,n.top,n.left,n.bottom),$i.ie8L?(l.addColorStop(0,p.color2rgba(_(g,-16),.3)),l.addColorStop(.2,p.color2rgba(g.color,.3)),l.addColorStop(1,p.color2rgba(_(g,16),.3))):(l.addColorStop(0,p.bright(g,-16)),l.addColorStop(.2,p.color2rgba(g.color,.1)),l.addColorStop(1,p.bright(g,16))),D.fillStyle=l),D.beginPath(),0>n.width?(D.moveTo(n.left,n.top),D.lineTo(n.right+d/2,n.top),ts.drawArc(D,n.right+d/2,n.top+n.height/2,Math.PI/2,Math.PI,d/2,n.height/2,!0),D.lineTo(n.left,n.bottom),ts.drawArc(D,n.left+d/2,n.top+n.height/2,3*Math.PI/2,-Math.PI,d/2,n.height/2,!0)):(D.moveTo(n.right+d/2,n.top),D.lineTo(n.left+d/2,n.top),ts.drawArc(D,n.left+d/2,n.top+n.height/2,Math.PI/2,Math.PI,d/2,n.height/2,!0),D.lineTo(n.right+d/2,n.bottom),ts.drawArc(D,n.right+d/2,n.top+n.height/2,3*Math.PI/2,-Math.PI,d/2,n.height/2,!0)),D.fill(),m&&D.stroke(),t=0;t<S.length-1;t++){if(S[t]instanceof qe){u=S[t].getTotalsByIndex(f.index);break}if(C!=S[t].seriesIndex){c=S[t].xField;break}}(c&&b&&Number(f.item[c])<=Number(f.item[b])||void 0!=u&&u<Number(f.item[b]))&&(0>i?r.call(p,"left"):r.call(p,"right")),D.restore()}},ki(be,K),be.prototype.draw=function(t,e,i,s,a){var r=this.stroke;a=this.graphics||a,t=this.createRect(t,e,i,s),a&&(a.save(),a.beginPath(),this.apply(a,r),this.begin(a,this,t,this.fill),a.moveTo(t.right,t.top),a.lineTo(t.right-4,t.top),a.lineTo(t.right-4,t.bottom),a.lineTo(t.right,t.bottom),a.lineTo(t.right,t.top),a.fill(),r&&a.stroke(),a.restore())},ki(Se,K),Se.prototype.draw=function(t,e,i,a,r){var n=this.fill,o=this.stroke;(r=this.graphics||r)&&(o||(o=new w(s(n)?n:n.color)),r.save(),this.apply(r,o),t=this.createRect(t,e,i,a),this.begin(r,this,t,n),r.beginPath(),r.moveTo(t.left,t.top),r.lineTo(t.right,t.top),r.lineTo(t.right,t.bottom),r.lineTo(t.left,t.bottom),r.closePath(),r.fill(),o&&r.stroke(),r.restore())},ki(Ce,K),Ce.prototype.draw=function(t,e,i,s,a){var r=this.stroke;(a=this.graphics||a)&&(this.apply(a,r),t=this.createRect(t,e,i,s),this.begin(a,this,t,this.fill),this.drawPath(a,t),a.fill(),r&&a.stroke())},Ce.prototype.drawPath=function(t,e){0>=e.width||0>=e.height||(t.beginPath(),t.arc(e.left+.5*e.width,e.top+.5*e.height,.5*e.width,0,2*Math.PI,!0),t.closePath())},ki(De,K),De.prototype.draw=function(t,e,i,s,a){var r=this.stroke;(a=this.graphics||a)&&(this.apply(a,r),t=this.createRect(t,e,i,s),this.begin(a,this,t,this.fill),this.drawPath(a,t),a.fill(),r&&a.stroke())},De.prototype.drawPath=function(t,e){var i=this._offset,s=e.left,a=e.top,r=e.width,n=e.height,o=s+r/2,h=a+n/2;t.beginPath(),t.moveTo(o-1.5,a+i),t.lineTo(o+1.5,a+i),t.lineTo(o+1.5,h-1.5),t.lineTo(s+r-i,h-1.5),t.lineTo(s+r-i,h+1.5),t.lineTo(o+1.5,h+1.5),t.lineTo(o+1.5,a+n-i),t.lineTo(o-1.5,a+n-i),t.lineTo(o-1.5,h+1.5),t.lineTo(s+i,h+1.5),t.lineTo(s+i,h-1.5),t.lineTo(o-1.5,h-1.5),t.lineTo(o-1.5,a+i),t.closePath()},ki(we,K),we.prototype.draw=function(t,e,i,s,a){var r,n=this.stroke,o=this.bright,l=this.data,d=l.fill,c=l.element.getChart(),u=this.cubeDepth,p=this.maxDepth;r=this.cubeAngleRatio,a=this.graphics||a;var f=1;a&&l&&(a.lineCap="butt",a.lineJoin="round",h(u)&&(u=10),h(r)&&(r=.6),c instanceof Ot&&(u/=3),u>p&&(u=p),a.save(),this.apply(a,n),t=this.createRect(t,e,i,s),this.begin(a,this,t,d),this.reversed&&a.translate(Math.abs(t.width),0),e=t.left,i=t.top,u=Math.floor(u),r=Math.floor(u*r),c=t.width,s=t.height,a.beginPath(),a.moveTo(e,i),a.lineTo(e+c,i),a.lineTo(e+c,i+s),a.lineTo(e,i+s),a.closePath(),a.fill(),n&&a.stroke(),c=e+c,this.begin(a,this,t,d),!this.pattern&&d instanceof T&&(a.fillStyle=o(d,-24)),a.beginPath(),a.moveTo(e,i),a.lineTo(e+u,i-r),l.brokend?a.lineTo(c,i-r):a.lineTo(c+u,i-r),a.lineTo(c,i),a.closePath(),a.fill(),n&&a.stroke(),l.drawRight&&!l.brokend&&(a.beginPath(),0<=t.width?(this.begin(a,this,t,d),!this.pattern&&d instanceof T&&(a.fillStyle=o(d,20)),a.moveTo(c,i),a.lineTo(c+u,i-r),a.lineTo(c+u,i+s-r),a.lineTo(c,i+s)):(a.moveTo(e,i),a.lineTo(e+u,i-r),a.lineTo(e+u,i+s-r),a.lineTo(e,i+s),f=0),a.closePath(),a.fill(),n&&a.stroke()),0<t.width&&!this.stroke&&d instanceof T&&(c-=.5,a.strokeStyle=o(d,-10),a.beginPath(),a.moveTo(c,i),a.lineTo(c,i+s-.5),a.closePath(),a.stroke(),a.strokeStyle=o(d,15),a.beginPath(),a.moveTo(c,i+.5),a.lineTo(e+.5,i+.5),a.closePath(),a.stroke(),0==f||l.brokend||(a.strokeStyle=o(d,-34),a.beginPath(),a.moveTo(c+.5,i),a.lineTo(c+u,i-r+.5),a.closePath(),a.stroke())),a.restore())},ki(Te,K),Te.prototype.draw=function(t,e,i,s,a){var r=this.bright,n=this.stroke,o=this.data,l=o.fill,d=o.element.getChart();a=this.graphics||a;var c,u=this.cubeDepth,p=this.maxDepth;c=this.cubeAngleRatio;var f=1;a&&this.data&&(a.lineCap="butt",a.lineJoin="round",this.pattern&&(n=new w("#000")),h(u)&&(u=10),h(c)&&(c=.6),d instanceof Wt&&(u/=3),u>p&&(u=p),u=Math.floor(u),a.save(),this.apply(a,n),t=this.createRect(t,e,i,s),this.begin(a,this,t,l),this.reversed&&a.translate(0,Math.abs(t.height)),e=t.left,i=t.top,c=Math.floor(u*c),d=t.width,s=t.height,a.beginPath(),a.moveTo(e,i),a.lineTo(e+d,i),a.lineTo(e+d,i+s),a.lineTo(e,i+s),a.closePath(),a.fill(),n&&a.stroke(),d=e+d,this.begin(a,this,t,l),!this.pattern&&l instanceof T&&(a.fillStyle=r(l,-24)),a.beginPath(),a.moveTo(d,i),o.brokend?a.lineTo(d+u,i):a.lineTo(d+u,i-c),a.lineTo(d+u,i-c+s),a.lineTo(d,i+s),a.closePath(),a.fill(),n&&a.stroke(),o.drawTop&&!o.brokend&&(a.beginPath(),0<=t.height?(this.begin(a,this,t,l),!this.pattern&&l instanceof T&&(a.fillStyle=r(l,20)),a.moveTo(d,i),a.lineTo(e,i),a.lineTo(e+u,i-c),a.lineTo(d+u,i-c)):(a.moveTo(d,i+s),a.lineTo(e,i+s),a.lineTo(e+c,i+s-c),a.lineTo(d+c,i+s-c),f=0),a.closePath(),a.fill(),n&&a.stroke()),0<t.height&&!this.stroke&&l instanceof T&&(i+=.5,a.strokeStyle=r(l,-10),a.beginPath(),a.moveTo(e+.5,i),a.lineTo(d,i),a.closePath(),a.stroke(),d=Math.floor(d-1)+.5,a.strokeStyle=r(l,15),a.beginPath(),a.moveTo(d,i),a.lineTo(d,i+s-f),a.closePath(),a.stroke(),0==f||o.brokend||(i+=.5,a.strokeStyle=r(l,-34),a.beginPath(),a.moveTo(d+.5,i),a.lineTo(d+u,i-c),a.closePath(),a.stroke())),a.restore())},ki(Me,K),Me.prototype.draw=function(t,e,i,s,a){function r(s){d.begin(v,d,n,u),!d.pattern&&u instanceof T&&(o=v.createLinearGradient(t,e,t+i,e),o.addColorStop(0,f(u,30)),o.addColorStop(.3,f(u,32)),o.addColorStop(1,f(u,0)),v.fillStyle=o),v.beginPath(),"cap"==s?d.drawEllipse(v,n.left,n.top-l,n.width,l):d.drawEllipse(v,n.left,n.bottom-l,n.width,l),v.fill(),p&&v.stroke()}var n,o,l,d=this,c=d.data,u=c.fill,p=d.stroke,f=d.bright,g=c.drawTop,m=d.cubeDepth,_=d.maxDepth,y=d.cubeAngleRatio,v=d.graphics||a;v&&c&&(v.lineCap="butt",v.lineJoin="round",h(m)&&(m=10),h(y)&&(y=.6),m>_&&(m=_),l=m,v.save(),d.apply(v,p),n=d.createRect(t,e,i,s),d.begin(v,d,n,u),d.reversed&&v.translate(0,Math.abs(n.height)),l>n.width&&(l=n.width),l=d.data.element.getChart()instanceof Wt?.4*l*y:l*y,!d.pattern&&u instanceof T&&(o=v.createLinearGradient(t,e,t+i,e),o.addColorStop(0,f(u,-16)),o.addColorStop(.2,f(u,16)),o.addColorStop(.4,f(u,32)),o.addColorStop(1,f(u,-16)),v.fillStyle=o),v.beginPath(),v.moveTo(n.left,n.top-l/2),d.drawArc(v,n.left+n.width/2,n.top-l/2,Math.PI,Math.PI,n.width/2,l/2,!0),v.lineTo(n.right,n.bottom-l/2),d.drawArc(v,n.left+n.width/2,n.bottom-l/2,0,-Math.PI,n.width/2,l/2,!0),v.lineTo(n.left,n.top-l/2),v.fill(),p&&v.stroke(),g&&!isNaN(n.width)&&(0>s?r.call(d,"bottom"):r.call(d,"cap")),v.restore())},ki(Ie,K),Ie.prototype.draw=function(t,e,i,s,a){function r(t){n.begin(l,n,d,x),!n.pattern&&x instanceof T&&(c="cap"==t?l.createLinearGradient(d.left,d.top-g,d.width,d.top-g):l.createLinearGradient(d.left,d.bottom-g/2,d.width,d.bottom-g/2),c.addColorStop(.2,n.color2rgba(x.color,.5)),l.fillStyle=c),l.beginPath(),u=b?.5*b.weight:0,"cap"==t?n.drawEllipse(l,d.left+u,d.top-g,d.width-u,g):n.drawEllipse(l,d.left+u,d.bottom-g,d.width-u,g),l.fill(),b&&l.stroke()}var n=this,o=n.data,l=n.graphics||a;if(l&&o){var d,c,u,p,f,g,m=n.apply,_=n.begin,y=n.bright,v=n.color2rgba,x=o.fill,b=n.stroke,S=n.cubeDepth,C=n.maxDepth,D=n.cubeAngleRatio,w=o.element;a=w.getChart().getSeries();var M=w.seriesIndex,w=w.yField;for(l.lineCap="butt",l.lineJoin="round",h(S)&&(S=10),h(D)&&(D=.6),S>C&&(S=C),g=S,l.save(),m(l,b),d=n.createRect(t,e,i,s),_(l,n,d,x),n.reversed&&l.translate(0,Math.abs(d.height)),g>d.width&&(g=d.width),g*=D,!n.pattern&&x instanceof T&&(c=l.createLinearGradient(t,e,t+i,e),$i.ie8L?(c.addColorStop(0,v(y(x,-16),.3)),c.addColorStop(.2,v(x.color,.3)),c.addColorStop(1,v(y(x,16),.3))):(c.addColorStop(0,y(x,-16)),c.addColorStop(.2,v(x.color,.1)),c.addColorStop(1,y(x,16))),l.fillStyle=c),l.beginPath(),l.moveTo(d.left,d.top-g/2),n.drawArc(l,d.left+d.width/2,d.top-g/2,Math.PI,Math.PI,d.width/2,g/2,!0),l.lineTo(d.right,d.bottom-g/2),n.drawArc(l,d.left+d.width/2,d.bottom-g/2,0,-Math.PI,d.width/2,g/2,!0),l.lineTo(d.left,d.top-g/2),l.fill(),b&&l.stroke(),t=0;t<a.length-1;t++){if(a[t]instanceof qe){f=a[t].getTotalsByIndex(o.index);break}if(M!=a[t].seriesIndex){p=a[t].yField;break}}(p&&w&&Number(o.item[p])<=Number(o.item[w])||void 0!=f&&f<Number(o.item[w]))&&r.call(n,"cap"),l.restore()}},ki(Ae,K),Ae.prototype.draw=function(t,e,i,s,a){var r=this.stroke;(a=this.graphics||a)&&(a.lineCap="square",a.lineJoin="miter",this.apply(a,r),t=this.createRect(t,e,i,s),this.begin(a,this,t,this.fill),this.drawPath(a,t),a.fill(),r&&a.stroke())},Ae.prototype.drawPath=function(t,e){var i=this._offset;t.beginPath(),t.moveTo(e.left+.5*e.width+.5,e.top+i),t.lineTo(e.left+i+.5,e.top+.5*e.height),t.lineTo(e.left+.5*e.width+.5,e.top+e.height-i),t.lineTo(e.left+e.width-i+.5,e.top+.5*e.height),t.closePath()},ki(Le,K),Le.prototype.draw=function(t,e,i,s,a){var r=this.stroke,n=this.graphics||a;n&&(this.apply(n,r),a=this.createRect(t,e,i,s),this.begin(n,this,a,this.fill),n.beginPath(),n.moveTo(t,e),n.lineTo(t+.5*i,e+s),n.lineTo(t+i,e),n.lineTo(t+.5*i,e+.25*s),n.lineTo(t,e),n.closePath(),n.fill(),r&&n.stroke())},ki(Re,K),Re.prototype.draw=function(t,e,i,s,a){var r=this.stroke;(a=this.graphics||a)&&(a.lineJoin="miter",this.apply(a,r),t=this.createRect(t,e,i,s),this.begin(a,this,t,this.fill),this.drawPath(a,t),a.fill(),r&&a.stroke())},Re.prototype.drawPath=function(t,e){var i=e.left,s=e.top,a=e.width,r=e.height,n=this._offset;t.beginPath(),t.moveTo(i+a/2,s+r),t.lineTo(i+a,s+n),t.lineTo(i,s+n),t.lineTo(i+a/2,s+r),t.closePath()},ki(Pe,K),Pe.prototype.draw=function(t,e,i,s,a){if(t=this.data,(a=this.graphics||a)&&t){t=this.form,e=this.areaFill,i=this.areaStroke;var r=this.areaDeclineFill,n=this.areaDeclineStroke,o=!h(this.baseValue),l=this.startIndex,d=this.endIndex;r||(r=e),n||(n=i);var c,u,p,f,g,m,_=this.data,y=0;if(!(0>=_.length)){for(p=u=_[l].x,g=f=_[l].y,c=l;c<d;c+=1)m=_[c],u=Math.min(u,m.x),f=Math.min(f,m.y),p=Math.max(p,m.x),g=Math.max(g,m.y),y=Math.max(y,m.y),h(m.min)?g=Math.max(g,s):(f=Math.min(f,m.min),g=Math.max(g,m.min)),0>m.yValue&&(o=!0);if(c=p-u,g-=f,0>=Number(g)&&(g=s),a.save(),this.apply(a,i),s=this.createRect(u,f,c,o?this.renderedBase-f:g),this.begin(a,this,s,e),!this.pattern&&e instanceof T&&(u=a.createLinearGradient(s.left,s.top,s.left,s.top+s.height),u.addColorStop(0,Qi.color2rgba(e.color,e.alpha)),u.addColorStop(1,Qi.color2rgba("#ffffff",.15)),a.fillStyle=u),a.lineJoin="round",a.beginPath(),o)y-=this.renderedBase,this.apply(a,n),!this.pattern&&r instanceof T&&(u=a.createLinearGradient(s.left,this.renderedBase,s.left,this.renderedBase+y),u.addColorStop(1,Qi.color2rgba(r.color,r.alpha)),u.addColorStop(0,Qi.color2rgba("#ffffff",.15)),r=u),ts.drawPolyLine(a,_,l,d,"x","y",i,t,!0,!1,0,!0,o,this.renderedBase,n,r);else{if(ts.drawPolyLine(a,_,l,d,"x","y",i,t,!0,!1,0,!0),null!=this.element.minField&&""!=this.element.minField)a.lineTo(_[d-1].x,_[d-1].min),ts.drawPolyLine(a,_,d-1,l-1,"x","min",i,t,!1,!1,0,!0),a.lineTo(_[l].x,_[l].y),this.areaStroke&&this.areaStroke.weight&&a.stroke();else{this.areaStroke&&this.areaStroke.weight&&a.stroke();do if(!h(_[d-1].x)){a.lineTo(_[d-1].x,this.renderedBase);break}while(0<d&&--d);do if(!h(_[l].x)){a.lineTo(_[l].x,this.renderedBase),a.lineTo(_[l].x,_[l].y);break}while(l<d&&(l+=1))}a.fill()}a.restore(),a.restore()}}},ki(Ee,K),Ee.prototype.draw=function(t,e,i,s,a){var r=this.stroke;a=this.graphics||a,0>=Math.abs(i)||!a||(a.save(),this.apply(a,r),t=this.createRect(t,e,i,s),this.begin(a,this,t,this.fill),a.beginPath(),a.moveTo(t.left,t.top),a.lineTo(t.right,t.top),a.lineTo(t.right,t.bottom),a.lineTo(t.left,t.bottom),a.closePath(),a.fill(),r&&a.stroke(),a.restore())},ki(Ne,K),Ne.prototype.draw=function(t,e,i,s,a){var r=this.fill,n=this.stroke;a=this.graphics||a,0>=Math.abs(s)||!a||(a.save(),this.apply(a,n),t=this.createRect(t,e,i,s),this.begin(a,this,t,r),a.beginPath(),a.moveTo(t.left,t.top),a.lineTo(t.right,t.top),a.lineTo(t.right,t.bottom),a.lineTo(t.left,t.bottom),a.closePath(),a.fill(),n&&a.stroke(),a.restore())},ki(Fe,K),Fe.prototype.draw=function(t,e,i,s,a){var r=this.stroke;(a=this.graphics||a)&&(this.apply(a,r),t=this.createRect(t,e,i,s),this.begin(a,this,t,this.fill),this.drawPath(a,t),a.fill(),r&&a.stroke())},Fe.prototype.drawPath=function(t,e){var i=this._offset,s=e.top,a=e.height,r=e.left+.5*e.width;t.beginPath(),t.moveTo(r-2.1,s+i),t.lineTo(r+2.1,s+i),t.lineTo(r+2.1,s+a-i),t.lineTo(r-2.1,s+a-i),t.lineTo(r-2.1,s+i),t.closePath()},ki(ke,K),ke.prototype.draw=function(t,e,i,s,a){t=this.form,s=this.lineStyle;var r=this.lineDeclineStroke;if(e=ts.drawPolyLine,i=this.lineStroke,a=this.graphics||a,r||(r=i),a.save(),a.lineJoin="round",a.beginPath(),"dashLine"==s){s=this.dashLinePlacement;var r=this.dashLineSeperatePos,n=this.dashLinePattern;h(r)&&(r=0),0>=r?e(a,this.data,this.startIndex,this.endIndex+1,"x","y",i,t,!0,!0,n):"before"==s?r>=this.startIndex&&r<=this.endIndex?(e(a,this.data,this.startIndex,r+1,"x","y",i,t,!0,!0,n),"curve"==t&&r==this.endIndex?e(a,this.data,r-1,this.endIndex+1,"x","y",i,t,!0,!0,n):e(a,this.data,r,this.endIndex+1,"x","y",i,t,!0)):r<this.startIndex?e(a,this.data,this.startIndex,this.endIndex+1,"x","y",i,t,!0):r>this.endIndex&&e(a,this.data,this.startIndex,this.endIndex+1,"x","y",i,t,!0,!0,n):"after"==s&&(r>=this.startIndex&&r<=this.endIndex?(e(a,this.data,this.startIndex,r+1,"x","y",i,t,!0),"curve"==t&&r>=this.endIndex-1?e(a,this.data,r-1,this.endIndex+1,"x","y",i,t,!0,!0,n):e(a,this.data,r,this.endIndex+1,"x","y",i,t,!0,!0,n)):r<this.startIndex?e(a,this.data,this.startIndex,this.endIndex+1,"x","y",i,t,!0):r>this.endIndex&&e(a,this.data,this.startIndex,this.endIndex+1,"x","y",i,t,!0))}else h(this.baseValue)?e(a,this.data,this.startIndex,this.endIndex+1,"x","y",i,t,!0):e(a,this.data,this.startIndex,this.endIndex+1,"x","y",i,t,!0,!1,0,!1,!0,this.baseValue,r);a.restore()},ki(Oe,K),Oe.prototype.draw=function(t,e,i,s,a){var r=this.stroke;a=this.graphics||a,a.save(),this.apply(a,r),t=this.createRect(t,e,i,s),this.begin(a,this,t,this.fill),this.reversed&&a.translate(0,Math.abs(t.height)),a.beginPath(),a.moveTo(t.left,t.top),a.lineTo(t.right,t.top),a.lineTo(t.right,t.top+4),a.lineTo(t.left,t.top+4),a.lineTo(t.left,t.top),a.fill(),r&&a.stroke(),a.restore()},ki(He,K),He.prototype.draw=function(t,e,i,s,a){var r=this.stroke;(a=this.graphics||a)&&(this.apply(a,r),t=this.createRect(t,e,i,s),this.begin(a,this,t,this.fill),this.drawPath(a,t),a.fill(),r&&a.stroke())},He.prototype.drawPath=function(t,e){t.beginPath(),t.moveTo(e.left,e.top),t.lineTo(e.right,e.top),t.lineTo(e.right,e.bottom),t.lineTo(e.left,e.bottom),t.closePath()},ki(Ve,K),Ve.prototype.draw=function(t,e,i,s,a){var r=this.stroke;a=this.graphics||a,0>=Math.abs(i)||!a||(a.save(),this.apply(a,r),e=this.createRect(t,e,i,s),this.begin(a,this,e,this.fill),a.beginPath(),0>=e.height||(e.left<=e.right?(t=e.right-e.left<=e.height/2?e.right-e.left:e.height/2,a.moveTo(e.right-t,e.top),a.quadraticCurveTo(e.right,e.top,e.right,e.top+t),a.lineTo(e.right,e.bottom-t),a.quadraticCurveTo(e.right,e.bottom,e.right-t,e.bottom),a.lineTo(e.left,e.bottom),a.lineTo(e.left,e.top),a.lineTo(e.right-t,e.top)):e.right<e.left&&(t=e.left-e.right<=e.height/2?e.left-e.right:e.height/2,a.moveTo(e.right+t,e.top),a.quadraticCurveTo(e.right,e.top,e.right,e.top+t),a.lineTo(e.right,e.bottom-t),a.quadraticCurveTo(e.right,e.bottom,e.right+t,e.bottom),a.lineTo(e.left,e.bottom),a.lineTo(e.left,e.top),a.lineTo(e.right+t,e.top)),a.closePath(),a.fill(),r&&a.stroke(),a.restore()))},ki(ze,K),ze.prototype.draw=function(t,e,i,s,a){var r=this.stroke;a=this.graphics||a,0>=Math.abs(s)||!a||(a.save(),this.apply(a,r),t=this.createRect(t,e,i,s),this.begin(a,this,t,this.fill),e=this._offset,a.beginPath(),t.top<=t.bottom?t.bottom-t.top<=t.width/2?(e=t.bottom-t.top,a.moveTo(t.left,t.top+e),a.quadraticCurveTo(t.left,t.top,t.left+.5*t.width,t.top),a.quadraticCurveTo(t.right,t.top,t.right,t.top+e)):(e=t.width/2,a.moveTo(t.left,t.top+e),a.quadraticCurveTo(t.left+.1*e,t.top,t.left+e,t.top),a.quadraticCurveTo(t.right-.1*e,t.top,t.right,t.top+e),a.lineTo(t.right,t.bottom),a.lineTo(t.left,t.bottom)):t.top>t.bottom&&(t.setTop(t.top-e),t.setBottom(t.bottom+e),t.top-t.bottom<=t.width/2?(e=t.top-t.bottom,a.moveTo(t.left,t.top-e),a.quadraticCurveTo(t.left,t.top,t.left+.5*t.width,t.top),a.quadraticCurveTo(t.right,t.top,t.right,t.top-e)):(e=t.width/2,a.moveTo(t.left,t.top-e),a.quadraticCurveTo(t.left+.1*e,t.top,t.left+e,t.top),a.quadraticCurveTo(t.right-.1*e,t.top,t.right,t.top-e),a.lineTo(t.right,t.bottom),a.lineTo(t.left,t.bottom))),a.closePath(),a.fill(),r&&a.stroke(),a.restore())},ki(We,K),We.prototype.draw=function(t,e,i,s,a){var r=this.stroke;(a=this.graphics||a)&&(a.save(),a.lineJoin="miter",this.apply(a,r),t=this.createRect(t,e,i,s),this.begin(a,this,t,this.fill),this.drawPath(a,t),a.fill(),r&&a.stroke(),a.restore())},We.prototype.drawPath=function(t,e){var i,s=e.width,a=e.height;i=e.left+s/2;var r=e.top+a/2,s=s>a?a/2:s/2;
for(t.beginPath(),t.translate(i,r),t.moveTo(0,0-s),i=0;5>i;i++)t.rotate(Math.PI/5),t.lineTo(0,0-.5*s),t.rotate(Math.PI/5),t.lineTo(0,0-s);t.closePath()},ki(Be,K),Be.prototype.draw=function(t,e,i,s,a){var r=this.stroke;(a=this.graphics||a)&&(a.lineJoin="miter",this.apply(a,this.stroke),t=this.createRect(t,e,i,s),this.begin(a,this,t,this.fill),this.drawPath(a,t),a.fill(),r&&a.stroke())},Be.prototype.drawPath=function(t,e){var i=e.left,s=e.top,a=e.width,r=e.height,n=this._offset;t.beginPath(),t.moveTo(i+a/2,s+n),t.lineTo(i+a-n,s+r-n),t.lineTo(i+n,s+r-n),t.lineTo(i+a/2,s+n),t.closePath()},ki(Ue,K),Ue.prototype.draw=function(t,e,i,s,a){var r=this.stroke,n=this.graphics||a;n&&(this.apply(n,r),a=this.createRect(t,e,i,s),this.begin(n,this,a,this.fill),n.beginPath(),n.moveTo(t,e+s),n.lineTo(t+.5*i,e),n.lineTo(t+i,e+s),n.lineTo(t+.5*i,e+.75*s),n.lineTo(t,e+s),n.closePath(),n.fill(),r&&n.stroke())},ki(Ge,K),Ge.prototype.draw2=function(t){t=this.graphics;var e=this.pattern,i=this.data,s=i.fill,a=i.angle,r=i.origin,n=this.stroke,o=this.radialStroke,l=h(i.xOuterRadius)?this.xOuterRadius:i.xOuterRadius,d=h(i.xOuterRadius)?this.yOuterRadius:i.yOuterRadius,c=h(i.xOuterRadius)?this.yOuterRadius:i.xInnerRadius,i=h(i.xOuterRadius)?this.yOuterRadius:i.yInnerRadius;(s instanceof I||s instanceof A)&&new T(s.entries[0].color,s.entries[0].alpha),t.save(),1>l-c||1>d-i||0==a||(e&&(n=new w("#000"),o=new w("#000")),n?(l-=Math.max(n.weight/2,this.SHADOW_INSET),d-=Math.max(n.weight/2,this.SHADOW_INSET)):(l-=this.SHADOW_INSET,d-=this.SHADOW_INSET),l=Math.max(l,c),d=Math.max(d,i),this.createRect(r.x-l,r.y-d,2*l,2*d),this.apply(t,o),t.restore())},Ge.prototype.draw=function(t){var e,i,s,a,r=this.graphics;s=this.depth||20,a=this.pattern;var n=this.data,o=n.fill,l=n.angle,d=n.origin,c=this.elevation,u=this.innerStack,p=n.startAngle,f=this.renderDirection,g=this.stroke,m=this.radialStroke,_=h(n.xOuterRadius)?this.xOuterRadius:n.xOuterRadius,y=h(n.xOuterRadius)?this.yOuterRadius:n.yOuterRadius,v=h(n.xOuterRadius)?this.yOuterRadius:n.xInnerRadius,n=h(n.xOuterRadius)?this.yOuterRadius:n.yInnerRadius;if((o instanceof I||o instanceof A)&&(o=new T(o.entries[0].color,o.entries[0].alpha)),r.save(),!(1>_-v||1>y-n||0==l)){a&&(a=this.pattern,g=new w("#000"),m=new w("#000")),e=2*Math.PI;var x=Math.PI/2,b=Math.PI/2*3;"clockwise"==f&&(p+=2*Math.PI),g?(_-=Math.max(g.weight/2,this.SHADOW_INSET),y-=Math.max(g.weight/2,this.SHADOW_INSET)):(_-=this.SHADOW_INSET,y-=this.SHADOW_INSET),_=Math.max(_,v),y=Math.max(y,n),s=u?5:s*Math.sin(c*e/360),this.createRect(d.x-_,d.y-y,2*_,2*y);var S,C,D,f=p%e,M=(p+l-1e-6)%e,c={x:d.x+Math.cos(p)*_,y:d.y-Math.sin(p)*y},u={x:d.x+Math.cos(p+l)*_,y:d.y-Math.sin(p+l)*y};if(this.apply(r,m),!t&&0<v&&(f<Math.PI||M<Math.PI||l>Math.PI))if(i={x:d.x+Math.cos(p)*v,y:d.y-Math.sin(p)*n},S={x:d.x+Math.cos(p+l)*v,y:d.y-Math.sin(p+l)*n},D=p,C=l,f>=Math.PI&&(i={x:d.x+v,y:d.y},D=0,C=l-(e-f)),M>=Math.PI&&(S={x:d.x-v,y:d.y},C=l-(M-Math.PI),C>Math.PI&&(C=Math.PI)),0>C&&(C=0),r.fillStyle=a?a:this.bright(o,-25),r.beginPath(),r.moveTo(i.x,i.y),this.drawArc(r,d.x,d.y,D,C,v,n+1,!0),l>Math.PI){var L,R=2*n>s?s:2*n;(f<x||f>b)&&(M<x||M>b)?(r.lineTo(S.x,S.y+R),i.y>d.y-R/2?(S=Math.asin(R/2/n),h(S)&&(S=.02),L=S>D?S-D:(2*e+S-D)%e,this.drawArc(r,d.x,d.y+R,D+C,-1*(C-L),v,n,!0),this.drawArc(r,d.x,d.y,e-S,L,v,n,!0)):this.drawArc(r,d.x,d.y+R,D+C,-C,v,n,!0)):f>x&&f<b&&M>x&&M<b?S.y>d.y-R/2?(S=Math.PI-Math.asin(R/2/n),h(S)&&(S=.02),L=(M-S)%e,this.drawArc(r,d.x,d.y,Math.PI+Math.PI-D-C,L,v,n,!0),this.drawArc(r,d.x,d.y+R,D+C-L,-1*(C-L),v,n,!0)):(r.lineTo(S.x,S.y+R),this.drawArc(r,d.x,d.y+R,D+C,-C,v,n,!0)):(r.lineTo(S.x,S.y+s),this.drawArc(r,d.x,d.y+s,D+C,-C,v,n,!0)),r.lineTo(i.x,i.y),r.closePath(),r.fill(),m&&r.stroke()}else r.lineTo(S.x,S.y+s),this.drawArc(r,d.x,d.y+s,D+C,-C,v,n,!0),r.lineTo(i.x,i.y),r.closePath(),r.fill(),g&&(this.apply(r,g),r.beginPath(),r.moveTo(i.x,i.y),this.drawArc(r,d.x,d.y,D,C,v,n,!0),r.stroke(),r.beginPath(),this.drawArc(r,d.x,d.y+s,D+C,-C,v,n,!0),r.stroke(),r.beginPath(),this.drawArc(r,d.x,d.y,D+C,-C,_,y,!0),r.closePath(),r.stroke()),m&&(this.apply(r,m),r.beginPath(),r.lineTo(S.x,S.y+s),r.closePath(),r.stroke(),r.beginPath(),r.lineTo(i.x,i.y),r.closePath(),r.stroke());t||l>Math.PI&&(f<x||f>b)&&(M<x||M>b)||!(f<=x||f>b)||(r.fillStyle=a?a:this.bright(o,-10),r.beginPath(),r.moveTo(c.x,c.y),0==v?(r.lineTo(d.x,d.y),r.lineTo(d.x,d.y+s)):(e=d.x+Math.cos(p)*v,i=d.y-Math.sin(p)*n,r.lineTo(e,i),r.lineTo(e,i+s)),r.lineTo(c.x,c.y+s),r.lineTo(c.x,c.y),r.closePath(),r.fill(),m&&r.stroke()),!(t||l>Math.PI&&f>x&&f<b&&M>x&&M<b)&&M>=x&&M<b&&(r.fillStyle=a?a:this.bright(o,-10),r.beginPath(),r.moveTo(u.x,u.y),0==v?(r.lineTo(d.x,d.y),r.lineTo(d.x,d.y+s)):(e=d.x+Math.cos(p+l)*v,i=d.y-Math.sin(p+l)*n,r.lineTo(e,i),r.lineTo(e,i+s)),r.lineTo(u.x,u.y+s),r.lineTo(u.x,u.y),r.closePath(),r.fill(),m&&r.stroke()),!t&&(f>=Math.PI||M>=Math.PI||l>Math.PI)&&(i=c,S=u,D=p,C=l,f<Math.PI&&(i={x:d.x-_,y:d.y},D=Math.PI,C=l-(Math.PI-f)),M<Math.PI&&(S={x:d.x+_,y:d.y},C=l-M,C>Math.PI&&(C=Math.PI)),r.fillStyle=a?a:this.bright(o,0),r.beginPath(),r.moveTo(i.x,i.y),this.drawArc(r,d.x,d.y,D,C,_,y,!0),r.lineTo(S.x,S.y+s),this.drawArc(r,d.x,d.y+s,D+C,-C,_,y,!0),r.closePath(),r.fill(),(f==M||f>Math.PI&&M<f)&&(S={x:d.x+_,y:d.y},C=l-M,C>Math.PI&&(C=Math.PI),r.beginPath(),r.moveTo(i.x,i.y),this.drawArc(r,d.x,d.y,D,C,_,y,!0),r.lineTo(S.x,S.y+s),this.drawArc(r,d.x,d.y+s,D+C,-C,_,y,!0),r.closePath(),r.fill()),(f==M||M>Math.PI&&f>M)&&(t=d.x+Math.cos(Math.PI)*_,x=d.y-Math.sin(Math.PI)*y,S={x:d.x+Math.cos(M)*_,y:d.y-Math.sin(M)*y},C=M-Math.PI,C>Math.PI&&(C=Math.PI),r.beginPath(),r.moveTo(t,x),this.drawArc(r,d.x,d.y,Math.PI,C,_-1,y-1,!0),r.lineTo(S.x,S.y+s),this.drawArc(r,d.x,d.y+s,Math.PI+C,-C,_,y,!0),r.closePath(),r.fill()),g&&(this.apply(r,g),r.beginPath(),this.drawArc(r,d.x,d.y,D,C,v,n,!0),r.stroke(),r.beginPath(),this.drawArc(r,d.x,d.y+s,D+C,-C,_,y,!0),r.stroke()),m&&(this.apply(r,m),r.beginPath(),r.moveTo(i.x,i.y),r.lineTo(i.x,i.y+s),r.closePath(),r.stroke(),r.beginPath(),r.moveTo(S.x,S.y),r.lineTo(S.x,S.y+s),r.closePath(),r.stroke())),r.fillStyle=a?a:Qi.color2rgba(o.color,o.alpha),r.beginPath(),r.moveTo(u.x,u.y),!g&&(f>=Math.PI||M>=Math.PI||l>Math.PI)&&(g=new w(this.bright(o,30))),0==v?(r.lineTo(d.x,d.y),r.lineTo(c.x,c.y),this.drawArc(r,d.x,d.y,p,l,_,y,!0),r.closePath(),r.fill(),m&&(this.apply(r,m),r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(d.x,d.y),r.lineTo(c.x,c.y),r.stroke()),g&&(this.apply(r,g),r.beginPath(),this.drawArc(r,d.x,d.y,p,l,_-.5,y,!0),r.stroke())):(e=d.x+Math.cos(p+l)*v,i=d.y-Math.sin(p+l)*n,s=d.x+Math.cos(p)*v,a=d.y-Math.sin(p)*n,r.lineTo(e,i),this.drawArc(r,d.x,d.y,p+l,-l+1e-6,v,n,!0),r.lineTo(c.x,c.y),this.drawArc(r,d.x,d.y,p,l,_,y,!0),r.closePath(),r.fill(),g&&(this.apply(r,g),r.beginPath(),this.drawArc(r,d.x,d.y,D,C,_-.5,y,!0),r.stroke()),m&&(this.apply(r,m),r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(e,i),r.closePath(),r.stroke(),r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(s,a),r.closePath(),r.stroke())),r.restore()}},ki(Ye,K),Ye.prototype.draw=function(){var t,e,i,s,a=this.data,r=this.graphics,n=this.apply;t=this.pattern,e=this.depth,i=a.fill;var o=a.angle,l=a.origin,d=a.startAngle+(r.svg?1*Math.PI/180:0),c=d+o,u=a.outerRadius||this.outerRadius,a=a.innerRadius||this.innerRadius,p=t?new w("#000"):this.stroke,f=t?new w("#000"):this.radialStroke,o=Number(o.toFixed(4)),d=Number(d.toFixed(4)),c=Number(c.toFixed(4));if(!(0>o||d>=c)){if(u=p?u-Math.max(p.weight/2,this.SHADOW_INSET):u-this.SHADOW_INSET,u=Math.max(u,a),0>a&&(a=1),0>u&&(u=1),h(e),t?r.fillStyle=t:(i=Qi.color2rgba(i.color,i.alpha||0),r.fillStyle=i),new b(l.x-u,l.y-u,2*u,2*u,(!0)),t=l.x+Math.cos(d)*u,e=l.y-Math.sin(d)*u,i=l.x+Math.cos(c)*u,s=l.y-Math.sin(c)*u,r.save(),n(r,f),r.beginPath(),r.moveTo(i,s),Fs&&(d||(d=.001),c||(c=.001),.001>Math.abs(d-c)))return;if(0==a)r.lineTo(l.x,l.y),r.lineTo(t,e),r.arc(l.x,l.y,u,-d,-c,!0),r.fill(),r.closePath(),f&&(r.beginPath(),r.moveTo(i,s),r.lineTo(l.x,l.y),r.lineTo(t,e),r.stroke(),r.closePath()),p&&(r.beginPath(),r.moveTo(t,e),n(r,p),r.arc(l.x,l.y,u,-d,-c,!0),r.stroke(),r.closePath());else{var g=l.x+Math.cos(c)*a,m=l.y-Math.sin(c)*a,_=l.x+Math.cos(d)*a,y=l.y-Math.sin(d)*a;r.lineTo(g,m),Os||r.svg?(r.arc(l.x,l.y,a,-c,-d-5e-4,!1),r.lineTo(t,e),Number((Math.PI/180*360).toFixed(4))-o+Number(d)==d?r.arc(l.x,l.y,u,-c-5e-4,-d,!0):r.arc(l.x,l.y,u,-d,-c,!0)):(r.arc(l.x,l.y,a,-c,-d,!1),r.lineTo(t,e),r.arc(l.x,l.y,u,-d,-c,!0)),r.closePath(),r.fill(),f&&(r.beginPath(),r.moveTo(i,s),r.lineTo(g,m),r.stroke(),r.closePath(),r.beginPath(),r.moveTo(_,y),r.lineTo(t,e),r.stroke(),r.closePath()),p&&(r.save(),r.beginPath(),n(r,p),r.arc(l.x,l.y,a,-c,-d,!1),r.stroke(),r.closePath(),r.restore(),r.beginPath(),n(r,p),r.arc(l.x,l.y,u,-d,-c,!0),r.stroke())}r.restore()}},ki(Xe,K),Xe.prototype.draw=function(t,e,i,s,a){var r=this.stroke;(a=this.graphics||a)&&(this.apply(a,r),t=this.createRect(t,e,i,s),this.begin(a,this,t,this.fill),this.drawPath(a,t),a.fill(),r&&a.stroke())},Xe.prototype.drawPath=function(t,e){var i=this._offset,s=e.left,a=e.top,r=e.width,n=e.height,o=s+r/2,h=a+n/2;t.beginPath(),t.moveTo(s+i+1.5,a+i),t.lineTo(o,h-1.5),t.lineTo(s+r-i-1.5,a+i),t.lineTo(s+r-i,a+i+1.5),t.lineTo(o+1.5,h),t.lineTo(s+r-i,a+n-i-1.5),t.lineTo(s+r-i-1.5,a+n-i),t.lineTo(o,h+1.5),t.lineTo(s+i+1.5,a+n-i),t.lineTo(s+i,a+n-i-1.5),t.lineTo(o-1.5,h),t.lineTo(s+i,a+i+1.5),t.lineTo(s+i+1.5,a+i),t.closePath()},ki(Je,K),Je.prototype.draw=function(t,e,i,s,a){var r=this.stroke,n=this.graphics||a;n&&(this.apply(n,r),a=this.createRect(t,e,i,s),this.begin(n,this,a,this.fill),n.beginPath(),n.arc(t+.5*i,e+.5*s,.5*i,0,2*Math.PI,!0),n.closePath(),n.fill(),r&&n.stroke(),this.apply(n,new w("#ffffff",2)),n.beginPath(),n.moveTo(t+.2*i,e+.6*s),n.lineTo(t+.5*i,e+.3*s),n.lineTo(t+.8*i,e+.6*s),n.stroke())},ki(je,K),je.prototype.draw=function(t,e,i,s,a){var r=this.stroke,n=this.graphics||a;n&&(this.apply(n,r),a=this.createRect(t,e,i,s),this.begin(n,this,a,this.fill),n.beginPath(),n.arc(t+.5*i,e+.5*s,.5*i,0,2*Math.PI,!0),n.closePath(),n.fill(),r&&n.stroke(),this.apply(n,new w("#ffffff",2)),n.beginPath(),n.moveTo(t+.2*i,e+.4*s),n.lineTo(t+.5*i,e+.7*s),n.lineTo(t+.8*i,e+.4*s),n.stroke())},Qe._defaultStyles={labelPosition:"none"},ki(Qe,ct),Qe.prototype.getItems=function(){return[]},Qe.prototype.getSelectedIndex=function(){var t=this._selectedItems.length;return 0<t?this._selectedItems[t-1].index:-1},Qe.prototype.setSelectedIndex=function(t){1==this._selectedItems.length&&this._selectedItems[0].index==t||(this.getItems()?(t=this._getChartItemFor(t))&&(this._selectionDirtyArray=[t],this._selectionDirty=!0,this.invalidateProperties()):(this._selectionIndicesDirty=!0,this._selectionIndicesDirtyArray.push(t),this.invalidateProperties()))},Qe.prototype.getSelectedIndices=function(){var t,e=[],i=this._selectedItems.length;for(t=0;t<i;t+=1)e.push(this._selectedItems[t].index);return e},Qe.prototype.setSelectedIndices=function(t){var e,i;if(this._selectedItems.length||t){if(this.getItems()){for(this._selectionDirtyArray=[],e=0;e<t.length;e+=1)(i=this._getChartItemFor(t[e]))&&this._selectionDirtyArray.push(i);this._selectionDirty=!0}else this._selectionIndicesDirty=!0,this._selectionIndicesDirtyArray=t;this.invalidateProperties()}},Qe.prototype.getSelectedItems=function(){return this._selectedItems},Qe.prototype.setSelectedItems=function(t){(this._selectedItems.length||t.length)&&(this._selectionDirtyArray=t,this._selectionDirty=!0,this.invalidateProperties())},Qe.prototype.getSelectedItem=function(){var t=this._selectedItems.length;return 0<t?this._selectedItems[t-1]:null},Qe.prototype.setSelectedItem=function(t){1==this._selectedItems.length&&this._selectedItems[0]==t||(this._selectionDirtyArray=[t],this._selectionDirty=!0,this.invalidateProperties())},Qe.prototype.getVerticalAxis=function(){return this._verticalAxis},Qe.prototype.setVerticalAxis=function(t){this._verticalAxis=t,this._bAxesDirty=!0,this.invalidateData(),this.invalidateProperties()},Qe.prototype.getHorizontalAxis=function(){return this._horizontalAxis},Qe.prototype.setHorizontalAxis=function(t){this._horizontalAxis=t,this._bAxesDirty=!0,this.invalidateData(),this.invalidateProperties()},Qe.prototype.getSelectionContainer=function(){if(this._selectionContainer)return this._selectionContainer},Qe.prototype.getDisplayName=function(){return this._displayName},Qe.prototype.setDisplayName=function(t){var e=this.getChart();this._displayName=t,e&&e.legendDataChanged()},Qe.prototype.setVisible=function(t){var e;x.prototype.setVisible.call(this,t),this.labelLayer&&this.labelLayer.setVisible(t),(e=this.getSelectionContainer())&&e.setVisible(t),this.displayNameLabel&&this.displayNameLabel.setVisible(t)},Qe.prototype.changeClassName=function(t,e){var i,s,a=this.getSelectedItems(),r=e?js:Qs,n="Kool__"+t;for(r(this,n),this.labelLayer&&r(this.labelLayer,n),i=0,s=a.length;i<s;i+=1)r(a[i]._canvas,n)},Qe.prototype._dataChanged=function(){this.invalidateData(!0),Qe._super._dataChanged.call(this)},Qe.prototype.setDataTransform=function(t){var e;if(this._dataTransform&&this._dataTransform.removeEventListener("transformChange",this._transformChangeHandler),t)Qe._super.setDataTransform.call(this,t),t.addEventListener("transformChange",this._transformChangeHandler,!1,0,!0);else for(e in this._dataTransform.axes)this._dataTransform.getAxis(e).unregisterDataTransform(this._dataTransform)},Qe.prototype.getItemsInRegion=function(t){return[]},Qe.prototype._addItemtoSelection=function(t){this._selectedItems.push(t),t.setCurrentState(aa)},Qe.prototype._removeItemFromSelection=function(t,e){e||(e=ra);var i=this._selectedItems.indexOf(t);this._selectedItems.splice(i,1),t.setCurrentState(e)},Qe.prototype._setItemState=function(t){var e,i;if(i=this._renderData?this._renderData.filteredCache:[])for(e=0;e<i.length;e+=1)i[e].setCurrentState(t)},Qe.prototype._clearSeriesItemsState=function(t,e){t&&(this._selectedItems=[]),e||(e=ia),this._setItemState(e)},Qe.prototype._emptySelectedItems=function(){this._selectedItems=[]},Qe.prototype.setStyles=function(t){qi.extend(this._styles,t)},Qe.prototype.styleChanged=function(t){Qe._super.styleChanged.call(this),this.stylesInitialized()},Qe.prototype.stylesInitialized=function(){this.legendDataChanged()},Qe.prototype.getLegendData=function(){var t,e,i=this.getChart();e=this.itemRenderer;var s=this.legendMarkerRenderer;return t=new _t,t.target=this,t.label=this._displayName,!s&&e&&(s=e),s?(e=s.newInstance(),t.aspectRatio=1):e&&this.radius&&!h(this.radius)?(e=e.newInstance(),t.aspectRatio=1):e=new Se,t.marker=e,t.fill=this.getMarkerFill(),t.stroke=this.getMarkerStroke(),i&&i._enablePattern&&(t.pattern=Ms.defaultPatternFunc(this,null,this.seriesIndex),t.stroke=new w("#000000")),[t]},Qe.prototype.getMarkerFill=function(){var t=this.getStyle("fills");return t&&t[0]||this.getStyle("fill")},Qe.prototype.getMarkerStroke=function(){return this.getStyle("stroke")},Qe.prototype.legendDataChanged=function(){var t=this.getChart();t&&t.dispatchEvent(new cs("legendDataChanged"))},Qe.prototype._getChartItemFor=function(t){var e,i,s=0;for(i=this._renderData?this._renderData.filteredCache:[],s=0;s<i.length;s+=1)if(i[s].index==t){e=i[s];break}return e},Qe.prototype.getRenderData=function(){var t;return this._renderData&&this._renderData.cache&&0!=this._renderData.cache.length?this._renderData:(t=new St,t.cache=t.filteredCache=[],t)},Qe.prototype.setUserDefineDirty=function(t){this._userDefineDirty=t},Qe.prototype.getTransformState=function(){return this._bTransformDirty},Qe.prototype.createLabelLayer=function(){!this._labelLayerCreated&&("none"!=this.getStyle("labelPosition")||this.lineToEachItems||this.showMaxValueLabel||this.showMinValueLabel||this.showTrendLine||this.showErrorBar)&&(this._labelLayerCreated=!0,this.labelLayer=new ct(this.className+"LabelLayer"),this.labelLayer.getChart=this.getChart,this.labelLayer.owner=this)},Qe.prototype.allSeriesRenderingComplete=function(){var t=this.getChart();t&&this.allSeriesTransform&&t.allSeriesRenderingComplete(this)},Qe.prototype.setActualSize=function(t,e){this.invalidateTransform(!0),x.prototype.setActualSize.call(this,t,e)},Qe.prototype.commitProperties=function(){x.prototype.commitProperties.call(this),Os||o(this.getAllowNegativeForStacked)||!this.interactive||this.getChart().getSelectionMode()==ia||this._selectionContainer||(this._selectionContainer=new y("div","SelectionContainer Kool__pointer-events-none"),this._selectionContainer.setStyle("position","absolute"),this.getChart().addChildAt(this._selectionContainer,this.getChart().getChildIndex(this)+1)),this._selectionDirty&&(this._selectionDirty=!1,this.selectable&&this.getChart()&&this.getChart()._seriesSelectionChanged(this,this._selectionDirtyArray))},Qe.prototype.updateDisplayList=function(t,e){x.prototype.updateDisplayList.call(this,t,e),0==this.userVisible&&this.setVisible(this.userVisible),this._bHideTransitionDirty&&(this._bHideTransitionDirty=!1),this.validateData(),this.validateTransform(),this._validateSelection(),this._selectionContainer&&(this._selectionContainer.move(this.getX(),this.getY()),this._selectionContainer.setActualSize(t,e),this._selectedItemsUpdate())},Qe.prototype._selectedItemsUpdate=function(){var t,e,i,s=this.getSelectedItems();if(0<(e=this._selectionContainer.getNumChildren()))for(t=0;t<e;t+=1)i=this._selectionContainer.getChildAt(t).owner,i.getCurrentState()==sa&&i.setCurrentState(ia);if(0<(e=s.length))for(t=0;t<e;t+=1)i=s[t],i._canvas&&i.element._updateItemState(i,i.getCurrentState(),i._canvas)},Qe.prototype.updateSeriesItem=function(){},Qe.prototype._updateItemState=function(t,e,i){},Qe.prototype._validateSelection=function(){this._selectionIndicesDirty?(this._selectionIndicesDirty=!1,this.setSelectedIndices(this._selectionIndicesDirtyArray),this._selectionIndicesDirtyArray=[]):this._selectionDirty&&(this._selectionDirty=!1)},Qe.prototype.validateData=function(){this._dataTransform&&(this._bDataDirty&&(this._selectionDirty=!0,this.updateData()),this._bMappingDirty&&(this._selectionDirty=!0,this.updateMapping()))},Qe.prototype.updateData=function(){this._bDataDirty=!1},Qe.prototype.updateMapping=function(){this._bMappingDirty=!1},Qe.prototype.validateTransform=function(){this._dataTransform&&(this._bFilterDirty&&(this._selectionDirty=!0,this.updateFilter()),this._bTransformDirty&&(this._selectionDirty=!0,this.updateTransform()))},Qe.prototype.updateFilter=function(){this._bFilterDirty=!1},Qe.prototype.updateTransform=function(){this._bTransformDirty=!1},Qe.prototype.getAxis=function(t){return this._dataTransform.getAxis(t)},Qe.prototype.setAxis=function(t,e){this._dataTransform.setAxis(t,e)},Qe.prototype.chartStateChanged=function(t,e){this.invalidateDisplayList(),e!=ta&&e!=qs||(this._transitionRenderDataOpp=this._transitionRenderData=null),ct.prototype.chartStateChanged.call(this,t,e)},Qe.prototype.collectTransitions=function(t,e){var i,s=null;t==ut.PREPARING_TO_HIDE_DATA&&this.getChart().renderingComplete?(s=R.createEffectForType(this,"hideData"))&&(i=s.createInstance(this),i instanceof ne&&(i.type="hide")):t==ut.PREPARING_TO_SHOW_DATA&&(this.validateProperties(),s=R.createEffectForType(this,"showData"))&&(i=s.createInstance(this),i instanceof ne&&(i.type="show")),i&&e.push(i),Qe._super.collectTransitions.call(this,t,e)},Qe.prototype.invalidateData=function(t){void 0==t&&(t=!0),t?(this._bTransformDirty=this._bFilterDirty=this._bMappingDirty=this._bDataDirty=!0,this.invalidateTransitions(),this.invalidateDisplayList()):this._bDataDirty=!1},Qe.prototype.invalidateMapping=function(t){this.stacker&&this.stacker.invalidateStacking(),void 0==t&&(t=!0),1==t?(this._bTransformDirty=this._bFilterDirty=this._bMappingDirty=this._bDataDirty=!0,this.invalidateTransitions(),this.invalidateDisplayList()):this._bMappingDirty=!0},Qe.prototype.invalidateFilter=function(t){void 0==t&&(t=!0),t?(this._transformDirty=this._bFilterDirty=!0,this.invalidateTransitions(),this.invalidateDisplayList()):this._bFilterDirty=!1},Qe.prototype.invalidateTransform=function(t){void 0==t&&(t=!0),t?(this._bTransformDirty=!0,this.invalidateDisplayList()):this._bTransformDirty=!1},Qe.prototype.invalidateTransitions=function(){var t=this.getChart();this._bHideTransitionDirty||(this._previousTransitionData=this.getRenderData(),t&&t.hideData(),this._bHideTransitionDirty=!0)},Qe.prototype.mappingChanged=function(){this.invalidateMapping(!0)},Qe.prototype.stripNaNs=function(t,e){if(0!=this.filterData){var i,s=-1,a=-1;if(""==e)for(i=t.length-1;0<=i;i--)h(t[i])&&(0>a?a=s=i:s-1==i?s=i:(t.splice(s,a-s+1),a=s=i));else for(i=t.length-1;0<=i;i--)h(t[i][e])&&(0>a?a=s=i:s-1==i?s=i:(t.splice(s,a-s+1),a=s=i));0<=a&&t.splice(s,a-s+1)}},Qe.prototype.cacheDefaultValues=function(t,i,s){var a,r,n=i.length;if(null!=this.dataFunction){for(a=0;a<n;a++)r=i[a],r[s]=this.dataFunction(this,r.item,s);return!0}if(""!=t&&t){for(a=0;a<n;a++)r=i[a],null!=r.item&&(e(r.item[t])?this.cacheArrayValues(r,t,s):r[s]=r.item[t]);return!0}for(a=0;a<n;a++)r=i[a],r[s]=r.item;return!1},Qe.prototype.cacheArrayValues=function(t,e,i){},Qe.prototype.cacheNamedValues=function(t,e,i){var s,a,r=e.length;if(""==t)return!1;for(a=0;a<r;a++)s=e[a],null!=s.item&&(s[i]=s.item[t]);return!0},Qe.prototype.cacheIndexValues=function(t,e,i){var s,a,r=e.length;if(null!=this.dataFunction){for(s=0;s<r;s++)a=e[s],a[i]=this.dataFunction(this,a.item,i);return!0}if(""==t){for(s=0;s<r;s++)a=e[s],a[i]=a.index;return!1}for(s=0;s<r;s++)a=e[s],null!=a.item&&(a[i]=a.item[t]);return!0},Qe.prototype.extractMinInterval=function(t,e,i){var s,a,r,n=t.length,o=Number.POSITIVE_INFINITY;for(s=0;s<n&&(a=t[s][e],0!=h(a));s++);if(!h(a)){for(r=a,s++;s<n;s++)a=t[s][e],h(a)||(a-r<o&&(o=Math.abs(a-r)),r=a);o<Number.POSITIVE_INFINITY&&(o<i.minInterval||h(i.minInterval))&&(i.minInterval=o)}},Qe.prototype.extractMinMax=function(t,e,i,s,a,r){var n,o;a=a||0,r=r||t.length;var l=Number.POSITIVE_INFINITY;if(h(i.min)){for(;a<r&&(n=t[a][e],0!=h(n));a++);if(h(n))return;o=i.min=i.max=n}for(a++;a<r;a++)n=t[a][e],h(n)||(n<i.min&&(i.min=n),n>i.max&&(i.max=n),s&&n-o<l&&(l=Math.abs(n-o)),o=n);s&&l<Number.POSITIVE_INFINITY&&(l<i.minInterval||h(i.minInterval))&&(i.minInterval=l)},Qe.prototype.compareSize=function(t){return 0>t.left+t.width||t.left>this._unscaledWidth||0>t.top+t.height||t.top>this._unscaledHeight},Qe.prototype.allSeriesRenderingComplete=function(){var t=this.getChart();t&&(t.getDataProvider()&&this.htmlJsFunction&&this.displayUserElement(),t.allSeriesRenderingComplete(this))},Qe.prototype.reverseYValues=function(t){for(var e=0,i=t.length;e<i;e+=1)t[e].yValue=-t[e].yValue,null==this.minField||""==this.minField||Us("Bar",this.className)||(t[e].minValue=-t[e].minValue);return t},Qe.prototype.reverseXValues=function(t){for(var e=0,i=t.length;e<i;e+=1)t[e].xValue=-t[e].xValue,null==this.minField||""==this.minField||Us("Bar",this.className)||(t[e].minValue=-t[e].minValue);return t},Qe.prototype.getRenderDataForTransition=function(t){return"hide"==t?this._previousTransitionData:(this.validateData(),this.validateTransform(),this._renderData)},Qe.prototype.getElementBounds=function(t){},Qe.prototype.endInterpolation=function(t){this._transitionRenderDataOpp=this._transitionRenderData=null},Qe.prototype.beginInterpolation=function(t,e){return null},Qe.prototype.interpolate=function(t,e){this._applyInterpolation(e,t)},Qe.prototype._initializeInterpolationData=function(t,e,i,s,a){void 0==s&&(s=null),void 0==a&&(a=null);var r,n=[],o=[],l=[],d=Math.max(t.length,e.length);s||(s=Object);var c,u,p,f,g,m,_,y,v,x,b;for(r=0;r<d;r+=1){c=t[r],u=e[r],p=null==u?c.clone():u.clone(),f=null==c?u.clone():c.clone(),g=new s,m={},_={},y=!1;for(v in i)x=c?c[v]:NaN,b=u?u[v]:NaN,h(x)||h(b)?(y=!0,m[v]=x,_[v]=b):(f[v]=x,p[v]=x,g[v]=b-x);if(y)for(v in this._getMissingInterpolationValues(m,t,_,e,r,a),m)x=m[v],f[v]=x,p[v]=x,g[v]=_[v]-x;l[r]=f,n[r]=p,o[r]=g}return{cache:n,interpolationSource:l,deltaCache:o,properties:i}},Qe.prototype._getMissingInterpolationValues=function(t,e,i,s,a,r){},Qe.prototype._applyInterpolation=function(t,e){var i,s,a,r,n,o,l,d=e.length,c=t.interpolationSource,u=t.deltaCache,p=t.cache,f=t.properties,d=p.length;for(l=0;l<d;l+=1)for(o in s=e[l],a=c[l],r=u[l],n=p[l],f)i=h(r[o]*s)?0:r[o]*s,n[o]=a[o]+i},Qe.prototype._addBrightToColor=function(t,e){var i,s,a,n,o,h;if(t instanceof I||t instanceof A){for(o=new t.constructor,o.angle=t.angle,h=[],t.focalPointRatio&&(o.focalPointRatio=t.focalPointRatio),i=0,s=t._entries.length;i<s;i+=1)n=t._entries[i],a=new M,a.color=Qi.rgbaArr2hex(Qi.color2RgbaArr(Qi.adjustBrightness(n.color,e))),a.alpha=n.alpha,a.ratio=n.ratio,h.push(a);o.setEntries(h)}else o=new T(r(t)?Qi.rgbaArr2hex(Qi.color2RgbaArr(Qi.adjustBrightness(t,e))):Qi.adjustBrightness(t||"#000",e));return o},Qe.prototype._transformChangeHandler=function(t){this.invalidateTransform()},Qe.prototype.claimStyles=function(t,e){return this.setInternalStyleName(t[e]),(e+1)%t.length},Qe.prototype.getInternalStyleName=function(){return this._internalStyleName},Qe.prototype.setInternalStyleName=function(t){(this._internalStyleName=t)&&this.styleChanged("styleName")},Qe.prototype.clear=function(){Qe._super.clear.call(this)},Qe.prototype.labelClear=function(){this.labelLayer&&this.labelLayer.clear()},Qe.prototype.displayUserElement=function(){var t,e,i,s,a,r,n=this.getChart();if(this._userDefineDirty)for(a in t=n._userDefineCache)t[a]&&!(r=t[a]).free&&this._updateHTMLPosition(r.element,r.seriesItem,r.data);else for(this.setUserDefineDirty(!0),t=0,e=this._renderData.filteredCache.length;t<e;t+=1)if(s=this._renderData.filteredCache[t],r=Ms.seriesFunc(s,this,this.htmlJsFunction)){if(i=n.getUserDefineWrapper(s,r),this.getChart().addChild(i),r.content.nodeName){for(;i.element.childNodes[0];)i.element.removeChild(i.element.childNodes[0]);i.element.appendChild(r.content)}else i.element.innerHTML=r.content;if(i.setStyle("visibility","hidden"),r.className&&js(i.element,r.className),r.styles)for(a in r.styles)i.setStyle(a,r.styles[a]);if(r.events)for(a in r.events)i.addEvent(a,r.events[a]);0<r.period&&function(t,e){setTimeout(function(){var i=e._userDefineCache[t.uno];i.free=!0,i.data=i.seriesItem=null,t.element.parentNode&&e.removeChild(t);try{delete e._userDefineCache[t.uno]}catch(s){e._userDefineCache[t.uno]=null}},r.period)}(i,n),this.callLater(function(t,e,i){i.width&&t.setWidth(i.width),i.height&&t.setHeight(i.height),this._updateHTMLPosition(t,e,i),t.setStyle("visibility","visible")},[i,s,r])}},Qe.prototype._updateHTMLPosition=function(t,e,i){var s=i.topOffset||0,a=i.leftOffset||0,r=this.getX(),n=this.getY();d(i.horizontalCenter)?d(i.right)?(r+=e.element.getRenderData().renderedXOffset||0,t.setX(d(i.left)?r+e.x-.5*t.getWidth()+a:i.left)):t.setX(r+this._unscaledWidth-t.getWidth()-i.right):t.setX(r+.5*this._unscaledWidth+i.horizontalCenter-.5*t.getWidth()),d(i.verticalCenter)?d(i.bottom)?(n+=e.element.getRenderData().renderedYOffset||0,t.setY(d(i.top)?n+e.y-.5*t.getHeight()+s:i.top)):t.setY(n+this._unscaledHeight-t.getHeight()-i.bottom):t.setY(n+.5*this._unscaledHeight+i.verticalCenter-.5*t.getHeight())},Qe.prototype.defaultFillFunction=function(t){return Ms.defaultFillFunc(this,t)},ki(Ke,Qe),Ke.prototype.getHorizontalAxis=function(){return this._horizontalAxis},Ke.prototype.setHorizontalAxis=function(t){this._horizontalAxis=t,this._bAxesDirty=!0,this.invalidateData(),this.invalidateProperties()},Ke.prototype.getVerticalAxis=function(){return this._verticalAxis},Ke.prototype.setVerticalAxis=function(t){this._verticalAxis=t,this._bAxesDirty=!0,this.invalidateData(),this.invalidateProperties()},Ke.prototype.commitProperties=function(){var t=this.getChart(),e=this._dataTransform;Ke._super.commitProperties.call(this),e&&(this._horizontalAxis&&(this._horizontalAxis.setChartDataProvider(this._dataProvider),e.setAxis("h",this._horizontalAxis)),this._verticalAxis&&(this._verticalAxis.setChartDataProvider(this._dataProvider),e.setAxis("v",this._verticalAxis))),t&&(this._horizontalAxis||e.axes.h!=t._horizontalAxis&&e.setAxis("h",t._horizontalAxis),this._verticalAxis||e.axes.v!=t._verticalAxis&&e.setAxis("v",t._verticalAxis)),e.elements=[this]},Ke.prototype.updateData=function(){this.showTrendLine&&this._updateTrendLine(this instanceof ri?"h":"v"),Ke._super.updateData.call(this)},Ke.prototype.updateTransform=function(){var t=this._dataTransform,e=this._renderData.filteredCache,i=this._trendLineInfos.caches;this instanceof ri?(0<i.length&&this._dataTransform.transformCache(this._trendLineInfos.caches,"y0","x","x0","y"),0<e.length&&void 0!=e[0].errorBeginValue&&(t.transformCache(e,"errorBeginValue","errorBegin",null,null),t.transformCache(e,"errorEndValue","errorEnd",null,null))):(0<i.length&&this._dataTransform.transformCache(this._trendLineInfos.caches,"x0","x","y0","y"),0<e.length&&void 0!=e[0].errorBeginValue&&(t.transformCache(e,null,null,"errorBeginValue","errorBegin"),t.transformCache(e,null,null,"errorEndValue","errorEnd"))),Ke._super.updateTransform.call(this)},Ke.prototype.cacheArrayValues=function(t,e,i){var s,a,r=0;for(a=t.item[e],e=0,s=a.length;e<s;e+=1)r+=Number(a[e]);t[i]=r/s},Ke.prototype.drawTrendLine=function(){var t,e,i;t="";var s;if(e=this._trendLineInfos.caches,this.showTrendLine&&this.labelLayer&&(i=this.labelLayer.graphics,i.save(),i.beginPath(),ts.drawPolyLine(i,e,0,e.length,"x","y",this.trendLineStroke,this.trendLineForm,!0),i.closePath(),i.restore(),this.showTrendLineEquation||this.showTrendLineRSquared)){switch(i=this._trendLineInfos.equation,s=this._trendLineInfos.rsquared,"reverse"==this.trendLineLabelOrder&&(i=this._trendLineInfos.rsquared,s=this._trendLineInfos.equation),i&&(t+=i),s&&(i&&(t+="\n"),t+=s),this.setFont({fontSize:12,color:this.trendLineColor}),i=this.measureText(t),this.trendLineLabelHorizontalAlign){case"left":t=4;break;case"right":t=this._unscaledWidth-i.width-4;break;case"center":t=.5*(this._unscaledWidth-i.width);break;default:t=e[e.length-1].x,t=t+i.width>=this._unscaledWidth?t-(i.width+4):0>=t?4:t+4}switch(this.trendLineLabelVerticalAlign){case"top":e=4;break;case"bottom":e=this._unscaledHeight-i.height-4;break;default:e=e[e.length-1].y,e=0>=e-i.height?4:e+i.height>=this._unscaledHeight?e-(i.height+4):e-.5*i.height}this.fillText(i,t,e)}},Ke.prototype.drawErrorBar=function(){},Ke.prototype._updateTrendLine=function(t){var e,i,s,a,r,n,o,h=[],l=this.trendLineType,d=this._renderData.cache,c=d.length,u=this.movingAveragePeriod,p=("h"==t?"y":"x")+"Value",f=("h"==t?"x":"y")+"Value";if(this.getChart()instanceof lt&&!(1>d.length)){this._dataTransform.getAxis(t);var g;switch(l){case"linear":g=function(t,e,i){return t*i+e};break;case"logarithmic":g=function(t,e,i){return t*Math.log(i)+e};break;case"power":g=function(t,e,i){return Math.exp(e)*Math.pow(i,t)};break;case"exponential":g=function(t,e,i){return Math.exp(e)*Math.pow(Math.E,i*t)};break;case"movingAverage":for(i=0;i<c-u+1;i+=1){for(s=o=0,a=u;s<a;s+=1)e=d[i+s],o+=Number(e[f]);h.push({x0:e[p],y0:o/this.movingAveragePeriod})}this._trendLineCaches=h.concat();break;case"polynomial":o=0;var m,_,y=[],u=[];for(a=this.polynomialOrder,a>c&&(a=c),a+=1,s=0;s<a;s+=1){for(i=0;i<c;i+=1)e=d[i],o+=Math.pow(e[p],s)*Number(e[f]);for(y.push(o),o=0,m=[],i=0;i<a;i+=1){for(e=0;e<c;e+=1)o+=Math.pow(d[e][p],s+i);m.push(o),o=0}u.push(m)}for(u.push(y),i=0,c=u.length-1;i<c;i+=1){for(_=i,s=i+1;s<c;s+=1)e=u[i],Math.abs(e[s])>Math.abs(e[_])&&(_=s);for(e=i;e<c+1;e+=1)a=u[e][i],u[e][i]=u[e][_],u[e][_]=a;for(s=i+1;s<c;s+=1)for(e=c;e>=i;--e)u[e][s]-=u[e][i]*u[i][s]/u[i][i]}for(_=[],s=c-1;0<=s;--s){for(a=0,e=s+1;e<c;e+=1)a+=u[e][s]*_[e];_[s]=(u[c][s]-a)/u[s][s]}for(s=Yi.sortOn(d,p).concat(),i=s[0][p],c=s[s.length-1][p];i<=c;i+=1){for(s=o=0,a=_.length;s<a;s+=1)o+=_[s]*Math.pow(i,s);h.push({x0:i,y0:o})}a=y=u=m=null}"movingAverage"!=l&&"polynomial"!=l&&(h=this._getFieldAvr(p,f,d,l),r=h.slope,n=h.intercept,h=this._calculateEquation(d,r,n,g,t)),this.showTrendLineEquation&&this._getEquationString(r,n,_),this.showTrendLineRSquared&&"movingAverage"!=l&&this._cod(d,h,t),this._trendLineInfos.caches=h.concat()}},Ke.prototype._calculateEquation=function(t,e,i,s,a){var r,n=[],o=t.length,h=("h"==a?"y":"x")+"Value";
if(this._dataTransform.getAxis("h"==a?"v":"h")instanceof At)for(a=0;a<o;a+=1)n.push({x0:a,y0:s(e,i,t[a][h]+1)});else for(r=Yi.sortOn(t,h).concat(),o=r.length,a=0;a<o;a+=1)t=r[a],n.push({x0:t[h],y0:s(e,i,t[h])});return n},Ke.prototype._getEquationString=function(t,e,i){var s="y = <b>";switch(this.trendLineType){case"linear":s+=t.toFixed(2)+"x + "+e.toFixed(2);break;case"logarithmic":s+=t.toFixed(2)+"ln(x) + "+e.toFixed(2);break;case"power":s+=Math.exp(e).toFixed(4)+"x^"+t.toFixed(4);break;case"exponential":s+=Math.exp(e).toFixed(4)+"e^"+t.toFixed(4)+"x";break;case"polynomial":for(t=i.length-1;0<=t;--t)s+=Math.round(100*i[t])/100,1<t?s+="x^"+t+" + ":1==t&&(s+="x + ");break;case"movingAverage":return}this._trendLineInfos.equation=s+"</b>"},Ke.prototype._cod=function(t,e,i){var s=t.length,a=s,r=0,n=0,o=0,h=0;i="h"==i?"x":"y";for(var l=i+"Value",r=0;r<s;r+=1)t[r][l]?h+=t[r][l]:a--;for(h/=a,r=0;r<s;r+=1)t[r][l]&&(o+=Math.pow(t[r][l]-e[r][i+"0"],2),n+=Math.pow(t[r][l]-h,2));this._trendLineInfos.rsquared="R² = <b>"+(1-o/n).toFixed(4)+"</b>"},Ke.prototype._getFieldAvr=function(t,e,i,s){var a,r,n,o=i.length,h=0,l=0,d=0,c=0;for(r=0;r<o;r+=1)a=i[r],n=a[e],a=this._dataTransform.getAxis("xValue"==t?"h":"v")instanceof At?r+1:a[t],"logarithmic"==s&&(a=Math.log(a)),"power"==s&&(a=Math.log(a),n=Math.log(n)),"exponential"==s&&(n=Math.log(n)),h+=a,l+=n,d+=a*n,c+=a*a;return h/=o,l/=o,t=(d-o*h*l)/(c-o*h*h),{slope:t,intercept:l-t*h}},qe._propertyType={series:Array},ki(qe,Qe),qe.prototype.getLegendData=function(){var t,e,i,s=[],a=this.getSeries();for(e=0,i=a.length;e<i;e+=1)(t=a[e].getLegendData())&&(s=s.concat(t));return s},qe.prototype.getSeries=function(){return this._series},qe.prototype.setSeries=function(t){var e=this.chart;this._series=null==t?[]:t,this.invalidateSeries(),e&&e.invalidateSeriesStyles()},qe.prototype.getType=function(){return this._type},qe.prototype.setType=function(t){this.invalidateStacking(),this.invalidateSeries(),this._type=t},qe.prototype.getAllowNegativeForStacked=function(){return this._allowNeg},qe.prototype.setAllowNegativeForStacked=function(t){this.invalidateStacking(),this.invalidateSeries(),this._allowNeg=t},qe.prototype.commitProperties=function(){var t=this._dataTransform,e=this._dataTransformOpp;Qe.prototype.commitProperties.call(this),this.updateStacking(),this._seriesDirty&&(this._seriesDirty=!1,this.buildSubSeries()),this._bAxesDirty&&(t&&(this._horizontalAxis&&(this._horizontalAxis.setChartDataProvider(this._dataProvider),t.setAxis("h",this._horizontalAxis)),this._verticalAxis&&(this._verticalAxis.setChartDataProvider(this._dataProvider),t.setAxis("v",this._verticalAxis))),this._bAxesDirty=!1);var i=this.getChart();!i&&this.owner&&(i=this.owner.getChart()),i&&(this._horizontalAxis||t.axes.h!=i._horizontalAxis&&t.setAxis("h",i._horizontalAxis),this._verticalAxis||t.axes.v!=i._verticalAxis&&t.setAxis("v",i._verticalAxis)),t.elements=[this],e&&(e.elements=[this])},qe.prototype.updateDisplayList=function(t,e){var i;for(Qe.prototype.updateDisplayList.call(this,t,e),this._labelLayerCreated&&(this.labelLayer.clear(),this.labelLayer.move(this.x,this.y),this.labelLayer.setActualSize(t,e)),i=0;i<this._series.length;i++)this._series[i].move(this.x,this.y),this._series[i].setActualSize(t,e)},qe.prototype._clearSeriesItemsState=function(t,e){var i;for(qe._super._clearSeriesItemsState.call(this,t,e),i=0;i<this._series.length;i+=1)this._series[i]._clearSeriesItemsState(t,e)},qe.prototype.getItemsInRegion=function(t){var e,i,s=[];for(e=0;e<this._series.length;e+=1)i=this._series[e],i=i.getItemsInRegion(t),s=s.concat(i);return s},qe.prototype.changeStackedSeriesDirty=function(){var t=0,e=this._series.length;for(this._seriesDirty=!0,this.invalidateProperties();t<e;t+=1)this._series[t]instanceof qe&&this._series[t].changeStackedSeriesDirty()},qe.prototype._processNewDataProvider=function(t){var e,i=this._series.length;for(Qe.prototype._processNewDataProvider.call(this,t),e=0;e<i;e+=1)this._series[e].setChartDataProvider(t)},qe.prototype.updateSetChildSeries=function(t,e,i){return st.prototype.updateSetChildSeries.call(this,t,e,i)},qe.prototype.claimStyles=function(t,e){var i,s,a,r=this.getSeries();for(s=0,a=r.length;s<a;s+=1)i=r[s],e=i.claimStyles(t,e);return e},qe.prototype.mappingChanged=function(){var t,e,i=this._series.length;for(t=0;t<i;t++)(e=this._series[t])&&o(e.mappingChanged)&&e.mappingChanged();Qe.prototype.mappingChanged.call(this)},qe.prototype.describeData=function(t,e){this.updateStacking(),this.validateData();var i,s,a,r;if(a=[],i=this._type,r=this._series,"100%"==i)if("v"==t)a=new pt,a.min=0,a.max=100,a=[a];else for(s=r.length,i=0;i<s;i++)a=a.concat(r[i].describeData(t,e));else if("stacked"==i)if("v"==t)r=[{value:this._stackedMinimum},{value:this._stackedMaximum}],this._dataTransform.getAxis("v").mapCache(r,"value","number"),a=new pt,a.min=r[0].number,a.max=r[1].number,a=[a];else for(s=r.length,i=0;i<s;i++)a=a.concat(this._series[i].describeData(t,e));else for(s=this._series.length,i=0;i<s;i++)a=a.concat(this._series[i].describeData(t,e));return a},qe.prototype.buildSubSeries=function(){for(var t,e;0<this.getNumChildren();)this.removeChildAt(0);for(t=this._series.length-1;0<=t;t--)e=this._series[t],this.customizeSeries(e,t),this.addChild(e);this.getChart()&&this.getChart().invalidateSeriesStyles()},qe.prototype.invalidateSeries=function(){this._seriesDirty||(this._seriesDirty=!0,this.invalidateProperties())},qe.prototype.updateStacking=function(){var t=this._type;if(0!=this._stackingDirty&&this._series){"stacked"!=t&&"100%"!=t||(this.stacker=this);var e,i,s=this._series.length;for(e=0;e<s;e++)i=this._series[e],i instanceof Qe&&(i.stacker=this.stacker,i.owner=this);"stacked"!=t&&"100%"!=t||this.stack(),this._stackingDirty=!1}},qe.prototype.customizeSeries=function(t,e){t.setChartDataProvider(this._dataProvider)},qe.prototype.stack=function(){var t,e,i,s=this._type,a=this._series.length;for(e=null,this._posTotalsByPrimaryAxis=[],this._negTotalsByPrimaryAxis=[],t=this._stackedMaximum=0;t<a;t++)i=this._series[t],"stacked"==s&&this.getAllowNegativeForStacked()?(e=i.stackAll(this._posTotalsByPrimaryAxis,this._negTotalsByPrimaryAxis,e),this._stackedMaximum=Math.max(this._stackedMaximum,e.maxValue),this._stackedMinimum=h(this._stackedMinimum)?e.minValue:Math.min(this._stackedMinimum,e.minValue)):(this._stackedMaximum=Math.max(this._stackedMaximum,i.stack(this._posTotalsByPrimaryAxis,e)),"100%"==s?this._stackedMinimum=0:(e=i.describeData("v",pt.REQUIRED_MIN_MAX|pt.REQUIRED_BOUNDED_VALUES),0<e.length&&(this._stackedMinimum=h(this._stackedMinimum)?e[0].min:Math.min(this._stackedMinimum,e[0].min)))),e=i;for(s="100%"==s?this._posTotalsByPrimaryAxis:null,t=0;t<a;t++)i=this._series[t],i.setStackTotals(s)},qe.prototype.invalidateStacking=function(){0==this._stackingDirty&&(this._stackingDirty=!0,this.invalidateProperties())},qe.prototype.findDataPoints=function(t,e,i,s){var a,r,n=[],o=this._type,h=this._series;for(r=h.length-1;0<=r;r--)(a=h[r])&&0!=a.getVisible()&&(a=a.interactive?a.findDataPoints(t,e,i,s):[],0!=a.length&&(n=n.concat(a)));if(t=n.length,0<t&&("stacked"==o||"100%"==o))for(r=0;r<t;r++)n[r].dataTipFunction=this.formatDataTip;return n},qe.prototype.formatDataTip=function(t){return""},qe.prototype.getTotalsByIndex=function(t){return this._posTotalsByPrimaryAxis[t]||0},Ze._defaultStyles={labelPosition:"none",displayNameFontSize:null,displayNameFontColor:null,displayNameFontFamily:null},ki(Ze,Ke),Ze.prototype.getMarkerFill=function(){return this.itemRenderer?this.getStyle("fill"):this.getStyle("lineStroke")},Ze.prototype.getMarkerStroke=function(){return this.getStyle("lineStroke")},Ze.prototype.getItems=function(){return this._renderData?this._renderData.filteredCache:[]},Ze.prototype.commitProperties=function(){var t=this._dataTransform;Ze._super.commitProperties.call(this),t&&(this._horizontalAxis&&(this._horizontalAxis.setChartDataProvider(this._dataProvider),t.setAxis("h",this._horizontalAxis)),this._verticalAxis&&(this._verticalAxis.setChartDataProvider(this._dataProvider),t.setAxis("v",this._verticalAxis)));var e=this.getChart();e&&(this._horizontalAxis||t.axes.h!=e.getHorizontalAxis()&&t.setAxis("h",e.getHorizontalAxis()),this._verticalAxis||t.axes.v!=e.getVerticalAxis()&&t.setAxis("v",e.getVerticalAxis())),t.elements=[this]},Ze.prototype.updateDisplayList=function(t,e){var i;this._includeInLayout&&(Ze._super.updateDisplayList.call(this,t,e),i=this._renderData,this.labelClear(),!i||!i.filteredCache||1>i.filteredCache.length?this.clear():(!this.showDataEffect||this.showDataEffect&&!this.getChart().getChartState())&&this.updateSeriesItem())},Ze.prototype.updateSeriesItem=function(){var t,e,i,s=this.graphics;t=this.getChart();var a=this._transitionRenderData?this._transitionRenderData:this._renderData,r=a.segments;if(this.clear(),this._includeInLayout){if(e=r.length,0<e){for(this._lineRendererInstance||(this._lineRendererInstance=new this.lineSegmentRenderer),i=this._lineRendererInstance,i.form=this.form,i.width=this._unscaledWidth,i.height=this._unscaledHeight,i.lineStyle=this.lineStyle,i.graphics=this.graphics,i.dashLinePlacement=this.dashLinePlacement,i.dashLineSeperatePos=this.dashLineSeperatePos,i.dashLinePattern=this.dashLinePattern,i.baseValue=a.renderedBase,i.lineStroke=this.getStyle("lineStroke"),i.stroke=this.getStyle("stroke")||i.lineStroke,i.lineDeclineStroke=this.getStyle("lineDeclineStroke")||i.lineStroke,t._enablePattern&&(i.stroke=i.lineStroke=i.lineDeclineStroke=new w("#000000")),s.save(),a.clipBounds&&(t=a.clipBounds,s.beginPath(),s.moveTo(t.left,t.top),s.lineTo(t.right,t.top),s.lineTo(t.right,t.bottom),s.lineTo(t.left,t.bottom),s.closePath(),s.clip()),t=0;t<e;t++)0<r[t].items.length&&(i.data=a.elementBounds?a.elementBounds:a.filteredCache,i.startIndex=r[t].start,i.endIndex=this.interpolateValues?i.data.length-1:r[t].end,i.draw());s.restore()}this.getChart().getChartState()||(this.renderingItemRenderer(a.filteredCache),this.allSeriesRenderingComplete())}},Ze.prototype.renderingItemRenderer=function(t){var e,i,s,a,r,n,o,l,d=this.fill,c=this.radius;e=this.itemRenderer;var u=this.getChart();if("string"==typeof d&&new T(d),e&&(s=this._itemRendererInstance=e.newInstance(),s.graphics=this.graphics,(r=this.getStyle("stroke"))||(r=new w(this.getStyle("lineStroke").color,2)),o=this.getStyle("declineStroke")||r,n=this.getStyle("strokes"),u._enablePattern&&(new w("#000000"),n=[r]),0<c))for(a=r,i=0;i<t.length;i++)e=t[i],s.fill=s.stroke=null,0>e.x||e.x>this.width||h(e.y)||(n&&(r=n[i%n.length]),d=this.fillJsFunction?Ms.seriesFunc(t[i]||e,this,this.fillJsFunction,!0):Ms.defaultFillFunc(this,i),e.yValue<this.baseValue?(l||(l=d),a=o,d=this.getStyle("declineFill")||new T("#ffffff")):l&&e.yValue>=this.baseValue&&(d=l,l=null,a=r),s.fill=e.fill=d,s.stroke=a,s.pattern=e.pattern=null,u._enablePattern&&(s.pattern=e.pattern=Ms.defaultPatternFunc(this,e,this.seriesIndex)),s.draw(e.x-c,e.y-c,2*c,2*c))},Ze.prototype._updateItemState=function(t,e,i){var s,a={},a=this.rollOverRadius,r=i.graphics,n=new b,o=this.itemRenderer;if(o&&!h(t.yValue)&&!h(t.xValue)){if(n.setLeft(t.x-a),n.setRight(n.left+2*a),n.setTop(t.y-a),n.setBottom(n.top+2*a),i.clear(),i.move(n.left,n.top),i.setActualSize(n.width,n.height),o=o.newInstance(),(i=this.getStyle("stroke"))||(i=new w(this.getStyle("lineStroke").color,2)),a=i.clone(),this.getChart()._enablePattern)new w("#000000"),o.pattern=Ms.defaultPatternFunc(this,t,this.seriesIndex);else switch(e){case na:case sa:this.itemRollOverColor?s=this.itemRollOverColor:(s=this._addBrightToColor(t.fill,40),a.color=this._addBrightToColor(i.color,40).color);break;case oa:case aa:this.itemSelectionColor?s=this.itemSelectionColor:(s=this._addBrightToColor(t.fill,-60),a.color=this._addBrightToColor(i.color,-60).color)}o.fill=s,o.stroke=a,o.draw(0,0,n.width,n.height,r)}},Ze.prototype.updateData=function(){var t,e=this._itemType,i=this._dataTransform;if(this._renderData=new this._renderDataType,this._renderData.cache=[],this._dataProvider){for(t=0;t<this._dataProvider.getLength();t++)this._renderData.cache[t]=new e(this,this._dataProvider.getItemAt(t),t);this.cacheDefaultValues(this.yField,this._renderData.cache,"yValue"),this.cacheIndexValues(this.xField,this._renderData.cache,"xValue")}i&&i.getAxis("v")instanceof Tt&&!(i.getAxis("v")instanceof Lt)&&"inverted"==i.getAxis("v").getDirection()&&(this._renderData.cache=this.reverseYValues(this._renderData.cache)),i&&i.getAxis("h")instanceof Tt&&!(i.getAxis("h")instanceof Lt)&&"inverted"==i.getAxis("h").getDirection()&&(this._renderData.cache=this.reverseXValues(this._renderData.cache)),this._renderData.validPoints=this._renderData.cache.length,Ze._super.updateData.call(this)},Ze.prototype.updateMapping=function(){this._dataTransform.getAxis("h").mapCache(this._renderData.cache,"xValue","xNumber",""==this.xField),this._dataTransform.getAxis("v").mapCache(this._renderData.cache,"yValue","yNumber"),""!=this.xField&&this.sortOnXField&&(this._renderData.cache=Yi.sortOn(this._renderData.cache,"xNumber")),Ze._super.updateMapping.call(this)},Ze.prototype.updateFilter=function(){var t=0,e=this._dataTransform,i=this.lineSegmentType;if(this._renderData.segments=[],this.filterData){this._renderData.filteredCache=this._renderData.cache.concat();var s;if(s=e.getAxis("h").filterCache(this._renderData.filteredCache,"xNumber","xFilter"),void 0==this._renderData.filteredCache&&(this._renderData.filteredCache=s.concat()),e=e.getAxis("v").filterCache(this._renderData.filteredCache,"yNumber","yFilter"),void 0==this._renderData.filteredCache&&(this._renderData.filteredCache=e.concat()),void 0==this._renderData.segments&&(this._renderData.segments=[]),""!=this.xField&&this.sortOnXField&&this.stripNaNs(this._renderData.filteredCache,"xFilter"),this._renderData.validPoints=this._renderData.filteredCache.length,0==this.interpolateValues){var a;for(s=-1,e=this._renderData.filteredCache.length;s<e;){for(s+=1;s<e&&(a=this._renderData.filteredCache[s],h(a.xFilter)||h(a.yFilter));s++)this._renderData.validPoints--;if(s==e)break;for(t=s,s=t+1;s<e&&(a=this._renderData.filteredCache[s],!h(a.xFilter)&&!h(a.yFilter));s++);--s,s!=t&&this._renderData.segments.push(new i(this,this._renderData.segments.length,this._renderData.filteredCache,t,s))}}else this.stripNaNs(this._renderData.filteredCache,"yFilter"),this._renderData.validPoints=this._renderData.filteredCache.length,1<this._renderData.filteredCache.length&&this._renderData.segments.push(new i(this,0,this._renderData.filteredCache,t,this._renderData.filteredCache.length-1))}else this._renderData.filteredCache=this._renderData.cache,this._renderData.segments.push(new this.lineSegmentType(this,0,this._renderData.filteredCache,t,this._renderData.filteredCache.length-1));Ze._super.updateFilter.call(this)},Ze.prototype.updateTransform=function(){var t,e;if(t=[{yNumber:h(this.baseValue)?0:this.baseValue}],this._dataTransform.transformCache(t,null,null,"yNumber","y"),this._renderData.renderedBase=t[0].y,this._dataTransform.transformCache(this._renderData.filteredCache,"xNumber","x","yNumber","y"),Ze._super.updateTransform.call(this),this.allSeriesTransform=!0,this.chart)for(e=this.chart._userSeries.length,t=0;t<e;t++)this.chart.getSeriesTransformState(this.chart._userSeries[t])},Ze.prototype.describeData=function(t,e){if(this.validateData(),0==this._renderData.cache.length||!this._includeInLayout)return[];var i,s,a,r=0,n=new pt;if(n.boundedValues=null,"v"==t){if(this.extractMinMax(this._renderData.cache,"yNumber",n,null),this.showTrendLine&&0<this._trendLineInfos.caches.length&&this.extractMinMax(this._trendLineInfos.caches,"y0",n,null,-1),this.showErrorBar&&(this.extractMinMax(this._renderData.cache,"errorBeginValue",n,null),this.extractMinMax(this._renderData.cache,"errorEndValue",n,null)),0!=(e&pt.REQUIRED_BOUNDED_VALUES)){var o=NaN,l=NaN,d=this.getStyle("labelPosition"),c=parseInt(this.getStyle("fontSize")),r=(s=this.getStyle("lineStroke"))?.5*s.weight:4;if(i=2*this.radius,s=this.itemRenderer,0<i&&s&&((s=this.getStyle("stroke"))&&(i+=.5*s.weight),r=Math.max(i,r)),o=l=r,"none"!=d){if("up"==d?l+=c:"down"==d?o+=c+2:"both"==d&&(o+=c+2,l+=c),l&&this.upLabelJsFunction||o&&this.downLabelJsFunction)for(this.setFont(),i=0;i<this._renderData.cache.length;i+=1)s=this._renderData.cache[i],this.upLabelJsFunction&&(a=this.measureText(Ms.seriesFunc(s,this,this.upLabelJsFunction)).height,l=Math.max(l,a+c)),this.downLabelJsFunction&&(a=this.measureText(Ms.seriesFunc(s,this,this.downLabelJsFunction)).height,o=Math.max(o,a+c))}else(this.showMinValueLabel||this.showMaxValueLabel)&&(this.symbolField&&(c=22+this.symbolYOffset),this.showMinValueLabel&&(o+=c+2),this.showMaxValueLabel&&(l+=c));0<r&&n&&!h(n.min)&&!h(n.max)&&(n.boundedValues=[],(Us(/up|both/,d)||this.showMaxValueLabel)&&0>this.upLabelYOffset&&(l-=this.upLabelYOffset),(Us(/down|both/,d)||this.showMinValueLabel)&&0<this.downLabelYOffset&&(o+=this.downLabelYOffset),n.boundedValues.push(new it(n.max,0,l)),n.boundedValues.push(new it(n.min,o,0)))}}else{if("h"!=t)return[];""!=this.xField?0!=(e&&pt.REQUIRED_MIN_INTERVAL)?(d=this._renderData.cache,0==this.sortOnXField&&(d=this._renderData.cache.concat(),d=Yi.sortOn(d,"xNumber")),this.extractMinMax(d,"xNumber",n,0!=(e&pt.REQUIRED_MIN_INTERVAL))):this.extractMinMax(this._renderData.cache,"xNumber",n,0!=(e&pt.REQUIRED_MIN_INTERVAL)):(n.min=this._renderData.cache[0].xNumber,n.max=this._renderData.cache[this._renderData.cache.length-1].xNumber,0!=(e&pt.REQUIRED_MIN_INTERVAL)&&this.extractMinInterval(this._renderData.cache,"xNumber",n)),0!=(e&pt.REQUIRED_BOUNDED_VALUES)&&((s=this.lineStroke)&&(r=s.weight),i=this.radius,s=this.itemRenderer,0<i&&s&&((s=this.stroke)&&(i+=s.weight),r=Math.max(i,r)),0<r&&(n.boundedValues=[],n.boundedValues.push(new it(n.max,0,r)),n.boundedValues.push(new it(n.min,r,0))))}return[n]},Ze.prototype.findDataPoints=function(t,e,i){var s;if(!this._renderData||!this._renderData.filteredCache||!(s=this._renderData.filteredCache.length))return[];var a,r,n,o,l=this.radius;o=l+i;var d=null,c=this.chart.dataTipDisplayMode,u=this.getStyle("lineStroke");if(o*=o,"axis"==c&&(o=this._unscaledWidth/this._dataTransform.getAxis("h").getLabels().labels.length*.5,o*=o),this.sortOnXField){a=0;for(var p=Math.floor((a+s)/2),f=h(this._renderData.filteredCache[0]);!0;)if(r=this._renderData.filteredCache[p],(h(r.yFilter)||h(r.xFilter))&&(h(r.yValue)||h(r.xValue))||(n=(r.x-t)*(r.x-t-1),"axis"!=c&&(n+=(r.y-e)*(r.y-e)),n<=o&&(o=n,d=r)),r.x<t||h(r.x)&&f){if(a=p,p=Math.floor((a+s)/2),p==a)break}else if(s=p,p=Math.floor((a+s)/2),p==s)break}else for(a=0;a<s;a++)r=this._renderData.filteredCache[a],(!h(r.yFilter)&&!h(r.xFilter)||!h(r.yValue)&&!h(r.xValue))&&(n=(r.x-t)*(r.x-t),"axis"!=c&&(n+=(r.y-e)*(r.y-e)),n<=o&&(o=n,d=r));return d?(r=d.x,n=d.y,"mouse"==c&&(r=t,n=e),o=new mt(this._createDataID(d.index),Math.sqrt(o),r,n,d),o.contextColor=o.chartItem.yValue<this.baseValue&&this.getStyle("lineDeclineStroke")?this.getStyle("lineDeclineStroke").color:u.color,o.dataTipFunction=this.formatDataTip,"axis"==c&&(d.x-t)*(d.x-t)+(d.y-e)*(d.y-e)>(l+i)*(l+i)&&(o.isHit=!1),[o]):[]},Ze.prototype.formatDataTip=function(t){var e="",i="",s=this._displayName+"",a=this._dataTransform.getAxis("h"),n=this._dataTransform.getAxis("v"),o=this.chart.dataTipFormatter,h=this.chart.dataTipDisplayMode;return r(t.contextColor),"axis"!=h&&(i=a.formatForScreen(t.chartItem.xValue),a instanceof Tt&&!(a instanceof Lt)&&(i=o.format(i)),e+=i.replace(/<br>/," ")),s&&0<s.length&&(e+=("axis"!=h?"<br/>":"")+s),e+=" : <b>",i=n.formatForScreen(t.chartItem.yValue),n instanceof Tt&&!(n instanceof Lt)&&(i=o.format(i)),e+i+"</b>"},Ze.prototype.updateLabels=function(){function t(){for(n=0;n<D;n++)(o=C[n])&&!h(o.yNumber)&&(_=o.yNumber,w&&w.getAxis("v")instanceof Tt&&!(w.getAxis("v")instanceof Lt)&&"inverted"==w.getAxis("v").getDirection()&&(_=-1*Number(_)),_=x.format(_),y&&""!=y&&(_=o.item[y]),v&&(_=Ms.seriesFunc(o,i,v)),l=i.measureText(_),d=o.x-.5*l.width+g,c=o.y-u+m-l.height,i.showMaxValueLabel&&(0>o.x+g-.5*l.width?d+=.5*l.width:o.x+g+.5*l.width>i.width&&(d-=.5*l.width)),i.fillText(l,d,c))}function e(){for(n=0;n<D;n++)(o=C[n])&&!h(o.yNumber)&&(_=o.yNumber,w&&w.getAxis("v")instanceof Tt&&!(w.getAxis("v")instanceof Lt)&&"inverted"==w.getAxis("v").getDirection()&&(_=-1*Number(_)),_=x.format(_),y&&""!=y&&(_=o.item[y]),w&&w.getAxis("v")instanceof Tt&&!(w.getAxis("v")instanceof Lt)&&"inverted"==w.getAxis("v").getDirection()&&(_=-1*Number(_)),v&&(_=Ms.seriesFunc(o,i,v)),l=i.measureText(_),d=o.x-.5*l.width+g,c=o.y+m+u-2,i.showMinValueLabel&&(0>o.x+g-.5*l.width?d+=.5*l.width:o.x+g+.5*l.width>i.width&&(d-=.5*l.width)),i.fillText(l,d,c))}var i=this,s=i._renderData,a=i.getStyle("labelPosition");if(s&&s.filteredCache&&("none"!=a||i.showMinValueLabel||i.showMaxValueLabel)){var r=s.filteredCache.concat();if(i.showValueLabels)for(r=[],n=0;n<i.showValueLabels.length;n++)r.push(s.filteredCache[i.showValueLabels[n]]);var n,o,l,d,c,u=0,p=i.radius,f=i.lineStroke;i.getChart();var g,m,_,y,v,x=i.formatter,b=i.itemRenderer,S=i.labelLayer.graphics,C=r,D=C.length,w=i._dataTransform;f&&(u=.5*f.weight),0<p&&b&&((f=i.stroke)&&(p+=f.weight/2),u=Math.max(p,u)),i.setFont(),i.showMaxValueLabel&&(C=[Yi.sortOn(s.filteredCache,"yValue")[s.filteredCache.length-1]]),D=C.length,("up"==a||"both"==a||i.showMaxValueLabel)&&(S.save(),g=i.upLabelXOffset,m=i.upLabelYOffset,y=i.upLabelField,v=i.upLabelJsFunction,t.call(i),S.restore()),i.showMinValueLabel&&(C=[Yi.sortOn(s.filteredCache,"yValue")[0]]),D=C.length,("down"==a||"both"==a||i.showMinValueLabel)&&(S.save(),g=i.downLabelXOffset,m=i.downLabelYOffset,y=i.downLabelField,v=i.downLabelJsFunction,e.call(i),S.restore())}},Ze.prototype.getItemsInRegion=function(t){if(!this.interactive||!this._renderData)return[];var e,i,s=[];new b;var a=new b;for(e=this._renderData.filteredCache.length,a.setLeft(t.left),a.setTop(t.top),a.setRight(t.right),a.setBottom(t.bottom),t=0;t<e;t+=1)i=this._renderData.filteredCache[t],a.contains(i.x,i.y)&&s.push(i);return s},Ze.prototype.getElementBounds=function(t){var e,i,s,a,r,n,o,l=[],d=this._renderData.cache;if(e=this._renderData.segments,0==d.length)o=new b;else for(a=t.radius,(0==a||h(a))&&(a=1),(n=e.length)&&(i=d[t.segments[0].start],o=new b(i.x,i.y,0,0,(!0))),e=0;e<n;e++){if(r=t.segments[e],0<e&&(s=t.segments[e-1],r.start>s.end+1))for(s=s.end+1;s<r.start;s++)i=new b(0,0,0,0,(!0)),l[s]=i;for(s=r.start;s<=r.end;s++)i=d[s],i=new b(i.x-a,i.y-a,2*a,2*a,(!0)),o.left=Math.min(o.left,i.left),o.top=Math.min(o.top,i.top),o.right=Math.max(o.right,i.right),o.bottom=Math.max(o.bottom,i.bottom),l[s]=i}t.elementBounds=l,t.bounds=o},Ze.prototype.beginInterpolation=function(t,e){var i=this._initializeInterpolationData(t.cache,e.cache,{x:!0,y:!0},this._itemType,{sourceRenderData:t,destRenderData:e}),s=e.clone();s.cache=i.cache,s.filteredCache=i.cache;var a,r=s.segments,n=r.length;for(a=0;a<n;a++)r[a].items=i.cache;return this._transitionRenderData=s,i},Ze.prototype._getMissingInterpolationValues=function(t,e,i,s,a,r){var n,o,d,c;e=r.sourceRenderData.cache,s=r.destRenderData.cache;for(n in t){if(r=t[n],o=i[n],c=a,h(r))if(e.length){for(c>=e.length&&(c=e.length-1);0<=c&&h(e[c][n]);)c--;if(0<=c&&(r=e[c][n]+.01*(c-a)),h(r)){for(c=a+1,d=e.length;c<d&&h(e[c][n]);)c++;c<d&&(r=e[c][n]+.01*(c-a))}}else r="x"==n?s[a].x:this._unscaledHeight;"x"==n&&(l(o)&&(o=0>a-1?0:a-1,d=a+1>s.length-1?s.length-1:a+1,o=s[o][n]+.5*(s[d][n]-s[o][n])),l(r)&&(r=o)),h(o)&&(o=r),t[n]=r,i[n]=o}},ki(ti,K),ti.prototype.draw=function(t,e,i,s,a){var r=this.owner,n=this.stroke,o=this.lineStroke;a=this.graphics||a,o.weight=r.itemRenderer?1:3,this.clear(),this.apply(a,o),t=this.createRect(t,e,i,s),this.begin(a,this,t,this.fill),a.beginPath(),a.moveTo(0,Math.floor(.5*s)+this._offset),a.lineTo(i,Math.floor(.5*s)+this._offset),a.closePath(),a.stroke(),r.itemRenderer&&(n.weight=1,t=Math.min(i,s),e=r.itemRenderer.newInstance(),e.stroke=n,e.fill=this.fill,r.getChart()._enablePattern&&(e.stroke=new w("#000"),e.pattern=Ms.defaultPatternFunc(r,r,r.seriesIndex)),e.draw(.5*(i-t),.5*(s-t),t,t,a))},ei._defaultStyles={labelPosition:"none",areaStroke:null,declineStroke:null,areaDeclineStroke:null,areaFill:null,declineFill:null,areaDeclineFill:null},ki(ei,Ke),ei.prototype.getMinField=function(){return this._userMinField},ei.prototype.setMinField=function(t){this.minField=this._userMinField=t},ei.prototype.getItems=function(){return this._renderData?this._renderData.filteredCache:[]},ei.prototype.getMarkerFill=function(){return this.itemRenderer?this.getStyle("fill"):this.getStyle("areaStroke")},ei.prototype.getMarkerStroke=function(){return this.getStyle("areaStroke")},ei.prototype.commitProperties=function(){ei._super.commitProperties.call(this),this._dataTransform&&(this._horizontalAxis&&(this._horizontalAxis.setChartDataProvider(this._dataProvider),this._dataTransform.setAxis("h",this._horizontalAxis)),this._verticalAxis&&(this._verticalAxis.setChartDataProvider(this._dataProvider),this._dataTransform.setAxis("v",this._verticalAxis)));var t=this.getChart();t&&(this._horizontalAxis||this._dataTransform.axes.h!=t._horizontalAxis&&this._dataTransform.setAxis("h",t._horizontalAxis),this._verticalAxis||this._dataTransform.axes.v!=t._verticalAxis&&this._dataTransform.setAxis("v",t._verticalAxis)),this._dataTransform.elements=[this]},ei.prototype.updateDisplayList=function(t,e){var i;this._includeInLayout&&(ei._super.updateDisplayList.call(this,t,e),i=this._renderData,this.labelClear(),!i||!i.filteredCache||1>i.filteredCache.length?(this.clear(),this.allSeriesRenderingComplete()):(!this.showDataEffect||this.showDataEffect&&!this.getChart().getChartState())&&this.updateSeriesItem())},ei.prototype.updateSeriesItem=function(){var t,e,i,s,a=this.graphics,r=this.getChart();t=r.nullDataAtZero;var n=this._transitionRenderData?this._transitionRenderData:this._renderData,o=t?n.filteredCache:n.segments;if(this.clear(),this._includeInLayout){if(e=o.length,0<e){if(this._areaRendererInstance||(this._areaRendererInstance=new this.areaRenderer),i=this._areaRendererInstance,i.form=this.form,i.graphics=this.graphics,i.width=this._unscaledWidth,i.height=this._unscaledHeight,i.baseValue=this.baseValue,i.renderedBase=n.renderedBase,i.areaFill=this.getStyle("areaFill"),i.areaStroke=this.getStyle("areaStroke"),i.areaDeclineFill=this.getStyle("areaDeclineFill"),i.areaDeclineStroke=this.getStyle("areaDeclineStroke"),i.pattern=null,i.element=this,a.save(),n.clipBounds&&(s=n.clipBounds,a.beginPath(),a.moveTo(s.left,s.top),a.lineTo(s.right,s.top),a.lineTo(s.right,s.bottom),a.lineTo(s.left,s.bottom),a.closePath(),a.clip()),r._enablePattern&&(i.pattern=Ms.defaultPatternFunc(this,null,this.seriesIndex),i.areaStroke=new w("#000000")),s=n.elementBounds?n.elementBounds:n.filteredCache,t)i.data=s,i.startIndex=0,i.endIndex=o.length,i.draw(0,0,this._unscaledWidth,this._unscaledHeight);else for(t=0;t<e;t+=1)i.data=s,i.startIndex=o[t].start,i.endIndex=o[t].end+1,i.draw(0,0,this._unscaledWidth,this._unscaledHeight);a.restore()}r.getChartState()||(this.renderingItemRenderer(n.filteredCache),this.allSeriesRenderingComplete())}},ei.prototype.renderingItemRenderer=function(t){var e,i,s,a,r,n,o,l,d,c,u,p=this.fill;e=this.graphics;var f=this.radius,g=this.getChart(),m=this.fillJsFunction,_=""!=this.minField;i=this.itemRenderer;var y=Ms.seriesFunc,v=Ms.defaultFillFunc;if(i&&(n=this._itemRendererInstance=i.newInstance(),n.graphics=e,_&&(o=this._itemRendererInstance2=i.newInstance(),o.graphics=e),"string"==typeof p&&new T(p),(d=this.getStyle("stroke"))||(d=new w(this.getStyle("areaStroke").color,2)),c=this.getStyle("strokes"),u=this.getStyle("declineStroke")||d,g._enablePattern&&(d=new w("#000000"),c=[d]),0<f))for(i=t.length,l=d,e=0;e<i;e++)s=t[e],n.fill=n.stroke=null,0>s.x||s.x>this.width||h(s.y)||(c&&(d=c[e%c.length]),h(s.y)||(p=m?y(t[e]||s,this,this.fillJsFunction,!0):v(this,e),h(this.baseValue)||(s.yValue<this.baseValue?(a||(a=p),l=u,p=this.getStyle("declineFill ")||new T("#ffffff")):a&&s.yValue>=this.baseValue&&(p=a,a=null,l=d)),n.stroke=l,s.fill=n.fill=p,g._enablePattern&&(n.stroke=new w("#000000"),n.pattern=s.pattern=Ms.defaultPatternFunc(this,s,this.seriesIndex)),n.draw(s.x-f,s.y-f,2*f,2*f)),_&&!h(s.min)&&(o.fill=o.stroke=null,p=m?y(t[e]||s,this,this.fillJsFunction,!0):v(this,e),h(this.baseValue)||(s.minValue<this.baseValue?(r||(r=p),l=u,p=this.getStyle("declineFill")||new T("#ffffff")):r&&s.minValue>=this.baseValue&&(p=r,r=null,l=d)),o.stroke=l,o.fill=p,g._enablePattern&&(o.stroke=new w("#000000"),o.pattern=s.pattern=Ms.defaultPatternFunc(this,s,this.seriesIndex)),o.draw(s.x-f,s.min-f,2*f,2*f)))},ei.prototype._updateItemState=function(t,e,i){var s,a,r={},n=i.graphics,r=this.rollOverRadius,o=new b,h=this.itemRenderer;if(h&&""==this.minField){if(h=h.newInstance(),s=t.fill||Ms.defaultFillFunc(this,this.seriesIndex),a=this.getStyle("stroke")||this.getStyle("areaStroke"),o.setLeft(t.x-r),o.setRight(o.left+2*r),o.setTop(t.y-r),o.setBottom(o.top+2*r),i.clear(),i.move(o.left,o.top),i.setActualSize(o.width,o.height),r=a.clone(),this.getChart()._enablePattern)a=new w("#000000"),h.pattern=Ms.defaultPatternFunc(this,t,this.seriesIndex);else switch(e){case na:case sa:this.itemRollOverColor?s=this.itemRollOverColor:(s=this._addBrightToColor(t.fill,40),r.color=this._addBrightToColor(a.color,40).color);break;case oa:case aa:this.itemSelectionColor?s=this.itemSelectionColor:(s=this._addBrightToColor(t.fill,-60),r.color=this._addBrightToColor(a.color,-60).color)}h.fill=s,h.stroke=a,h.draw(0,0,o.width,o.height,n)}},ei.prototype.updateData=function(){if(!this.stacker){this._stacked=!1;var t,e=this._itemType,i=this._dataTransform;if(this._renderData=new this._renderDataType,this._renderData.cache=[],this._dataProvider)for(t=0;t<this._dataProvider.getLength();t++)this._renderData.cache[t]=new e(this,this._dataProvider.getItemAt(t),t);this.cacheIndexValues(this.xField,this._renderData.cache,"xValue"),this.cacheDefaultValues(this.yField,this._renderData.cache,"yValue"),""!=this.minField&&this.cacheNamedValues(this.minField,this._renderData.cache,"minValue"),i&&i.getAxis("v")instanceof Tt&&!(i.getAxis("v")instanceof Lt)&&"inverted"==i.getAxis("v").getDirection()&&(this._renderData.cache=this.reverseYValues(this._renderData.cache)),i&&i.getAxis("h")instanceof Tt&&!(i.getAxis("h")instanceof Lt)&&"inverted"==i.getAxis("h").getDirection()&&(this._renderData.cache=this.reverseXValues(this._renderData.cache))}ei._super.updateData.call(this)},ei.prototype.getSeriesRenderData=function(){if(!this._renderData){var t=new this._renderDataType;return t.cache=[],t.filteredCache=[],t.renderedHalfWidth=0,t.renderedXOffset=0,t.renderedBase=0,t}return this._renderData},ei.prototype.updateMapping=function(){var t=this._dataTransform;this._renderData&&(t.getAxis("h").mapCache(this._renderData.cache,"xValue","xNumber",""==this.xField),t.getAxis("v").mapCache(this._renderData.cache,"yValue","yNumber"),(""!=this.minField||this._stacked)&&t.getAxis("v").mapCache(this._renderData.cache,"minValue","minNumber"),""!=this.xField&&this.sortOnXField&&(this._renderData.cache=Yi.sortOn(this._renderData.cache,"xNumber")),ei._super.updateMapping.call(this))},ei.prototype.updateFilter=function(){var t=0,e=this.getChart().nullDataAtZero;if(this._renderData){if(this._renderData.segments=[],this.filterData){this._renderData.filteredCache=this._renderData.cache.concat();var i,s=this._dataTransform;if(i=s.getAxis("h").filterCache(this._renderData.filteredCache,"xNumber","xFilter"),void 0==this._renderData.filteredCache&&(this._renderData.filteredCache=i.concat()),i=s.getAxis("v").filterCache(this._renderData.filteredCache,"yNumber","yFilter"),void 0==this._renderData.filteredCache&&(this._renderData.filteredCache=i.concat()),(""!=this.minField||this._stacked)&&s.getAxis("v").filterCache(this._renderData.filteredCache,"minNumber","minFilter"),e)this.stripNaNs(this._renderData.filteredCache,"yFilter"),this.stripNaNs(this._renderData.filteredCache,"xFilter"),(""!=this.minField||this._stacked)&&this.stripNaNs(this._renderData.filteredCache,"minFilter");else if(void 0==this._renderData.segments&&(this._renderData.segments=[]),
this._renderData.validPoints=this._renderData.filteredCache.length,this.interpolateValues)this.stripNaNs(this._renderData.filteredCache,"yFilter"),this._renderData.validPoints=this._renderData.filteredCache.length,1<this._renderData.filteredCache.length&&this._renderData.segments.push(new ii(this,0,this._renderData.filteredCache,t,this._renderData.filteredCache.length-1));else for(s=-1,e=this._renderData.filteredCache.length;s<e;){for(s+=1;s<e&&(i=this._renderData.filteredCache[s],h(i.xFilter)||h(i.yFilter));s++)this._renderData.validPoints--;if(s==e)break;for(t=s,s=t+1;s<e&&(i=this._renderData.filteredCache[s],!h(i.xFilter)&&!h(i.yFilter));s++);--s,s!=t&&this._renderData.segments.push(new ii(this,this._renderData.segments.length,this._renderData.filteredCache,t,s))}}else e?this._renderData.filteredCache=this._renderData.cache:(this._renderData.filteredCache=this._renderData.cache,this._renderData.segments.push(new this.AreaSeriesSegment(this,0,this._renderData.filteredCache,t,this._renderData.filteredCache.length-1)));ei._super.updateFilter.call(this)}},ei.prototype.updateTransform=function(){if(this._renderData&&this._renderData.filteredCache&&!(1>this._renderData.filteredCache.length)){var t,e,i=this.getChart();if(t=this._dataTransform,e=[{yNumber:h(this.baseValue)?this._dataTransform.getAxis("v").getBaseline():this.baseValue}],t.transformCache(e,null,null,"yNumber","y"),this._renderData.renderedBase=e[0].y,t.transformCache(this._renderData.filteredCache,"xNumber","x","yNumber","y"),(""!=this.minField||this._stacked)&&t.transformCache(this._renderData.filteredCache,null,null,"minNumber","min"),ei._super.updateTransform.call(this),this.allSeriesTransform=!0,i)for(e=i._userSeries.length,t=0;t<e;t++)i.getSeriesTransformState(i._userSeries[t])}},ei.prototype.describeData=function(t,e){if(this.validateData(),!this._renderData||0==this._renderData.cache.length||!this._includeInLayout)return[];var i=new pt;if(i.boundedValues=null,"v"==t){if(this.extractMinMax(this._renderData.cache,"yNumber",i,null),this.showTrendLine&&0<this._trendLineInfos.caches.length&&this.extractMinMax(this._trendLineInfos.caches,"y0",i,null,-1),this.showErrorBar&&(this.extractMinMax(this._renderData.cache,"errorBeginValue",i,null),this.extractMinMax(this._renderData.cache,"errorEndValue",i,null)),""!=this.minField&&this.extractMinMax(this._renderData.cache,"minNumber",i,null),0!=(e&pt.REQUIRED_BOUNDED_VALUES)){var s,a,r,n=0;s=this.getStyle("areaStroke"),a=2*this.radius,r=this.itemRenderer;var o=NaN,l=NaN,d=this.getStyle("labelPosition"),c=parseInt(this.getStyle("fontSize")),n=s?.5*s.weight:4;if(0<a&&r&&((s=this.stroke)&&(a+=.5*s.weight),n=Math.max(a,n)),o=l=n,"none"!=d){if("up"==d?l+=c:"down"==d?o+=c:"both"==d&&(o+=c,l+=c),l&&this.upLabelJsFunction||o&&this.downLabelJsFunction)for(this.setFont(),s=0;s<this._renderData.cache.length;s+=1)a=this._renderData.cache[s],this.upLabelJsFunction&&(r=this.measureText(Ms.seriesFunc(a,this,this.upLabelJsFunction)).height,l=Math.max(l,r+c)),this.downLabelJsFunction&&(r=this.measureText(Ms.seriesFunc(a,this,this.downLabelJsFunction)).height,o=Math.max(o,r+c))}else(this.showMinValueLabel||this.showMaxValueLabel)&&(this.symbolField&&(c=22+this.symbolYOffset),this.showMinValueLabel&&(o+=c),this.showMaxValueLabel&&(l+=c));0<n&&i&&!h(i.min)&&!h(i.max)&&(i.boundedValues=[],(Us(/up|both/,d)||this.showMaxValueLabel)&&0>this.upLabelYOffset&&(l-=this.upLabelYOffset),(Us(/down|both/,d)||this.showMinValueLabel)&&0<this.downLabelYOffset&&(o+=this.downLabelYOffset),i.boundedValues.push(new it(i.max,0,l)),i.boundedValues.push(new it(i.min,o,0)))}}else{if("h"!=t)return[];""!=this.xField?0!=(e&pt.REQUIRED_MIN_INTERVAL)?(n=this._renderData.cache,0==this.sortOnXField&&(n=this._renderData.cache.concat(),n=Yi.sortOn(n,"xNumber")),this.extractMinMax(n,"xNumber",i,0!=(e&pt.REQUIRED_MIN_INTERVAL))):this.extractMinMax(this._renderData.cache,"xNumber",i,0!=(e&pt.REQUIRED_MIN_INTERVAL)):(i.min=this._renderData.cache[0].xNumber,i.max=this._renderData.cache[this._renderData.cache.length-1].xNumber,0!=(e&pt.REQUIRED_MIN_INTERVAL)&&this.extractMinInterval(this._renderData.cache,"xNumber",i))}return[i]},ei.prototype.stack=function(t,e){var i,s,a,r,n,o=0,l=0,o=this.getChart();i=!1;var d=this._itemType,c=this._dataTransform,u=null!=this.yField&&""!=this.yField,p=null!=this.xField&&""!=this.xField;if(!this._includeInLayout||!this._dataProvider||!o)return 0;this._renderData=new this._renderDataType,this._renderData.cache=[],this._renderData.filteredCache=[];for(var f=o.nullDataAtZero,o=0;o<this._dataProvider.getLength();o++)i=this._dataProvider.getItemAt(o),this._renderData.cache[o]=s=new d(this,i,o),r=p?i[this.xField]:o,n=Number(u?i[this.yField]:i),c&&c.getAxis("v")instanceof Tt&&!(c.getAxis("v")instanceof Lt)&&"inverted"==c.getAxis("v").getDirection()&&(n=-n),c&&c.getAxis("h")instanceof Tt&&!(c.getAxis("h")instanceof Lt)&&"inverted"==c.getAxis("h").getDirection()&&(r=-r),null==r||"100%"==this.owner.getType()&&0>n||(h(n)&&f&&(n=0),a=t[r],h(a)&&(a=0),i=null==n,n+=a,s.yValue=i?NaN:n,s.minValue=a,t[r]=n,s.xValue=r,l=Math.max(l,n));return this._stacked=null!=e,this.invalidateMapping(!0),this.invalidateData(!1),l},ei.prototype.stackAll=function(t,e,i){var s,a,r,n,o=0,l=0,d=0,o=this.getChart(),c=!1,u=this._itemType,p=this._dataTransform,f=null!=this.yField&&""!=this.yField,g=null!=this.xField&&""!=this.xField;if(this._renderData=new this._renderDataType,this._renderData.cache=[],this._renderData.filteredCache=[],!this._includeInLayout||!o)return{maxValue:0,minValue:0};for(var m=o.nullDataAtZero,o=0;o<this._dataProvider.getLength();o++)c=!1,s=this._dataProvider.getItemAt(o),this._renderData.cache[o]=a=new u(this,s,o),r=g?s[this.xField]:o,n=Number(f?s[this.yField]:s),p&&p.getAxis("v")instanceof Tt&&!(p.getAxis("v")instanceof Lt)&&"inverted"==p.getAxis("v").getDirection()&&(n=-n),p&&p.getAxis("h")instanceof Tt&&!(p.getAxis("h")instanceof Lt)&&"inverted"==p.getAxis("h").getDirection()&&(r=-r),null==r||h(r)||"100%"==this.owner.getType()&&0>n||(m&&h(n)&&(n=0),s=0<=n?t[r]:e[r],h(s)&&(s=0),0==n?(a.yValue=0,a.minValue=0):(a.yValue=n+s,a.minValue=s),c&&(a.yValue=NaN,a.minValue=NaN),n+=s,0<=n?(t[r]=n,l=Math.max(l,n)):0>n&&(e[r]=n,d=Math.min(d,n)),a.xValue=r);return this._stacked=null!=i,this.invalidateMapping(!0),this.invalidateData(!1),{maxValue:l,minValue:d}},ei.prototype.setStackTotals=function(t){if(t&&this._renderData){var e,i,s,a=this._renderData.cache,r=this._renderData.cache.length;for(e=0;e<r;e++)i=a[e],s=t[i.xValue],i.yValue=Math.min(100,Number(i.yValue)/s*100),i.minValue=Math.min(100,Number(i.minValue)/s*100)}},ei.prototype.updateLabels=function(){function t(){for(i=0;i<T;i++)(o=w[i])&&!h(o.yNumber)&&(p=o.minValue?o.yNumber-Number(o.minValue):o.yNumber,D&&a._dataTransform.getAxis("v")instanceof Tt&&!(D.getAxis("v")instanceof Lt)&&"inverted"==D.getAxis("v").getDirection()&&(p=-1*Number(p)),u=b.format(p),f&&""!=f&&(u=o.item[f]),g&&(u=Ms.seriesFunc(o,a,g)),l=a.measureText(u),d=o.x-.5*l.width+m,c=o.y-l.height-y+_,a.showMaxValueLabel&&(0>d-.5*l.width?d+=.5*l.width:d+l.width>a.width&&(d-=.5*l.width)),a.fillText(l,d,c))}function e(){for(i=0;i<T;i++)(o=w[i])&&!h(o.yNumber)&&(p=o.minValue?o.yNumber-Number(o.minValue):o.yNumber,D&&D.getAxis("v")instanceof Tt&&!(D.getAxis("v")instanceof Lt)&&"inverted"==D.getAxis("v").getDirection()&&(p=-1*Number(p)),u=b.format(p),f&&""!=f&&(u=o.item[f]),g&&(u=Ms.seriesFunc(o,a,g)),l=a.measureText(u),d=o.x-.5*l.width+m,c=o.y+y+_,a.showMinValueLabel&&(0>d-l.width?d+=.5*l.width:d+l.width>a.width&&(d-=.5*l.width)),a.fillText(l,d,c))}var i,s,a=this,r=a._renderData,n=a.getStyle("labelPosition");if(r&&r.filteredCache&&a.labelLayer&&("none"!=n||a.showMaxValueLabel||a.showMinValueLabel)){if(s=r.filteredCache.concat(),a.showValueLabels)for(s=[],i=0;i<a.showValueLabels.length;i++)s.push(r.filteredCache[a.showValueLabels[i]]);var o,l,d,c,u,p,f,g,m,_,y=0,v=a.radius,x=a.areaStroke,b=a.formatter,S=a.itemRenderer,C=a.labelLayer.graphics,D=a._dataTransform,w=s,T=w.length;x&&(y=x.weight/2),0<v&&S&&((x=a.stroke)&&(v+=x.weight/2),y=Math.max(v,y)),a.labelClear(),a.setFont(),a.showMaxValueLabel&&(w=[Yi.sortOn(r.filteredCache,"yValue")[r.filteredCache.length-1]],T=w.length),("up"==n||"both"==n||a.showMaxValueLabel)&&(C.save(),m=a.upLabelXOffset,_=a.upLabelYOffset,f=a.upLabelField,g=a.upLabelJsFunction,t.call(a),C.restore()),a.showMinValueLabel&&(w=[Yi.sortOn(r.filteredCache,"yValue")[0]],T=w.length),("down"==n||"both"==n||a.showMinValueLabel)&&(C.save(),m=a.downLabelXOffset,_=a.downLabelYOffset,f=a.downLabelField,g=a.downLabelJsFunction,e.call(a),C.restore())}},ei.prototype.findDataPoints=function(t,e,i){var s;if(!this._renderData||!this._renderData.filteredCache||!(s=this._renderData.filteredCache.length))return[];var a,r,n,o=this.radius,l=o+i,d=this.dataTranform,c=this.getChart().dataTipDisplayMode;if(0==s)return[];if(l*=l,"axis"==c&&(l=this._unscaledWidth/this._dataTransform.getAxis("h").getLabels().labels.length*.5,l*=l),1==this.sortOnXField){var u;a=0;for(var p=s,f=Math.floor((a+p)/2);!0;)if(u=this._renderData.filteredCache[f],h(u.yNumber)||(r=(u.x-t)*(u.x-t),"axis"!=c&&(r+=(u.y-e)*(u.y-e)),r<=l&&(l=r,n=u)),d&&d.getAxis("h")instanceof Tt&&!(d.getAxis("h")instanceof Lt)&&"inverted"==d.getAxis("h").getDirection()?(r=t,u=u.x):(r=u.x,u=t),r<u){if(a=f,f=Math.floor((a+p)/2),f==a)break}else if(p=f,f=Math.floor((a+p)/2),f==p)break}else for(a=0;a<s;a++)u=this._renderData.filteredCache[a],h(u.yFilter)||h(u.xFilter)||(r=(u.x-t)*(u.x-t),"axis"!=c&&(r+=(u.y-e)*(u.y-e)),r<=l&&(l=r,n=u));if(n)return s=n.x,a=n.y,"mouse"==c&&(s=t,a=e),l=new mt(this._createDataID(n.index),Math.sqrt(l),s,a,n),l.contextColor=!h(this.baseValue)&&this.getStyle("areaDeclineStroke")&&l.chartItem.yValue<=this.baseValue?this.getStyle("areaDeclineStroke").color:this.getStyle("areaStroke"),l.dataTipFunction=this.formatDataTip,"axis"==c&&(n.x-t)*(n.x-t)+(n.y-e)*(n.y-e)>(o+i)*(o+i)&&(l.isHit=!1),[l];if(this.minField)if(1==this.sortOnXField){for(a=0,p=s,f=Math.floor((a+p)/2);!0;)if(d=this._renderData.filteredCache[f],h(d.yNumber)||(r=(d.x-t)*(d.x-t)+(d.min-e)*(d.min-e),r<=l&&(l=r,n=d)),d.x<t){if(a=f,f=Math.floor((a+p)/2),f==a)break}else if(p=f,f=Math.floor((a+p)/2),f==p)break}else for(a=0;a<s;a++)d=this._renderData.filteredCache[a],h(d.yFilter)||h(d.xFilter)||(r=(d.x-t)*(d.x-t)+(d.min-e)*(d.min-e),r<=l&&(l=r,n=d));return n?(l=new mt(this._createDataID(n.index),Math.sqrt(l),n.x,n.min,n),l.contextColor=!h(this.baseValue)&&this.declineFill&&this.baseValue>l.chartItem.minValue?this.getStyle("declineFill").color:this.getStyle("areaStroke"),l.dataTipFunction=this.formatDataTip,"axis"==c&&(n.x-t)*(n.x-t)+(n.y-e)*(n.y-e)>(o+i)*(o+i)&&(l.isHit=!1),[l]):[]},ei.prototype.formatDataTip=function(t){var e="",i="",s=this._displayName,a=this._dataTransform.getAxis("h"),r=this._dataTransform.getAxis("v"),i=this.getChart(),n=i.dataTipFormatter,o=i.dataTipDisplayMode;return"axis"!=o&&(i=a.formatForScreen(t.chartItem.xValue),a instanceof Tt&&!(a instanceof Lt)&&(i=n.format(i)),e+=i.replace(/<br>/," ")),s&&0<s.length&&(e+=("axis"!=o?"<br/>":"")+s),e+=" : <b>",""==this.minField?(i=r.formatForScreen(t.chartItem.yValue),r instanceof Tt&&!(r instanceof Lt)&&(i=n.format(i))):r instanceof Tt&&!(r instanceof Lt)?(i=Math.abs(t.y-t.chartItem.y)<Math.abs(t.y-t.chartItem.min)?r.formatForScreen(t.chartItem.yValue):r.formatForScreen(t.chartItem.minValue),i=n.format(i)):i=r.formatForScreen(t.chartItem.minValue)+" ~ "+r.formatForScreen(t.chartItem.yValue),e+i+"</b>"},ei.prototype.getItemsInRegion=function(t){return Ze.prototype.getItemsInRegion.call(this,t)},ei.prototype.getElementBounds=function(t){var e,i,s,a,r,n,o=this.radius,l=[],d=t.filteredCache,c=d.length;if(c)if(h(o)&&(o=0),s=d[0],n=new b(s.x,s.y,0,0,(!0)),""==this.minField)for(i=t.renderedBase,n.setBottom(i),e=0;e<c;e+=1)s=d[e],s=new b(s.x-o,s.y-o,2*o,i-(s.y-o),(!0)),n.setLeft(Math.min(n.left,s.left)),n.setTop(Math.min(n.top,s.top)),n.setRight(Math.max(n.right,s.right)),l.push(s);else for(e=0;e<c;e+=1)s=d[e],i=s.y-o,a=s.min,r=Math.min(i,a),s=new b(s.x-o,r,2*o,Math.max(i,a)-r),n.setLeft(Math.min(n.left,s.left)),n.setTop(Math.min(n.top,s.top)),n.setRight(Math.max(n.right,s.right)),n.setBottom(Math.max(n.bottom,s.bottom)),l.push(s);else n=new b;t.elementBounds=l,t.bounds=n},ei.prototype.beginInterpolation=function(t,e){var i,s;return i={x:!0,y:!0},""!=this.minField&&(i.min=!0),i=this._initializeInterpolationData(t.cache,e.cache,i,this._itemType,{sourceRenderData:t,destRenderData:e}),s=e.clone(),s.cache=i.cache,s.filteredCache=i.cache,this._transitionRenderData=s,i},ei.prototype._getMissingInterpolationValues=function(t,e,i,s,a,r){var n,o,d;for(d in t)n=t[d],o=i[d],h(n)&&(e.length?t[d]=this._findClosestValidValue(a,d,e):(t[d]="x"==d?o:this._unscaledHeight,l(t[d])&&(o=r.destRenderData.filteredCache,0<o.length&&(t[d]=o[a-1][d]+.5*(o[a][d]-o[a-1][d]))))),h(o)&&(i[d]=e.length?this._findClosestValidValue(a,d,s):"x"==d?n:this._unscaledHeight)},ei.prototype._findClosestValidValue=function(t,e,i){var s,a,r=t;for(r>=i.length&&(r=i.length-1);0<=r&&isNaN(i[r][e]);)r--;if(0<=r&&(s=i[r][e]),h(s)){for(r=t+1,a=i.length;r<a&&h(i[r][e]);)r++;r<a&&(s=i[r][e]+.01*(r-t))}return s+.01*(r-t)},ki(si,K),si.prototype.draw=function(t,e,i,s,a){var r,n,o,h=this.owner;o=this.fill,n=this.areaFill;var l=this.stroke;r=this.areaStroke,a=this.graphics||a,r.weight=h.itemRenderer?1:2,this.clear(),this.apply(a,r),r=this.createRect(t,e,i,s),this.begin(a,this,r,o),o=this._offset,h.itemRenderer&&(o=Math.floor(.5*s)+.5),!this.pattern&&n instanceof T&&(t=a.createLinearGradient(t,o,t,e+s),t.addColorStop(0,Qi.color2rgba(n.color,.5)),t.addColorStop(1,Qi.color2rgba(n.color,.1)),a.fillStyle=t),a.rect(0,o,i,s),a.fill(),a.beginPath(),a.moveTo(0,o),a.lineTo(i,o),a.closePath(),a.stroke(),h.itemRenderer&&(l.weight=1,n=Math.min(i,s),t=h.itemRenderer.newInstance(),t.stroke=l,t.fill=this.fill,h.getChart()._enablePattern&&(t.stroke=new w("#000"),t.pattern=Ms.defaultPatternFunc(h,h,h.seriesIndex)),t.draw(.5*(i-n),.5*(s-n),n,n,a))},ki(ai,qe),ai.prototype.buildSubSeries=function(){var t,e,i,s=this.getChart(),a=this._series;if(i=this.getChart().getChildIndex(this),"stacked"==this._type||"100%"==this._type)for(t=a.length-1;0<=t;t--)e=a[t],this.customizeSeries(e,t),e.setDataTransform(this._dataTransform),this.addChildAt(e,i++);else for(t=0;t<a.length;t++)e=a[t],this.customizeSeries(e,t),e.setDataTransform(this._dataTransform),this.addChildAt(e,i);s&&s.invalidateSeriesStyles()},ai.prototype.commitProperties=function(){this.getChart(),qe.prototype.commitProperties.call(this),this.showTotalLabel&&!this._labelLayerCreated&&(this._labelLayerCreated=!0,this.labelLayer=this)},ai.prototype.describeData=function(t,e){var i=qe.prototype.describeData.call(this,t,e);if("v"==t&&0<i.length&&this.showTotalLabel&&"stacked"==this._type){var s=[],a=this._dataTransform,r=parseInt(this.getStyle("fontSize"));i[0].boundedValues=[],r+=0,a&&a.getAxis("h")instanceof Tt&&!(a.getAxis("h")instanceof Lt)&&"inverted"==a.getAxis("h").getDirection()?(s.push(new it(i[0].min,r,0)),this.allowNegativeForStacked&&s.push(new it(i[0].max,0,r))):(s.push(new it(i[0].max,0,r)),this.allowNegativeForStacked&&s.push(new it(i[0].min,r,0))),i[0].boundedValues=s}return i},ai.prototype.updateLabels=function(){function t(t,e){var i,s,a,r=this._series;if(i=r.length-1,"max"==e)for(a=Number.MIN_VALUE;0<=i;--i)s=r[i],s._includeInLayout&&(a=Math.max(a,s.getItems()[t].y));else for(a=Number.MAX_VALUE;0<=i;--i)s=r[i],s._includeInLayout&&(a=Math.min(a,s.getItems()[t].y));return a}if(this.getChart()&&this.showTotalLabel&&"stacked"==this._type){var e,i;e=this._series.length;var s=this._dataTransform;if(e){do{if(this._series[e-1].getIncludeInLayout()){i=this._series[e-1];break}e--}while(-1<e);if(e=s&&s.getAxis("v")instanceof Tt&&!(s.getAxis("v")instanceof Lt)&&"inverted"==s.getAxis("v").getDirection()?"inverted":"normal",i&&(s=i.getSeriesRenderData(),null!=s&&0!=s.length)){var a,r,n,o=i.getItems(),l=o.length,d=this.labelLayer.graphics,c=this.labelYOffset,u=this.totalLabelField,p=this.totalLabelJsFunction;for(this.labelLayer.clear(),d.save(),this.setFont(),i=0;i<l;++i)a=o[i],s=this._posTotalsByPrimaryAxis[a.xValue],this.allowNegativeForStacked&&(h(s)&&(s=0),s+=h(this._negTotalsByPrimaryAxis[a.xValue])?0:this._negTotalsByPrimaryAxis[a.xValue]),r=this._dataTransform.getAxis("v").formatForScreen(s),r=this.formatter.format(r),u&&""!=u&&(r=a.item[u]),p&&(r=Ms.seriesSetFunc(s,a,this,p)),r=this.measureText(r),a=a.x-.5*r.width,"inverted"==e?n=0<=s?t.call(this,i,"min")+c:t.call(this,i,"max")-c:(n=0<=s?t.call(this,i,"min")+c:t.call(this,i,"max")-c,n-=r.height),d.textBaseline=0>s?"top":"bottom",this.fillText(r,a,n);d.restore()}}}},ai.prototype.formatDataTip=function(t){var e,i="",s="",a="",r=this.stacker,n=t.chartItem,o=n.element,l=o._displayName,d=o.getChart(),c=d.dataTipFormatter,u=r._posTotalsByPrimaryAxis[n.xValue],p=r._dataTransform.getAxis("h"),f=r._dataTransform.getAxis("v");return"100%"==r._type?(e=Number(n.yValue)-Number(n.minValue),e=Math.round(10*e)/10):("stacked"==r._type&&r._allowNeg&&(h(u)&&(u=0),u+=h(r._negTotalsByPrimaryAxis[n.xValue])?0:r._negTotalsByPrimaryAxis[n.xValue]),e=c.format((Number(n.yValue)-Number(n.minValue))/u*1e3)/10),a=p.formatForScreen(n.xValue),p instanceof Tt&&!(p instanceof Lt)&&(a=c.format(a)),i+=a+"<br/>",null!=l&&0<l.length&&(i+=l+" : "),s="100%"==r.type?s+t.item[o.yField]:s+(Number(n.yValue)-Number(n.minValue)),f instanceof Tt&&!(f instanceof Lt)&&(s=c.format(s)),s="<b>"+s+"</b>","100%"==r._type&&e!=Number.POSITIVE_INFINITY&&e!=Number.NEGATIVE_INFINITY&&(s+=" ("+e+"%)"),"axis"==d.dataTipDisplayMode?i=l+" : "+s:(i+=s+"<br/>Total : ",a=f.formatForScreen(u),f instanceof Tt&&!(f instanceof Lt)&&(a=c.format(a)),i+=a),i},ri._defaultStyles={labelPosition:"none"},ki(ri,Ke),ri.prototype.getMinField=function(){return this._userMinField},ri.prototype.setMinField=function(t){this.minField=this._userMinField=t},ri.prototype.getItems=function(){return this._renderData?this._renderData.filteredCache:[]},ri.prototype.commitProperties=function(){var t=this._dataTransform;ri._super.commitProperties.call(this),t&&(this._horizontalAxis&&(this._horizontalAxis.setChartDataProvider(this._dataProvider),t.setAxis("h",this._horizontalAxis)),this._verticalAxis&&(this._verticalAxis.setChartDataProvider(this._dataProvider),t.setAxis("v",this._verticalAxis)));var e=this.getChart();e&&(this._horizontalAxis||t.axes.h!=e._horizontalAxis&&t.setAxis("h",e._horizontalAxis),this._verticalAxis||t.axes.v!=e._verticalAxis&&t.setAxis("v",e._verticalAxis)),t.elements=[this]},ri.prototype.updateDisplayList=function(t,e){var i,s=this.getChart();this._includeInLayout&&(ri._super.updateDisplayList.call(this,t,e),i=this._renderData,this.labelClear(),!i||!i.filteredCache||1>i.filteredCache.length?(this.clear(),this.allSeriesRenderingComplete()):(!this.showDataEffect||this.showDataEffect&&!s.getChartState())&&this.updateSeriesItem())},ri.prototype.updateSeriesItem=function(){var t,e,i,s,a,r=this.getChart(),n=this._renderData,o=!1,l=n.filteredCache,d=n.renderedHalfWidth+n.renderedYOffset,c=-n.renderedHalfWidth+n.renderedYOffset,u=this._transitionRenderData?this._transitionRenderData:n;if(this.clear(),this._includeInLayout&&(u.elementBounds?(o=!0,u=u.elementBounds):u=u.filteredCache,e=u.length,0<e)){for(i=this._itemRendererInstance=this.itemRenderer.newInstance(),i.graphics=this.graphics,i.stroke=r._enablePattern?new w("#000000"):this.getStyle("stroke"),a=new b,t=0;t<e;t+=1)s=u[t],o?(a.setLeft(s.left),a.setRight(s.right),a.setTop(s.top),a.setBottom(s.bottom)):(a.setLeft(n.renderedBase),a.setRight(s.x),s.renderedHalfWidth?(a.setTop(s.y-s.renderedHalfWidth+n.renderedYOffset),a.setBottom(s.y+s.renderedHalfWidth+n.renderedYOffset)):(a.setTop(s.y+c),a.setBottom(s.y+d))),h(s.min)||a.setLeft(s.min),this.compareSize(a)||0==a.width||(s.fill=this.fillJsFunction?Ms.seriesFunc(l[t]||s,this,this.fillJsFunction,!0):Ms.defaultFillFunc(this,t),i.pattern=s.pattern=null,r._enablePattern&&(i.pattern=s.pattern=Ms.defaultPatternFunc(this,l[t]||s,this.seriesIndex)),i.fill=s.fill,i.data=s,i.draw(a.left,a.top,a.width,a.height));this.allSeriesTransform&&this.drawLineToEachItems(r.getChartState()?u:n.cache),r.getChartState()||this.allSeriesRenderingComplete()}},ri.prototype.drawLineToEachItems=function(t){var e,i,s,a,r,n,o,h=this.graphics;if(o=this._renderData,this.lineToEachItems&&h){for(n=o.renderedHalfWidth+o.renderedYOffset,o=-o.renderedHalfWidth+o.renderedYOffset,i=Ms.defaultFillFunc(this),this.linkLineStroke&&(i=this.linkLineStroke),ts.apply(h,i),h.save(),this._linkLabelCaches=[],i=0,s=t.length-1;i<s;i++)a=t[i],r=t[i+1],this._checkDrawLinkLine(e,a)&&(this._drawLinkLine(e,a,n,o),e=null),this._checkDrawLinkLine(a,r)?this._drawLinkLine(a,r,n,o):this.interpolateValueLines&&!e&&a.item[this.xField]&&(e=a);this._checkDrawLinkLine(e,r)&&this._drawLinkLine(e,r,n,o),h.restore()}},ri.prototype._checkDrawLinkLine=function(t,e){return!(!(t&&t.item&&e&&e.item)||d(t.item[this.xField])||d(e.item[this.xField]))&&!!(this.alwayShowLines||t.xValue&&e.xValue&&t.xValue-(t.minValue||0)&&e.xValue-(e.minValue||0))},ri.prototype._drawLinkLine=function(t,e,i,s){var a=this.graphics;a.beginPath(),a.moveTo(Math.floor(t.x)-.5,Math.floor(t.y+s)+.5),a.lineTo(Math.floor(e.x)-.5,Math.floor(e.y+i)-.5),a.closePath(),a.stroke(),this.showLinkLabels&&(i=Math.min(t.x,e.x),this._linkLabelCaches.push({text:e.xValue-(e.minValue||0)-(t.xValue-(t.minValue||0)),x:i+.5*Math.abs(e.x-t.x)+this.linkLabelXOffset,y:t.y-.5*(t.y-e.y)+this.linkLabelYOffset}))},ri.prototype._updateItemState=function(t,e,i){var s,a=0,r=i.graphics,n=this.getChart(),o=new b,l=this._renderData,d=this.itemRenderer.newInstance(),c=l.renderedHalfWidth+l.renderedYOffset;if(o.setTop(t.y+(-l.renderedHalfWidth+l.renderedYOffset)),o.setBottom(t.y+c),o.setRight(t.x),o.setLeft(l.renderedBase),t.min&&o.setLeft(t.min),i.clear(),i.move(Math.min(o.left,o.right),o.top),i.setActualSize(Math.abs(o.width),o.height),o.left>o.right&&(r.restore(),r.clearRect(0,0,Math.abs(o.width),o.height),r.save(),this.itemRenderer.generator===be?(i.move(Math.min(o.left,o.right)-4,o.top),i.setActualSize(Math.abs(o.width)+4,o.height),r.translate(Math.abs(o.width)+4,0)):r.translate(Math.abs(o.width),0)),this instanceof ni&&(a=n.cubeDepth*n.cubeAngleRatio,i.move(Math.min(o.left,o.right),o.top-a),i.setActualSize(Math.max(Math.abs(o.width-n.cubeDepth),Math.abs(o.width+n.cubeDepth)),o.height+a)),i=t.fill||this.defaultFillFunction(this.seriesIndex),this.getStyle("stroke"),n._enablePattern)s=Ms.defaultPatternFunc(this,t,this.seriesIndex),e=new w("#000000");else{switch(e){case na:case sa:i=this.itemRollOverColor?this.itemRollOverColor:this._addBrightToColor(i,40);break;case oa:case aa:i=this.itemSelectionColor?this.itemSelectionColor:this._addBrightToColor(i,-60)}e=this.getStyle("stroke")}this instanceof ni&&(h(t.min)||o.setLeft(t.min),d.cubeDepth=n.cubeDepth,d.cubeAngleRatio=n.cubeAngleRatio,d.maxDepth=2*l.renderedHalfWidth,d.cubeDepthOffset=n.cubeDepthOffset,d.data={element:this,fill:i,drawRight:t.drawRight,item:t}),d.graphics=r,d.pattern=s,d.stroke=e,d.fill=i,d.reversed=o.left>o.right,d.draw(0,a,o.width,o.height)},ri.prototype.updateData=function(){if(!this.stacker){this._stacked=!1,this._renderData=new this._renderDataType,this._renderData.cache=[];var t,e=this._itemType,i=this._dataTransform;if(this._dataProvider)for(t=0;t<this._dataProvider.getLength();t++)this._renderData.cache[t]=new e(this,this._dataProvider.getItemAt(t),t);this.cacheDefaultValues(this.xField,this._renderData.cache,"xValue"),this.cacheIndexValues(this.yField,this._renderData.cache,"yValue"),""!=this.minField&&(this.cacheNamedValues(this.minField,this._renderData.cache,"minValue"),this._renderData.renderedBase=NaN),i&&i.getAxis("v")instanceof Tt&&!(i.getAxis("v")instanceof Lt)&&"inverted"==i.getAxis("v").getDirection()&&(this._renderData.cache=this.reverseYValues(this._renderData.cache)),i&&i.getAxis("h")instanceof Tt&&!(i.getAxis("h")instanceof Lt)&&"inverted"==i.getAxis("h").getDirection()&&(this._renderData.cache=this.reverseXValues(this._renderData.cache))}ri._super.updateData.call(this)},ri.prototype.getRenderData=function(){if(!this._renderData){var t=new this._renderDataType;return t.cache=t.filteredCache=[],t.renderedHalfWidth=0,t.renderedXOffset=0,t.renderedBase=0,t}return this._renderData},ri.prototype.getSeriesRenderData=function(){if(!this._renderData){var t=new this._renderDataType;return t.cache=t.filteredCache=[],t.renderedHalfWidth=0,t.renderedYOffset=0,t.renderedBase=0,t}return this._renderData},ri.prototype.updateMapping=function(){var t=this._dataTransform;this._renderData&&(t.getAxis("h").mapCache(this._renderData.cache,"xValue","xNumber"),t.getAxis("v").mapCache(this._renderData.cache,"yValue","yNumber",""==this.yField),(""!=this.minField||this._stacked)&&t.getAxis("h").mapCache(this._renderData.cache,"minValue","minNumber"),""!=this.yField&&(this._renderData.cache=Yi.sortOn(this._renderData.cache,"yNumber")),ri._super.updateMapping.call(this))},ri.prototype.updateFilter=function(){var t=this._dataTransform;if(this._renderData){if(this.filterData){this._renderData.filteredCache=this._renderData.cache.concat();var e;e=t.getAxis("h").filterCache(this._renderData.filteredCache,"xNumber","xFilter"),void 0==this._renderData.filteredCache&&(this._renderData.filteredCache=e.concat()),e=t.getAxis("v").filterCache(this._renderData.filteredCache,"yNumber","yFilter"),void 0==this._renderData.filteredCache&&(this._renderData.filteredCache=e.concat()),this.stripNaNs(this._renderData.filteredCache,"xFilter"),this.stripNaNs(this._renderData.filteredCache,"yFilter"),(""!=this.minField||this._stacked)&&(t.getAxis("h").filterCache(this._renderData.filteredCache,"minNumber","minFilter"),this.stripNaNs(this._renderData.filteredCache,"minFilter"))}else this._renderData.filteredCache=this._renderData.cache;ri._super.updateFilter.call(this)}},ri.prototype.updateTransform=function(){var t,e,i,s,a=this.getChart();s=this._dataTransform,t=s.getAxis("h");var r=a.cubeAngleRatio||0,n=a.cubeDepth||0,o=a.cubeDepthOffset||0;if(i=n*r/3*.5,this._renderData){if(""!=this.minField||this._stacked)s.transformCache(this._renderData.filteredCache,"minNumber","min","","");else for(i=t.getBaseline(),i=[{xNumber:i}],s.transformCache(i,"xNumber","x",null,null),this._renderData.renderedBase=i[0].x,t=this._renderData.filteredCache.length,e=0;e<t;e++)this._renderData.filteredCache[e].min=this._renderData.renderedBase;if(s.transformCache(this._renderData.filteredCache,"xNumber","x","yNumber","y"),i=s.getAxis("v").unitSize,i=[{yNumber:0},{yNumber:this.barWidthRatio*i/2},{yNumber:this.offset*i}],s.transformCache(i,null,null,"yNumber","y"),h(this.maxBarWidth)||!(0>=this.maxBarWidth||0>=this.barWidthRatio)){if(i[1].y>i[0].y&&(i[0].y=-i[0].y,i[1].y=-i[1].y,i[2].y=-i[2].y),this._renderData.renderedHalfWidth=Math.round(i[0].y-i[1].y-this.halfWidthOffset),1>this._renderData.renderedHalfWidth&&(this._renderData.renderedHalfWidth=1),this._renderData.renderedYOffset=0==this.offset?0:Math.round(i[2].y-i[0].y),this.maxBarWidth&&this.maxBarWidth<this._renderData.renderedHalfWidth&&(this._renderData.renderedYOffset*=this.maxBarWidth/this._renderData.renderedHalfWidth,this._renderData.renderedHalfWidth=this.maxBarWidth),this._effectOffset=this._renderData.renderedBase,a instanceof Ot)for(a.cubeDepth-o<n*r/3?(o=n*r-n*r/3,i=0):i=.5*n-o-n/3/3,e=0,t=this._renderData.filteredCache.length;e<t;e+=1)s=this._renderData.filteredCache[e],s.y-=n*r*.3-.5*o,s.x+=i,s.min+=i,this._effectOffset=i;if(ri._super.updateTransform.call(this),this.allSeriesTransform=!0,a)for(t=a._userSeries.length,e=0;e<t;e++)a.getSeriesTransformState(a._userSeries[e])}}},ri.prototype.describeData=function(t,e){var i,s,a,r,n,o;if(this.validateData(),!this._renderData||0==this._renderData.cache.length||!this._includeInLayout)return[];i=this.getStyle("labelPosition");var h=this.outsideLabelJsFunction,l=new pt;if(l.boundedValues=null,"v"==t)""!=this.yField?0!=(e&pt.REQUIRED_MIN_INTERVAL)?(h=this._renderData.cache.concat(),h=Yi.sortOn(h,"yNumber"),this.extractMinMax(h,"yNumber",l,0!=(e&pt.REQUIRED_MIN_INTERVAL))):this.extractMinMax(this._renderData.cache,"yNumber",l,0!=(e&pt.REQUIRED_MIN_INTERVAL)):(l.min=this._renderData.cache[0].yNumber,l.max=this._renderData.cache[this._renderData.cache.length-1].yNumber,0!=(e&pt.REQUIRED_MIN_INTERVAL)&&this.extractMinInterval(this._renderData.cache,"xNumber",l)),l.padding=.5;else{if("h"!=t)return[];if(this.extractMinMax(this._renderData.cache,"xNumber",l),this.showTrendLine&&0<this._trendLineInfos.caches.length&&this.extractMinMax(this._trendLineInfos.caches,"y0",l,null,-1),this.showErrorBar&&(this.extractMinMax(this._renderData.cache,"errorBeginValue",l,null),this.extractMinMax(this._renderData.cache,"errorEndValue",l,null)),""!=this.minField&&this.extractMinMax(this._renderData.cache,"minNumber",l,void 0,-1),"outside"==i||"both"==i){for(this.setFont(),n=o=NaN,i=0,s=this._renderData.cache.length;i<s;i+=1)a=this._renderData.cache[i],r=h?this.measureText(Ms.seriesFunc(a,this,h)).width:this.formatter?this.measureText(this.formatter.format(a.xNumber)).width:this.measureText(a.xNumber).width,0>a.xNumber?n=h?Math.max(n||r,r):Math.min(n||r,r):o=Math.max(o||r,r);l.boundedValues=[],0>l.min&&l.boundedValues.push(new it(l.min,n+this.outsideLabelXOffset+1,0)),l.max&&l.boundedValues.push(new it(l.max,0,o+this.outsideLabelXOffset))}}return[l]},ri.prototype.stack=function(t,e){var i,s,a,r,n,o,l=0,d=this._itemType,c=this._dataTransform,u=null!=this.yField&&""!=this.yField,p=null!=this.xField&&""!=this.xField;if(this._renderData=new this._renderDataType,this._renderData.cache=[],this._renderData.filteredCache=[],this._renderData.renderedHalfWidth=0,this._renderData.renderedYOffset=0,this._renderData.renderedBase=0,!this._includeInLayout)return 0;if(!this._dataProvider)return l;for(s=this._dataProvider.getLength(),i=0;i<s;i++)r=this._dataProvider.getItemAt(i),this._renderData.cache[i]=n=new d(this,r,i),a=p?r[this.xField]:r,r=Number(u?r[this.yField]:i),h(Number(a))||(a=Number(a)),c&&c.getAxis("h")instanceof Tt&&!(c.getAxis("h")instanceof Lt)&&"inverted"==c.getAxis("h").getDirection()&&(a=-a),c&&c.getAxis("v")instanceof Tt&&!(c.getAxis("v")instanceof Lt)&&"inverted"==c.getAxis("v").getDirection()&&(r=-r),null==r||"100%"==this.owner.getType()&&0>a||(h(a)&&(a=0),o=t[r],h(o)&&(o=0),a+=o,n.xValue=a,n.minValue=o,t[r]=a,n.yValue=r,l=Math.max(l,a));return this._stacked=null!=e,this.invalidateMapping(!0),this.invalidateData(!1),l},ri.prototype.stackAll=function(t,e,i){var s,a,r,n,o,l,d=0,c=0,u=this._itemType,p=this._dataTransform,f=null!=this.yField&&""!=this.yField,g=null!=this.xField&&""!=this.xField;if(this._renderData=new this._renderDataType,this._renderData.cache=[],this._renderData.filteredCache=[],this._renderData.renderedHalfWidth=0,this._renderData.renderedYOffset=0,this._renderData.renderedBase=0,!this._includeInLayout)return{maxValue:0,minValue:0};if(!this._dataProvider)return{maxValue:d,minValue:c};for(a=this._dataProvider.getLength(),s=0;s<a;s++)r=this._dataProvider.getItemAt(s),this._renderData.cache[s]=n=new u(this,r,s),o=g?r[this.xField]:r,l=Number(f?r[this.yField]:s),h(Number(o))||(o=Number(o)),p&&p.getAxis("h")instanceof Tt&&!(p.getAxis("h")instanceof Lt)&&"inverted"==p.getAxis("h").getDirection()&&(o=-o),p&&p.getAxis("v")instanceof Tt&&!(p.getAxis("v")instanceof Lt)&&"inverted"==p.getAxis("v").getDirection()&&(l=-l),null==l||"100%"==this.owner.getType()&&0>o||(h(o)&&(o=0),r=0<=o?t[l]:e[l],null==r&&(r=0),n.xValue=o+r,n.minValue=r,o+=r,0<=o?(t[l]=o,d=Math.max(d,o)):(e[l]=o,c=Math.min(c,o)),n.yValue=l);return this._stacked=null!=i,this.invalidateMapping(!0),this.invalidateData(!1),{maxValue:d,minValue:c}},ri.prototype.setStackTotals=function(t){if(t&&this._renderData){var e,i,s,a=this._renderData.cache,r=this._renderData.cache.length;for(e=0;e<r;e++)i=a[e],s=t[i.yValue],i.xValue=Math.min(100,Number(i.xValue)/s*100),i.minValue=Math.min(100,Number(i.minValue)/s*100)}},ri.prototype.updateLinkLabels=function(){
var t,e,i,s,a,r=this._linkLabelCaches,n=this.linkLabelFontSize;if(this.labelLayer&&(i=this.labelLayer.graphics,this.showLinkLabels)){for(i.save(),i.textAlign="left",i.textBaseline="top",this.setFont({fontSize:n,color:this.linkLabelColor,fontFamily:this.linkLabelFontFamily,fontWeight:this.linkLabelFontWeight}),t=0,e=r.length;t<e;t+=1)a=r[t],s=a.text,i.fillStyle=0<Number(s)?this.linkLabelPositiveColor:this.linkLabelNegativeColor,s=this.formatter.format(a.text),i.fillText(s,Math.floor(a.x-.5*i.measureText(s).width)+.5,Math.floor(a.y-.5*n)+.5);i.restore()}},ri.prototype.updateLabels=function(){function t(){for(r=new b,o=0;o<A;o++)!(l=_[o])||d(l.item[i.xField])||(r.setTop(l.y+R),r.setBottom(l.y+L),r.setRight(l.x),h(l.min)?r.setLeft(s.renderedBase):r.setLeft(l.min),h(Number(l.xValue))||(m=l.minValue?Number(l.xValue)-Number(l.minValue):l.xValue,T&&T.getAxis("h")instanceof Tt&&!(T.getAxis("h")instanceof Lt)&&"inverted"==T.getAxis("h").getDirection()&&(m=-1*Number(m)),g=C.format(m),y&&""!=y&&(g=l.item[y]),v&&(g=Ms.seriesFunc(l,i,v)),c=i.measureText(g),!M&&(Math.abs(r.height)<c.height||0==m)))||(r.left<=r.right?(p=r.right+x,p+c.width>=i.labelLayer.width&&(p=r.left+.5*(r.width-c.width))):p=r.right-c.width-2,f=r.top+.5*(r.height-c.height)+S,i.fillText(c,Math.floor(p),Math.floor(f)))}function e(){for(r=new b,o=0;o<A;o++)if((l=_[o])&&!d(l.item[i.xField])&&(r.setTop(l.y+R),r.setBottom(l.y+L),r.setRight(l.x),h(l.min)?r.setLeft(s.renderedBase):r.setLeft(l.min),!h(Number(l.yValue)))){switch(m=n(l.minValue)&&l.minValue?Number(l.xValue)-Number(l.minValue):l.xValue,T&&T.getAxis("h")instanceof Tt&&!(T.getAxis("h")instanceof Lt)&&"inverted"==T.getAxis("h").getDirection()&&(m=-1*Number(m)),g=C.format(m),y&&""!=y&&(g=l.item[y]),v&&(g=Ms.seriesFunc(l,i,v)),c=i.measureText(g),w){case"left":p=0>m?r.left-c.width-x-2:r.left+x+2;break;case"right":p=0>m?r.right+2-x:r.right-c.width+x-2;break;case"center":p=r.left+.5*(r.right-r.left-c.width)+x}if(Math.abs(r.width)<c.width){if(!M)continue;i.stacker||""!=i.minField||(p=r.right,u=4,p=0>l.item[i.xField]?p-(c.width+u+x):p+u)}p=Math.floor(p),f=Math.floor(r.top+.5*(r.height-c.height)+S),i.fillText(c,p,f)}}var i=this,s=i._renderData,a=i.getStyle("labelPosition");if("none"!=a&&i.labelLayer&&s&&s.filteredCache){var r,o,l,c,u,p,f,g,m,_,y,v,x,S,C=i.formatter,D=i.labelLayer.graphics,w=i.labelAlign,T=i._dataTransform,M=i.alwayShowLabels,I=s.filteredCache,A=I.length,L=s.renderedHalfWidth+s.renderedYOffset,R=-s.renderedHalfWidth+s.renderedYOffset;if(D.save(),i.setFont(),_=I.concat(),i.showValueLabels)for(_=[],o=0;o<i.showValueLabels.length;o++)_.push(s.filteredCache[i.showValueLabels[o]]);A=_.length,"outside"!=a&&"both"!=a||(x=i.outsideLabelXOffset,S=i.outsideLabelYOffset,y=i.outsideLabelField,v=i.outsideLabelJsFunction,t.call(i)),"inside"!=a&&"both"!=a||(x=i.insideLabelXOffset,S=i.insideLabelYOffset,y=i.insideLabelField,v=i.insideLabelJsFunction,e.call(i)),D.restore()}},ri.prototype.findDataPoints=function(t,e,i){if(!this._renderData)return[];var s,a,r,n,o,l,d,c=this.height,u=this._renderData,p=this.getChart().dataTipDisplayMode,f=u.filteredCache.length,g=u.renderedHalfWidth+i;for(l=this._dataTransform.getAxis("v").getLabels().labels.length,d=this._unscaledHeight/l,a=0;a<f;a++){if(r=u.filteredCache[a],"axis"==p){if(r.y-.5*d>e||r.y+.5*d<e)continue}else{if(0>=r.y+u.renderedYOffset+u.renderedHalfWidth)continue;if(r.y+u.renderedYOffset-u.renderedHalfWidth>=c)continue;if(s=Math.abs(r.y+u.renderedYOffset-e),s>g)continue}if(n=h(r.min)?u.renderedBase:r.min,l=Math.max(r.x,n),n=Math.min(r.x,n),"axis"!=p){if(n-t>i)continue;if(t-l>i)continue}if(g=s,o=r,this instanceof ni&&0==o.xValue-o.minValue)return[];if(s<u.renderedHalfWidth)break}return o?(s=0<=o.xNumber?h(o.min)?o.x:Math.max(o.x,o.min):h(o.min)?o.x:Math.min(o.x,o.min),l=o.y+u.renderedYOffset,"mouse"==p&&(s=t,l=e),g=new mt(this._createDataID(o.index),Math.sqrt(g),s,l,o),g.dataTipFunction=this.formatDataTip,g.contextColor=g.chartItem.fill||Ms.defaultFillFunc(this,g.chartItem.element.seriesIndex),"axis"==p&&(n=h(o.min)?u.renderedBase:o.min,l=Math.max(o.x,n),n=Math.min(o.x,n),0>=o.y+u.renderedYOffset+u.renderedHalfWidth||o.y+u.renderedYOffset-u.renderedHalfWidth>=c||Math.abs(o.y+u.renderedYOffset-e)>u.renderedHalfWidth+i||n-t>i||t-l>i)&&(g.isHit=!1),[g]):[]},ri.prototype.formatDataTip=function(t){var e="",i="",s=this._displayName+"",a=this._dataTransform.getAxis("v"),r=this._dataTransform.getAxis("h"),i=this.getChart(),n=i.dataTipDisplayMode,o=i.dataTipFormatter;return"axis"!=n&&(i=a.formatForScreen(t.chartItem.yValue),a instanceof Tt&&!(a instanceof Lt)&&(i=o.format(i)),e+=i),s&&0<s.length&&(e+=("axis"!=n?"<br/>":"")+s),e+=" : <b>",""==this.minField?(i=r.formatForScreen(t.chartItem.xValue),r instanceof Tt&&!(r instanceof Lt)&&(i=o.format(i))):r instanceof Tt&&!(r instanceof Lt)?(i=r.formatForScreen(t.chartItem.xValue)-r.formatForScreen(t.chartItem.minValue),i=o.format(i)):i=r.formatForScreen(t.chartItem.minValue)+" ~ "+r.formatForScreen(t.chartItem.xValue),e+i+"</b>"},ri.prototype.getItemsInRegion=function(t){if(!this.interactive||!this._renderData)return[];var e,i,s,a,r,n,o=[],l=new b,d=new b;for(d.setLeft(t.left),d.setTop(t.top),d.setRight(t.right),d.setBottom(t.bottom),r=this._renderData,e=r.filteredCache.length,s=r.renderedHalfWidth+r.renderedYOffset,a=-r.renderedHalfWidth+r.renderedYOffset,t=0;t<e;t+=1)i=this._renderData.filteredCache[t],l.setTop(i.y+a),l.setBottom(i.y+s),l.setRight(i.x),h(i.min)?l.setLeft(r.renderedBase):l.setLeft(i.min),(l.right<l.left||l.bottom<l.top)&&(n=new b(l.x,l.y,l.width,l.height),l.right<l.left&&(n.setLeft(l.right),n.setRight(l.left)),l.bottom<l.top&&(n.setTop(l.bottom),n.setBottom(l.top)),l=n),l.intersects(d)&&o.push(i);return o},ri.prototype.getElementBounds=function(t){var e,i,s,a,r,n,o=0,h=[],l=t.filteredCache,d=l.length;if(d)for(a=t.renderedHalfWidth+t.renderedYOffset,r=-t.renderedHalfWidth+t.renderedYOffset,i=l[0],n=new b(i.x,i.y,0,0,(!0)),this instanceof ni&&(o=this.getChart().cubeDepth),e=0;e<d;e+=1)i=l[e],s=Math.min(i.x,i.min),i=new b(s,i.y+r,Math.max(i.x,i.min)-s,a-r,(!0)),n.setLeft(Math.min(n.left,i.left)),n.setTop(Math.min(n.top,i.top)),n.setRight(Math.max(n.right,i.right+o)),n.setBottom(Math.max(n.bottom,i.bottom)),h.push(i);else n=new b;t.elementBounds=h,t.bounds=n},ri.prototype.beginInterpolation=function(t,e){var i=this._initializeInterpolationData(t.cache,e.cache,{x:!0,y:!0,min:!0,renderedHalfWidth:!0},this._itemType,{sourceRenderData:t,destRenderData:e}),s=e.clone();return s.cache=i.cache,s.filteredCache=i.cache,this._transitionRenderData=s,i},ri.prototype._getMissingInterpolationValues=function(t,e,i,s,a,r){var n,o;for(o in t)s=t[o],n=i[o],"x"==o||"min"==o?(h(s)&&(s=r.destRenderData.renderedBase),h(n)&&(n=r.sourceRenderData.renderedBase),h(s)&&r.destRenderData.filteredCache[a]&&(s=r.destRenderData.filteredCache[a].min),h(n)&&r.sourceRenderData.filteredCache[a]&&(n=r.sourceRenderData.filteredCache[a].min)):"y"==o?(h(s)&&(s=n),h(n)&&(n=s)):"renderedHalfWidth"==o&&(h(s)&&(s=e.length?r.sourceRenderData.renderedHalfWidth:0),h(n)&&(n=r.destRenderData.renderedHalfWidth||0)),t[o]=s,i[o]=n},ki(ni,ri),ni.prototype.updateDisplayList=function(t,e){var i,s=this.getChart();this._includeInLayout&&(ni._super.updateDisplayList.call(this,t,e),i=this._renderData,this.labelClear(),!i||!i.filteredCache||1>i.filteredCache.length?this.clear():(this.labelLayer&&this.labelLayer.clear(),(!this.showDataEffect||this.showDataEffect&&!s.getChartState())&&this.updateSeriesItem()))},ni.prototype.updateSeriesItem=function(){var t,e,i,s,a,r=this.getChart(),n=this._renderData,o=!1,l=n.filteredCache;this._dataTransform.getAxis("h");var d=n.renderedHalfWidth+n.renderedYOffset,c=-n.renderedHalfWidth+n.renderedYOffset,u=this._transitionRenderData?this._transitionRenderData:n;if(this.clear(),this._includeInLayout&&(u.elementBounds?(o=!0,u=u.elementBounds):u=u.filteredCache,e=u.length,0<e)){for(i=this.itemRenderer.newInstance(),i.graphics=this.graphics,i.cubeDepth=r.cubeDepth,i.cubeAngleRatio=r.cubeAngleRatio,i.maxDepth=2*n.renderedHalfWidth,i.cubeDepthOffset=r.cubeDepthOffset,i.stroke=r._enablePattern?new w("#000000"):this.getStyle("stroke"),s=new b,t=0;t<e;t+=1)a=u[t],o?(s.setLeft(a.left),s.setRight(a.right),s.setTop(a.top),s.setBottom(a.bottom)):(s.setLeft(n.renderedBase),s.setRight(a.x),s.setTop(a.y+c),s.setBottom(a.y+d)),h(a.min)||s.setLeft(a.min),(this.alwayShowItem||!this.compareSize(s)&&0!=s.width)&&(a.fill=this.fillJsFunction?Ms.seriesFunc(l[t]||a,this,this.fillJsFunction,!0):Ms.defaultFillFunc(this,t),i.pattern=a.pattern=null,r._enablePattern&&(i.pattern=a.pattern=Ms.defaultPatternFunc(this,l[t],this.seriesIndex)),a.drawRight=!0,!h(a.minFilter)&&a.xFilter<=a.minFilter&&(a.drawRight=!1),a.element=this,i.data=a,i.draw(s.left,s.top,s.width,s.height));this.allSeriesTransform&&this.drawLineToEachItems(r.getChartState()?u:n.cache),r.getChartState()||this.allSeriesRenderingComplete()}},ki(oi,qe),oi.prototype.commitProperties=function(){var t,e,i,s,a=this.getChart();if(qe.prototype.commitProperties.call(this),!this._seriesIndexDirty&&(a instanceof Ot||a instanceof Ut)&&(this._seriesIndexDirty=!0,"stacked"==this._type||"100%"==this._type||"clustered"==this._type))for(t=this._series,e=(e=!(t.length%2))?t.length/2:Math.floor(t.length/2);e<t.length;e+=1)i=t[e],s=t[t.length-1-e],a.swapChildren(s,i),a.getSelectionMode()!=ia&&a.swapChildren(s.getSelectionContainer(),i.getSelectionContainer());this.showTotalLabel&&!this._labelLayerCreated&&(this._labelLayerCreated=!0,this.labelLayer=this)},oi.prototype.getIncludeInLayout=function(){var t=!1,e=this._includeInLayout,i=this._series.length;if(!i)return t;do{if(this._series[i-1].getIncludeInLayout()){t=!0;break}i--}while(0<i);return t!=e&&this.getParent().changeStackedSeriesDirty(),this._includeInLayout=t},oi.prototype.customizeSeries=function(t,e){h(this._perBarWidthRatio)||(t.barWidthRatio=this._perBarWidthRatio),h(this._perBarMaxColumnWidth)||(t.maxBarWidth=this._perBarMaxColumnWidth,"stacked"!=this._type&&"100%"!=this._type)||(t.maxBarWidth*=.5),t.offset="clustered"==this._type?this._rightOffset-e*this._perBarWidthRatio:this.offset,qe.prototype.customizeSeries.call(this,t,e)},oi.prototype.buildSubSeries=function(){var t,e,i,s=this.getChart();e=0;var a=this._series;for(t=0;t<a.length;t+=1)a[t].getIncludeInLayout()&&e++;if("100%"==this._type||"stacked"==this._type||"overlaid"==this._type?(this._perBarWidthRatio=this.barWidthRatio,this._perBarMaxColumnWidth=this.maxBarWidth):(this._perBarWidthRatio=this.barWidthRatio/e,this._perBarMaxColumnWidth=this.maxBarWidth/e),this._rightOffset=this.offset+.5*this.barWidthRatio-.5*this._perBarWidthRatio,i=s.getChildIndex(this),"stacked"==this._type||"100%"==this._type)for(t=a.length-1;0<=t;t--)e=a[t],this.customizeSeries(e,t),e.setDataTransform(this._dataTransform),e.setDataTransformOpp&&e.setDataTransformOpp(this._dataTransformOpp),this.addChildAt(e,i),e.elementOpp&&s.element.insertBefore(e.elementOpp,e.element.nextSibling),i++;else{var r=0;for(t=0;t<a.length;t++)e=a[t],e.getIncludeInLayout()&&(this.customizeSeries(e,r),e.setDataTransform(this._dataTransform),this.addChildAt(e,i),i++,r++)}s&&s.invalidateSeriesStyles()},oi.prototype.describeData=function(t,e){var i,s,a,r,n,o;s=this._series;var h=s.length,l=[];if(this.updateStacking(),this.validateData(),"100%"==this._type)if("h"==t)s=new pt,s.min=0,s.max=100,l=[s];else for(i=0;i<h;i++)l=l.concat(s[i].describeData(t,e));else if("stacked"==this._type)if("h"==t){if(i=[{value:this._stackedMinimum},{value:this._stackedMaximum}],this._dataTransform.getAxis("h").mapCache(i,"value","number"),s=new pt,s.min=i[0].number,s.max=i[1].number,l=[s],this.showTotalLabel){this.setFont(),o=this.totalLabelJsFunction,r=a=NaN;var d,c=this._series[this._series.length-1].getRenderData().cache;for(i=0,h=c.length;i<h;i+=1)d=c[i],n=this._posTotalsByPrimaryAxis[d.yValue],o?n=Ms.seriesSetFunc(n,d,this,o):this.formatter&&(n=this.formatter.format(n)),n=this.measureText(n).width,0>this._posTotalsByPrimaryAxis[d.yValue]?r=o?Math.max(r||n,n):Math.min(r||n,n):a=Math.max(a||n,n);s.boundedValues=[],0>s.min&&s.boundedValues.push(new it(s.min,r+this.labelXOffset+1,0)),s.max&&s.boundedValues.push(new it(s.max,0,a+this.labelXOffset))}}else for(i=0;i<h;i++)l=l.concat(s[i].describeData(t,e));else for(i=0;i<h;i++)l=l.concat(s[i].describeData(t,e));return l},oi.prototype.stack=function(){var t,e,i,s=this._series.length;for(i=null,this._posTotalsByPrimaryAxis=[],this._negTotalsByPrimaryAxis=[],t=this._stackedMaximum=0;t<s;t++)e=this._series[t],"stacked"==this._type&&this.getAllowNegativeForStacked()?(i=e.stackAll(this._posTotalsByPrimaryAxis,this._negTotalsByPrimaryAxis,i),this._stackedMaximum=Math.max(this._stackedMaximum,i.maxValue),this._stackedMinimum=h(this._stackedMinimum)?i.minValue:Math.min(this._stackedMinimum,i.minValue)):(this._stackedMaximum=Math.max(this._stackedMaximum,e.stack(this._posTotalsByPrimaryAxis,i)),"100%"==this._type?this._stackedMinimum=0:(i=e.describeData("h",pt.REQUIRED_MIN_MAX|pt.REQUIRED_BOUNDED_VALUES),i.length&&(this._stackedMinimum=h(this._stackedMinimum)?i[0].min:Math.min(this._stackedMinimum,i[0].min)))),i=e;for(i="100%"==this._type?this._posTotalsByPrimaryAxis:null,t=0;t<s;t++)e=this._series[t],e.setStackTotals(i)},oi.prototype.updateLabels=function(){function t(t,e){var i,s,a,r=this._series;if(i=r.length-1,"max"==e)for(a=Number.MIN_VALUE;0<=i;--i)s=r[i],s._includeInLayout&&(a=Math.max(a,s.getItems()[t].min,s.getItems()[t].x));else for(a=Number.MAX_VALUE;0<=i;--i)s=r[i],s._includeInLayout&&(a=Math.min(a,s.getItems()[t].min,s.getItems()[t].x));return a}var e=this.getChart(),i=this._dataTransform;if(e&&this.showTotalLabel&&"stacked"==this._type){var s;if(e=this._series.length){do{if(this._series[e-1].getIncludeInLayout()){s=this._series[e-1];break}e--}while(0<e);if(i&&i.getAxis("h")instanceof Tt&&!(i.getAxis("h")instanceof Lt)&&i.getAxis("h").getDirection(),s){var a=s.getSeriesRenderData();if(null!=a&&0!=a.length){var r,n,o,e=new b;s=s.getItems();var l=s.length,d=this.labelXOffset,c=this.labelYOffset,u=this.totalLabelField,p=this.totalLabelJsFunction,f=a.renderedHalfWidth+a.renderedYOffset,g=-a.renderedHalfWidth+a.renderedYOffset,m=this.labelLayer.graphics;for(this.labelLayer.clear(),m.save(),this.setFont(),a=0;a<l;++a)r=s[a],o=this._posTotalsByPrimaryAxis[r.yValue],this.getAllowNegativeForStacked()&&(h(o)&&(o=0),o+=h(this._negTotalsByPrimaryAxis[r.yValue])?0:this._negTotalsByPrimaryAxis[r.yValue]),e.top=r.y+g,e.bottom=r.y+f,e.right=r.x,h(r.min)?e.left=this._renderData.renderedBase:e.left=r.min,n=i.getAxis("h").formatForScreen(o),n=this.formatter.format(n),u&&""!=u&&(n=r.item[u]),p&&(n=Ms.seriesSetFunc(o,r,this,p)),r=this.measureText(n),n=e.top+.5*(e.bottom-e.top)+c-r.height-1,o=0<=o?t.call(this,a,"max")+d:t.call(this,a,"min")-d,this.fillText(r,Math.floor(o)+1,Math.floor(n+.5*r.height));m.restore()}}}}},oi.prototype.formatDataTip=function(t){var e,i="",s="";e=0;var a="",r=this.stacker,a=t.chartItem,n=a.element,o=n._displayName,l=this._dataTransform,d=l.getAxis("h"),c=l.getAxis("v"),l=n.getChart(),u=l.dataTipFormatter,p=r._posTotalsByPrimaryAxis[a.yValue];return"100%"==r._type?(e=Number(a.xValue)-Number(a.minValue),e=Math.round(10*e)/10):("stacked"==r._type&&r.getAllowNegativeForStacked()&&(h(p)&&(p=0),p+=h(r._negTotalsByPrimaryAxis[a.yValue])?0:r._negTotalsByPrimaryAxis[a.yValue]),e=Number(a.xValue)-Number(a.minValue),e=l.dataTipFormatter.format(e/p*1e3)/10),s=c.formatForScreen(a.yValue),c instanceof Tt&&!(c instanceof Lt)&&(s=u.format(s)),i+=s+"<br/>",o&&0<o.length&&(i+=o+" : "),a="100%"==r._type?t.item[n.xField]:d.formatForScreen(Number(a.xValue)-Number(a.minValue)),d instanceof Tt&&!(d instanceof Lt)&&(a=u.format(a)),a="<b>"+a+"</b>","100%"==r._type&&e!=Number.POSITIVE_INFINITY&&e!=Number.NEGATIVE_INFINITY&&(a+=" ("+e+"%)"),"axis"==l.dataTipDisplayMode?i=o+" : "+a:(i+=a+"<br/>Total : ",s=d.formatForScreen(p),d instanceof Tt&&!(d instanceof Lt)&&(s=u.format(s)),i+=s),i},hi._defaultStyles={labelPosition:"none"},ki(hi,Ke),hi.RADIUS_AXIS="bubbleRadius",hi.prototype.getItems=function(){return this._renderData?this._renderData.filteredCache:[]},hi.prototype.styleChanged=function(t){Qe._super.styleChanged.call(this),this.legendDataChanged()},hi.prototype.commitProperties=function(){var t=this._dataTransform;hi._super.commitProperties.call(this),t&&(this._horizontalAxis&&(this._horizontalAxis.setChartDataProvider(this._dataProvider),t.setAxis("h",this._horizontalAxis)),this._verticalAxis&&(this._verticalAxis.setChartDataProvider(this._dataProvider),t.setAxis("v",this._verticalAxis)),this.radiusAxis&&(this.radiusAxis.setChartDataProvider(this._dataProvider),t.setAxis(hi.RADIUS_AXIS,this.radiusAxis)));var e=this.getChart();e&&(this._horizontalAxis||t.axes.h!=e._horizontalAxis&&t.setAxis("h",e._horizontalAxis),this._verticalAxis||t.axes.v!=e._verticalAxis&&t.setAxis("v",e._verticalAxis),this.radiusAxis||e instanceof Vt&&t.axes[hi.RADIUS_AXIS]!=e.radiusAxis&&t.setAxis(hi.RADIUS_AXIS,e.radiusAxis)),t.elements=[this]},hi.prototype.updateDisplayList=function(t,e){var i,s=this.getChart();this._includeInLayout&&(hi._super.updateDisplayList.call(this,t,e),i=this._renderData,this.labelClear(),!i||!i.filteredCache||1>i.filteredCache.length?(this.clear(),this.allSeriesRenderingComplete()):(!this.showDataEffect||this.showDataEffect&&!s.getChartState())&&this.updateSeriesItem())},hi.prototype.updateSeriesItem=function(){var t,e,i,s,a,r,n=this.getChart();e=this._renderData;var o=!1,l=e.filteredCache,d=n.maxRadius-n.minRadius,c=this._transitionRenderData?this._transitionRenderData:e;if(this.clear(),this._includeInLayout&&(c.elementBounds?(o=!0,c=c.elementBounds):c=c.filteredCache,e=c.length,0<e)){for(t=n.cubeDepth||0,s=n.cubeAngleRatio||0,i=this.itemRenderer.newInstance(),i.graphics=this.graphics,i.stroke=n._enablePattern?new w("#000000"):this.getStyle("stroke"),i.cubeDepth=t,i.cubeAngleRatio=s,a=new b,t=0;t<e;t+=1)s=c[t],r=n.minRadius+s.z*d,(o||!(h(s.x)||h(s.y)||h(s.z)))&&(o?(a.setLeft(s.left),a.setRight(s.right),a.setTop(s.top),a.setBottom(s.bottom)):(a.setLeft(s.x-r+i.cubeDepth),a.setTop(s.y-r-i.cubeDepth*i.cubeAngleRatio),a.width=2*r,a.height=2*r),s.fill=this.fillJsFunction?Ms.seriesFunc(l[t],this,this.fillJsFunction,!0):Ms.defaultFillFunc(this,t),i.pattern=s.pattern=null,n._enablePattern&&(i.pattern=s.pattern=Ms.defaultPatternFunc(this,l[t],this.seriesIndex)),i.fill=s.fill,i.data=s,i.draw(a.left,a.top,a.width,a.height));n.getChartState()||this.allSeriesRenderingComplete()}},hi.prototype._updateItemState=function(t,e,i){var s,a,r=i.graphics,n=this.getChart();s=n.minRadius+t.z*(n.maxRadius-n.minRadius),a=n.cubeDepth||0;var o=a*(n.cubeAngleRatio||0),h=this.itemRenderer;if(h&&!this._motionEffect){if(h=h.newInstance(),s=new b(t.x-s+a,t.y-s-o,2*s,2*s),a=t.fill||this.getStyle("fill"),t.stroke||this.getStyle("stroke"),i.clear(),i.move(s.left,s.top),i.setActualSize(s.width,s.height),n._enablePattern)h.pattern=Ms.defaultPatternFunc(this,t,this.seriesIndex),t=new w("#000000");else{switch(e){case na:case sa:a=this.itemRollOverColor?this.itemRollOverColor:this._addBrightToColor(a,40);break;case oa:case aa:a=this.itemSelectionColor?this.itemSelectionColor:this._addBrightToColor(a,-60)}t=this.getStyle("stroke")}h.fill=a,h.stroke=t,h.draw(0,0,s.width,s.height,r)}},hi.prototype.updateData=function(){this._renderData=new this._renderDataType,this._renderData.cache=[];var t,e=this._itemType,i=this._dataTransform;if(this._dataProvider)for(t=0;t<this._dataProvider.getLength();t++)this._renderData.cache[t]=new e(this,this._dataProvider.getItemAt(t),t);this.cacheIndexValues(this.xField,this._renderData.cache,"xValue"),this.cacheDefaultValues(this.yField,this._renderData.cache,"yValue"),this.cacheNamedValues(this.radiusField,this._renderData.cache,"zValue"),i&&i.getAxis("v")instanceof Tt&&!(i.getAxis("v")instanceof Lt)&&"inverted"==i.getAxis("v").getDirection()&&(this._renderData.cache=this.reverseYValues(this._renderData.cache)),i&&i.getAxis("h")instanceof Tt&&!(i.getAxis("h")instanceof Lt)&&"inverted"==i.getAxis("h").getDirection()&&(this._renderData.cache=this.reverseXValues(this._renderData.cache)),hi._super.updateData.call(this)},hi.prototype.getSeriesRenderData=function(){return this._renderData?this._renderData:new this._renderDataType},hi.prototype.updateMapping=function(){var t=this._dataTransform;t.getAxis("h").mapCache(this._renderData.cache,"xValue","xNumber",""==this.xField),t.getAxis("v").mapCache(this._renderData.cache,"yValue","yNumber"),t.getAxis(hi.RADIUS_AXIS).mapCache(this._renderData.cache,"zValue","zNumber"),hi._super.updateMapping.call(this)},hi.prototype.updateFilter=function(){if(this.filterData){this._renderData.filteredCache=this._renderData.cache.concat();var t,e;e=this._dataTransform,t=e.getAxis("h").filterCache(this._renderData.filteredCache,"xNumber","xFilter"),void 0==this._renderData.filteredCache&&(this._renderData.filteredCache=t.concat()),t=e.getAxis("v").filterCache(this._renderData.filteredCache,"yNumber","yFilter"),void 0==this._renderData.filteredCache&&(this._renderData.filteredCache=t.concat()),e=e.getAxis(hi.RADIUS_AXIS).filterCache(this._renderData.filteredCache,"zNumber","zFilter"),void 0==this._renderData.filteredCache&&(this._renderData.filteredCache=e.concat()),this.stripNaNs(this._renderData.filteredCache,"xFilter"),this.stripNaNs(this._renderData.filteredCache,"yFilter"),this.stripNaNs(this._renderData.filteredCache,"zFilter")}else this._renderData.filteredCache=this._renderData.cache;hi._super.updateFilter.call(this)},hi.prototype.updateTransform=function(){var t,e,i=this.getChart();if(t=this._dataTransform,t.transformCache(this._renderData.filteredCache,"xNumber","x","yNumber","y"),t.getAxis(hi.RADIUS_AXIS).transformCache(this._renderData.filteredCache,"zNumber","z"),hi._super.updateTransform.call(this),this.allSeriesTransform=!0,i)for(e=i.getSeries().length,t=0;t<e;t++)i.getSeriesTransformState(i.getSeries()[t])},hi.prototype.describeData=function(t,e){if(this.validateData(),!this._includeInLayout)return[];var i=this.getChart(),s=new pt,a=this._renderData.cache,i=i.maxRadius;if("h"==t)0!=(e&pt.REQUIRED_MIN_INTERVAL)&&(a=a.concat(),a=Yi.sortOn(a,"xNumber")),this.extractMinMax(a,"xNumber",s,0!=(e&pt.REQUIRED_MIN_INTERVAL)),0!=(e&pt.REQUIRED_BOUNDED_VALUES)&&(s.boundedValues=[],s.boundedValues.push(new it(s.max,0,i)),s.boundedValues.push(new it(s.min,i,0)));else if("v"==t)0!=(e&pt.REQUIRED_MIN_INTERVAL)&&(a=a.concat(),a=Yi.sortOn(a,"yNumber")),this.extractMinMax(a,"yNumber",s,0!=(e&pt.REQUIRED_MIN_INTERVAL)),this.showTrendLine&&0<this._trendLineInfos.caches.length&&this.extractMinMax(this._trendLineInfos.caches,"y0",s,null,-1),0!=(e&pt.REQUIRED_BOUNDED_VALUES)&&(s.boundedValues=[],s.boundedValues.push(new it(s.max,0,i)),s.boundedValues.push(new it(s.min,i,0)));else{if(t!=hi.RADIUS_AXIS)return[];this.extractMinMax(a,"zNumber",s)}return[s]},hi.prototype.updateLabels=function(){function t(){for(v.save(),e.setFont(),a=0;a<D;a++)r=C[a],h(Number(r.zValue))||(p=Number(r.zValue),l=x.minRadius+r.z*T,o=2*l,f&&""!=f&&(u=r.item[f]),u=y.format(p),g&&(u=Ms.seriesFunc(r,e,g)),n=e.measureText(u),!w&&(Math.abs(o)<n.width||Math.abs(o)<n.height))||(d=Math.floor(r.x+b-.5*n.width+m),c=Math.floor(r.y-S+_-.5*n.height),e.fillText(n,d,c));v.restore()}var e=this,i=e._renderData,s=e.getStyle("labelPosition");if(i&&i.filteredCache&&"none"!=s){var a,r,n,o,l,d,c,u,p,f,g,m,_,y=e.formatter,v=e.labelLayer.graphics,x=e.getChart(),b=x.cubeDepth||0,S=b*(x.cubeAngleRatio||0),C=i.filteredCache,D=C.length,w=e.alwayShowLabels,T=x.maxRadius-x.minRadius;"inside"==s&&(m=e.labelXOffset||e.insideLabelXOffset,_=e.labelYOffset||e.insideLabelYOffset,f=e.labelField||e.insideLabelField,g=e.labelJsFunction||e.insideLabelJsFunction,t.call(e))}},hi.prototype.findDataPoints=function(t,e,i){if(!this._renderData)return[];var s,a,r,n,o,h=this.getChart(),l=h.cubeDepth||0,d=h.dataTipDisplayMode,c=l*(h.cubeAngleRatio||0),u=h.maxRadius+i,p=[],f=h.maxRadius-h.minRadius,u=u*u;for(o=this._visibleItemCount?this._visibleItemCount:this._renderData.filteredCache.length,n=o-1;0<=n;n--)(void 0==this.showTrailItems||this.showTrailItems||n==o-1)&&(r=this._renderData.filteredCache[n])&&(s=(r.x-t+c)*(r.x-t+c),"axis"!=d&&(s+=(r.y-e-c)*(r.y-e-c)),a=h.minRadius+r.z*f+i,a*=a,s>a||s<=u&&p.push(r));for(o=p.length,n=0;n<o;n++)r=p[n],s=r.x+l,a=r.y-c,"mouse"==d&&(s=t,a=e),a=new mt(this._createDataID(r.index),Math.sqrt(u),s,a,r),a.dataTipFunction=this.formatDataTip,a.contextColor=a.chartItem.fill||Ms.defaultFillFunc(this,this.seriesIndex),"axis"==d&&(s=(r.x-t+c)*(r.x-t+c)+(r.y-e-c)*(r.y-e-c),s>Math.pow(h.minRadius+r.z*f+i,2)&&(a.isHit=!1)),p[n]=a;return p},hi.prototype.formatDataTip=function(t){var e,i,s="",a="",a=this._displayName+"",r=t.chartItem,n=this._dataTransform;e=n.getAxis("h"),i=n.getAxis("v");var n=n.getAxis(hi.RADIUS_AXIS),o=e.formatForScreen(r.xValue),h=i.formatForScreen(r.yValue),r=this.getChart().dataTipFormatter;return e=e instanceof Tt&&!(e instanceof Lt)?r.format(o.toString()):o.toString(),i=i instanceof Tt&&!(i instanceof Lt)?r.format(h.toString()):h.toString(),a&&0<a.length&&(s+=a+"<br/>"),s=s+("x : <b>"+e+"</b>, y : <b>")+(i+"</b><br/>value : <b>"),a=n.formatForScreen(t.chartItem.zValue),n instanceof Tt&&!(n instanceof Lt)&&(a=r.format(a)),s+=a+"</b>"},hi.prototype.getItemsInRegion=function(t){if(!this.interactive||!this._renderData)return[];var e,i=[],s=new b,a=this._renderData.filteredCache.length;for(s.setLeft(t.left),s.setTop(t.top),s.setRight(t.right),s.setBottom(t.bottom),t=0;t<a;t+=1)e=this._renderData.filteredCache[t],s.contains(e.x,e.y)&&i.push(e);return i},hi.prototype.getElementBounds=function(t){var e,i,s,a,r,n=[],o=this.getChart(),h=t.cache,l=h.length,d=o.cubeDepth||0,c=d*(o.cubeAngleRatio||0);if(0==l)r=new b(0,0,this._unscaledWidth,this._unscaledHeight,(!0));else for(s=o.maxRadius-o.minRadius,e=h[0],r=new b(e.x,e.y,0,0),i=0;i<l;i++)e=h[i],a=o.minRadius+e.z*s,e=new b(e.x-a+d,e.y-a-c,2*a,2*a,(!0)),r.left=Math.min(r.left,e.left),r.top=Math.min(r.top,e.top),r.right=Math.max(r.right,e.right),r.bottom=Math.max(r.bottom,e.bottom),n[i]=e;t.elementBounds=n,t.bounds=r},hi.prototype.beginInterpolation=function(t,e){var i=this._initializeInterpolationData(t.cache,e.cache,{x:!0,y:!0,z:!0},this._itemType),s=this._renderData.clone();return s.cache=i.cache,s.filteredCache=i.cache,this._transitionRenderData=s,i},hi.prototype._getMissingInterpolationValues=function(t,e,i,s,a,r){for(var n in t)e=t[n],s=i[n],"x"==n||"y"==n?(h(e)&&(e=s),h(s)&&(s=e)):"z"==n&&(h(e)&&(e=0),h(s)&&(s=0)),t[n]=e,i[n]=s},ki(li,hi),di._defaultStyles={labelPosition:"none"},ki(di,Ke),di.prototype.getMinField=function(){return this._userMinField},di.prototype.setMinField=function(t){this.minField=this._userMinField=t},di.prototype.getItems=function(){return this._renderData?this._renderData.filteredCache:[]},di.prototype.updateDisplayList=function(t,e){var i,s=this.getChart();this._includeInLayout?(di._super.updateDisplayList.call(this,t,e),i=this._renderData,this.labelClear(),!i||!i.filteredCache||1>i.filteredCache.length?(this.clear(),this.allSeriesRenderingComplete()):(!this.showDataEffect||this.showDataEffect&&!s.getChartState())&&this.updateSeriesItem()):this.clear()},di.prototype.updateSeriesItem=function(){var t,e,i,s,a,r=this.getChart(),n=this._renderData;t=this.graphics;var o=!1,l=n.filteredCache,d=n.renderedHalfWidth+n.renderedXOffset,c=-n.renderedHalfWidth+n.renderedXOffset,u=this._transitionRenderData?this._transitionRenderData:n;if(this.clear(),this._includeInLayout&&(u.elementBounds?(o=!0,u=u.elementBounds):u=u.filteredCache,e=this._visibleItemCount?this._visibleItemCount:u.length,0<e)){for(i=this._itemRendererInstance=this.itemRenderer.newInstance(),i.graphics=t,i.stroke=r._enablePattern?new w("#000000"):this.getStyle("stroke"),a=new b,t=0;t<e;t+=1)s=u[t],o?(a.setLeft(s.left),a.setRight(s.right),a.setTop(s.top),a.setBottom(s.bottom),s.element=this):(s.renderedHalfWidth?(a.setLeft(s.x+n.renderedXOffset-s.renderedHalfWidth),a.setRight(s.x+n.renderedXOffset+s.renderedHalfWidth)):(a.setLeft(s.x+c),a.setRight(s.x+d)),a.setTop(s.y),a.setBottom(n.renderedBase)),h(s.min)||a.setBottom(s.min),this.compareSize(a)||0==a.height||(s.fill=this.fillJsFunction?Ms.seriesFunc(l[t]||s,this,this.fillJsFunction,!0):Ms.defaultFillFunc(this,t),i.pattern=s.pattern=null,r._enablePattern&&(i.pattern=s.pattern=Ms.defaultPatternFunc(this,l[t]||s,this.seriesIndex)),i.data=s,i.fill=s.fill,i.draw(a.left,a.top,a.width,a.height));this.allSeriesTransform&&this.drawLineToEachItems(r.getChartState()?u:n.cache),r.getChartState()||this.allSeriesRenderingComplete()}},di.prototype.drawLineToEachItems=function(t){var e,i,s,a,r,n,o,h=this.graphics;if(o=this._renderData,this.lineToEachItems&&h){for(n=o.renderedHalfWidth+o.renderedXOffset,o=-o.renderedHalfWidth+o.renderedXOffset,i=Ms.defaultFillFunc(this),this.linkLineStroke&&(i=this.linkLineStroke),ts.apply(h,i),h.save(),this._linkLabelCaches=[],i=0,s=t.length-1;i<s;i++)a=t[i],r=t[i+1],this._checkDrawLinkLine(e,a)&&(this._drawLinkLine(e,a,n,o),e=null),this._checkDrawLinkLine(a,r)?this._drawLinkLine(a,r,n,o):this.interpolateValueLines&&!e&&a.item[this.yField]&&(e=a);this._checkDrawLinkLine(e,r)&&this._drawLinkLine(e,r,n,o),h.restore()}},di.prototype._checkDrawLinkLine=function(t,e){return!(!(t&&t.item&&e&&e.item)||d(t.item[this.yField])||d(e.item[this.yField]))&&!!(this.alwayShowLines||t.yValue&&e.yValue&&t.yValue-(t.minValue||0)&&e.yValue-(e.minValue||0))},di.prototype._drawLinkLine=function(t,e,i,s){var a;a=this.graphics,a.beginPath(),a.moveTo(Math.floor(t.x+i)-.5,Math.floor(t.y)+.5),a.lineTo(Math.floor(e.x+s)+.5,Math.floor(e.y)+.5),a.closePath(),a.stroke(),this.showLinkLabels&&(i=t.x+i-2,a=Math.min(t.y,e.y),this._linkLabelCaches.push({text:e.yValue-(e.minValue||0)-(t.yValue-(t.minValue||0)),x:i+.5*(e.x+s-i)+this.linkLabelXOffset,y:a+.5*Math.abs(t.y-e.y)+this.linkLabelYOffset}))},di.prototype._updateItemState=function(t,e,i){var s,a=0,r=i.graphics,n=this.getChart(),o=new b,h=this._renderData,l=this.itemRenderer.newInstance();s=h.renderedHalfWidth+h.renderedXOffset;var d=-h.renderedHalfWidth+h.renderedXOffset;if(!this._motionEffect&&(o.setLeft(t.x+d),o.setRight(t.x+s),o.setTop(t.y),o.setBottom(h.renderedBase),t.min&&o.setBottom(t.min),o.height)){if(i.clear(),i.move(o.left,Math.min(o.top,o.bottom)),i.setActualSize(o.width,Math.abs(o.height)),0>o.height&&(r.restore(),r.clearRect(0,0,o.width,-1*o.height),r.save(),this.itemRenderer.generator===Oe?i.setActualSize(o.width,Math.abs(o.height)+4):r.translate(0,-1*o.height)),this instanceof ui&&(s=-1<n.className.indexOf("mn3")?2:1,a=n.cubeDepth/s,i.move(o.left,Math.min(o.top-a,o.bottom-a)),i.setActualSize(o.width+n.cubeDepth*n.cubeAngleRatio/s,Math.max(Math.abs(o.height-a),Math.abs(o.height+a)))),i=t.fill||this.getStyle("fill"),n._enablePattern)l.pattern=Ms.defaultPatternFunc(this,t,this.seriesIndex),e=new w("#000000");else{switch(e){case na:case sa:i=this.itemRollOverColor?this.itemRollOverColor:this._addBrightToColor(i,40);break;case oa:case aa:i=this.itemSelectionColor?this.itemSelectionColor:this._addBrightToColor(i,-60)}e=this.getStyle("stroke")}this instanceof ui&&(l.cubeDepth=n.cubeDepth,l.cubeAngleRatio=n.cubeAngleRatio,l.maxDepth=2*h.renderedHalfWidth,l.cubeDepthOffset=n.cubeDepthOffset,l.data={element:this,fill:i,drawTop:t.drawTop,item:t.item}),l.fill=i,l.stroke=e,l.reversed=o.top>o.bottom,l.draw(0,a,o.width,o.height,r)}},di.prototype.getRenderData=function(){if(!this._renderData){var t=new this._renderDataType;return t.cache=t.filteredCache=[],t.renderedHalfWidth=0,t.renderedXOffset=0,t.renderedBase=0,t}return this._renderData},di.prototype.getSeriesRenderData=function(){if(!this._renderData){var t=new this._renderDataType;return t.cache=t.filteredCache=[],t.renderedHalfWidth=0,t.renderedXOffset=0,t.renderedBase=0,t}return this._renderData},di.prototype.updateData=function(){if(!this.stacker){this._stacked=!1,this._renderData=new this._renderDataType,this._renderData.cache=[];var t,e=this._itemType,i=this._dataTransform;if(this._dataProvider)for(t=0;t<this._dataProvider.getLength();t++)this._renderData.cache[t]=new e(this,this._dataProvider.getItemAt(t),t);
this.cacheIndexValues(this.xField,this._renderData.cache,"xValue"),this.cacheDefaultValues(this.yField,this._renderData.cache,"yValue"),""!=this.minField&&(this.cacheNamedValues(this.minField,this._renderData.cache,"minValue"),this._renderData.renderedBase=NaN),i&&i.getAxis("v")instanceof Tt&&!(i.getAxis("v")instanceof Lt)&&"inverted"==i.getAxis("v").getDirection()&&(this._renderData.cache=this.reverseYValues(this._renderData.cache)),i&&i.getAxis("h")instanceof Tt&&!(i.getAxis("h")instanceof Lt)&&"inverted"==i.getAxis("h").getDirection()&&(this._renderData.cache=this.reverseXValues(this._renderData.cache))}di._super.updateData.call(this)},di.prototype.updateMapping=function(){var t=this._dataTransform;this._renderData&&(t.getAxis("h").mapCache(this._renderData.cache,"xValue","xNumber",""==this.xField),t.getAxis("v").mapCache(this._renderData.cache,"yValue","yNumber"),(""!=this.minField||this._stacked)&&t.getAxis("v").mapCache(this._renderData.cache,"minValue","minNumber"),""!=this.xField&&this.sortOnXField&&(this._renderData.cache=Yi.sortOn(this._renderData.cache,"xNumber")),di._super.updateMapping.call(this))},di.prototype.updateFilter=function(){if(this.filterData){if(!this._renderData)return;this._renderData.filteredCache=this._renderData.cache.concat();var t,e=this._dataTransform;t=e.getAxis("h").filterCache(this._renderData.filteredCache,"xNumber","xFilter"),void 0==this._renderData.filteredCache&&(this._renderData.filteredCache=t.concat()),t=e.getAxis("v").filterCache(this._renderData.filteredCache,"yNumber","yFilter"),void 0==this._renderData.filteredCache&&(this._renderData.filteredCache=t.concat()),(""!=this.minField||this._stacked)&&e.getAxis("v").filterCache(this._renderData.filteredCache,"minNumber","minFilter"),this.stripNaNs(this._renderData.filteredCache,"yFilter"),this.stripNaNs(this._renderData.filteredCache,"xFilter"),(""!=this.minField||this._stacked)&&this.stripNaNs(this._renderData.filteredCache,"minFilter")}else this._renderData.filteredCache=this._renderData.cache;di._super.updateFilter.call(this)},di.prototype.updateTransform=function(){var t,e,i,s=this.getChart();i=this._dataTransform,e=i.getAxis("v");var a,r=0,n=0,o=0;if(this._renderData){if(s&&(r=s.cubeAngleRatio,n=s.cubeDepth,o=s.cubeDepthOffset,a=n*r/3*.5),""!=this.minField||this._stacked)i.transformCache(this._renderData.filteredCache,null,null,"minNumber","min");else for(e=e.getBaseline(),t=[{yNumber:e}],i.transformCache(t,null,null,"yNumber","y"),e=this._renderData.filteredCache.length,this._renderData.renderedBase=t[0].y,t=0;t<e;t++)this._renderData.filteredCache[t].min=this._renderData.renderedBase;if(i.transformCache(this._renderData.filteredCache,"xNumber","x","yNumber","y"),e=i.getAxis("h").unitSize,e=[{xNumber:0},{xNumber:this.columnWidthRatio*e/2},{xNumber:this.offset*e}],i.transformCache(e,"xNumber","x",null,null),h(this.maxColumnWidth)||!(0>=this.maxColumnWidth||0>=this.columnWidthRatio)){if(e[1].x<e[0].x&&(e[0].x=-e[0].x,e[1].x=-e[1].x,e[2].x=-e[2].x),this._renderData.renderedHalfWidth=e[1].x-e[0].x-this.halfWidthOffset,1>this._renderData.renderedHalfWidth&&(this._renderData.renderedHalfWidth=1),this._renderData.renderedXOffset=0==this.offset?0:e[2].x-e[0].x,!h(this.maxColumnWidth)&&this.maxColumnWidth<this._renderData.renderedHalfWidth&&(this._renderData.renderedXOffset*=this.maxColumnWidth/this._renderData.renderedHalfWidth,this._renderData.renderedHalfWidth=this.maxColumnWidth),this._effectOffset=this._renderData.renderedBase,s instanceof Wt)for(a>this._renderData.renderedHalfWidth&&(a=this._renderData.renderedHalfWidth),(n-o)*r<n*r/3?(o=n*r-n*r/3,a=0):a=-n*r*.5+a+.5*o,t=0,e=this._renderData.filteredCache.length;t<e;t+=1)i=this._renderData.filteredCache[t],i.x+=.4*(n-o),i.y+=a,i.min+=a,this._effectOffset=this.height+a;if(di._super.updateTransform.call(this),this.allSeriesTransform=!0,s)for(e=s._userSeries.length,t=0;t<e;t++)s.getSeriesTransformState(s._userSeries[t])}}},di.prototype.describeData=function(t,e){var i,s,a,r,n;if(this.validateData(),!this._renderData||0==this._renderData.cache.length||!this._includeInLayout)return[];i=this.getStyle("labelPosition");var o=this.outsideLabelJsFunction,h=new pt;if(h.boundedValues=null,"v"==t){if(this.extractMinMax(this._renderData.cache,"yNumber",h,null),this.showTrendLine&&0<this._trendLineInfos.caches.length&&this.extractMinMax(this._trendLineInfos.caches,"y0",h,null,-1),this.showErrorBar&&(this.extractMinMax(this._renderData.cache,"errorBeginValue",h,null),this.extractMinMax(this._renderData.cache,"errorEndValue",h,null)),""!=this.minField&&this.extractMinMax(this._renderData.cache,"minNumber",h,null,-1),"outside"==i||"both"==i){if(n=r=this.getSizeStyle("fontSize"),h.boundedValues=[],this.setFont(),o)for(r=n=NaN,i=0;i<this._renderData.cache.length;i+=1)s=this._renderData.cache[i],a=this.measureText(Ms.seriesFunc(s,this,o)).height,0>s.yNumber?r=Math.max(r||a,a):n=Math.max(n||a,a);0>this.outsideLabelYOffset&&(n-=this.outsideLabelYOffset-1),r-=this.outsideLabelYOffset-1,0<=h.max&&h.boundedValues.push(new it(h.max,0,n)),0>h.min&&h.boundedValues.push(new it(h.min,r,0))}}else{if("h"!=t)return[];""!=this.xField?0==this.sortOnXField&&0!=(e&pt.REQUIRED_MIN_INTERVAL)?(o=this._renderData.cache.concat(),o=Yi.sortOn(o,"xNumber"),this.extractMinMax(o,"xNumber",h,0!=(e&pt.REQUIRED_MIN_INTERVAL))):this.extractMinMax(this._renderData.cache,"xNumber",h,0!=(e&pt.REQUIRED_MIN_INTERVAL)):(h.min=this._renderData.cache[0].xNumber,h.max=this._renderData.cache[this._renderData.cache.length-1].xNumber,0!=(e&pt.REQUIRED_MIN_INTERVAL)&&this.extractMinInterval(this._renderData.cache,"xNumber",h)),h.padding=.5}return[h]},di.prototype.stack=function(t,e){var i,s,a,r,n=0,o=0,l=this._itemType,d=this._dataTransform,c=null!=this.yField&&""!=this.yField,u=null!=this.xField&&""!=this.xField;if(this._renderData=new this._renderDataType,this._renderData.cache=[],this._renderData.filteredCache=[],this._renderData.renderedHalfWidth=0,this._renderData.renderedXOffset=0,this._renderData.renderedBase=0,!this._includeInLayout)return 0;if(!this._dataProvider)return o;for(n=0;n<this._dataProvider.getLength();n++)i=this._dataProvider.getItemAt(n),this._renderData.cache[n]=s=new l(this,i,n),a=u?i[this.xField]:n,r=Number(c?i[this.yField]:i),d&&d.getAxis("v")instanceof Tt&&!(d.getAxis("v")instanceof Lt)&&"inverted"==d.getAxis("v").getDirection()&&(r=-r),d&&d.getAxis("h")instanceof Tt&&!(d.getAxis("h")instanceof Lt)&&"inverted"==d.getAxis("h").getDirection()&&(a=-a),null==a||"100%"==this.owner.getType()&&0>r||(h(r)&&(r=0),i=t[a],h(i)&&(i=0),r+=i,s.yValue=r,s.minValue=i,t[a]=r,s.xValue=a,o=Math.max(o,r));return this._stacked=null!=e,this.invalidateMapping(!0),this.invalidateData(!1),o},di.prototype.stackAll=function(t,e,i){var s,a,r,n,o=0,l=0,d=0,c=this._itemType,u=this._dataTransform,p=null!=this.yField&&""!=this.yField,f=null!=this.xField&&""!=this.xField;if(this._renderData=new this._renderDataType,this._renderData.cache=[],this._renderData.filteredCache=[],this._renderData.renderedHalfWidth=0,this._renderData.renderedXOffset=0,this._renderData.renderedBase=0,!this._includeInLayout)return{maxValue:0,minValue:0};if(!this._dataProvider)return{maxValue:l,minValue:d};for(o=0;o<this._dataProvider.getLength();o++)s=this._dataProvider.getItemAt(o),this._renderData.cache[o]=a=new c(this,s,o),r=f?s[this.xField]:o,n=Number(p?s[this.yField]:s),u&&u.getAxis("v")instanceof Tt&&!(u.getAxis("v")instanceof Lt)&&"inverted"==u.getAxis("v").getDirection()&&(n=-n),u&&u.getAxis("h")instanceof Tt&&!(u.getAxis("h")instanceof Lt)&&"inverted"==u.getAxis("h").getDirection()&&(r=-r),null==r||h(r)||"100%"==this.owner.getType()&&0>n||(h(n)&&(n=0),s=0<=n?t[r]:e[r],h(s)&&(s=0),a.yValue=n+s,a.minValue=s,n+=s,0<=n?(t[r]=n,l=Math.max(l,n)):0>n&&(e[r]=n,d=Math.min(d,n)),a.xValue=r);return this._stacked=null!=i,this.invalidateMapping(!0),this.invalidateData(!1),{maxValue:l,minValue:d}},di.prototype.setStackTotals=function(t){if(t&&this._renderData){var e,i,s,a=this._renderData.cache.length,r=this._renderData.cache;for(e=0;e<a;e++)i=r[e],s=t[i.xValue],i.yValue=Math.min(100,Number(i.yValue)/s*100),i.minValue=Math.min(100,Number(i.minValue)/s*100)}},di.prototype.updateLinkLabels=function(){var t,e,i,s,a,r=this._linkLabelCaches,n=this.linkLabelFontSize;if(this.labelLayer&&(s=this.labelLayer.graphics,this.showLinkLabels)){for(s.save(),this.setFont({fontSize:n,color:this.linkLabelColor,fontFamily:this.linkLabelFontFamily,fontWeight:this.linkLabelFontWeight}),t=0,e=r.length;t<e;t+=1)a=r[t],i=a.text,s.fillStyle=0<Number(i)?this.linkLabelPositiveColor:this.linkLabelNegativeColor,i=this.formatter.format(a.text),s.fillText(i,Math.floor(a.x-.5*s.measureText(i).width)+.5,Math.floor(a.y+.5*n)+.5);s.restore()}},di.prototype.updateLabels=function(){function t(){for(n=0;n<u;n++)!(o=y[n])||d(o.item[i.yField])||(S.setLeft(o.x+R),S.setRight(o.x+L),S.top=o.y,h(o.min)?S.setBottom(s.renderedBase):S.setBottom(o.min),h(Number(o.yValue))||(_=o.minValue?Number(o.yValue)-Number(o.minValue):Number(o.yValue),I&&I.getAxis("v")instanceof Tt&&!(I.getAxis("v")instanceof Lt)&&"inverted"==I.getAxis("v").getDirection()&&(_=-1*Number(_)),m=C.format(_),c&&""!=c&&(m=o.item[c]),p&&(m=Ms.seriesFunc(o,i,p)),l=i.measureText(m),!T&&(Math.abs(S.width)<l.width||0==_)))||(f=Math.floor(S.left+.5*(S.right-S.left-l.width)+v),S.top<=S.bottom?g=S.top-l.height+x:S.top>S.bottom?g=S.top-x:(I&&I.getAxis("v")instanceof Tt&&!(I.getAxis("v")instanceof Lt)&&I.getAxis("v").getDirection(),g=S.top+x),i.fillText(l,Math.floor(f),Math.floor(g)))}function e(){for(n=0;n<u;n++)if((o=y[n])&&!d(o.item[i.yField])){if(S.setLeft(o.x+R),S.setRight(o.x+L),S.setTop(o.y),h(o.min)?S.setBottom(s.renderedBase):S.setBottom(o.min),_=o.minValue?Number(o.yValue)-Number(o.minValue):Number(o.yValue),I&&I.getAxis("v")instanceof Tt&&!(I.getAxis("v")instanceof Lt)&&"inverted"==I.getAxis("v").getDirection()&&(_=-1*Number(_)),m=C.format(_),c&&""!=c&&(m=o.item[c]),p&&(m=Ms.seriesFunc(o,i,p)),l=i.measureText(m),D.save(),M){if(!T&&(Math.abs(S.height)<l.width||Math.abs(S.width)<l.height))continue;switch(f=S.left+.5*(S.width-l.height)+v,w){case"top":g=0>_?S.top-x:S.top+x+l.width+x+2;break;case"bottom":g=0<_?S.bottom+x-2:S.bottom+l.width-x+2;break;default:g=S.top+.5*(S.height+l.width)+x}f=Math.floor(f),g=Math.floor(g),"flippedVertical"==A?(g-=l.width,f+=l.height+1,D.translate(f,g),D.rotate(Math.PI/2)):(D.translate(f,g),D.rotate(-Math.PI/2)),i.fillText(l,0,0)}else{switch(f=Math.floor(S.left+.5*(S.right-S.left-l.width)+v),w){case"top":g=0>_?S.top-l.height-x-2:S.top+x+2;break;case"bottom":g=0<_?S.bottom-l.height+x-2:S.bottom-x+2;break;default:g=S.top+.5*(S.height-l.height)+x}if(g+l.height>i._unscaledHeight&&(g=i._unscaledHeight-l.height),Math.abs(S.height)<l.height){if(!T)continue;i.stacker||""!=i.minField||(g=S.top,g=0>o.item[i.yField]?S.top-x:S.top-l.height+x)}i.fillText(l,f,g)}D.restore()}}var i=this,s=i._renderData,a=i.labelLayer,r=i.getStyle("labelPosition");if(s&&s.filteredCache&&a&&"none"!=r){var n,o,l,c,u,p,f,g,m,_,y,v,x,S=new b,C=i.formatter,D=a.graphics,w=i.labelAlign,T=i.alwayShowLabels,a=s.filteredCache,M=i.showLabelVertically,I=i._dataTransform,A=i.verticalLabelAlignment,L=s.renderedHalfWidth+s.renderedXOffset,R=-s.renderedHalfWidth+s.renderedXOffset;if(i.setFont(),y=a.concat(),i.showValueLabels)for(y=[],n=0;n<i.showValueLabels.length;n++)y.push(s.filteredCache[i.showValueLabels[n]]);u=y.length,"outside"!=r&&"both"!=r||(D.save(),v=i.outsideLabelXOffset,x=i.outsideLabelYOffset,c=i.outsideLabelField,p=i.outsideLabelJsFunction,t.call(i),D.restore()),"inside"!=r&&"both"!=r||(D.save(),v=i.insideLabelXOffset,x=i.insideLabelYOffset,c=i.insideLabelField,p=i.insideLabelJsFunction,e.call(i),D.restore())}},di.prototype.findDataPoints=function(t,e,i){if(!this._renderData||!this._renderData.filteredCache)return[];var s,a,r,n,o,l,d,c,u,p=this.width,f=this.getChart().dataTipDisplayMode,g=this._renderData,m=g.renderedXOffset,_=Math.floor(g.renderedHalfWidth);r=this._dataTransform.getAxis("h").getLabels().labels.length;var y=Math.floor(g.renderedHalfWidth+i);for(o=this._visibleItemCount?this._visibleItemCount:g.filteredCache.length,u=this._unscaledWidth/r,s=0;s<o;s++)if((void 0==this.showTrailItems||this.showTrailItems||s==o-1)&&g.filteredCache[s]){if(a=g.filteredCache[s],r=Math.floor(a.x),"axis"==f){if(r-.5*u>t||r+.5*u<t)continue}else{if(0>=r+m+_)continue;if(r+m-_>=p)continue;if(n=Math.floor(Math.abs(r+m-t)),n>=y)continue}if(d=h(a.min)?g.renderedBase:a.min,l=Math.max(a.y,d),d=Math.min(a.y,d),"axis"!=f){if(d-e>i)continue;if(e-l>i)continue}if(y=n,c=a,this instanceof ui&&0==c.yValue-c.minValue)return[];if(n<_)break}return c?(n=0<=c.yNumber?h(c.min)?c.y:Math.min(c.y,c.min):h(c.min)?c.y:Math.max(c.y,c.min),r=c.x+m,"mouse"==f&&(r=t,n=e),n=new mt(this._createDataID(c.index),Math.sqrt(y),r,n,c),n.dataTipFunction=this.formatDataTip,n.contextColor=n.chartItem.fill||Ms.defaultFillFunc(this,n.chartItem.element.seriesIndex),"axis"==f&&(r=Math.floor(c.x),y=Math.floor(_+i),d=h(c.min)?g.renderedBase:c.min,l=Math.max(c.y,d),d=Math.min(c.y,d),0>=r+m+_||r+m-_>=p||Math.floor(Math.abs(r+m-t))>=y||d-e>i||e-l>i)&&(n.isHit=!1),[n]):[]},di.prototype.formatDataTip=function(t){var e="",i="",s=this._displayName+"",a=this._dataTransform,r=a.getAxis("h"),a=a.getAxis("v"),i=this.getChart(),n=i.dataTipDisplayMode,o=i.dataTipFormatter;return"axis"!=n&&(i=r.formatForScreen(t.chartItem.xValue),r instanceof Tt&&!(r instanceof Lt)&&(i=o.format(i)),e+=i.replace(/<br>/," ")),s&&0<s.length&&(e+=("axis"!=n?"<br/>":"")+s),e+=" : <b>",""==this.minField?(i=a.formatForScreen(t.chartItem.yValue),a instanceof Tt&&!(a instanceof Lt)&&(i=o.format(i)),e+=i+"</b>"):(a instanceof Tt&&!(a instanceof Lt)?(i=a.formatForScreen(t.chartItem.yValue)-a.formatForScreen(t.chartItem.minValue),i=o.format(i)):i=a.formatForScreen(t.chartItem.minValue)+" ~ "+a.formatForScreen(t.chartItem.yValue),e+=i),e+"</b>"},di.prototype.getItemsInRegion=function(t){if(!this.interactive||!this._renderData)return[];var e,i,s,a,r=[],n=new b,o=new b,l=this._renderData.filteredCache.length;for(o.setLeft(t.left),o.setTop(t.top),o.setRight(t.right),o.setBottom(t.bottom),t=this._renderData.renderedHalfWidth+this._renderData.renderedXOffset,e=-this._renderData.renderedHalfWidth+this._renderData.renderedXOffset,i=0;i<l;i+=1)s=this._renderData.filteredCache[i],n.setLeft(s.x+e),n.setRight(s.x+t),n.setTop(s.y),h(s.min)?n.setBottom(this._renderData.renderedBase):n.setBottom(s.min),(n.right<n.left||n.bottom<n.top)&&(a=new b(n.x,n.y,n.width,n.height),n.right<n.left&&(a.setLeft(n.right),a.setRight(n.left)),n.bottom<n.top&&(a.setTop(n.bottom),a.setBottom(n.top)),n=a),n.intersects(o)&&r.push(s);return r},di.prototype.getElementBounds=function(t){var e,i,s,a,r,n,o=0,h=[],l=t.filteredCache,d=l.length;if(d)for(a=t.renderedHalfWidth+t.renderedXOffset,r=-t.renderedHalfWidth+t.renderedXOffset,i=l[0],n=new b(i.x,i.y,0,0,(!0)),this instanceof ui&&(o=this.getChart().cubeDepth),e=0;e<d;e+=1)i=l[e],s=Math.min(i.y,i.min),i=new b(i.x+r,s,a-r,Math.max(i.y,i.min)-s,(!0)),n.setLeft(Math.min(n.left,i.left)),n.setTop(Math.min(n.top,i.top-o)),n.setRight(Math.max(n.right,i.right)),n.setBottom(Math.max(n.bottom,i.bottom)),h.push(i);else n=new b;t.elementBounds=h,t.bounds=n},di.prototype.beginInterpolation=function(t,e){var i=this._initializeInterpolationData(t.cache,e.cache,{x:!0,y:!0,min:!0,renderedHalfWidth:!0},this._itemType,{sourceRenderData:t,destRenderData:e}),s=e.clone();return s.cache=i.cache,s.filteredCache=i.cache,this._transitionRenderData=s,i},di.prototype._getMissingInterpolationValues=function(t,e,i,s,a,r){var n,o;for(o in t)s=t[o],n=i[o],"y"==o||"min"==o?(h(s)&&(s=r.destRenderData.renderedBase),h(n)&&(n=r.sourceRenderData.renderedBase),h(s)&&r.destRenderData.filteredCache[a]&&(s=r.destRenderData.filteredCache[a].min),h(n)&&r.sourceRenderData.filteredCache[a]&&(n=r.sourceRenderData.filteredCache[a].min)):"x"==o?(h(s)&&(s=n),h(n)&&(n=s)):"renderedHalfWidth"==o&&(h(s)&&(s=e.length?r.sourceRenderData.renderedHalfWidth:0),h(n)&&(n=r.destRenderData.renderedHalfWidth||0)),t[o]=s,i[o]=n},ki(ci,qe),ci.prototype.getIncludeInLayout=function(){var t=!1,e=this._includeInLayout,i=this._series.length;if(!i)return t;do{if(this._series[i-1].getIncludeInLayout()){t=!0;break}i--}while(0<i);return t!=e&&this.getParent().changeStackedSeriesDirty(),this._includeInLayout=t},ci.prototype.customizeSeries=function(t,e){h(this._perColumnWidthRatio)||(t.columnWidthRatio=this._perColumnWidthRatio),h(this._perColumnMaxColumnWidth)||(t.maxColumnWidth=this._perColumnMaxColumnWidth,"stacked"!=this._type&&"100%"!=this._type)||(t.maxColumnWidth*=.5),t.offset="clustered"==this._type?this._leftOffset+e*this._perColumnWidthRatio:this.offset,qe.prototype.customizeSeries.call(this,t,e)},ci.prototype.commitProperties=function(){var t,e,i,s,a=this.getChart();if(qe.prototype.commitProperties.call(this),!this._seriesIndexDirty&&("stacked"==this._type||"100%"==this._type)&&(a instanceof Wt||a instanceof Ut))for(this._seriesIndexDirty=!0,s=this._series,t=(t=!(s.length%2))?s.length/2:Math.floor(s.length/2);t<s.length;t+=1)e=s[t],i=s[s.length-1-t],a.swapChildren(i,e),a.getSelectionMode()!=ia&&a.swapChildren(i.getSelectionContainer(),e.getSelectionContainer());this.showTotalLabel&&!this._labelLayerCreated&&(this._labelLayerCreated=!0,this.labelLayer=this)},ci.prototype.buildSubSeries=function(){var t,e,i;e=this._type;var s=this.getChart(),a=this._series,r=0;for(t=0;t<a.length;t+=1)a[t].getIncludeInLayout()&&r++;if("100%"==e||"stacked"==e||"overlaid"==e?(this._perColumnWidthRatio=this.columnWidthRatio,this._perColumnMaxColumnWidth=this.maxColumnWidth):(this._perColumnWidthRatio=this.columnWidthRatio/r,this._perColumnMaxColumnWidth=this.maxColumnWidth/r),this._leftOffset=this.offset+(1-this.columnWidthRatio)/2+this._perColumnWidthRatio/2-.5,i=s.getChildIndex(this),"stacked"==e||"100%"==e)for(t=a.length-1;0<=t;t--)e=a[t],this.customizeSeries(e,t),e.setDataTransform(this._dataTransform),this.addChildAt(e,i),e.elementOpp&&s.element.insertBefore(e.elementOpp,e.element.nextSibling),i++;else for(t=0;t<r;t++)e=a[t],this.customizeSeries(e,t),e.setDataTransform(this._dataTransform),this.addChildAt(e,i),i++;s&&s.invalidateSeriesStyles()},ci.prototype.describeData=function(t,e){var i,s=qe.prototype.describeData.call(this,t,e);return"v"==t&&0<s.length&&this.showTotalLabel&&"stacked"==this._type&&(i=this.getSizeStyle("fontSize")+-1*this.labelYOffset+2,s[0].boundedValues=[],0<=s[0].max&&s[0].boundedValues.push(new it(s[0].max,0,i)),0>s[0].min&&s[0].boundedValues.push(new it(s[0].min,i,0))),"h"==t&&0<s.length&&(s[0].padding=.5),s},ci.prototype.updateLabels=function(){function t(t,e){var i,s,a,r=this._series;if(i=r.length-1,"max"==e)for(a=Number.MIN_VALUE;0<=i;--i)s=r[i],s._includeInLayout&&(a=Math.max(a,s.getItems()[t].y,s.getItems()[t].min));else for(a=Number.MAX_VALUE;0<=i;--i)s=r[i],s._includeInLayout&&(a=Math.min(a,s.getItems()[t].y,s.getItems()[t].min));return a}if(this.getChart()&&this.showTotalLabel&&"stacked"==this._type){var e,i=this._dataTransform,s=this._series.length;if(s){do{if(this._series[s-1].getIncludeInLayout()){e=this._series[s-1];break}s--}while(0<s);if(i&&i.getAxis("v")instanceof Tt&&!(i.getAxis("v")instanceof Lt)&&i.getAxis("v").getDirection(),e&&(s=e.getSeriesRenderData(),null!=s&&0!=s.length)){var a,r,n,o=new b,l=this.labelLayer.graphics,d=e.getItems(),c=d.length,u=this.labelXOffset,p=this.labelYOffset,f=this.totalLabelField,g=this.totalLabelJsFunction,m=s.renderedHalfWidth+s.renderedXOffset,_=-s.renderedHalfWidth+s.renderedXOffset;for(this.labelLayer.clear(),l.save(),this.setFont(),e=0;e<c;++e)r=d[e],n=this._posTotalsByPrimaryAxis[r.xValue],this._allowNeg&&(h(n)&&(n=0),n+=h(this._negTotalsByPrimaryAxis[r.xValue])?0:this._negTotalsByPrimaryAxis[r.xValue]),o.left=r.x+_,o.right=r.x+m,o.top=r.y,h(r.min)?o.bottom=s.renderedBase:o.bottom=r.min,a=i.getAxis("v").formatForScreen(n),a=this.formatter.format(a),f&&""!=f&&(a=r.item[f]),g&&(a=Ms.seriesSetFunc(n,r,this,g)),r=o.left+.5*(o.right-o.left)+u,n=0<=n?t.call(this,e,"min")+p:t.call(this,e,"max")-p,a=this.measureText(a),this.fillText(a,r-.5*a.width-1,n-a.height-2);l.restore()}}}},ci.prototype.formatDataTip=function(t){var e,i="",s="",a="";e=this.stacker;var r=t.chartItem,n=r.element,o=n._displayName,l=n.getChart(),d=e._dataTransform,c=d.getAxis("h"),d=d.getAxis("v"),u=l.dataTipFormatter,p=e._posTotalsByPrimaryAxis[r.xValue],f=e.getType();return"100%"==f?(e=Number(r.yValue)-Number(r.minValue),e=Math.round(10*e)/10):("stacked"==f&&e._allowNeg&&(h(p)&&(p=0),p+=h(e._negTotalsByPrimaryAxis[r.xValue])?0:e._negTotalsByPrimaryAxis[r.xValue]),e=Number(r.yValue)-Number(r.minValue),e=Math.round(e/p*1e3)/10),s=c.formatForScreen(r.xValue),c instanceof Tt&&!(c instanceof Lt)&&(s=u.format(s)),i+=s+"<br/>",null!=o&&0<o.length&&(i+=o+" : "),a="100%"==f?a+t.item[n.yField]:a+(Number(r.yValue)-Number(r.minValue)),d instanceof Tt&&!(d instanceof Lt)&&(a=u.format(a)),a="<b>"+a+"</b>","100%"==f&&e!=Number.POSITIVE_INFINITY&&e!=Number.NEGATIVE_INFINITY&&(a+=" ("+e+"%)"),"axis"==l.dataTipDisplayMode?i=o+" : "+a:(i+=a+"<br/>Total : ",s=d.formatForScreen(p),d instanceof Tt&&!(d instanceof Lt)&&(s=u.format(s)),i+=s),i},ki(ui,di),ui.prototype.updateDisplayList=function(t,e){var i;this.getChart(),this._includeInLayout&&(ui._super.updateDisplayList.call(this,t,e),i=this._renderData,this.labelClear(),!i||!i.filteredCache||1>i.filteredCache.length?this.clear():(!this.showDataEffect||this.showDataEffect&&!this.getChart().getChartState())&&this.updateSeriesItem())},ui.prototype.updateSeriesItem=function(){var t,e,i,s,a,r=this.getChart(),n=this._renderData,o=!1,l=n.filteredCache,d=n.renderedHalfWidth+n.renderedXOffset,c=-n.renderedHalfWidth+n.renderedXOffset,u=this._transitionRenderData?this._transitionRenderData:n;if(this._dataTransform.getAxis("v"),this.clear(),this._includeInLayout&&(u.elementBounds?(o=!0,u=u.elementBounds):u=u.filteredCache,this.clear(),e=u.length,0<e)){for(i=this.itemRenderer.newInstance(),i.stroke=r._enablePattern?new w("#000000"):this.getStyle("stroke"),i.graphics=this.graphics,i.cubeDepth=r.cubeDepth,i.cubeAngleRatio=r.cubeAngleRatio,i.maxDepth=2*n.renderedHalfWidth,i.cubeDepthOffset=r.cubeDepthOffset,s=new b,t=0;t<e;t+=1)a=u[t],o?(s.setLeft(a.left),s.setRight(a.right),s.setTop(a.top),s.setBottom(a.bottom)):(s.setLeft(a.x+c),s.setRight(a.x+d),s.setTop(a.y),s.setBottom(n.renderedBase)),h(a.min)||s.setBottom(a.min),(this.alwayShowItem||!this.compareSize(s)&&0!=s.height)&&(a.fill=this.fillJsFunction?Ms.seriesFunc(l[t]||a,this,this.fillJsFunction,!0):Ms.defaultFillFunc(this,t),i.pattern=a.pattern=null,r._enablePattern&&(i.pattern=a.pattern=Ms.defaultPatternFunc(this,l[t],this.seriesIndex)),a.drawTop=!0,!h(a.minFilter)&&a.yFilter<a.minFilter&&(a.drawTop=!1),a.element=this,i.data=a,i.draw(s.left,s.top,s.width,s.height));this.allSeriesTransform&&this.drawLineToEachItems(r.getChartState()?u:n.cache),r.getChartState()||this.allSeriesRenderingComplete()}},ki(pi,ri),pi.prototype.findDataPoints=function(t,e,i){if(!this._renderData)return[];var s,a,r,n,o,l,d,c=this.height,u=this._renderData,p=this.getChart().dataTipDisplayMode,f=u.filteredCache.length,g=u.renderedHalfWidth+i;for(l=this._dataTransform.getAxis("v").getLabels().labels.length,d=this._unscaledHeight/l,a=0;a<f;a++){if(r=u.filteredCache[a],"axis"==p){if(this._unscaledHeight-d*a<e||this._unscaledHeight-d-d*a>e)continue}else{if(0>=r.y+u.renderedYOffset+u.renderedHalfWidth)continue;if(r.y+u.renderedYOffset-u.renderedHalfWidth>=c)continue;if(s=Math.abs(r.y+u.renderedYOffset-e),s>g)continue}if(n=r.x-4,l=Math.max(r.x,n),n=Math.min(r.x,n),"axis"!=p){if(n-t>i)continue;if(t-l>i)continue}if(g=s,o=r,this instanceof ni&&0==o.xValue-o.minValue)return[];if(s<u.renderedHalfWidth)break}return o?(s=0<=o.xNumber?h(o.min)?o.x:Math.max(o.x,o.min):h(o.min)?o.x:Math.min(o.x,o.min),l=o.y+u.renderedYOffset,"mouse"==p&&(s=t,l=e),g=new mt(this._createDataID(o.index),Math.sqrt(g),s,l,o),g.dataTipFunction=this.formatDataTip,g.contextColor=g.chartItem.fill||Ms.defaultFillFunc(this,g.chartItem.element.seriesIndex),"axis"==p&&(n=o.x-4,l=Math.max(o.x,n),n=Math.min(o.x,n),0>=o.y+u.renderedYOffset+u.renderedHalfWidth||o.y+u.renderedYOffset-u.renderedHalfWidth>=c||Math.abs(o.y+u.renderedYOffset-e)>u.renderedHalfWidth+i||n-t>i||t-l>i)&&(g.isHit=!1),[g]):[]},ki(fi,ri),ki(gi,ni),ki(mi,ni),_i._propertyTypes={PerWedgeExplodeRadius:Array},_i._defaultStyles={radialStroke:null,calloutStroke:null,labelPosition:"none"},ki(_i,Qe),_i.prototype.getNameField=function(){return this._nameField},_i.prototype.setNameField=function(t){this._nameField=t,this._dataChanged(),this.legendDataChanged()},_i.prototype.setPerWedgeExplodeRadius=function(t){var e,i;for(this.perWedgeExplodeRadius=t,e=this.perWedgeExplodeRadius.length,t=0;t<e;t++)i=Number(this.perWedgeExplodeRadius[t]),this.perWedgeExplodeRadius[t]=n(i)?Math.max(0,Math.min(i,1)):"undefined"},_i.prototype.setReserveExplodeRadius=function(t){this.reserveExplodeRadius=Math.max(0,Math.min(t,1))},_i.prototype.getLegendData=function(){var t,e,i,s,a,r=this,n=r.getChart(),o=[];t=r.getStyle("fills");var h=r.legendMarkerRenderer;for(r.validateData(),t||(t=[new T(0)]),i=r._renderData.filteredCache?r._renderData.filteredCache:r._renderData.cache,e=i.length,t=0;t<e;t++)a=i[t],s=new _t,s.target=r,s.fill=Ms.defaultFillFunc(r,t),s.label=null!=r._nameField&&""!=r._nameField?a.item[r._nameField]:null,s.data=a.item,n&&n._enablePattern&&(s.pattern=Ms.defaultPatternFunc(r,null,t),s.stroke=new w("#000000")),h&&(s.marker=h.newInstance()),o[t]=s;return 0<o.length&&n.enableDataEffect&&!n.renderingComplete&&(r._updateSeriesItemDelay=!0,r.callLater(function(){r._updateSeriesItemDelay=!1,n.hideData()})),o},_i.prototype.getItems=function(){return this._renderData?this._renderData.filteredCache:[]},_i.prototype.commitProperties=function(){var t=2*Math.PI;Qe.prototype.commitProperties.call(this),this.startAngleRadians=this.startAngle*Math.PI/180%t,0>this.startAngle&&(this.startAngleRadians+=t),this._dataTransform&&this._angularAxis&&this._dataTransform.setAxis("a",this._angularAxis),(t=this.getChart())&&(this._angularAxis||this._dataTransform.axes.a==t._angularAxis||this._dataTransform.setAxis("a",t._angularAxis)),this._dataTransform.elements=[this]},_i.prototype.updateDisplayList=function(t,e){var i,s=this.getChart();this._includeInLayout&&(_i._super.updateDisplayList.call(this,t,e),i=this._renderData,this.labelClear(),!i||!i.filteredCache||1>i.filteredCache.length||this._updateSeriesItemDelay?(this.clear(),this._updateSeriesItemDelay||this.allSeriesRenderingComplete()):(this.labelLayer&&this.labelLayer.clear(),(!this.showDataEffect||this.showDataEffect&&!s.getChartState())&&this.updateSeriesItem()))},_i.prototype.updateSeriesItem=function(){var t,e,i,s,a,r,n,o,h=this.getChart(),l=this._renderData,d=!1,c=this._transitionRenderData?this._transitionRenderData:l;if(this.clear(),c.elementBounds?(d=!0,n=c.visibleRegion.left,o=c.visibleRegion.right,c=c.elementBounds):c=c.filteredCache,e=c.length,0<e){for(this._itemRendererInstance||(this._itemRendererInstance=this.itemRenderer.newInstance(this._unscaledWidth,this._unscaledHeight)),s=this._itemRendererInstance,s.depth=this.depth,s.lineStyle=this.lineStyle,s.graphics=this.graphics,s.stroke=this.getStyle("stroke"),s.renderDirection=this.renderDirection,s.radialStroke=h._enablePattern?new w("#000000"):this.getStyle("radialStroke"),new b,t=0;t<e;t+=1)a=c[t],i=l.filteredCache[t],d&&(r=a.width,a.left<n?(r=Math.max(0,r+a.left-n),a.left=n):a.left+r>o&&(a.left=Math.min(o,a.left),r=Math.max(0,o-a.left)),a.startAngle=a.left,a.angle=r,a.innerRadius=a.top,a.outerRadius=a.bottom,a.origin=i.origin),a.fill=this.fillJsFunction?Ms.seriesFunc(i||a,this,this.fillJsFunction,!0):Ms.defaultFillFunc(this,t),s.pattern=a.pattern=null,h._enablePattern&&(s.pattern=a.pattern=Ms.defaultPatternFunc(this,i,t)),s.outerRadius=a.outerRadius,s.innerRadius=a.innerRadius,s.data=a,s.draw();h.getChartState()||this.allSeriesRenderingComplete()}},_i.prototype._updateItemState=function(t,e,i){var a,r,n,o,h,l=i.graphics;this.getChart();var d,c=new b,u=t.origin,p=t.outerRadius,f=this._itemRendererInstance||this.itemRenderer.newInstance();d=t.startAngle;var g=d+t.angle;o=u.x+Math.cos(d)*p,h=u.y-Math.sin(d)*p;var m=u.x+Math.cos(g)*p,_=u.y-Math.sin(g)*p;for(r=Math.min(u.x,o,m),n=Math.min(u.y,h,_),o=Math.max(u.x,o,m),h=Math.max(u.y,h,_);d<=g;d+=15*Math.PI/180)r=Math.min(r,u.x+Math.cos(d)*p),n=Math.min(n,u.y-Math.sin(d)*p),o=Math.max(o,u.x+Math.cos(d)*p),h=Math.max(h,u.y-Math.sin(d)*p);if(c.setLeft(r),c.setRight(o),c.setTop(n),c.setBottom(h),i.clear(),i.move(c.left,c.top),i.setActualSize(c.width,c.height),this.getChart()._enablePattern)i=e=new w("#000000"),f.pattern=Ms.defaultPatternFunc(this,t,t.index);else{switch(e){case na:case sa:a=this.itemRollOverColor?this.itemRollOverColor:this._addBrightToColor(t.fill,40);break;case oa:case aa:a=this.itemSelectionColor?this.itemSelectionColor:this._addBrightToColor(t.fill,-60);break;case ra:case ia:a=t.fill}e=this.getStyle("stroke"),i=this.getStyle("radialStroke")}s(a)&&(a=new T(a)),f.data=t.clone(),f.data.origin={x:u.x-c.left,y:u.y-c.top},f.data.fill=a,f.stroke=e,f.radialStroke=i,f.graphics=l,f.draw()},_i.prototype.renderingLabel=function(){var t=this._renderData,e=t.filteredCache,i=e.length,s=this.labelLayer.graphics,a=this.getStyle("labelPosition");s.save(),this.labelLayer.clear(),this.setFont(),this.innerRadius>=this.outerRadius||t==this._transitionRenderData||0==i||("outside"==a?this.renderRadialLabels(s,t,e):"inside"==a||"insideWithCallout"==a?this.renderInternalLabels(s,t,e,this._unscaledWidth,this._unscaledHeight):"callout"==a&&this.renderCalloutLabels(s,t,this._unscaledWidth,this._unscaledHeight)),s.restore()},_i.prototype.renderRadialLabels=function(t,e,i){var s=i.length;for(t=0;t<s;t++)e=i[t],(this.zeroValueEnable||0!=e.percentValue)&&this.fillText(e,e.labelX+this.labelXOffset,e.labelY+this.labelYOffset)},_i.prototype.measureRadialLabels=function(t,e,i){var s,a=1,r=[],n=t.length,o=this.startAngleRadians,h=this._dataTransform,l=h.origin,d=this.renderDirection,c=h.radius*this.outerRadius,u=new b(0,0,e,i);for(e=0;e<n;e++)i=t[e],s=null!=this.labelFunction?Ms.seriesFunc(i,this,this.labelFunction):this.labelField?i.item[this.labelField]:this.formatter?this.formatter.format(i.value):i.value.toString(),i.text=s,this.measureText(i),i.labelAngle="clockwise"==d?2*Math.PI-(o+i.angle/2)%(2*Math.PI):(o+i.angle/2)%(2*Math.PI),i.labelCos=Math.cos(i.labelAngle),i.labelSin=-Math.sin(i.labelAngle),i.labelAngle<Math.PI?(i.labelY=.25*-i.height,c=Math.min(c,(l.y-i.height)/Math.abs(i.labelSin))):(i.labelY=.45*-i.height,c=Math.min(c,(u.bottom-i.height-l.y)/Math.abs(i.labelSin))),(i.labelAngle+Math.PI/2)%(2*Math.PI)<Math.PI?(i.labelX=0,c=Math.min(c,(u.right-1.5*i.width-l.x)/Math.abs(i.labelCos))):(i.labelX=-i.width,c=Math.min(c,1.5*(l.x-i.width)/Math.abs(i.labelCos))),r[e]=i,o+=i.angle;for(c<(1-this.maxLabelRadius)*h.radius*this.outerRadius&&(t=h.radius*this.outerRadius-c,c=(1-this.maxLabelRadius)*h.radius*this.outerRadius,a=(h.radius*this.outerRadius-c)/t),this._radiusInPixelsAfterLabels=c/this.outerRadius,e=0;e<n;e++)i=r[e],i.labelX=i.labelX*a+l.x+i.labelCos*c,i.labelY=i.labelY*a+l.y+i.labelSin*c;return this._renderData.labelScale=1,null},_i.prototype.renderInternalLabels=function(t,e,i,s,a){if(i=e.labelData){var r,n,o=i.visibleLabels,h=o.length;for(r=0;r<h;r++)n=o[r],(this.zeroValueEnable||0!=n.percentValue)&&this.fillText(n,n.labelX+this.labelXOffset,n.labelY+this.labelYOffset);i.renderCallouts&&this.auxRenderCalloutLabels(t,e,i.calloutLabelData,o.length,s,a)}},_i.prototype.measureInternalLabels=function(t,e,i,s){var a,r,n,o,h=[];a=null;var l=[],d=[],c=e.length,u=this._dataTransform.origin,p=this.startAngleRadians,f=this.renderDirection,g=!1,m=0;new b(0,0,i,s);var _,y,v,x,S,C,D,w=this._radiusInPixelsAfterLabels*this.outerRadius*(1-this._maxExplodeRadiusRatio)*this.insideLabelRatio,T=this.startAngle*Math.PI/180,M=0,I=this._dataTransform.radius,A=this.insideWithCalloutCompareArea;for("clockwise"==f&&(0<T?T*=-1:0>T&&(T=Math.abs(T))),
a=0;a<c;a++){if(r=e[a],M=r.angle,x=r.element._origin,_=null!=this.labelFunction?Ms.seriesFunc(r,this,this.labelFunction):this.labelField?r.item[this.labelField]:this.formatter?this.formatter.format(r.value):r.value.toString(),r.text=_,this.measureText(r),r.labelAngle="clockwise"==f?2*Math.PI-(p+r.angle/2)%(2*Math.PI):(p+r.angle/2)%(2*Math.PI),r.callout=!1,r.labelCos=Math.cos(r.labelAngle),r.labelSin=-Math.sin(r.labelAngle),C=r.labelWidth=r.width,D=r.labelHeight=r.height,_=this.calculateExplodeRadiusForWedge(a),r.labelX=r.labelCos*(_+w)+u.x-.5*C,r.labelY=r.labelSin*(_+w)+u.y-.5*D,n=r.labelX,o=r.labelY-.5*D,0<a&&(r.prev=h[a-1],r.prev.next=r),!this.alwaysShowInsideLabel)if("0"==r.text)g=r.callout=!0;else{for("clockwise"==f&&(M*=-1),y={x:x.x+Math.cos(T)*I,y:x.y-Math.sin(T)*I},v={x:x.x+Math.cos(T+M)*I,y:x.y-Math.sin(T+M)*I},S=[],S.push([{x:n+A,y:o+A},{x:n+A,y:o+D-A}]),S.push([{x:n+A,y:o+D-A},{x:n+C-A,y:o+D-A}]),S.push([{x:n+C-A,y:o+D-A},{x:n+C-A,y:o+A}]),S.push([{x:n+C-A,y:o+A},{x:n+A,y:o+A}]),n=0;n<S.length;n++)if(o=this.compareCalloutLabel(x,y,S[n][0],S[n][1]),0<o.u&&1>o.u&&0<o.v&&1>o.v){g=r.callout=!0,m=Math.max(r.labelWidth,m);break}if(!r.callout)for(n=0;n<S.length;n++)if(o=this.compareCalloutLabel(x,v,S[n][0],S[n][1]),0<o.u&&1>o.u&&0<o.v&&1>o.v){g=r.callout=!0,m=Math.max(r.labelWidth,m);break}}T+=M,h[a]=r,p+=r.angle}for(h[0].prev=h[c-1],h[c-1].next=h[0],"inside"==this.getStyle("labelPosition")&&(g=!1),e=h.concat(),e.sort(function(t,e){return t.angle>e.angle?1:t.oangle<e.oangle?-1:0}),a=0;a<e.length;)r=e[a],r.callout?(r.prev.next=r.next,r.next.prev=r.prev,l.push(r),e.splice(a,1)):(g&&(r.labelX=r.labelCos*(_+w-this.calloutGap-.15*m)+u.x-.5*r.labelWidth,r.labelY=r.labelSin*(_+w-this.calloutGap-.15*m)+u.y-.5*r.labelHeight),d.push(r),a++);return this._renderData.labelScale=1,a=0==t?{visibleLabels:d,renderCallouts:!1}:{visibleLabels:d,renderCallouts:!0,calloutLabelData:this.auxMeasureCalloutLabels(this._renderData,l,i,s)}},_i.prototype.compareCalloutLabel=function(t,e,i,s){return{u:((t.x-e.x)*(i.y-e.y)-(t.y-e.y)*(i.x-e.x))/((s.x-i.x)*(t.y-e.y)-(t.x-e.x)*(s.y-i.y)),v:((s.x-i.x)*(i.y-e.y)-(s.y-i.y)*(i.x-e.x))/((s.x-i.x)*(t.y-e.y)-(t.x-e.x)*(s.y-i.y))}},_i.prototype.renderCalloutLabels=function(t,e,i,s){e.labelData&&this.auxRenderCalloutLabels(t,e,e.labelData,0,i,s)},_i.prototype.measureCalloutLabels=function(t,e,i){var s,a,r,n=t.length,o=this.startAngleRadians,h=this.renderDirection;for(r=0;r<n;r++)s=t[r],a=null!=this.labelFunction?Ms.seriesFunc(s,this,this.labelFunction):this.labelField?s.item[this.labelField]:this.formatter?this.formatter.format(s.value):s.value.toString(),s.text=a,this.measureText(s),s.labelAngle="clockwise"==h?2*Math.PI-(o+s.angle/2)%(2*Math.PI):(o+s.angle/2)%(2*Math.PI),s.labelCos=Math.cos(s.labelAngle),s.labelSin=-Math.sin(s.labelAngle),s.labelWidth=s.width,s.labelHeight=s.height,o+=s.angle;return this.auxMeasureCalloutLabels(this._renderData,t,e,i)},_i.prototype.auxRenderCalloutLabels=function(t,e,i,s,a,r){var n,o,h,d;e=i.leftStack,i=i.rightStack,s=this._dataTransform.origin;var c=this.getStyle("calloutStroke");this.getStyle("fills"),new b(0,0,a,r);var u=s.x-this._radiusInPixelsAfterLabels-this.calloutGap;for(this.getChart().enablePattern&&(c=new w("#000")),ts.apply(t,c),r=e.length,a=0;a<r;a++)n=e[a],!this.zeroValueEnable&&0==n.percentValue||""==n.text||l(n.labelY)||(o=n.startAngle+.5*n.angle,h=Math.floor(n.labelX)-2,d=Math.floor(n.labelY),this.fillText(n,h+this.labelXOffset,d+this.labelYOffset),h=0==n.labelSin?u:(n.labelY+n.labelHeight/2-s.y)/n.labelSin,c||(t.strokeStyle=Qi.adjustBrightness(n.fill||Ms.defaultFillFunc(this,n.index),-12)),0>o&&(o=2*Math.PI+o),t.beginPath(),t.moveTo(Math.floor(s.x+n.labelCos*n.outerRadius)+.5,Math.floor(s.y+n.labelSin*n.outerRadius)+.5),this._drawCalloutStroke(t,o,.5*Math.PI,Math.PI,u,s.x,s.y,n,h),t.stroke());for(e=this._dataTransform.origin.x+this._radiusInPixelsAfterLabels+this.calloutGap-4,r=i.length,a=0;a<r;a++)n=i[a],!this.zeroValueEnable&&0==n.percentValue||""==n.text||l(n.labelY)||(o=n.startAngle+.5*n.angle,h=Math.floor(n.labelX),d=Math.floor(n.labelY),this.fillText(n,h+this.labelXOffset,d+this.labelYOffset),h=(n.labelY+n.labelHeight/2-s.y)/n.labelSin,c||(t.strokeStyle=Qi.adjustBrightness(n.fill||Ms.defaultFillFunc(this,n.index),-12)),0>o&&(o=2*Math.PI+o),t.beginPath(),t.moveTo(Math.floor(s.x+n.labelCos*n.outerRadius)+.5,Math.floor(s.y+n.labelSin*n.outerRadius)+.5),this._drawCalloutStroke(t,o,0,.5*Math.PI,e,s.x,s.y,n,h),t.stroke())},_i.prototype._drawCalloutStroke=function(t,e,i,s,a,r,n,o,h){var l=o.labelSin,d=o.labelCos,c=o.outerRadius;o=Math.floor(a)+.5;var u=Math.floor(n+l*h)+.5;a=Math.floor(a)+.5,e>=i&&e<=s&&n+l*c<n+l*h||!(e>=i&&e<=s||n+l*c<n+l*h)?(e=(2*a+r+d*c)/3,n=(2*(n+l*c)+n+l*h)/3):(e=(a+2*(r+d*c))/3,n=(n+l*c+2*(n+l*h))/3),t.quadraticCurveTo(Math.floor(e-.12*Math.abs(u-n))+.5,Math.floor(n-.12*Math.abs(u-n))+.5,o,u)},_i.prototype.auxMeasureCalloutLabels=function(t,e,i,s){var a,r,n=[],o=[],h=r=0,l=0,d=e.length,c=this.calloutGap,u=t.labelScale,p=this._dataTransform,f=p.radius*this.outerRadius,g=new b(0,0,i,s);for(i=0;i<d;i++)s=e[i],(s.labelAngle+Math.PI/2)%(2*Math.PI)<Math.PI?(s.labelAngle>Math.PI&&(s.labelAngle-=2*Math.PI),s.labelX=0,f=Math.min(f,g.right-s.labelWidth-p.origin.x-c),o.push(s),h+=s.labelHeight):(s.labelX=-s.labelWidth,f=Math.min(f,p.origin.x-s.labelWidth-c),n.push(s),r+=s.labelHeight),a=p.origin.y-.5*s.labelHeight+s.labelSin*(f+.5*s.labelHeight),a<g.top&&(f=Math.min(f,(g.top+s.labelHeight-p.origin.y)/s.labelSin)),a>g.bottom-s.labelHeight&&(f=Math.min(f,(g.bottom-s.labelHeight-p.origin.y)/s.labelSin));n.sort(function(t,e){return t.labelAngle>e.labelAngle?1:t.labelAngle<e.labelAngle?-1:0}),o.sort(function(t,e){return t.labelAngle>e.labelAngle?-1:t.labelAngle<e.labelAngle?1:0}),this._radiusInPixelsAfterLabels=f/this.outerRadius,e=[];var m=p.origin.x-f-c,_=p.origin.x+f+c,d=n.length;for(r>g.height&&(e=this._getHideLabelIndexs(n,r,g.height)),i=0;i<n.length;i+=1)s=n[i],-1<e.indexOf(i)?s.labelX=s.labelY=void 0:(s.labelX=m+s.labelX*u,a=p.origin.y-.5*s.labelHeight+s.labelSin*(f+.5*s.labelHeight),a<l&&(a=l),s.labelY=a,l=a+s.labelHeight);if(l>g.bottom)for(r=g.bottom,i=n.length-1;0<=i;i--)if(!(-1<e.indexOf(i))){if(s=n[i],s.labelY+s.labelHeight<=r)break;s.labelY=r-s.labelHeight,r=s.labelY}for(l=0,e=[],h>g.height&&(e=this._getHideLabelIndexs(o,h,g.height)),i=0;i<o.length;i++)s=o[i],-1<e.indexOf(i)?s.labelX=s.labelY=void 0:(s.labelX=_,a=p.origin.y-.5*s.labelHeight+s.labelSin*(f+.5*s.labelHeight),a<l&&(a=l),s.labelY=a,l=a+s.labelHeight);if(l>g.bottom)for(r=g.bottom,i=o.length-1;0<=i;i--)if(!(-1<e.indexOf(i))){if(s=o[i],s.labelY+s.labelHeight<=r)break;s.labelY=r-s.labelHeight,r=s.labelY}if("around"==this.calloutType){for(i=0,d=n.length;i<d;i+=1)s=n[i],s.labelX=p.origin.x-s.labelWidth-c+s.labelCos*f;for(i=0,d=o.length;i<d;i+=1)s=o[i],s.labelX=p.origin.x+c+s.labelCos*f}return t.labelScale=u,{leftStack:n,rightStack:o}},_i.prototype._getHideLabelIndexs=function(t,e,i){for(var s,a,r=1,n=e;n>i;){if(a=Math.round(t.length/(1+r)),n=e,s=[],1==a){for(a=2;(n=this._getRemainHeight(t,a,s,i,n))>i;)a++;break}if((n=this._getRemainHeight(t,a,s,i,n))<i)break;if(n<i)break;r++}return s},_i.prototype._getRemainHeight=function(t,e,i,s,a){var r,n=t.length;for(r=e;r<n&&(-1<i.indexOf(r)||(a-=t[r].labelHeight||t[r].height,i.push(r),!(a<s)));r+=e);return a},_i.prototype.intersects=function(t,e){return!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y||e.x<t.x&&e.x+e.width>t.x+t.width&&e.y<t.y&&e.y+e.height>t.y+t.height)},_i.prototype.updateData=function(){var t,e,s,a,r=this.getChart();e=r.sortType;var n=this._itemType;if(this._renderData=new this._renderDataType,this._renderData.cache=[],this._dataProvider){for(t=a=0;t<this._dataProvider.getLength();t++)s=this._dataProvider.getItemAt(t)[this.field],!this.zeroValueEnable&&0==s||0>s||(this._renderData.cache[a]=new n(this,this._dataProvider.getItemAt(t),a),a++);for(this.cacheDefaultValues(this.field,this._renderData.cache,"value"),(""!=this.sortField||r.enableSort)&&(""!=this.sortField?(this.cacheDefaultValues(this.sortField,this._renderData.cache,"sort"),t=Yi.sortOn(this._renderData.cache,"sort"),"desc"!=e&&"DESC"!=e||t.reverse()):(t=this._renderData.cache.concat(),t.sort(function(t,e){return e.value-t.value}),"asc"!=e&&"ASC"!=e||t.reverse(),this._renderData.cache=t.concat()),a=0,this._renderData.cache=Yi.map(t,function(t){return t.index=a,a++,t})),t=0,e=this._renderData.cache.length;t<e;t+=1)i(this.legendCheckWedge[t])&&!this.legendCheckWedge[t]&&(this._renderData.cache[t].value=0)}Qe.prototype.updateData.call(this)},_i.prototype.updateMapping=function(){var t,e,i=0,s=this._renderData.cache.length;for(this._dataTransform.getAxis("a").mapCache(this._renderData.cache,"value","number"),t=0;t<s;t++)e=Number(this._renderData.cache[t].number),isNaN(e)||(i+=Number(this._renderData.cache[t].number));for(this._renderData.itemSum=i,i/=100,0==i&&(i=1),t=0;t<s;t++)this._renderData.cache[t].percentValue=this._renderData.cache[t].number/i;Qe.prototype.updateMapping.call(this)},_i.prototype.updateFilter=function(){this._renderData.filteredCache=this._renderData.cache,this.stripNaNs(this._renderData.filteredCache,"number"),Qe.prototype.updateFilter(this)},_i.prototype.updateTransform=function(){var t,e,i,s=this.getChart(),a=this._renderData,r=!0,n=this._dataTransform,o=a.filteredCache.length,h=s.getWidth()-parseInt(s.getStyle("paddingLeft"))-parseInt(s.getStyle("paddingRight")),l=s.getHeight()-parseInt(s.getStyle("paddingTop"))-parseInt(s.getStyle("paddingBottom"));if(n.transformCache(a.filteredCache,"percentValue","angle",null,null),o)for(i=a.filteredCache[0],i.startAngle=this.startAngleRadians,t=1;t<o;t++)e=a.filteredCache[t],e.startAngle=i.startAngle+i.angle,i=e;if(a&&a.filteredCache&&(i=this.getStyle("labelPosition"),a=a.filteredCache,e=a.length,0!=e)){if(this._origin=n.origin,this.innerRadius=s.innerRadius||this.innerRadius,this._radiusInPixelsAfterLabels=n.radius-this.DROP_SHADOW_SIZE,this.perWedgeExplodeRadius&&0<this.perWedgeExplodeRadius.length)for(s=this._explodeRadius,isNaN(s)&&(s=0),this._maxExplodeRadiusRatio=s,t=0;t<e;t++)n=null!=this.perWedgeExplodeRadius[t]?parseFloat(this.perWedgeExplodeRadius[t]):0,isNaN(n)&&(n=0),this._maxExplodeRadiusRatio=Math.max(this._maxExplodeRadiusRatio,s+n);else isNaN(this._explodeRadius)||0==this._explodeRadius?this._maxExplodeRadiusRatio=0:this._maxExplodeRadiusRatio=this._explodeRadius;this._maxExplodeRadiusRatio=Math.max(this._maxExplodeRadiusRatio,this._reserveExplodeRadius),this._renderData.labelScale=1,null!=this.labelJsFunction&&(this.labelFunction=this.labelJsFunction),this.setFont(),this.innerRadius>=this.outerRadius||("outside"==i?this._renderData.labelData=this.measureRadialLabels(a,h,l):"callout"==i?this._renderData.labelData=this.measureCalloutLabels(a,h,l):"inside"==i?this._renderData.labelData=this.measureInternalLabels(!1,a,h,l):"insideWithCallout"==i&&(this._renderData.labelData=this.measureInternalLabels(!0,a,h,l)));var d=this.renderDirection;if(this._innerRadiusInPixels=this._radiusInPixelsAfterLabels*this.innerRadius,this._radiusInPixelsAfterLabels*=this.outerRadius,this._radiusInPixelsScaledForExplode=this._radiusInPixelsAfterLabels*(1-this._maxExplodeRadiusRatio),this._innerRadiusInPixelsScaledForExplode=this._innerRadiusInPixels*(1-this._maxExplodeRadiusRatio),this.perWedgeExplodeRadius&&0<this.perWedgeExplodeRadius.length||0!=this._explodeRadius)for(r=!1,h=this.startAngle,t=0;t<e;t++)i=this.calculateExplodeRadiusForWedge(t),l=a[t],isNaN(l.startAngle)||(h=l.startAngle),n=a[t].angle,s="clockwise"==d?2*Math.PI-(n/2+h):n/2+h,l.origin=new Oi(this._origin.x+Math.cos(s)*i,this._origin.y+-Math.sin(s)*i),h+=n;for(t=0;t<o;t++)l=a[t],r&&(l.origin=this._origin),l.innerRadius=this._innerRadiusInPixelsScaledForExplode,l.outerRadius=this._radiusInPixelsScaledForExplode;if("clockwise"==d&&o)for(t=0;t<o;t++)l=this._renderData.filteredCache[t],l.startAngle=2*Math.PI-(l.startAngle+l.angle);Qe.prototype.updateTransform.call(this)}},_i.prototype.calculateExplodeRadiusForWedge=function(t){return t=this.perWedgeExplodeRadius&&null!=this.perWedgeExplodeRadius[t]?parseFloat(this.perWedgeExplodeRadius[t]):0,isNaN(t)&&(t=0),((isNaN(this._explodeRadius)?0:this._explodeRadius)+t)*this._radiusInPixelsAfterLabels},_i.prototype.describeData=function(t,e){var i;return"a"==t?(i=new pt,i.boundedValues=null,i.min=0,i.max=100,[i]):[]},_i.prototype.findDataPoints=function(t,e,i){var s,a,r,n,o,h=2*Math.PI,l=this.getChart(),d=this.renderDirection,c=this._renderData.filteredCache.length;s=this._dataTransform.origin;var u=l.dataTipDisplayMode,p=this._innerRadiusInPixelsScaledForExplode,f=l.calcAngle(t-s.x,e-s.y);if(0==c)return[];for(o="clockwise"==d?this._renderData.filteredCache[c-1].startAngle:this._renderData.filteredCache[0].startAngle,s=0;s<c;s++){if(a=this._renderData.filteredCache[s],f=l.calcAngle(t-a.origin.x,e-a.origin.y),f-=o,0>f&&(f+=h),"clockwise"==d)for(;f>h;)f-=h;if(n=a.startAngle-o,f>=n&&f<n+a.angle){r=a;break}}return r?(h=this._radiusInPixelsScaledForExplode-i,l=(t-r.origin.x)*(t-r.origin.x)+(e-r.origin.y)*(e-r.origin.y),l<p*p-i*i||l>h*h?[]:(n="clockwise"==d?n+2*Math.PI-this.startAngleRadians+r.angle/2:n+this.startAngleRadians+r.angle/2,i=r.origin.x+Math.cos(n)*(p+.5*(this._radiusInPixelsScaledForExplode-p)),p=r.origin.y-Math.sin(n)*(p+.5*(this._radiusInPixelsScaledForExplode-p)),"mouse"==u&&(i=t,p=e),t=new mt(r.index,0,i,p,r),t.dataTipFunction=this.formatDataTip,t.contextColor=r.fill?r.fill:Ms.defaultFillFunc(this,t.chartItem.index),[t])):[]},_i.prototype.formatDataTip=function(t){var e="",i="",s=this._displayName+"";return null!=s&&0<s.length&&(e+=s+"<br/>"),""!=this._nameField&&(i=t.chartItem.item[this._nameField]),""!=i&&(e+=i+" : "),e+="<b>"+Math.round(10*t.chartItem.percentValue)/10+"%</b>"},_i.prototype.getItemsInRegion=function(t){if(!this.interactive||!this._renderData)return[];var e,i,s,a,r=[],n=new b,o=this._renderData.filteredCache.length,h=this._innerRadiusInPixelsScaledForExplode;if(n.setLeft(t.left),n.setTop(t.top),n.setRight(t.right),n.setBottom(t.bottom),1>o)return r;for(i=this._renderData.filteredCache[0].startAngle,t=0;t<o;t+=1)e=this._renderData.filteredCache[t],s=e.startAngle-i,a=s+this.startAngleRadians+.5*e.angle,s=e.origin.x+Math.cos(a)*(h+.5*(this._radiusInPixelsScaledForExplode-h)),a=e.origin.y-Math.sin(a)*(h+.5*(this._radiusInPixelsScaledForExplode-h)),n.contains(s,a)&&r.push(e);return r},_i.prototype.getElementBounds=function(t){var e,i,s=[],a=t.filteredCache,r=a.length,n=Number.MAX_VALUE,o=Number.MIN_VALUE;for(e=0;e<r;e++)i=a[e],s.push(new b(i.startAngle,i.innerRadius,i.angle,i.outerRadius-i.innerRadius,(!0))),o=Math.max(o,i.startAngle+i.angle),n=Math.min(n,i.startAngle);t.elementBounds=s,t.bounds=new b(n,this._innerRadiusInPixelsScaledForExplode,o-n,this._radiusInPixelsScaledForExplode-this._innerRadiusInPixelsScaledForExplode,(!0)),t.visibleRegion=new b(n,this._innerRadiusInPixelsScaledForExplode,o-n,this._radiusInPixelsScaledForExplode-this._innerRadiusInPixelsScaledForExplode,(!0))},_i.prototype.beginInterpolation=function(t,e){var i,s,a,r=this._initializeInterpolationData(t.filteredCache,e.filteredCache,{angle:!0,startAngle:!0,innerRadius:!0,outerRadius:!0},this._itemType,{lastInvalidSrcValue:0,lastInvalidSrcIndex:NaN,lastInvalidDestValue:0,lastInvalidDestIndex:NaN}),n=this._dataTransform.origin,o=t.filteredCache,h=e.filteredCache,l=Math.max(o.length,h.length),d=Math.min(o.length,h.length);for(i=0;i<d;i++)a=h[i],s=o[i],r.interpolationSource[i].origin=s.origin,r.deltaCache[i].origin=new Oi(a.origin.x-s.origin.x,a.origin.y-s.origin.y),r.cache[i].origin=s.origin.clone();if(d<o.length)for(i=d;i<l;i++)s=o[i],r.interpolationSource[i].origin=s.origin,r.deltaCache[i].origin=new Oi(n.x-s.origin.x,n.y-s.origin.y),r.cache[i].origin=s.origin.clone();else for(i=d;i<l;i++)a=h[i],r.interpolationSource[i].origin=n,r.deltaCache[i].origin=new Oi(a.origin.x-n.x,a.origin.y-n.y),r.cache[i].origin=n.clone();return i=e.clone(),i.cache=r.cache,i.filteredCache=r.cache,this._transitionRenderData=i,r},_i.prototype.interpolate=function(t,e){_i._super.interpolate.call(this,t,e);var i,s,a,r,n,o=t.length,h=e.interpolationSource,l=e.deltaCache,d=e.cache,o=d.length;for(s=0;s<o;s++)n=t[s],i=h[s],a=l[s],r=d[s],r.origin.x=i.origin.x+a.origin.x*n,r.origin.y=i.origin.y+a.origin.y*n},_i.prototype._getMissingInterpolationValues=function(t,e,i,s,a,r){var n,o,l,d;for(d in t){if(o=t[d],l=i[d],"startAngle"==d){if(h(o)){if(r.lastInvalidSrcIndex!=a-1)if(0==a){for(n=0;n<e.length;n++)if(null!=e[n]&&!isNaN(e[n].startAngle)){r.lastInvalidSrcValue=e[n].startAngle+e[n].angle;break}}else for(n=a-1;0<=n;n--)if(null!=e[n]&&!isNaN(e[n].startAngle)){r.lastInvalidSrcValue=e[n].startAngle+e[n].angle;break}o=r.lastInvalidSrcValue,r.lastInvalidSrcIndex=a}if(h(l)){if(r.lastInvalidDestIndex!=a-1)if(0==a){for(n=0;n<s.length;n++)if(null!=s[n]&&!isNaN(s[n].startAngle)){r.lastInvalidDestValue=s[n].startAngle+s[n].angle;break}}else for(n=a-1;0<=n;n--)if(null!=s[n]&&!isNaN(s[n].startAngle)){r.lastInvalidDestValue=s[n].startAngle+s[n].angle;break}l=r.lastInvalidDestValue,r.lastInvalidDestIndex=a}}else"angle"==d?(h(o)&&(o=0),h(l)&&(l=0)):"innerRadius"==d?(h(o)&&(o=this._innerRadiusInPixelsScaledForExplode),h(l)&&(l=this._innerRadiusInPixelsScaledForExplode)):"outerRadius"==d&&(h(o)&&(o=this._radiusInPixelsScaledForExplode),h(l)?l=this._radiusInPixelsScaledForExplode:(h(o)&&(o=0),h(l)&&(l=0)));t[d]=o,i[d]=l}},ki(yi,_i),yi.prototype.updateDisplayList=function(t,e){_i.prototype.updateDisplayList.call(this,t,e)},vi._defaultStyles={radialStroke:null,calloutStroke:null,labelPosition:"none"},ki(vi,Qe),vi.prototype.getLegendData=function(){return yi.prototype.getLegendData.call(this)},vi.prototype.getNameField=function(){return this._nameField},vi.prototype.setNameField=function(t){yi.prototype.setNameField.call(this,t)},vi.prototype.setPerWedgeExplodeRadius=function(t){var e=this.perWedgeExplodeRadius.length;for(this.perWedgeExplodeRadius=t,t=0;t<e;t++)this.perWedgeExplodeRadius[t]=n(this.perWedgeExplodeRadius[t])?Math.max(0,Math.min(this.perWedgeExplodeRadius[t],1)):"undefined"},vi.prototype.getItems=function(){return this._renderData?this._renderData.filteredCache:[]},vi.prototype.setReserveExplodeRadius=function(t){this.reserveExplodeRadius=Math.max(0,Math.min(t,1))},vi.prototype.commitProperties=function(){var t;t=2*Math.PI;var e=this._dataTransform;Qe.prototype.commitProperties.call(this),this.startAngleRadians=this.startAngle*Math.PI/180%t,0>this.startAngle&&(this.startAngleRadians+=t),e&&this._angularAxis&&e.setAxis(bt.ANGULAR_AXIS,this._angularAxis),(t=this.getChart())&&(this._angularAxis||e.axes[bt.ANGULAR_AXIS]==t._angularAxis||e.setAxis(bt.ANGULAR_AXIS,t._angularAxis)),e.elements=[this]},vi.prototype.updateDisplayList=function(t,e){var i,s=this.getChart();this._includeInLayout&&(vi._super.updateDisplayList.call(this,t,e),i=this._renderData,this.labelClear(),!i||!i.filteredCache||1>i.filteredCache.length||this._updateSeriesItemDelay?(this.clear(),this._updateSeriesItemDelay||this.allSeriesRenderingComplete()):(!this.showDataEffect||this.showDataEffect&&!s.getChartState())&&this.updateSeriesItem())},vi.prototype.updateSeriesItem=function(){var t,e,i,s,a,r,n,o,h,l=this,d=l.getChart(),c=l._renderData,u=!1,p=Math.cos(l.elevation*Math.PI/180),f=l._transitionRenderData?l._transitionRenderData:c;if(l.clear(),f.elementBounds?(u=!0,o=f.visibleRegion.left,h=f.visibleRegion.right,f=f.elementBounds):f=f.filteredCache,c.itemSum&&(e=f.length,0<e)){var g=function(t){a=f[t],i=c.filteredCache[t],u&&(r=a.width,n=a.left,n<o?(r=Math.max(0,r+n-o),n=o):n+r>h&&(n=Math.min(h,n),r=Math.max(0,h-n)),a.startAngle=n,a.angle=r,a.xInnerRadius=a.top,a.xOuterRadius=a.bottom,a.yInnerRadius=a.top*p,a.yOuterRadius=a.bottom*p,a.origin=i.origin),a.fill=l.fillJsFunction?Ms.seriesFunc(i||a,l,l.fillJsFunction,!0):Ms.defaultFillFunc(l,t),s.pattern=a.pattern=null,d._enablePattern&&(s.pattern=a.pattern=Ms.defaultPatternFunc(l,i,t)),s.xInnerRadius=a.xInnerRadius,s.xOuterRadius=a.xOuterRadius,s.yInnerRadius=a.yInnerRadius,s.yOuterRadius=a.yOuterRadius,s.data=a,s.draw()};l._itemRendererInstance||(l._itemRendererInstance=l.itemRenderer.newInstance(l._unscaledWidth,l._unscaledHeight)),s=l._itemRendererInstance,s.graphics=l.graphics,s.lineStyle=l.lineStyle,s.depth=l.depth,s.elevation=l.elevation,s.renderDirection=l.renderDirection,s.innerStack=l.innerStack,s.radialStroke=l.getStyle("radialStroke"),s.stroke=l.getStyle("stroke"),d._enablePattern&&(s.radialStroke=new w("#000000")),new b;var m,_,y=[],v=[];for(t=0;t<e;t++)a=f[t],_=(a.startAngle+Math.PI/2*3)%(2*Math.PI),m=(_+a.angle)%(2*Math.PI),m=a.angle>Math.PI&&_>Math.PI&&m>Math.PI?Math.PI:_,m>Math.PI?v.push({oangle:m,item:a,index:t}):y.push({oangle:m,item:a,index:t});for(v=v.concat(),v.sort(function(t,e){return t.oangle>e.oangle?-1:t.oangle<e.oangle?1:0}),e=v.length,t=0;t<e;t+=1)g(v[t].index);for(v=y.concat(),v.sort(function(t,e){return t.oangle>e.oangle?1:t.oangle<e.oangle?-1:0}),e=v.length,t=0;t<e;t+=1)g(v[t].index);d.getChartState()||l.allSeriesRenderingComplete()}},vi.prototype._updateItemState=function(t,e,i){var a,r,n,o,h,l=i.graphics;this.getChart();var d,c=new b,u=t.origin,p=t.xOuterRadius,f=t.yOuterRadius,g=this._itemRendererInstance||this.itemRenderer.newInstance();d=t.startAngle;var m=d+t.angle;o=u.x+Math.cos(d)*p,h=u.y-Math.sin(d)*f;var _=u.x+Math.cos(m)*p,y=u.y-Math.sin(m)*f;for(r=Math.min(u.x,o,_),n=Math.min(u.y,h,y),o=Math.max(u.x,o,_),h=Math.max(u.y,h,y);d<=m;d+=15*Math.PI/180)r=Math.min(r,u.x+Math.cos(d)*p),n=Math.min(n,u.y-Math.sin(d)*f),o=Math.max(o,u.x+Math.cos(d)*p),h=Math.max(h,u.y-Math.sin(d)*f);if(c.setLeft(r),c.setRight(o),c.setTop(n),c.setBottom(h),i.clear(),i.move(c.left,c.top),i.setActualSize(c.width,c.height),this.getChart()._enablePattern)i=e=new w("#000000"),g.pattern=Ms.defaultPatternFunc(this,t,t.index);else{switch(e){case na:case sa:a=this.itemRollOverColor?this.itemRollOverColor:this._addBrightToColor(t.fill,40);break;case oa:case aa:a=this.itemSelectionColor?this.itemSelectionColor:this._addBrightToColor(t.fill,-60);break;case ra:case ia:a=t.fill}e=this.getStyle("stroke"),i=this.getStyle("radialStroke")}s(a)&&(a=new T(a)),g.data=t.clone(),g.data.origin={x:u.x-c.left,y:u.y-c.top},g.data.fill=a,g.stroke=e,g.radialStroke=i,g.graphics=l,g.draw(!0)},vi.prototype.renderingLabel=function(){yi.prototype.renderingLabel.call(this)},vi.prototype.renderRadialLabels=function(t,e,i){var s,a=i.length;for(e=0;e<a;e++)s=i[e],(this.zeroValueEnable||0!=s.percentValue)&&this.fillText(s,s.labelX+this.labelXOffset,s.labelY+this.labelYOffset);t.restore()},vi.prototype.measureRadialLabels=function(t,e,i){var s,a,r=1,n=[],o=t.length,h=this.startAngleRadians,l=this._dataTransform,d=l.origin,c=this.renderDirection,u=Math.cos(this.elevation*Math.PI/180),p=new b(0,0,e,i);for(e=l.radius*this.assignedRadiusRatio,i=0;i<o;i++)s=t[i],a=null!=this.labelJsFunction?Ms.seriesFunc(s,this,this.labelJsFunction):this.labelField?s.item[this.labelField]:this.formatter?this.formatter.format(s.value):s.value.toString(),s.text=a,this.measureText(s),s.labelAngle="clockwise"==c?2*Math.PI-(h+s.angle/2)%(2*Math.PI):(h+s.angle/2)%(2*Math.PI),s.labelCos=Math.cos(s.labelAngle),s.labelSin=-Math.sin(s.labelAngle),s.labelAngle<Math.PI?(s.labelY=-s.height,e=Math.min(e,(d.y-s.height)/Math.abs(s.labelSin)/u)):(s.labelY=0,e=Math.min(e,(p.bottom-s.height-d.y)/Math.abs(s.labelSin)/u)),(s.labelAngle+Math.PI/2)%(2*Math.PI)<Math.PI?(s.labelX=0,e=Math.min(e,(p.right-1.5*s.width-d.x)/Math.abs(s.labelCos))):(s.labelX=-s.width,e=Math.min(e,(d.x-1.5*s.width)/Math.abs(s.labelCos))),n[i]=s,h+=s.angle;for(e<(1-this.maxLabelRadius)*l.radius*this.assignedRadiusRatio&&(t=l.radius*this.assignedRadiusRatio-e,e=(1-this.maxLabelRadius)*l.radius*this.assignedRadiusRatio,r=(l.radius*this.assignedRadiusRatio-e)/t),this._radiusInPixelsAfterLabels=e/this.assignedRadiusRatio,i=0;i<o;i++)s=n[i],s.labelX=s.labelX*r+d.x+s.labelCos*e,s.labelY=s.labelY*r+d.y+s.labelSin*e*u;return this._renderData.labelScale=1,null},vi.prototype.renderInternalLabels=function(t,e,i,s,a){if(i=e.labelData){var r,n,o,h=i.visibleLabels;for(r=0,n=h.length;r<n;r++)o=h[r],(this.zeroValueEnable||0!=o.percentValue)&&this.fillText(o,o.labelX+this.labelXOffset,o.labelY+this.labelYOffset);i.renderCallouts&&this.auxRenderCalloutLabels(t,e,i.calloutLabelData,h.length,s,a)}},vi.prototype.measureInternalLabels=function(t,e,i,s){var a,r,n,o,h,l,d=[],c=null,c=[],u=[],p=this._origin,f=e.length,g=this._dataTransform.origin,m=this.startAngleRadians,_=this.renderDirection;new b(0,0,i,s);var y,v,x=Math.cos(this.elevation*Math.PI/180),S=this.startAngle*Math.PI/180,C=0,D=!1,w=0,T=this._radiusInPixelsAfterLabels*this.outerRadius*(1-this._maxExplodeRadiusRatio)*this.insideLabelRatio;a=this._innerRadiusInPixelsScaledForExplode;var M,I,A=this._radiusInPixelsScaledForExplode,L=A*x,R=this.insideWithCalloutCompareArea,A=Math.max(A,a),L=Math.max(L,a*x);for("clockwise"==_&&(0<S?S*=-1:0>S&&(S=Math.abs(S))),a=0;a<f;a++){if(r=e[a],C=r.angle,l=null!=this.labelJsFunction?Ms.seriesFunc(r,this,this.labelJsFunction):this.labelField?r.item[this.labelField]:this.formatter?this.formatter.format(r.value):r.value.toString(),r.text=l,this.measureText(r),r.labelAngle="clockwise"==_?2*Math.PI-(m+r.angle/2)%(2*Math.PI):(m+r.angle/2)%(2*Math.PI),r.callout=!1,r.labelCos=Math.cos(r.labelAngle),r.labelSin=-Math.sin(r.labelAngle),M=r.width,I=r.height,l=this.calculateExplodeRadiusForWedge(a),r.labelX=r.labelCos*(l+T)+g.x-.5*M,r.labelY=r.labelSin*(l+T)*x-.5*I+g.y,n=r.labelX,h=r.labelY-.5*I,0<a&&(r.prev=d[a-1],r.prev.next=r),!this.alwaysShowInsideLabel){for("clockwise"==_&&(C*=-1),y={x:p.x+Math.cos(S)*A,y:p.y-Math.sin(S)*L},v={x:p.x+Math.cos(S+C)*A,y:p.y-Math.sin(S+C)*L},o=[],o.push([{x:n+R,y:h+R},{x:n+R,y:h+I-R}]),o.push([{x:n+R,y:h+I-R},{x:n+M-R,y:h+I-R}]),o.push([{x:n+M-R,y:h+I-R},{x:n+M-R,y:h+R}]),o.push([{x:n+M-R,y:h+R},{x:n+R,y:h+R}]),n=0;n<o.length;n++)if(h=this.compareCalloutLabel(p,y,o[n][0],o[n][1]),0<h.u&&1>h.u&&0<h.v&&1>h.v){D=r.callout=!0,w=Math.max(r.width,w);break}if(!r.callout)for(n=0;n<o.length;n++)if(h=this.compareCalloutLabel(p,v,o[n][0],o[n][1]),0<h.u&&1>h.u&&0<h.v&&1>h.v){D=r.callout=!0,w=Math.max(r.width,w);break}}S+=C,d[a]=r,m+=r.angle}for(d[0].prev=d[f-1],d[f-1].next=d[0],"inside"==this.getStyle("labelPosition")&&(D=!1),e=d.concat(),e.sort(function(t,e){return t.labelAngle>e.labelAngle?1:t.labelAngle<e.labelAngle?-1:0}),a=0;a<e.length;)r=e[a],r.callout?(r.prev.next=r.next,r.next.prev=r.prev,c.push(r),e.splice(a,1)):(D&&(r.labelX=r.labelCos*(l+T*x-this.calloutGap-.01*w)+g.x-.5*r.width,r.labelY=r.labelSin*(l+T*x-this.calloutGap-.01*w)*x+g.y-.5*r.height),u.push(r),a++);return this._renderData.labelScale=1,c=0==t?{visibleLabels:u,renderCallouts:!1}:{visibleLabels:u,renderCallouts:!0,calloutLabelData:this.auxMeasureCalloutLabels(this._renderData,c,i,s)}},vi.prototype.compareCalloutLabel=function(t,e,i,s){return{u:((t.x-e.x)*(i.y-e.y)-(t.y-e.y)*(i.x-e.x))/((s.x-i.x)*(t.y-e.y)-(t.x-e.x)*(s.y-i.y)),v:((s.x-i.x)*(i.y-e.y)-(s.y-i.y)*(i.x-e.x))/((s.x-i.x)*(t.y-e.y)-(t.x-e.x)*(s.y-i.y))}},vi.prototype.renderCalloutLabels=function(t,e,i,s){e.labelData&&this.auxRenderCalloutLabels(t,e,e.labelData,0,i,s)},vi.prototype.measureCalloutLabels=function(t,e,i){var s,a,r,n=t.length,o=this.startAngleRadians,h=this.renderDirection;for(s=0;s<n;s++)a=t[s],r=null!=this.labelJsFunction?Ms.seriesFunc(a,this,this.labelJsFunction):this.labelField?a.item[this.labelField]:this.formatter?this.formatter.format(a.value):a.value.toString(),a.text=r,this.measureText(a),a.labelAngle="clockwise"==h?2*Math.PI-(o+a.angle/2)%(2*Math.PI):(o+a.angle/2)%(2*Math.PI),a.labelCos=Math.cos(a.labelAngle),a.labelSin=-Math.sin(a.labelAngle),o+=a.angle;return this.auxMeasureCalloutLabels(this._renderData,t,e,i)},vi.prototype.auxRenderCalloutLabels=function(t,e,i,s,a,r){var n,o,h,d;e=i.leftStack,i=i.rightStack,s=this._dataTransform.origin;var c=this.getStyle("calloutStroke");this.getStyle("fills"),new b(0,0,a,r);var u=s.x-this._radiusInPixelsAfterLabels-this.calloutGap;for(ts.apply(t,c),r=e.length,a=0;a<r;a++)n=e[a],!this.zeroValueEnable&&0==n.percentValue||""==n.text||l(n.labelY)||(o=n.startAngle+.5*n.angle,h=Math.floor(n.labelX),d=Math.floor(n.labelY),this.fillText(n,h-2+this.labelXOffset,d+this.labelYOffset),c||(t.strokeStyle=Qi.adjustBrightness(n.fill||Ms.defaultFillFunc(this,n.index),-20)),h=0==n.labelSin?u:(n.labelY+n.height/2-s.y)/n.labelSin,0>o&&(o=2*Math.PI+o),t.beginPath(),t.moveTo(s.x+n.labelCos*n.xOuterRadius,s.y+n.labelSin*n.yOuterRadius),this._drawCalloutStroke(t,o,.5*Math.PI,Math.PI,u,s.x,s.y,n,h),t.stroke());for(e=this._dataTransform.origin.x+this._radiusInPixelsAfterLabels+this.calloutGap,r=i.length,a=0;a<r;a++)n=i[a],!this.zeroValueEnable&&0==n.percentValue||""==n.text||l(n.labelY)||(o=n.startAngle+.5*n.angle,h=Math.floor(n.labelX),d=Math.floor(n.labelY),this.fillText(n,h+2+this.labelXOffset,d+this.labelYOffset),c||(t.strokeStyle=Qi.adjustBrightness(n.fill||Ms.defaultFillFunc(this,n.index),-20)),h=(n.labelY+n.height/2-s.y)/n.labelSin,0>o&&(o=2*Math.PI+o),t.beginPath(),t.moveTo(s.x+n.labelCos*n.xOuterRadius,s.y+n.labelSin*n.yOuterRadius),this._drawCalloutStroke(t,o,0,.5*Math.PI,e,s.x,s.y,n,h),t.stroke())},vi.prototype._drawCalloutStroke=function(t,e,i,s,a,r,n,o,h){var l=o.labelSin,d=o.labelCos,c=o.xOuterRadius;o=o.yOuterRadius,e>=i&&e<=s&&n+l*o<n+l*h||!(e>=i&&e<=s||n+l*o<n+l*h)?t.quadraticCurveTo((2*a+r+d*c)/3,(2*(n+l*o)+n+l*h)/3,a,n+l*h):t.quadraticCurveTo((a+2*(r+d*c))/3,(n+l*o+2*(n+l*h))/3,a,n+l*h)},vi.prototype.auxMeasureCalloutLabels=function(t,e,i,s){var a,r,n=[],o=[],h=r=0,l=0,d=e.length,l=this.calloutGap,c=t.labelScale,u=this._dataTransform,p=new b(0,0,i,s),f=u.radius*this.outerRadius;for(i=0;i<d;i++)s=e[i],(s.labelAngle+Math.PI/2)%(2*Math.PI)<Math.PI?(s.labelAngle>Math.PI&&(s.labelAngle-=2*Math.PI),s.labelX=0,f=Math.min(f,p.right-s.width-u.origin.x-l),o.push(s),h+=s.height):(s.labelX=.5*-s.width,f=Math.min(f,u.origin.x-s.width-l),n.push(s),r+=s.height),a=-s.height/2+u.origin.y+s.labelSin*f,a<p.top&&(f=(p.top+s.height/2-u.origin.y)/s.labelSin),a>p.bottom-s.height&&(f=(p.bottom-s.height+s.height/2-u.origin.y)/s.labelSin);n.sort(function(t,e){return t.labelAngle>e.labelAngle?1:t.labelAngle<e.labelAngle?-1:0}),o.sort(function(t,e){return t.labelAngle>e.labelAngle?-1:t.labelAngle<e.labelAngle?1:0}),this._radiusInPixelsAfterLabels=f/this.outerRadius,e=[];var g=u.origin.x-f-l,m=u.origin.x+f+l,d=n.length,l=0;for(r>p.height&&(e=this._getHideLabelIndexs(n,r,p.height)),i=0;i<d;i++)s=n[i],-1<e.indexOf(i)?s.labelX=s.labelY=void 0:(s.labelX=g+s.labelX*c-.5*s.width,a=-s.height/2+u.origin.y+s.labelSin*f,a<l&&(a=l),s.labelY=a,l=a+s.height);if(l>p.bottom)for(r=p.bottom,i=n.length-1;0<=i;i--)if(!(-1<e.indexOf(i))){if(s=n[i],s.labelY+s.height<=r)break;s.labelY=r-s.height,r=s.labelY}for(l=0,e=[],h>p.height&&(e=this._getHideLabelIndexs(o,h,p.height)),i=0;i<o.length;i++)s=o[i],-1<e.indexOf(i)?s.labelX=s.labelY=void 0:(s.labelX=m,a=-s.height/2+u.origin.y+s.labelSin*f,a<l&&(a=l),s.labelY=a,l=a+s.height);if(l>p.bottom)for(r=p.bottom,i=o.length-1;0<=i;i--)if(!(-1<e.indexOf(i))){if(s=o[i],s.labelY+s.height<=r)break;s.labelY=r-s.height,r=s.labelY}return t.labelScale=c,{leftStack:n,rightStack:o}},vi.prototype._getHideLabelIndexs=function(t,e,i){return _i.prototype._getHideLabelIndexs.call(this,t,e,i)},vi.prototype._getRemainHeight=function(t,e,i,s,a){return _i.prototype._getRemainHeight.call(this,t,e,i,s,a)},vi.prototype.updateData=function(){var t,e,s,a,r=this.getChart();e=r.sortType;var n=this._itemType;if(this._renderData=new this._renderDataType,this._renderData.cache=[],this._dataProvider){for(t=a=0;t<this._dataProvider.getLength();t++)s=this._dataProvider.getItemAt(t)[this.field],!this.zeroValueEnable&&0==s||0>s||(this._renderData.cache[a]=new n(this,this._dataProvider.getItemAt(t),a),a++);for(this.cacheDefaultValues(this.field,this._renderData.cache,"value"),(""!=this.sortField||r.enableSort)&&(""!=this.sortField?(this.cacheDefaultValues(this.sortField,this._renderData.cache,"sort"),
t=Yi.sortOn(this._renderData.cache,"sort"),"desc"!=e&&"DESC"!=e||t.reverse()):(t=this._renderData.cache.concat(),t.sort(function(t,e){return e.value-t.value}),"asc"!=e&&"ASC"!=e||t.reverse(),this._renderData.cache=t.concat()),a=0,this._renderData.cache=Yi.map(t,function(t){return t.index=a,a++,t})),t=0,e=this._renderData.cache.length;t<e;t+=1)i(this.legendCheckWedge[t])&&!this.legendCheckWedge[t]&&(this._renderData.cache[t].value=0)}Qe.prototype.updateData.call(this)},vi.prototype.updateMapping=function(){this._dataTransform.getAxis("a").mapCache(this._renderData.cache,"value","number");var t,e,i=0,s=this._renderData.cache.length;for(t=0;t<s;t++)e=Number(this._renderData.cache[t].number),h(e)||(i+=Number(this._renderData.cache[t].number));for(this._renderData.itemSum=i,i/=100,0==i&&(i=1),t=0;t<s;t++)this._renderData.cache[t].percentValue=this._renderData.cache[t].number/i;Qe.prototype.updateMapping.call(this)},vi.prototype.updateFilter=function(){this._renderData.filteredCache=this._renderData.cache,this.stripNaNs(this._renderData.filteredCache,"number"),Qe.prototype.updateFilter(this)},vi.prototype.updateTransform=function(){var t=this._dataTransform;t.transformCache(this._renderData.filteredCache,"percentValue","angle",null,null);var e,i,s;e=this.getChart();var a=this._renderData.filteredCache.length,r=e.getWidth()-parseInt(e.getStyle("paddingLeft"))-parseInt(e.getStyle("paddingRight")),n=e.getHeight()-parseInt(e.getStyle("paddingTop"))-parseInt(e.getStyle("paddingBottom"));if(a)for(s=this._renderData.filteredCache[0],s.startAngle=this.startAngleRadians,e=1;e<a;e++)i=this._renderData.filteredCache[e],i.startAngle=s.startAngle+s.angle,s=i;var o;e=this._renderData,i=!0;var l=this.getStyle("labelPosition");s=e.filteredCache;var d=s.length;if(e&&e.filteredCache&&0!=d){if(this._origin=t.origin,this.innerRadius=this.chart.innerRadius||this.innerRadius,this._radiusInPixelsAfterLabels=t.radius-this.DROP_SHADOW_SIZE,this.perWedgeExplodeRadius&&0<this.perWedgeExplodeRadius.length)for(t=this._explodeRadius,h(t)&&(t=0),this._maxExplodeRadiusRatio=t,e=0;e<d;e++)o=null!=this.perWedgeExplodeRadius[e]?parseFloat(this.perWedgeExplodeRadius[e]):0,h(o)&&(o=0),this._maxExplodeRadiusRatio=Math.max(this._maxExplodeRadiusRatio,t+o);else h(this._explodeRadius)||0==this._explodeRadius?this._maxExplodeRadiusRatio=0:this._maxExplodeRadiusRatio=this._explodeRadius;if(this._maxExplodeRadiusRatio=Math.max(this._maxExplodeRadiusRatio,this._reserveExplodeRadius),this._renderData.labelScale=1,this.setFont(),e=this.innerRadius,t=this.renderDirection,o=Math.cos(this.elevation*Math.PI/180),this._innerRadiusInPixels=this._radiusInPixelsAfterLabels*e,this._radiusInPixelsAfterLabels*=this.assignedRadiusRatio,this._radiusInPixelsScaledForExplode=this._radiusInPixelsAfterLabels*(1-this._maxExplodeRadiusRatio),this._innerRadiusInPixelsScaledForExplode=this._innerRadiusInPixels,this.innerRadius>=this.outerRadius||("outside"==l?this._renderData.labelData=this.measureRadialLabels(s,r,n):"callout"==l?this._renderData.labelData=this.measureCalloutLabels(s,r,n):"inside"==l?this._renderData.labelData=this.measureInternalLabels(!1,s,r,n):"insideWithCallout"==l&&(this._renderData.labelData=this.measureInternalLabels(!0,s,r,n))),this._innerRadiusInPixels=this._radiusInPixelsAfterLabels*e,this._radiusInPixelsAfterLabels*=this.assignedRadiusRatio,this._radiusInPixelsScaledForExplode=this._radiusInPixelsAfterLabels*(1-this._maxExplodeRadiusRatio),this._innerRadiusInPixelsScaledForExplode=this._innerRadiusInPixels,this.perWedgeExplodeRadius&&0<this.perWedgeExplodeRadius.length||0!=this._explodeRadius){i=!1;var c,n=this.startAngle;for(e=0;e<d;e++){c=this.calculateExplodeRadiusForWedge(e),r=s[e],h(r.startAngle)||(n=r.startAngle);var u,l=r.angle;u="clockwise"==t?2*Math.PI-(l/2+n):l/2+n,r.origin=new Oi(this._origin.x+Math.cos(u)*c,this._origin.y+-Math.sin(u)*c*o),n+=l}}for(e=0;e<a;e++)r=s[e],i&&(r.origin=this._origin),r.xInnerRadius=this._innerRadiusInPixelsScaledForExplode,r.yInnerRadius=this._innerRadiusInPixelsScaledForExplode*o,r.xOuterRadius=this._radiusInPixelsScaledForExplode,r.yOuterRadius=this._radiusInPixelsScaledForExplode*o;if("clockwise"==t&&a)for(e=0;e<a;e++)r=this._renderData.filteredCache[e],r.startAngle=2*Math.PI-(r.startAngle+r.angle);Qe.prototype.updateTransform.call(this)}},vi.prototype.calculateExplodeRadiusForWedge=function(t){return t=this.perWedgeExplodeRadius&&null!=this.perWedgeExplodeRadius[t]?parseFloat(this.perWedgeExplodeRadius[t]):0,h(t)&&(t=0),((h(this._explodeRadius)?0:this._explodeRadius)+t)*this._radiusInPixelsAfterLabels},vi.prototype.describeData=function(t,e){var i;return t==bt.ANGULAR_AXIS?(i=new pt,i.boundedValues=null,i.min=0,i.max=100,[i]):[]},vi.prototype.findDataPoints=function(t,e,i){var s,a=2*Math.PI,r=this._renderData.filteredCache.length,n=this._dataTransform.origin,o=this._innerRadiusInPixelsScaledForExplode,h=Math.cos(this.elevation*Math.PI/180);if(0==r)return[];var l,d,c,u=this._renderData,p=this.renderDirection,f=this.chart.dataTipDisplayMode,g=this.chart.calcAngle(t-n.x,(e-n.y)/h);for(c="clockwise"==p?u.filteredCache[r-1].startAngle:u.filteredCache[0].startAngle,n=0;n<r;n++){if(d=u.filteredCache[n],g=this.chart.calcAngle(t-d.origin.x,(e-d.origin.y)/h),g-=c,0>g&&(g+=a),"clockwise"==p)for(;g>a;)g-=a;if(l=d.startAngle-c,g>=l&&g<l+d.angle){s=d;break}}return s?(a=this._radiusInPixelsScaledForExplode-i,r=(t-s.origin.x)*(t-s.origin.x)+(e-s.origin.y)/h*((e-s.origin.y)/h),r<o*o-i*i||r>a*a?[]:(l="clockwise"==p?l+2*Math.PI-this.startAngleRadians+s.angle/2:l+this.startAngleRadians+s.angle/2,i=s.origin.x+Math.cos(l)*(o+.5*(this._radiusInPixelsScaledForExplode-o)),o=s.origin.y-Math.sin(l)*h*(o+.5*(this._radiusInPixelsScaledForExplode-o)),"mouse"==f&&(i=t,o=e),t=new mt(s.index,0,i,o,s),t.dataTipFunction=this.formatDataTip,t.contextColor=s.fill?s.fill:Ms.defaultFillFunc(this,t.chartItem.index),[t])):[]},vi.prototype.formatDataTip=function(t){var e="",i="",s=this._displayName+"";return null!=s&&0<s.length&&(e+=s+"<br/>"),""!=this._nameField&&(i=t.chartItem.item[this._nameField]),""!=i&&(e+=i+" : "),e+="<b>"+Math.round(10*t.chartItem.percentValue)/10+"%</b><br/>"},vi.prototype.getItemsInRegion=function(t){return yi.prototype.getItemsInRegion.call(this,t)},vi.prototype.getElementBounds=function(t){var e,i,s=[],a=t.filteredCache,r=a.length,n=Number.MAX_VALUE,o=Number.MIN_VALUE;for(e=0;e<r;e++)i=a[e],s.push(new b(i.startAngle,i.xInnerRadius,i.angle,i.xOuterRadius-i.xInnerRadius,(!0))),o=Math.max(o,i.startAngle+i.angle),n=Math.min(n,i.startAngle);t.elementBounds=s,t.bounds=new b(n,this._innerRadiusInPixelsScaledForExplode,o-n,this._radiusInPixelsScaledForExplode-this._innerRadiusInPixelsScaledForExplode,(!0)),t.visibleRegion=new b(n,this._innerRadiusInPixelsScaledForExplode,o-n,this._radiusInPixelsScaledForExplode-this._innerRadiusInPixelsScaledForExplode,(!0))},vi.prototype.beginInterpolation=function(t,e){var i,s,a,r=this._initializeInterpolationData(t.filteredCache,e.filteredCache,{angle:!0,startAngle:!0,xInnerRadius:!0,yInnerRadius:!0,xOuterRadius:!0,yOuterRadius:!0},this._itemType,{lastInvalidSrcValue:0,lastInvalidSrcIndex:NaN,lastInvalidDestValue:0,lastInvalidDestIndex:NaN}),n=this._dataTransform.origin,o=t.filteredCache,h=e.filteredCache,l=Math.max(o.length,h.length),d=Math.min(o.length,h.length);for(i=0;i<d;i++)a=h[i],s=o[i],r.interpolationSource[i].origin=s.origin,r.deltaCache[i].origin=new Oi(a.origin.x-s.origin.x,a.origin.y-s.origin.y),r.cache[i].origin=s.origin.clone();if(d<o.length)for(i=d;i<l;i++)s=o[i],r.interpolationSource[i].origin=s.origin,r.deltaCache[i].origin=new Oi(n.x-s.origin.x,n.y-s.origin.y),r.cache[i].origin=s.origin.clone();else for(i=d;i<l;i++)a=h[i],r.interpolationSource[i].origin=n,r.deltaCache[i].origin=new Oi(a.origin.x-n.x,a.origin.y-n.y),r.cache[i].origin=n.clone();return i=e.clone(),i.cache=r.cache,i.filteredCache=r.cache,this._transitionRenderData=i,r},vi.prototype.interpolate=function(t,e){vi._super.interpolate(t,e);var i,s,a,r,n,o=t.length,h=e.interpolationSource,l=e.deltaCache,d=e.cache;for(i=0;i<o;i++)s=t[i],a=h[i],r=l[i],n=d[i],n.origin.x=a.origin.x+r.origin.x*s,n.origin.y=a.origin.y+r.origin.y*s},vi.prototype._getMissingInterpolationValues=function(t,e,i,s,a,r){var n,o,l,d;for(d in t){if(o=t[d],l=i[d],"startAngle"==d){if(h(o)){if(r.lastInvalidSrcIndex!=a-1)if(0==a){for(n=0;n<e.length;n++)if(null!=e[n]&&!h(e[n].startAngle)){r.lastInvalidSrcValue=e[n].startAngle+e[n].angle;break}}else for(n=a-1;0<=n;n--)if(null!=e[n]&&!h(e[n].startAngle)){r.lastInvalidSrcValue=e[n].startAngle+e[n].angle;break}o=r.lastInvalidSrcValue,r.lastInvalidSrcIndex=a}if(h(l)){if(r.lastInvalidDestIndex!=a-1)if(0==a){for(n=0;n<s.length;n++)if(null!=s[n]&&!h(s[n].startAngle)){r.lastInvalidDestValue=s[n].startAngle+s[n].angle;break}}else for(n=a-1;0<=n;n--)if(null!=s[n]&&!h(s[n].startAngle)){r.lastInvalidDestValue=s[n].startAngle+s[n].angle;break}l=r.lastInvalidDestValue,r.lastInvalidDestIndex=a}}else"angle"==d?(h(o)&&(o=0),h(l)&&(l=0)):"xInnerRadius"==d?(h(o)&&(o=this._innerRadiusInPixelsScaledForExplode),h(l)&&(l=this._innerRadiusInPixelsScaledForExplode)):"yInnerRadius"==d?(n=Math.cos(this.elevation*Math.PI/180),h(o)&&(o=this._innerRadiusInPixelsScaledForExplode*n),h(l)&&(l=this._innerRadiusInPixelsScaledForExplode*n)):"xOuterRadius"==d?(h(o)&&(o=this._radiusInPixelsScaledForExplode),h(l)&&(l=this._radiusInPixelsScaledForExplode)):"yOuterRadius"==d?(n=Math.cos(this.elevation*Math.PI/180),h(o)&&(o=this._radiusInPixelsScaledForExplode*n),h(l)&&(l=this._radiusInPixelsScaledForExplode*n)):(h(o)&&(o=0),h(l)&&(l=0));t[d]=o,i[d]=l}},ki(xi,yi),xi.prototype.commitProperties=function(){var t=Math.PI,e=this.getChart();xi._super.commitProperties.call(this),this.startAngleRadians=this.startAngle*Math.PI/180%t,0>this.startAngle&&(this.startAngleRadians+=t),this._dataTransform&&this._angularAxis&&this._dataTrasnfrom.setAxis("a",this._angularAxis),e&&(this._angularAxis||this._dataTransform.axes.a==e._angularAxis||this._dataTransform.setAxis("a",e._angularAxis)),this._dataTransform.elements=[this]},xi.prototype.updateTransform=function(){var t,e,i,s=this.getChart(),a=this._renderData,r=!0,n=this._dataTransform,o=a.filteredCache.length,h=s.getWidth()-parseInt(s.getStyle("paddingLeft"))-parseInt(s.getStyle("paddingRight")),l=s.getHeight()-parseInt(s.getStyle("paddingTop"))-parseInt(s.getStyle("paddingBottom"));if(n.transformCache(a.filteredCache,"percentValue","angle",null,null,!0),o)for(i=a.filteredCache[0],i.startAngle=this.startAngleRadians,t=1;t<o;t++)e=a.filteredCache[t],e.startAngle=i.startAngle+i.angle,i=e;if(a&&a.filteredCache&&(i=this.getStyle("labelPosition"),a=a.filteredCache,e=a.length,0!=e)){if(this._origin=n.origin,this.innerRadius=s.innerRadius||this.innerRadius,this._radiusInPixelsAfterLabels=n.radius-this.DROP_SHADOW_SIZE,this.perWedgeExplodeRadius&&0<this.perWedgeExplodeRadius.length)for(s=this._explodeRadius,isNaN(s)&&(s=0),this._maxExplodeRadiusRatio=s,t=0;t<e;t++)n=null!=this.perWedgeExplodeRadius[t]?parseFloat(this.perWedgeExplodeRadius[t]):0,isNaN(n)&&(n=0),this._maxExplodeRadiusRatio=Math.max(this._maxExplodeRadiusRatio,s+n);else isNaN(this._explodeRadius)||0==this._explodeRadius?this._maxExplodeRadiusRatio=0:this._maxExplodeRadiusRatio=this._explodeRadius;this._maxExplodeRadiusRatio=Math.max(this._maxExplodeRadiusRatio,this._reserveExplodeRadius),this._renderData.labelScale=1,null!=this.labelJsFunction&&(this.labelFunction=this.labelJsFunction),this.setFont(),this.innerRadius>=this.outerRadius||("outside"==i?this._renderData.labelData=this.measureRadialLabels(a,h,l):"callout"==i?this._renderData.labelData=this.measureCalloutLabels(a,h,l):"inside"==i?this._renderData.labelData=this.measureInternalLabels(!1,a,h,l):"insideWithCallout"==i&&(this._renderData.labelData=this.measureInternalLabels(!0,a,h,l)));var d=this.renderDirection;if(this._innerRadiusInPixels=this._radiusInPixelsAfterLabels*this.innerRadius,this._radiusInPixelsAfterLabels*=this.outerRadius,this._radiusInPixelsScaledForExplode=this._radiusInPixelsAfterLabels*(1-this._maxExplodeRadiusRatio),this._innerRadiusInPixelsScaledForExplode=this._innerRadiusInPixels*(1-this._maxExplodeRadiusRatio),this.perWedgeExplodeRadius&&0<this.perWedgeExplodeRadius.length||0!=this._explodeRadius)for(r=!1,h=this.startAngle,t=0;t<e;t++)i=this.calculateExplodeRadiusForWedge(t),l=a[t],isNaN(l.startAngle)||(h=l.startAngle),n=a[t].angle,s="clockwise"==d?2*Math.PI-(n/2+h):n/2+h,l.origin=new Oi(this._origin.x+Math.cos(s)*i,this._origin.y+-Math.sin(s)*i),h+=n;for(t=0;t<o;t++)l=a[t],r&&(l.origin=this._origin),l.innerRadius=this._innerRadiusInPixelsScaledForExplode,l.outerRadius=this._radiusInPixelsScaledForExplode;if("clockwise"==d&&o)for(t=0;t<o;t++)l=this._renderData.filteredCache[t],l.startAngle=2*Math.PI-(l.startAngle+l.angle);Qe.prototype.updateTransform.call(this)}},xi.prototype.measureRadialLabels=function(t,e,i){var s,a=1,r=[],n=t.length,o=this.startAngleRadians,h=this._dataTransform,l=h.origin,d=this.renderDirection,c=h.radius*this.outerRadius,u=new b(0,0,e,i);for(e=0;e<n;e++)i=t[e],s=null!=this.labelFunction?Ms.seriesFunc(i,this,this.labelFunction):this.labelField?i.item[this.labelField]:this.formatter?this.formatter.format(i.value):i.value.toString(),i.text=s,this.measureText(i),i.labelAngle="clockwise"==d?2*Math.PI-(o+i.angle/2)%(2*Math.PI):(o+i.angle/2)%(2*Math.PI),i.labelCos=Math.cos(i.labelAngle),i.labelSin=-Math.sin(i.labelAngle),i.labelAngle<Math.PI?(i.labelY=.25*-i.height,c=Math.min(c,(l.y-i.height)/Math.abs(i.labelSin))):(i.labelY=.45*-i.height,c=Math.min(c,(u.bottom-i.height-l.y)/Math.abs(i.labelSin))),(i.labelAngle+Math.PI/2)%(2*Math.PI)<Math.PI?(i.labelX=0,c=Math.min(c,(u.right-i.width-l.x)/Math.abs(i.labelCos)-2)):(i.labelX=-i.width,c=Math.min(c,(l.x-i.width)/Math.abs(i.labelCos)-2)),r[e]=i,o+=i.angle;for(c<(1-this.maxLabelRadius)*h.radius*this.outerRadius&&(t=h.radius*this.outerRadius-c,c=(1-this.maxLabelRadius)*h.radius*this.outerRadius,a=(h.radius*this.outerRadius-c)/t),this._radiusInPixelsAfterLabels=c/this.outerRadius,e=0;e<n;e++)i=r[e],i.labelX=i.labelX*a+l.x+i.labelCos*c,i.labelY=i.labelY*a+l.y+i.labelSin*c;return this._renderData.labelScale=1,null},ki(bi,Ke),bi.prototype.getItems=function(){return this._renderData?this._renderData.filteredCache:[]},bi.prototype.getLegendData=function(){var t,e,i=this.getChart();return e=this.itemRenderer||this.defaultRenderer,t=new _t,t.target=this,t.label=this._displayName,e=e.newInstance(),t.aspectRatio=1,t.marker=e,t.fill=this.getMarkerFill(),t.stroke=this.getMarkerStroke(),i&&i._enablePattern&&(t.pattern=Ms.defaultPatternFunc(this,null,this.seriesIndex),t.stroke=new w("#000000")),[t]},bi.prototype.commitProperties=function(){var t=this._dataTransform;bi._super.commitProperties.call(this),t&&(this._horizontalAxis&&(this._horizontalAxis.setChartDataProvider(this._dataProvider),t.setAxis("h",this._horizontalAxis)),this._verticalAxis&&(this._verticalAxis.setChartDataProvider(this._dataProvider),t.setAxis("v",this._verticalAxis)));var e=this.getChart();e&&(this._horizontalAxis||t.axes.h!=e._horizontalAxis&&t.setAxis("h",e._horizontalAxis),this._verticalAxis||t.axes.v!=e._verticalAxis&&t.setAxis("v",e._verticalAxis)),t.elements=[this]},bi.prototype.updateDisplayList=function(t,e){var i,s=this.getChart();this._includeInLayout&&(bi._super.updateDisplayList.call(this,t,e),i=this._renderData,!i||!i.filteredCache||1>i.filteredCache.length?this.clear():(!this.showDataEffect||this.showDataEffect&&!s.getChartState())&&this.updateSeriesItem())},bi.prototype.updateSeriesItem=function(){var t,e,i,s,a,r=this.getChart(),n=this.radius;e=this._renderData;var o=!1,l=e.filteredCache;t=this.itemRenderer?this.itemRenderer:this.defaultRenderer;var d=this._transitionRenderData?this._transitionRenderData:e;if(d.elementBounds?(o=!0,d=d.elementBounds):d=d.filteredCache,this.clear(),e=d.length,0<e){for(i=t.newInstance(),i.stroke=r._enablePattern?new w("#000000"):this.getStyle("stroke"),i.graphics=this.graphics,a=new b,t=0;t<e;t+=1)s=d[t],o?(a.setLeft(s.left),a.setRight(s.right),a.setTop(s.top),a.setBottom(s.bottom)):(a.setLeft(s.x-n),a.setTop(s.y-n),a.width=2*n,a.height=2*n),this.compareSize(a)||h(s.x)||h(s.y)||(s.fill=this.fillJsFunction?Ms.seriesFunc(l[t]||s,this,this.fillJsFunction,!0):Ms.defaultFillFunc(this,t),i.pattern=s.pattern=null,r._enablePattern&&(i.pattern=s.pattern=Ms.defaultPatternFunc(this,l[t],this.seriesIndex)),i.fill=s.fill,i.draw(a.left,a.top,a.width,a.height));r.getChartState()||this.allSeriesRenderingComplete()}},bi.prototype._updateItemState=function(t,e,i){var s=i.graphics,a=this.getChart(),r=new b,n=this.selectionRadius,o=this.itemRenderer?this.itemRenderer:this.defaultRenderer,o=o.newInstance();if(r.setLeft(t.x-n),r.setRight(r.left+2*n),r.setTop(t.y-n),r.setBottom(r.top+2*n),i.clear(),i.move(r.left,r.top),i.setActualSize(r.width,r.height),i=t.fill||this.getStyle("fill"),a._enablePattern)o.pattern=Ms.defaultPatternFunc(this,t,this.seriesIndex),t=new w("#000000");else{switch(e){case na:case sa:i=this.itemRollOverColor?this.itemRollOverColor:this._addBrightToColor(i,40);break;case oa:case aa:i=this.itemSelectionColor?this.itemSelectionColor:this._addBrightToColor(i,-60)}t=this.getStyle("stroke")}o.fill=i,o.stroke=t,o.draw(0,0,r.width,r.height,s)},bi.prototype.updateData=function(){var t,e=this._itemType,i=this._dataTransform;if(this._renderData=new this._renderDataType,this._renderData.cache=[],this._dataProvider)for(t=0;t<this._dataProvider.getLength();t++)this._renderData.cache[t]=new e(this,this._dataProvider.getItemAt(t),t),this._renderData.cache[t].radius=this.radius;this.cacheIndexValues(this.xField,this._renderData.cache,"xValue"),this.cacheDefaultValues(this.yField,this._renderData.cache,"yValue"),i&&i.getAxis("v")instanceof Tt&&!(i.getAxis("v")instanceof Lt)&&"inverted"==i.getAxis("v").getDirection()&&(this._renderData.cache=this.reverseYValues(this._renderData.cache)),i&&i.getAxis("h")instanceof Tt&&!(i.getAxis("h")instanceof Lt)&&"inverted"==i.getAxis("h").getDirection()&&(this._renderData.cache=this.reverseXValues(this._renderData.cache)),bi._super.updateData.call(this)},bi.prototype.getSeriesRenderData=function(){return this._renderData?this._renderData:new this._renderDataType},bi.prototype.updateMapping=function(){var t=this._dataTransform;t.getAxis("h").mapCache(this._renderData.cache,"xValue","xNumber",""==this.xField),t.getAxis("v").mapCache(this._renderData.cache,"yValue","yNumber"),bi._super.updateMapping.call(this)},bi.prototype.updateFilter=function(){if(this.filterData){var t=this._dataTransform;this._renderData.filteredCache=this._renderData.cache.concat();var e;e=t.getAxis("h").filterCache(this._renderData.filteredCache,"xNumber","xFilter"),void 0==this._renderData.filteredCache&&(this._renderData.filteredCache=e.concat()),t=t.getAxis("v").filterCache(this._renderData.filteredCache,"yNumber","yFilter"),void 0==this._renderData.filteredCache&&(this._renderData.filteredCache=t.concat()),this.stripNaNs(this._renderData.filteredCache,"yFilter"),this.stripNaNs(this._renderData.filteredCache,"xFilter")}else this._renderData.filteredCache=this._renderData.cache;bi._super.updateFilter.call(this)},bi.prototype.updateTransform=function(){var t,e,i=this.getChart(),s=i.getSeries();if(this._dataTransform.transformCache(this._renderData.filteredCache,"xNumber","x","yNumber","y"),bi._super.updateTransform.call(this),this.allSeriesTransform=!0,i)for(e=s.length,t=0;t<e;t++)i.getSeriesTransformState(s[t])},bi.prototype.describeData=function(t,e){this.validateData();var i=2*this.radius,s=new pt,a=this._renderData.cache;if("v"==t)0!=(e&pt.REQUIRED_MIN_INTERVAL)&&(a=a.concat(),a=Yi.sortOn(a,"yNumber")),this.extractMinMax(a,"yNumber",s,0!=(e&pt.REQUIRED_MIN_INTERVAL)),this.showTrendLine&&0<this._trendLineInfos.caches.length&&this.extractMinMax(this._trendLineInfos.caches,"y0",s,null,-1),this.showErrorBar&&(this.extractMinMax(a,"errorBeginValue",s,null),this.extractMinMax(a,"errorEndValue",s,null)),0!=(e&pt.REQUIRED_BOUNDED_VALUES)&&(s.boundedValues=[],s.boundedValues.push(new it(s.max,0,i)),s.boundedValues.push(new it(s.min,i,0)));else{if("h"!=t)return[];0!=(e&pt.REQUIRED_MIN_INTERVAL)&&(a=a.concat(),a=Yi.sortOn(a,"xNumber")),this.extractMinMax(a,"xNumber",s,0!=(e&pt.REQUIRED_MIN_INTERVAL)),0!=(e&pt.REQUIRED_BOUNDED_VALUES)&&(s.boundedValues=[],s.boundedValues.push(new it(s.max,0,i)),s.boundedValues.push(new it(s.min,i,0)))}return[s]},bi.prototype.updateLabels=function(){},bi.prototype.findDataPoints=function(t,e,i){if(!this._renderData)return[];var s,a,r,n,o=[],h=this.radius,l=h+i;a=this._renderData.filteredCache.length;var d=this.getChart().dataTipDisplayMode;for(n=this._unscaledWidth/this._dataTransform.getAxis("h").getLabels().labels.length,l*=l,"axis"==d&&(l=n*n),s=a-1;0<=s;s--)a=this._renderData.filteredCache[s],r=(a.x-t)*(a.x-t),a.x-.5*n>=t||a.x+.5*n<=t||("axis"!=d&&(r+=(a.y-e)*(a.y-e)),r<=l&&o.push(a));for(a=o.length,s=0;s<a;s++)n=o[s],r=new mt(this._createDataID(n.index),Math.sqrt(l),n.x,n.y,n),r.dataTipFunction=this.formatDataTip,r.contextColor=r.chartItem.fill||Ms.defaultFillFunc(this,r.chartItem.element.seriesIndex),o[s]=r,"axis"==d&&(n.x-t)*(n.x-t)+(n.y-e)*(n.y-e)>h+i&&(r.isHit=!1);return o},bi.prototype.formatDataTip=function(t){var e,i,s="",a=this._displayName+"",r=this.getChart();i=this._dataTransform,e=i.getAxis("h"),i=i.getAxis("v");var n=e.formatForScreen(t.chartItem.xValue),o=i.formatForScreen(t.chartItem.yValue);return t=r.dataTipDisplayMode,r=r.dataTipFormatter,e instanceof Tt&&!(e instanceof Lt)?(e=n,h(parseInt(e))||(e=r.format(e))):e=n.toString(),i instanceof Tt&&!(i instanceof Lt)?(i=o,h(parseInt(i))||(i=r.format(i))):i=o.toString(),a&&0<a.length&&(s+=a+("axis"!=t?"<br/>":"")),"axis"==t?s+(" : <b>"+i+"</b>"):s+("x : <b>"+e+"</b> y : <b>"+i+"</b>")},bi.prototype.getItemsInRegion=function(t){if(!this.interactive||!this._renderData)return[];var e,i=[],s=new b,a=this._renderData.filteredCache.length;for(s.setLeft(t.left),s.setTop(t.top),s.setRight(t.right),s.setBottom(t.bottom),t=0;t<a;t+=1)e=this._renderData.filteredCache[t],s.contains(e.x,e.y)&&i.push(e);return i},bi.prototype.getElementBounds=function(t){var e,i,s,a,r=t.filteredCache,n=[],o=r.length;if(o)for(s=this.radius,i=r[0],a=new b(i.x,i.x,0,0,(!0)),e=0;e<o;e++)i=r[e],i=new b(i.x-s,i.y-s,2*s,2*s,(!0)),a.left=Math.min(a.left,i.left),a.top=Math.min(a.top,i.top),a.right=Math.max(a.right,i.right),a.bottom=Math.max(a.bottom,i.bottom),n[e]=i;else a=new b;t.elementBounds=n,t.bounds=a},bi.prototype.beginInterpolation=function(t,e){var i=this._initializeInterpolationData(t.cache,e.cache,{x:!0,y:!0},this._itemType),s=e.clone();return s.cache=i.cache,s.filteredCache=i.cache,this._transitionRenderData=s,i},bi.prototype._getMissingInterpolationValues=function(t,e,i,s,a,r){for(var n in t)e=t[n],s=i[n],"x"!=n&&"y"!=n||(h(e)&&(e=s),h(s)&&(s=e)),t[n]=e,i[n]=s},ki(Si,di),Si.prototype.findDataPoints=function(t,e,i){if(!this._renderData||!this._renderData.filteredCache)return[];var s,a,r,n,o,l,d,c,u,p=this.width,f=this.getChart().dataTipDisplayMode,g=this._renderData,m=g.renderedXOffset,_=Math.floor(g.renderedHalfWidth);r=this._dataTransform.getAxis("h").getLabels().labels.length;var y=Math.floor(g.renderedHalfWidth+i);for(o=this._visibleItemCount?this._visibleItemCount:g.filteredCache.length,c=this._unscaledWidth/r,s=0;s<o;s++)if((void 0==this.showTrailItems||this.showTrailItems||s==o-1)&&g.filteredCache[s]){if(a=g.filteredCache[s],r=Math.floor(a.x),"axis"==f){if(c*s>t||c+c*s<t)continue}else{if(0>=r+m+_)continue;if(r+m-_>=p)continue;if(n=Math.floor(Math.abs(r+m-t)),n>=y)continue}if(d=a.y+4,l=Math.max(a.y,d),d=Math.min(a.y,d),"axis"!=f){if(d-e>i)continue;if(e-l>i)continue}if(y=n,u=a,this instanceof ui&&0==u.yValue-u.minValue)return[];if(n<_)break}return u?(n=0<=u.yNumber?h(u.min)?u.y:Math.min(u.y,u.min):h(u.min)?u.y:Math.max(u.y,u.min),r=u.x+m,"mouse"==f&&(r=t,n=e),n=new mt(this._createDataID(u.index),Math.sqrt(y),r,n,u),n.dataTipFunction=this.formatDataTip,n.contextColor=n.chartItem.fill||Ms.defaultFillFunc(this,n.chartItem.element.seriesIndex),"axis"==f&&(r=Math.floor(u.x),y=Math.floor(_+i),d=u.y+4,l=Math.max(u.y,d),d=Math.min(u.y,d),0>=r+m+_||r+m-_>=p||Math.floor(Math.abs(r+m-t))>=y||d-e>i||e-l>i)&&(n.isHit=!1),[n]):[]},ki(Ci,di),ki(Di,ui),ki(wi,ui);var Is={KoolChart:N,Caption:k,SubCaption:k,Box:N,Legend:Yt,LegendItem:Xt,CheckableLegendItem:Jt,SubLegend:te,BoxItemRenderer:Se,CurrencyFormatter:function(){this.id=null,this.currencySymbol="$",this.alignSymbol="left",this.useNegativeSign=this.useThousandsSeparator=!0,this.precision=-1,this.applyPrecisionToInteger=!0,this.thousandsSeparatorTo=",",this.decimalSeparatorTo=".",this.rounding="none",this.returnValueWhenError=!1,this.format=function(t){var e=parseFloat(t),i=-1==this.precision?0:Math.abs(this.precision),s=this.decimalSeparatorTo,a=this.useThousandsSeparator?this.thousandsSeparatorTo:"",r=this.currencySymbol,n=this.alignSymbol,e="down"==this.rounding?-1<this.precision&&0<i?Math.floor(e*Math.pow(10,i))/Math.pow(10,i):Math.floor(e):"up"==this.rounding?-1<this.precision&&0<i?Math.ceil(e*Math.pow(10,i))/Math.pow(10,i):Math.ceil(e):"nearest"==this.rounding?-1<this.precision&&0<i?Math.round(e*Math.pow(10,i))/Math.pow(10,i):Math.round(e):e,o=0>e?this.useNegativeSign?"-":"(":"",h=parseInt(e=-1<this.precision?Math.abs(e).toFixed(i+1):Math.abs(e))+"",l=h.length,l=3<l?l%3:0,d=e-h,c="";return this.error=void 0,isNaN(d)?(this.error="invalid number",this.returnValueWhenError?t:""):(0<d?c=s+e.toString().slice(h.toString().length+1):0<i&&(c=s+d.toFixed(i+1).slice(2)),c&&!this.applyPrecisionToInteger&&0<i&&0==d&&(c=""),o+("left"==n?r:"")+(l?h.substr(0,l)+a:"")+h.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+a)+(-1<this.precision?i?c.substr(0,i+s.length):"":c)+("right"==n?r:"")+("("==o?")":""))}},DateFormatter:xs,NumberParser:vs,RadialGradient:A,LinearGradient:I,GradientEntry:M,Label:fe,CanvasElement:pe,Image:_e,SolidColorStroke:w,SolidColorColor:T},As={};As.chartCommon={CategoryAxis:At,LinearAxis:Mt,LogAxis:It,DateTimeAxis:Lt,ChartSlide:ae,ChartInterpolate:ie,ChartClip:se,ChartZoom:re,CircleItemRenderer:Ce},As.normal={Line2DChart:Nt,Line2DSeries:Ze,Area2DChart:Ft,Area2DSeries:ei,Area2DSet:ai,Column2DChart:zt,Column3DChart:Wt,Column2DSet:ci,Column3DSet:ci,Circle2DSeries:di,Circle3DSeries:ui,Bar2DChart:kt,Bar3DChart:Ot,Bar2DSet:oi,Bar3DSet:oi,Bar2DSeries:ri,Bar3DSeries:ni,Pie2DChart:Kt,Pie2DSeries:yi,Pie3DChart:qt,Pie3DSeries:vi,HalfPie2DChart:Zt,HalfPie2DSeries:xi,SemiCircleBarItemRenderer:Ve,SemiCircleColumnItemRenderer:ze,Plot2DChart:$t,Plot2DSeries:bi,Bubble2DChart:Ht,Bubble2DSeries:hi,Bubble3DChart:Vt,Bubble3DSeries:li,VTarget3DGoalSeries:Di,VTarget3DResultSeries:wi,HTarget3DGoalSeries:gi,HTarget3DResultSeries:mi,VTarget2DGoalSeries:Si,VTarget2DResultSeries:Ci,HTarget2DGoalSeries:pi,HTarget2DResultSeries:fi,CylinderItemRenderer:Me,BarCylinderItemRenderer:ve,Combination2DChart:Bt,Combination3DChart:Ut,AxisMarker:ce,AxisLine:function(){this.startValue=this.endValue=this.axis=null,this.horizontal=!0,this.label="",this.labelAlign="right",this.labelRotation=NaN,this.labelUpDown="up",this.linePosition="center",this.stroke=new w("#555555",1,1),this.value=null,this.labelSeriesIn=!0,this.seriesOutLabelGap=0,this.lineStyle="normal",this.dashLinePattern=5,this.labelXOffset=this.labelYOffset=0,this.color="#000000",this.fontSize=12,this.fontFamily="arial",this.fontWeight=this.fontStyle="normal"},AxisRange:function(){this.color="#000000",this.startValue=this.endValue=this.axis=null,this.horizontal=!0,this.label="",this.labelHorizontalAlign="center",this.labelRotation=NaN,this.labelVerticalAlign="middle",this.fill=new T("#555555",.7),this.endRangePosition=this.startRangePosition="center",this.labelXOffset=this.labelYOffset=0,this.fontSize=12,this.fontFamily="arial",this.fontWeight=this.fontStyle="normal"},GridLines:me,Axis2DRenderer:Rt,Axis3DRenderer:Pt,AngularAxisRenderer:Et,DataEditor:Gt,CrossRangeZoomer:ge,BallItemRenderer:ye,GradientColumnItemRenderer:Ne,GradientBarItemRenderer:Ee,UpArrowItemRenderer:Ue,CircleUpArrowItemRenderer:Je,DownArrowItemRenderer:Le,CircleDownArrowItemRenderer:je,DiamondItemRenderer:Ae,TriangleItemRenderer:Be,CrossItemRenderer:De,XShapeItemRenderer:Xe,IShapeItemRenderer:Fe,DownTriangleItemRenderer:Re,StarItemRenderer:We,CircleItemRenderer:Ce,RectangleItemRenderer:He};for(var Ls in As)for(var Rs in As[Ls])Is[Rs]=As[Ls][Rs];$i.overflow=$i.isMobile?"visible":$i.overflow;var Ps=!0,Es=$i,Ns=Es.quirks,Fs=Es.supportTouch,ks=Es.ie8L,Os=Es.useExCanvas,Hs=Es.checkRetinaRatio(),Vs=Zi,zs=Vs.addEvent,Ws=Vs.removeEvent,Bs=qi,Us=Bs.test,Gs=Bs.setStyle,Ys=Bs.setPxStyle,Xs=Bs.getStyle,Js=Bs.getSizeStyle,js=Bs.addClass,Qs=Bs.removeClass,Ks=Bs.pageXY,qs=ut.NONE,Zs=ut.PREPARING_TO_HIDE_DATA,$s=ut.HIDING_DATA,ta=ut.PREPARING_TO_SHOW_DATA,ea=ut.SHOWING_DATA,ia="none",sa=dt.ROLLOVER,aa=dt.SELECTED,ra=dt.DISABLED,na=dt.FOCUSED,oa=dt.FOCUSEDSELECTED,ha=Yi.indexOf;ki(Li,tt),Li.prototype._extraParsing=function(t){var e,i,s,a,r,n=t.nodeName;if("Options"==n){for(e=0,i=t.childNodes.length;e<i;e+=1)if(s=t.childNodes[e],1==s.nodeType)if(/Back|Reset/.test(s.nodeName)&&0<s.attributes.length)for(a=0;n=s.attributes[a];)"text"==n.name&&(this._wrapper[s.nodeName]=n.value),a++;else r=this._getClassInfo(s),a=new r,this._setPropsStyles(s,a,r),a.className||(a.className=s.nodeName),a instanceof k?(a.element.className=a.element.className.replace("Label",s.nodeName),a.className=s.nodeName,a.setPercentWidth(100),this._root.addChild(a)):Us("Legend",a.className)?(this._wrapper.getChartParent().addChild(a),this._wrapper._legend=this._legend=a,this._setPropLegend()):Us("DataEditor",a.className)&&(this._wrapper.getChartParent().addChild(a),this._wrapper._dataEditor=this._dataEditor=a,this._setDataEditorIndex());return!0}return("HttpServiceRepeater"==n||"HttpMultiServiceRepeater"==n)&&(a=this._tryCorrectNewInstance(t,!1),this._wrapper._httpService=a,a.addEventListener("error",function(t){alert("error")}),this._setPropsStyles(t,a,r),"HttpMultiServiceRepeater"==n)},Li.prototype._tryExtraNewInstance=function(t,e){var i=this._wrapper,s=t.nodeName;if(-1<s.indexOf("Chart")||-1<s.indexOf("Gauge")){if(i._chart&&0>s.indexOf("DualChart"))return;return i._chart=e,e.setPercentWidth(100),e.setPercentHeight(100),e.getParent()&&(e.getParent().addChild(i.getChartParent()),this._legend&&this._legend.setNestLevel(i.getChartParent().getNestLevel()+1)),i.getChartParent().addChild(e),this._setPropsStyles(t,e,this._getClassInfo(t)),this._setPropLegend(),this._setDataEditorIndex(),-1<s.indexOf("Motion")&&(s=new MotionController,s.setTarget(e),this._root._motionController=s,this._root.addChild(s)),i.getChartParent()}if(e instanceof N&&$i.isMobile){var a=function(){Gs(this,"overflow",$i.overflow),Gs(this._contentPane,"overflowX",$i.overflow),Gs(this._contentPane,"overflowY",$i.overflow),this.removeEventListener("creationComplete",a,this)};e.addEventListener("creationComplete",a,e)}return!1},Li.prototype._setDataEditorIndex=function(){var t=this._wrapper.getChartParent();t&&this._dataEditor&&t.setChildIndex(this._dataEditor,t.getNumChildren()-1)},Li.prototype._setPropLegend=function(){var t,e,i=this._target;if(i&&this._legend){switch(t=this._legend,i.legend=t,e=this._wrapper.getChartParent(),t instanceof Yt?"HistoryChart"==i.className?t.setDataProvider(i.getDisplayerChart()):"DualChart"==i.className?t.setDataProvider(i.getMainChart()):t.setDataProvider(i):t instanceof ColorRangeLegend&&t.invalidateSize(),t.position){case"bottom":e.setDirection("vertical"),e.setChildIndex(i,0);break;case"left":e.setDirection("horizontal"),e.setChildIndex(t,0);break;case"right":e.setDirection("horizontal"),e.setChildIndex(t,1);break;default:e.setDirection("vertical"),e.setChildIndex(t,0)}"left"==t.position||"right"==t.position?e.setStyle("verticalAlign",t.vAlign):e.setStyle("horizontalAlign",t.hAlign)}},Li.prototype._setExtraPropsStyles=function(t,e,i){"showSaveMenu"==e&&i&&this._wrapper._createSaveMenu()};try{q.productInit("KoolChart",Ri,Li,Pi)}catch(es){}ki(Ri,q),Ri.prototype.getChartParent=function(){
return this._chartParent},Ri.prototype.createChildren=function(){var t=this.element;t.legendCheck=this.legendCheck,t.legendAllCheck=this.legendAllCheck,t.setSlideLayout=t.setSlideLayoutSet=this.setSlideLayout,t.setSlideData=t.setSlideDataSet=this.setSlideData,t.saveAsImage=this.saveAsImage,t.getSnapshot=this.getSnapshot,t.getCSVData=this.getCSVData,t.getDrillDownDepth=this.getDrillDownDepth,t.setDataDrillDown=t.setDataDrilldown=this.setDataDrillDown,t.setDataDrillDownURL=t.setDataDrilldownURL=this.setDataDrillDownURL,t.hasNoData=this.hasNoData,t.showDataEditor=this.showDataEditor,t.removeDataEditor=t.hideDataEditor=this.hideDataEditor,t.visibleItemSize=this.visibleItemSize,t.changeScrollBarSize=this.changeScrollBarSize,t.getChartData=this.getChartData,t.accessibilityPattern=this.accessibilityPattern,t.setTheme=this.setTheme,t.showAdditionalPreloader=this.addLoadingBar,t.removeAdditionalPreloader=this.removeLoadingBar,t.sliderPlay=this.sliderPlay,t.sliderPause=this.sliderPause,t.sliderReset=this.sliderReset,t.updateCrossRange=this.updateCrossRange,t.setChartMenu=this.setChartMenu,t.getSelectedChartItem=this.getSelectedChartItem,t.getSelectedChartItems=this.getSelectedChartItems,t.setSelectedIndex=this.setSelectedIndex,t.setSelectedIndices=this.setSelectedIndices,t.gridData2Chart=this.gridData2Chart,Ri._super.createChildren.call(this)},Ri.prototype.commitProperties=function(){var t;if(t=window[this._productName],y.prototype.commitProperties.call(this),t.defaultColors&&(t.setDefaultColors(t.defaultColors),t.defaultColors=null),this._layoutChanged){this._creationCompleteDirty=this._layoutChanged=!1,this._resetVariables(),this._root&&(this._resetEffectAndInvalidate(),this._target.resetUserElement(),as.remove(this._root,!0)),t=this._chartParent=new N("div","Main"),t.setPercentWidth(100),t.setPercentHeight(100),t.setStyle("verticalGap",0),t.setStyle("horizontalGap",0),t.setStyle("verticalAlign","middle"),t.setStyle("horizontalAlign","center"),t.setVerticalScrollPolicy("off"),t.setHorizontalScrollPolicy("off"),this._createRoot(this._productParser),this._setupRootEventDispatching(),this._target.setTheme(this._themeName),qi.setStyle(this._root,"overflow",$i.overflow),qi.setStyle(this._root._contentPane,"overflowX",$i.overflow),qi.setStyle(this._root._contentPane,"overflowY",$i.overflow);try{window.MangoBoard||dTM(this._target.id)}catch(e){}}this._dataChanged&&this._target&&(this._target.removeEventListener("updateComplete",this._updateCompleteHandler,this),this._target.addEventListener("updateComplete",this._updateCompleteHandler,this),this._creationCompleteDirty&&this._chartSetData()),this._slideController&&this._slideController.setChart(this._target),!this._valuesMap.chartMenu&&!this._setChartMenuDirty||this._chartMenuDirty||(this._chartMenuDirty=!0,this._setChartMenuDirty=!1,this._createChartMenu(this._chartMenuData||window[this._valuesMap.chartMenu])),"true"==this._valuesMap.useDataEditor&&this._dataEditorLoad(),"true"==this._valuesMap.usePattern&&this._patternLoad()},Ri.prototype.updateDisplayList=function(t,e){var i,s,a,r=0;for(this._chartParent&&(Gs(this._chartParent,"overflow","visible"),Gs(this._chartParent._contentPane,"overflowX","visible"),Gs(this._chartParent._contentPane,"overflowY","visible")),Ri._super.updateDisplayList.call(this,t,e),this._slideController&&(r=this._slideController.getExplicitOrMeasuredHeight(),this.setChildIndex(this._slideController,this.getNumChildren()-1)),i=0,s=this.getNumChildren();i<s;i+=1)a=this.getChildAt(i),a instanceof m&&"ChartMenu"!=a.className&&(this._drillDownMenu&&a===this._drillDownMenu||-1<a.className.indexOf("Drill")?a.getParent().setChildIndex(a,a.getParent().getNumChildren()-1):(a.setActualSize(a.getWidth(),a.getHeight()-r),this._slideController&&this._slideController===a&&(a.move(0,e-r),a.setActualSize(t,r),!Os&&this.sizeChanged&&a.reCreateImage())));this._hasNoData&&(qi.popUp(this,this._hasNoData,"NoData"),this._hasNoData=void 0),this._root&&this._root._motionController&&(this._root.setChildIndex(this._root._motionController,this._root.getNumChildren()-1),this._root._motionController.callLater(function(){this.motionSeriesLabelUpdate(!0)})),this.sizeChanged=!1},Ri.prototype.setLayout=function(t){var e=this.selfElement||this;Ri._super.setLayout.call(e,t),e._slideController&&(e.removeChild(e._slideController),e._slideController=null)},Ri.prototype.setLayoutSlide=function(t){Ri._super.setLayout.call(this.selfElement||this,t)},Ri.prototype.setData=function(t){var e=this.selfElement?this.selfElement:this;1<arguments.length?e.addData(t):(e.dataSet=e._dataSetting(t),a(e.dataSet)&&(e.dataSet=e._convertToArray(e.dataSet)),e._pushDataIntoWrapper()),e._dataStack=null,e._dataStack=[t],e._removeDrillDown()},Ri.prototype.setDataURL=function(e){var i=this.selfElement?this.selfElement:this;1<arguments.length?i.addDataURLEx(e):(i.addLoadingBar(),i._targetData=null,i.dataSet=null,i.dataURL=e,i._dataURLInProcess=!0,t({url:e,onSuccess:function(t){i.dataSet=i._dataSetting(t),a(i.dataSet)&&(i.dataSet=i._convertToArray(i.dataSet)),i._pushDataIntoWrapper(),i._dataStack=null,i._dataStack=[i.dataSet],i._removeDrillDown(),i.removeLoadingBar()},onError:function(t){throw i.removeLoadingBar(),"XMLHttpRequest is failed to open the url, "+e+" : "+t}}))},q.prototype.addData=function(t){var e=this.selfElement?this.selfElement:this;e._target&&e._collection&&(t=e._dataSetting(t),a(t)&&(t=e._convertToArray(t)),e._collection.addAll(t),e._target instanceof st?(e._target.invalidateData(),e._target.updateMultipleAxesRenderers()):e._target.calcDataSelector())},q.prototype.addDataURLEx=function(e,i){i=!(1<arguments.length)||i;var s=this.selfElement?this.selfElement:this;i&&s.lastAddURL==e||(s.lastAddURL=e,s.addLoadingBar(),t({url:e,onSuccess:function(t){s.addData(t),s.removeLoadingBar()},onError:function(t){throw s.removeLoadingBar(),"XMLHttpRequest is failed to open the url, "+e+" : "+t}}))},Ri.prototype.getDrillDownDepth=function(){var t=this.selfElement||this;return 0<t._dataStack.length?t._dataStack.length-1:-1},Ri.prototype.setDataDrillDown=function(t,e){var i=this.selfElement?this.selfElement:this;i._data&&(null==t&&e?(i._dataStack.pop(),t=i._dataStack[i._dataStack.length-1]):i._dataStack.push(t),i.dataSet=i._dataSetting(t),i._pushDataIntoWrapper(),i._callDrillDown())},Ri.prototype.setDataDrillDownURL=function(e){var i=this.selfElement?this.selfElement:this;i._data&&(i.addLoadingBar(),t({url:e,onSuccess:function(t){t=i._dataSetting(t),a(t)&&(t=i._convertToArray(t)),i.dataSet=t,i._dataStack.push(i.dataSet),i._pushDataIntoWrapper(),i.removeLoadingBar(),i._callDrillDown()},onError:function(t){throw i.removeLoadingBar(),"XMLHttpRequest is failed to open the url, "+e+" : "+t}}))},Ri.prototype.setSlideLayout=function(t){var i=this.selfElement?this.selfElement:this;if(!e(t))throw"the parameter of setSlideLayout function must be Array";i._slideController||(i._slideController=new SlideController,i._slideController.target=i,i.addChild(i._slideController)),i._slideController.setSlideLayout(t)},Ri.prototype.setSlideData=function(t){var i=this.selfElement?this.selfElement:this;if(!e(t))throw"the parameter of setSlideData function must be Array";i._slideController||(i._slideController=new SlideController,i._slideController.target=i,i.addChild(i._slideController)),i._slideController.setSlideData(t)},Ri.prototype.getChartData=function(){return(this.selfElement?this.selfElement:this).getTargetData()},Ri.prototype.legendAllCheck=function(t){for(var e=0,i=this.selfElement._target.getAllSeries().length;e<i;e+=1)this.legendCheck(e,t)},Ri.prototype.legendCheck=function(t,e){this.selfElement._legend.legendItemIncludeChange(t,e)},Ri.prototype.getCSVData=function(t){var e,i,s,a,r,n=[];r={};var n="",o=(this.selfElement?this.selfElement:this).getTargetData();for(i=0,s=o.length;i<s;i+=1)for(a in e=o[i])r[a]||(r[a]=a.toString()),r[a]+=","+e[a];for(a in r)n+=r[a]+"\r\n";if("vertical"==t){for(t=[],n=n.split("\r\n"),i=0,s=n.length;i<s;i+=1)if(""!=n[i])for(e=n[i].split(","),a=0,r=e.length;a<r;a+=1)t[a]=t[a]?t[a]+(","+e[a]):e[a];n=t.join("\r\n")}return n},Ri.prototype.sliderPlay=function(){(this.selfElement||this)._root._motionController.play()},Ri.prototype.sliderPause=function(){(this.selfElement||this)._root._motionController.stop()},Ri.prototype.sliderReset=function(){(this.selfElement||this)._root._motionController.reset()},Ri.prototype.setChartMenu=function(t){var e=this.selfElement||this;e._setChartMenuDirty=!0,e._chartMenuDirty?e._createChartMenu(t):e._chartMenuData=t},Ri.prototype.updateCrossRange=function(t,e,i){var s,a,r,n,o=(this.selfElement||this).getTarget(),h=[],l=o.getDataRegion();for(n=o.getBackgroundElements().concat(o.getAnnotationElements()),s=0,a=n.length;s<a;s+=1)r=n[s],r instanceof ge&&h.push(r);if("restore"==t)for(s=0,a=h.length;s<a;s+=1)h[s]._resetZoom(null,!0);else for(r=Ks(o),o.mouseIsOut=!1,"mousemove"==t&&o._mouseOverHandler(""),o._mouseEventHandler({type:t,pageX:l.left+l.width*e+r.x,pageY:l.top+l.height*i+r.y,target:o.element}),s=0,a=h.length;s<a;s+=1)o=h[s],r=Ks(o),o._mouseEventHandler({pageX:o._unscaledWidth*e+r.x,pageY:o._unscaledHeight*i+r.y,type:t,which:1},!0)},Ri.prototype.hasNoData=function(t,e,i){var s=this.selfElement?this.selfElement:this;i=i?i:"Message",e=e?e:"No Data",t||s.clear(),t={width:180,height:90,borderStyle:"solid",borderWidth:1,borderColor:"#999999"},t.title={width:174,height:16,text:i,textAlign:"left",backgroundColor:"#454545",color:"#ffffff",padding:"1px 0px 0px 2px"},t.content={width:174,text:e,textAlign:"center",padding:"10px 0px 0px 0px"},t.button={width:174,text:"Ok"},s._hasNoData=t},Ri.prototype.showDataEditor=function(){var t=this.selfElement||this;try{t._dataEditor.visibleDataEditor(!0)}catch(e){throw"Not Supported DataEditor"}},Ri.prototype.hideDataEditor=function(){var t=this.selfElement||this;try{t._dataEditor.visibleDataEditor(!1)}catch(e){throw"Not Supported DataEditor"}},Ri.prototype.visibleItemSize=function(t){t=(this.selfElement||this)._target.getDataProvider(),t.getLength&&t.getLength()},Ri.prototype.changeScrollBarSize=function(t){ScrollBar.ARROW_SIZE=t.arrowSize||10,ScrollBar.SCROLL_HEIGHT=t.scrollHeight||10,ScrollBar.THUMB_HEIGHT=t.thumbHeight||10,ScrollBar.THUMB_MIN_SIZE=t.thumbMinSize||10},Ri.prototype.accessibilityPattern=function(t){var e,i;e=(this.selfElement||this)._target,e.renderingComplete&&(e instanceof st?e.setEnablePattern(t):Us("History|Dual",e.className)&&(i=e._displayerChart||e._mainChart,e=e._navigator||e._subChart,i.setEnablePattern(t),i.legendDataChanged(),e.setEnablePattern(t),e.legendDataChanged()))},Ri.prototype.setTheme=function(t,e){var i=this.selfElement||this;i._target?i._target.themeRunning||Ei(i,t,e):i._readyThemeOptions={themeName:t,forceTheme:e}},Ri.prototype.destroy=function(){var t=this.selfElement?this.selfElement:this;t._resetEffectAndInvalidate(),Ri._super.destroy.call(t),t._target=t._chartParent=t._legend=t._chartMenu=null,t._dataStack=[]},Ri.prototype.clear=function(){var t=this.selfElement?this.selfElement:this;t._resetEffectAndInvalidate(),Ri._super.clear.call(t),t._target=t._chartParent=t._legend=null,t._dataStack=[]},Ri.prototype.resize=function(){Ri._super.resize.call(this),(this.selfElement||this).sizeChanged=!0,this._legend&&!this._legend._invalidateSizeFlag&&(this._root.measuredMinWidth=this._chartParent.measuredMinWidth=0,this._legend.invalidateSize())},Ri.prototype.saveAsImage=function(t,e){var i;return i=this.selfElement?this.selfElement:this,t=t||"png",i=i.getSnapshot(t,e||1),"data:image/"+t+";base64,"+i},Ri.prototype.getSnapshot=function(t,e){function i(t,e){var s,o,h,l,u,p,f,g,m,_=t.element||t;o=Ks(t);var y=o.x*e,v=o.y*e,x=Xs(t,"overflowX"),b=Xs(t,"overflowY");for(o=0,h=_.childNodes.length;o<h;o+=1)if(l=_.childNodes[o],1!=l.nodeType||/DataTip|ChartMenu|Restore|Cross/.test(l.className)){if(3==l.nodeType){l=t,f=e,m=Ks(l),p=s=void 0,u=Xs(l,"textAlign"),g=(m.x-d)*f,m=(m.y-c)*f;var S=l.offsetWidth*f,C=l.offsetHeight*f;Ui.setFont(r,{fontStyle:Xs(l,"fontStyle"),fontWeight:Xs(l,"fontWeight"),fontFamily:Xs(l,"fontFamily"),fontSize:Js(l,"fontSize")*f+"px",textDecoration:Xs(l,"textDecoration"),color:Xs(l,"color"),lineHeight:Xs(l,"lineHeight")}),s=n.measureText(l.textContent).width,p=Js(l,"fontSize")*f,"center"==u?g+=.5*(S-s):"right"==u&&(g+=S-s),m+=.5*(C-p),n.save(),Ui.fillText(r,l.textContent,Math.floor(g),Math.floor(m)),n.restore()}}else"hidden"!=Xs(l,"visibility")&&"none"!=Xs(l,"display")&&(u=Ks(l),s=u.x*e,p=u.y*e,f=(u.x-d)*e,u=(u.y-c)*e,g=l.offsetWidth*e,m=l.offsetHeight*e,"visible"!=b&&(p<v||v+t.offsetHeight*e<p+m)||"visible"!=x&&(s<y||y+t.offsetWidth*e<s+g)||(s=l.nodeName,"CANVAS"==s||"IMG"==s?(n.globalAlpha=Js(l,"opacity"),n.drawImage(l,f,u,l.width*e/a||1,l.height*e/a||1),n.globalAlpha=1):(ts.drawFromHTML(n,l,new zi(f,u,g,m)),"DIV"==s||"SPAN"==s?0<l.childNodes.length&&i(l,e):"TABLE"==s||"THEAD"==s||"TBODY"==s||"TR"==s?i(l,e):"TH"!=s&&"TD"!=s||i(l,e))))}if(Os)throw"Unsupported";e=e||1;var s,a=Hs;s=this.selfElement||this;var r=document.createElement("canvas"),n=r.getContext("2d"),o=s.getWidth()*e,h=s.getHeight()*e,l=Ks(s),d=l.x,c=l.y;return s.getStyle("backgroundColor"),r.width=o,r.height=h,n.save(),n.imageSmoothingEnabled=!1,n.canvas.mozImageSmoothingEnabled=!1,n.oImageSmoothingEnabled=!1,n.webkitImageSmoothingEnabled=!1,n.msImageSmoothingEnabled=!1,ts.drawFromHTML(n,s.element,new zi(0,0,o,h)),i(s,e),s=r.toDataURL("image/"+(t||"png"),1),r=n=null,s.substr(s.indexOf(",")+1)},Ri.prototype.getSelectedChartItem=function(){return(this.selfElement||this).getTarget().getSelectedChartItem().item},Ri.prototype.getSelectedChartItems=function(){var t,e,i,s=[];for(i=(this.selfElement||this).getTarget().getSelectedChartItems(),t=0,e=i.length;t<e;t+=1)s.push(i[t].item);return s},Ri.prototype.setSelectedIndex=function(t,e){var i=this.selfElement||this,s=i.getTarget().getAllSeries()[t];s&&(s.setSelectedIndex(e),i._rootEventHandler({type:"click"}))},Ri.prototype.setSelectedIndices=function(t){var i,s,a,n,o,h=this.selfElement||this;if(i=h.getTarget(),!(1>t.length)&&(n=i.getAllSeries())){if(s=n.length,e(t)&&1<t.length)for(i=0;i<s;i+=1)(a=t[i])&&(o=n[a.index])&&o.setSelectedIndices(a.items);else if(r(t))for(i=t.index,s=t.length;i<s;i+=1)(o=n[i])&&o.setSelectedIndices(t.items);o&&h._rootEventHandler({type:"click"})}},Ri.prototype._dataEditorLoad=function(){var t,e=this;e._dataEditorLoaded||(e.addLoadingBar(),t=document.createElement("script"),t.type="text/javascript",t.onload=t.onreadystatechange=function(){(!this.readyState||"complete"!=this.readyState&&"loaded"!=this.readyState)&&this.readyState||(t.onload=t.onreadystateChange=null,e._dataEditorLoaded=!0,e.removeLoadingBar(),e._dataEditor._productName=e._productName,e._dataEditor.chartId=e._paramId,e._dataEditor.invalidateProperties())},t.src=window[e._productName].dataEditorUrl,document.getElementsByTagName("head")[0].appendChild(t))},Ri.prototype._patternLoad=function(){if(!this._patternLoaded){this.addLoadingBar(),this._patternLoadCount=0;var t,e,i=window[this._productName],s=i.patternImagesURL||i.patternImagesUrl;for(t=0;t<s.length;t+=1)e=document.createElement("img"),Zi.addEvent(e,"load",this._patternLoadHandler,this),e.src=(i.patternImageBaseURL||i.patternImageBaseUrl)+s[t],ws.addItem(e);this._patternLoaded=1}},Ri.prototype._patternLoadHandler=function(t){1!=this._patternLoaded||(!this.readyState||"complete"!=this.readyState&&"loaded"!=this.readyState)&&this.readyState||(this._patternLoadCount++,Zi.removeEvent(t.target,"load",this._patternLoadHandler,this),this._patternLoadCount==ws.getLength()&&(this.removeLoadingBar(),this._patternLoaded=2))},Ri.prototype._setupRootEventDispatching=function(){var t=this._root;this._rootEventInitialized||(t.addEvent("click",this._rootEventHandler,this,!0),this._rootEventInitialized=!0)},Ri.prototype._rootEventHandler=function(t){var e=this._root,i=this._target;switch(t.type){case"keydown":i._keyDownHandler.call(i,t);break;case"click":e.addEvent("keydown",this._rootEventHandler,this),e.addEvent("blur",this._rootEventHandler,this);break;case"blur":e.removeEvent("keydown",this._rootEventHandler,this),e.removeEvent("blur",this._rootEventHandler,this)}},Ri.prototype._cancelEffect=function(){var t,e,i=this._target;i&&(o(i.getDisplayerChart)?(t=i.getDisplayerChart(),e=i.getNavigator()):o(i.getMainChart)&&(t=i.getMainChart(),e=i.getSubChart()),t&&e?(t.cancelEffect(),e.cancelEffect()):i.cancelEffect())},Ri.prototype._resetInvalidate=function(t){for(var e,i=0,s=t.getNumChildren();i<s;i+=1)e=t.getChildAt(i),e instanceof _&&(e.getNumChildren()&&this._resetInvalidate(e),e.resetInvalidate())},Ri.prototype._resetEffectAndInvalidate=function(){this._root&&(this._cancelEffect(),this._resetInvalidate(this._root))},Ri.prototype._resetVariables=function(){this._chart=this._legend=this._httpService=this._motionController=this._slideLayout=this._slideData=this._dataEditor=null,this._creationCompleteDirty=this._dataEditorLoaded=this._rootEventInitialized=!1,this._patternLoaded=0},Ri.prototype._chartSetData=function(){var t,e,i,s=this.selfElement||this;if(t=s._target.className,"true"==s._valuesMap.usePattern&&2!=s._patternLoaded)setTimeout(function(){s._chartSetData.call(s)},10);else{if(s._readyThemeOptions&&(Ei(s,s._readyThemeOptions.themeName,s._readyThemeOptions.forceTheme),s._readyThemeOptions=void 0),a(s._data)&&(s._data=s._convertToArray(s._data)),s._creationCompleteDirty=!0,s._target.setDataProvider(s._data),s._dataChanged=!1,s._target.legend)if(-1<t.indexOf("Pie")||-1<t.indexOf("Overlay")||-1<t.indexOf("Pyramid")||-1<t.indexOf("ImageMatrix")){if(!s._target.renderingComplete)for(t=s._target.getSeries(),e=0,i=t.length;e<i;e+=1)t[e]._updateSeriesItemDelay=!0;s._target.callLater(s._target.legendDataChanged)}else s._target instanceof st&&s._target.legendDataChanged();s._collection=s._target.getDataProvider(),s._target.removeEventListener("creationComplete",s._updateCompleteHandler,s),!s._slideController||s._slideController.allCreateSlideImage()||Os||(s._target.enableDataEffect=!1),s._root._motionController&&(s._root.setStyle("verticalGap",10),s._root._motionController.setDataProvider(s._data)),s._dataEditor&&s._data&&(s._dataEditor.chart=s._target,s._dataEditor.setDataProvider(s._data.concat())),s._valuesMap.accessibility&&Ni(s,s._target)}},Ri.prototype._convertToArray=function(t){return e(t)?t:Xi.convertToArray(t,"item")},Ri.prototype._callDrillDown=function(){var t,e,i=this,s=function(t){t=i._target.dataRestoreCallFunction,this===n?i.setDataDrillDown(null,-1):(i.setData(i._dataStack[0]),i._callDrillDown()),t&&Ms.findFunction(t)(i.getDrillDownDepth())};t=i._dataStack.length;var a=i._drillDownMenu,r=i._drillDownFirstButton,n=i._drillDownBackButton;for(1<t&&(i._drillDownMenu||(i._drillDownMenu=new _("div","DrillDownMenu"),i.addChild(i._drillDownMenu)),i._drillDownMenu&&!i._drillDownBackButton&&(n=i._drillDownBackButton=new _("div","DrillDownBackButton"),n.addEvent("click",s,n),i._drillDownMenu.addChild(n),e=n.element,e.innerText=e.title=i.BackButtonText||"Back")),2<t&&!r?(r=i._drillDownFirstButton=new _("div","DrillDownFirstButton"),r.addEvent("click",s,r),i._drillDownMenu.addChildAt(r,0),e=r.element,e.innerText=e.title=i.ResetButtonText||"Reset"):2>=i._dataStack.length&&i._drillDownFirstButton&&(i._drillDownMenu.removeChild(r),i._drillDownFirstButton=null),1==t&&(i._drillDownBackButton&&i._drillDownBackButton.removeEvent("click",s,n),i.removeChild(a),i._drillDownMenu=i._drillDownBackButton=null),t=i._target.getBackgroundElements().concat(i._target.getAnnotationElements()),s=0;s<t.length;s+=1)e=t[s],e instanceof ge&&e.resetZoom()},Ri.prototype._removeDrillDown=function(){this._drillDownMenu&&(as.remove(this._drillDownMenu,!0),this._drillDownMenu=this._drillDownBackButton=this._drillDownFirstButton=null)},Ri.prototype._createChartMenu=function(t){var e,i,s,a,r,n,o,h,l=t.items;for(e=t.options,this._chartMenu&&(t=this._chartMenu,this.removeEvent("mouseover",this._chartMenuEventHandler,this),t.removeEvent("mouseover",this._chartMenuEventHandler,t),t.removeEvent("mouseout",this._chartMenuEventHandler,t),t.removeEvent("click",this._chartMenuEventHandler,t),this.removeChild(this._chartMenu)),t=this._chartMenu=new _("div","ChartMenu"),this.addChild(t),e&&(n=e.textField||null,o=e.iconField||null,h=e.callbackField||null),e=0,i=l.length;e<i;e+=1)a=l[e],s=new m("div","ChartMenuItem"),r="",o&&(r="<img class='Kool__ChartMenuItem_Img' src='"+a[o]+"'/>"),n&&(r+=a[n]),h&&(s.callback=a[h]),s.element.innerHTML=r,t.addChild(s);this.addEvent("mouseover",this._chartMenuEventHandler,this),t.addEvent("mouseover",this._chartMenuEventHandler,t),t.addEvent("mouseout",this._chartMenuEventHandler,t),t.addEvent("click",this._chartMenuEventHandler,t)},Ri.prototype._chartMenuEventHandler=function(t){var e=qi,i=t.target,s=this.element,a=e.addClass,e=e.removeClass;switch(t.type){case"mouseover":this instanceof Ri?(a(this._chartMenu,"Kool__chart_menu_hover"),this.addEvent("mouseout",this._chartMenuEventHandler,this,!0)):a(s,"Kool__chart_menu_expand");break;case"mouseout":this instanceof Ri?(e(this._chartMenu,"Kool__chart_menu_hover"),this.removeEvent("mouseout",this._chartMenuEventHandler,this,!0)):e(s,"Kool__chart_menu_expand");break;case"click":t=i.selfElement,"Kool__ChartMenuItem"==i.className&&t.callback&&o(t.callback)&&t.callback()}},Ri.prototype._targetCreationCompleteHandler=function(t){this._target===t.target.selfElement&&(this._chartSetData(),this._showWrapper())},Ri.prototype._showWrapper=function(){this.callLater(function(){qi.clearStyle(this.element,"visibility")})},Ri.prototype._hideWrapper=function(){this._inLoadingBarCount||qi.setStyle(this,"visibility","hidden")},Ri.prototype._creationCompleteHandler=function(t){this.removeEventListener("creationComplete",this._creationCompleteHandler,this),this._eventDelayDispatcher(new cs("layoutComplete"))},os.addClassMap(Is)}();var ReplacementFor_dtmInterval;