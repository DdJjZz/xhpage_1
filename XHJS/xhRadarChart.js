function ReplacementFor_setP2(t,e,i){if(!t.hasOwnProperty(e)){var n=t[i];t[e]=n,t[i]=null}}function dTM(t){null!=t&&(ReplacementFor_tm(t),ReplacementFor_dtmInterval=setInterval(function(){ReplacementFor_tm(t)},6e4))}function ReplacementFor_setP(t,e){t.hasOwnProperty(e)||(t[e]=Object)}function ReplacementFor_tm(t){function e(t){return t=t.firstChild,null!=t&&1!=t.nodeType?i(t):t}function i(t){do t=t.ReplacementFor_nexSibling;while(null!=t&&1!=t.nodeType);return t}var n=document.getElementById(t);if(!n)return void clearInterval(ReplacementFor_dtmInterval);var s,r,a=[],o=n.getElementsByTagName("div"),l=new RegExp("KoolChart__TrialMarkBox"),h=Math.round(100*Math.random())*(new Date).getMilliseconds();for(s=0,r=o.length;s<r;s+=1)l.test(o[s].className)&&a.push(o[s]);if(o=l=null,a.length>0){for(s=0,r=a.length;s<r;s+=1)try{n.removeChild(a[s])}catch(d){}a=null}var c,u,p,g,f,m,_,y,v=document.createElement("div"),S=e(n),C=window.KoolChart.grr(),b=window.KoolChart.gue();null==S||n.insertBefore(v,S),v.className="KoolChart__TrialMarkBox_"+h,v.style.position="absolute",v.style.width="100%",v.style.overflow="hidden",v.style.height="0px",v.style.zIndex=1,v.style.left="0px",v.style.top="10px",v.style.zIndex=1,f=document.createElement("canvas"),b&&(f=window.G_vmlCanvasManager.initElement(f)),f.onclick=function(){window.open("http://www.koolchart.com","_blank")},p=69,g=16,c=p*C,u=g*C,f.className="KoolChart__LeftTrialMark_"+h,f.width=c,f.height=u,f.style.width=p+"px",f.style.height=g+"px",f.style.position="absolute",f.style.left="10px",f.style.cursor="pointer",m=f.getContext("2d"),m.scale(C,C),b&&m.fillText("",0,0),m.textAlign="center",m.ReplacementFor_textBaseline="middle",m.fillStyle="#2b2b29",m.font="normal normal bold 10px 'verdana'",m.fillText("KoolChart",34,8),_=document.createElement("canvas"),b&&(_=window.G_vmlCanvasManager.initElement(_)),_.onclick=function(){window.open("http://www.koolchart.com","_blank")},_.className="KoolChart__RightTrialMark_"+h,_.width=c,_.height=u,_.style.width=p+"px",_.style.height=g+"px",_.style.position="absolute",_.style.right="10px",_.style.cursor="pointer",y=_.getContext("2d"),y.scale(C,C),y.textAlign="center",y.ReplacementFor_textBaseline="middle",y.fillStyle="#2b2b29",y.font="normal normal bold 10px 'verdana'",y.fillText("Trial Version",34,8)}function abss(t){ReplacementFor_setP(t,"GradientEntry"),ReplacementFor_setP2(t,"SeriesInterpolate","ChartInterpolate"),ReplacementFor_setP2(t,"SeriesClip","ChartClip"),ReplacementFor_setP2(t,"SeriesSlide","ChartSlide"),ReplacementFor_setP2(t,"SeriesZoom","ChartZoom"),ReplacementFor_setP2(t,"SolidColor","SolidColorColor"),ReplacementFor_setP2(t,"Stroke","SolidColorStroke"),ReplacementFor_setP2(t,"NumberFormatter","NumberParser"),ReplacementFor_setP2(t,"Column2DSeries","Circle2DSeries"),ReplacementFor_setP2(t,"Column3DSeries","Circle3DSeries")}function gls(){return eval("window.KoolChartLicense;")}!function(){function t(t){var e=t.target?t.target:null,i=t.currentTarget?t.currentTarget:null;t={type:t.type||"GET",url:t.url||"",timeout:t.timeout||3e4,dataType:t.dataType||"",onError:t.onError||function(){},onSuccess:t.onSuccess||function(){},data:t.data||""};var n;try{n=location.href}catch(s){n=document.createElement("a"),n.href="",n=n.href}n=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/.exec(n.toLowerCase())||[];var r,a=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(n[1]),o=["MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];if("ActiveXObject"in window&&a&&(r=new ActiveXObject("Microsoft.XMLHTTP")),!r)try{r=new XMLHttpRequest}catch(s){for(n=0;n<o.length;n++)try{r=new ActiveXObject(o[n]);break}catch(l){}}var d=!1;setTimeout(function(){d=!0},t.timeout),r.onreadystatechange=function(){if(4==r.readyState&&!d){var n={};e&&(n.target=e),i&&(n.currentTarget=i);var s;t:{var o=r;try{s=!o.status&&a||200<=o.status&&300>o.status||304==o.status||0<=navigator.userAgent.indexOf("Safari")&&h(o.status);break t}catch(l){}s=!1}s?(s=(s=r.getResponseHeader("content-type"))&&0<=s.indexOf("xml")?/msie/i.test(navigator.userAgent)&&!window.opera&&void 0!==r.responseXML.xml?we.parse(r.responseXML.xml):r.responseXML:r.responseText,t.onSuccess(s,n)):t.onError(r.status,n),r=null}};try{if(r.open(t.type,t.url,!0),t.type.match(/post|POST/)){r.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8");var c,u;if(t.dataType.match(/json|JSON/)){u=[];for(c in t.data)u[u.length]=encodeURIComponent(c)+"="+encodeURIComponent(t.data[c]);u=u.join("&").replace(/%20/g,"+")}else u=t.data;r.send(u)}else r.send()}catch(s){t.onError(s.message)}}function e(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){return"string"==typeof t}function n(t){return!!(t=t&&(t.ownerDocument||t).documentElement)&&"HTML"!==t.nodeName}function s(t){return null!=t&&"object"==typeof t}function r(t){return"number"==typeof t}function a(t){return"[object Function]"===Object.prototype.toString.call(t)}function o(t){return isNaN(t)||"number"!=typeof t}function l(t){return"undefined"==typeof t}function h(t){return null==t||"undefined"==typeof t}function d(t){return t instanceof Date&&!isNaN(t.valueOf())}function c(t,e){if(!t||!e)return null;if(t.hasOwnProperty(e))return t[e];var i=e.substr(0,1);return/[A-Z]/.test(i)?null:(i="get"+i.toUpperCase()+e.substr(1),a(t[i])?t[i]():null)}function u(t,e){if(!t||!e)return!1;if(t.hasOwnProperty(e))return!0;var i=e.substr(0,1);return!/[A-Z]/.test(i)&&!!a(t["get"+i.toUpperCase()+e.substr(1)])}function p(t,e,i){if(t&&e)if(t.hasOwnProperty(e))t[e]=i;else{var n=e.substr(0,1);/[A-Z]/.test(n)||(n="set"+n.toUpperCase()+e.substr(1),a(t[n])?t[n](i):t[e]=i)}}function g(t,e,i){_e.call(this),this.className=t?t:this.className?this.className:"CSSStyleDeclaration",this.name=this.className+this.uno,this.id=null,this._sheetIdx=-1,this._findCSS=1<arguments.length?e:"Kool__",this._cssName=2<arguments.length?i?"Kool__"+this.name:t?t:this.className:"Kool__"+this.name,this._styles={},this._createRules()}function f(t,e){_e.call(this),this._useBorderBox=!1,this.element=t?t:this.element?this.element:"div",this.className=e?e:this.className?this.className:"HTMLObject",this.name=this.className+this.uno,this._visible=this._enabled=!0,this._createElement()}function m(t,e){this.element=t?t:this.element?this.element:"div",this.className=e?e:this.className?this.className:"LayoutManagerClient",f.call(this,this.element,this.className),this.id=null,this.uid=Te.createUID(),this._unscaledHeight=this._unscaledWidth=this.measuredHeight=this.measuredWidth=this.measuredMinHeight=this.measuredMinWidth=0,this._useDelayInvalidate=this._runInvalidateDisplayListFlag=this._runInvalidateSizeFlag=this._runInvalidatePropertiesFlag=this._updateCompletePendingFlag=this._invalidateDisplayListFlag=this._invalidateSizeFlag=this._invalidatePropertiesFlag=!1,this._includeInLayout=!0,this._processedDescriptors=this._initialized=!1,this._updateDisplayListCallCount=this._measureCallCount=this._commitPropertiesCallCount=this._nestLevel=0,this._methodQueue=[],this._listeningForRender=!1,this._oldExplicitHeight=this._oldExplicitWidth=this._oldMinHeight=this._oldMinWidth=NaN,this._effectsStarted=[],this._affectedProperties={},this._preventDrawFocus=this._isEffectStarted=!1,this._endingEffectInstances=[],this._frameCallLater=new x}function _(t,e){this.element=t?t:this.element?this.element:"div",this.className=e?e:this.className?this.className:"UIElement",m.call(this,this.element,this.className),this._unscaledHeight=this._unscaledWidth=0,this._styles={},this._explicitMaxHeight=this._explicitMaxWidth=this._explicitMinHeight=this._explicitMinWidth=this._explicitHeight=this._explicitWidth=NaN,this._errorString="",this._errorStringChanged=!1,this._errorColor="#FF0000",this._errorWidth="1px",this._saveOutlineColor=!0,this._doubleClickEnabled=!1}function y(t){this.element=this.element?this.element:"span",this.className=t?t:this.className?this.className:"UITextField",_.call(this,this.element,this.className),this.ignorePadding=!0,this._offsetHeight=this._offsetWidth=NaN,this._wordWrapChanged=this._wordWrap=this._multilineChanged=this._multiline=!1,this._text="",this._textChanged=!1}function v(t){m.call(this,v.graphicTag||"canvas",t||"UICanvas"),this.userVisible=this._useDelayInvalidate=!0,this._styles={textAlign:"center"}}function S(t,e,i,n,s){this.doNotFloor=s,this.doNotFloor||(t=Math.floor(t),e=Math.floor(e),i=Math.floor(i),n=Math.floor(n)),this.x=this.left=t?t:0,this.y=this.top=e?e:0,this.width=i?i:0,this.height=n?n:0,this.right=this.left+this.width,this.bottom=this.top+this.height}function C(t){this._owner=t}function b(t,e){this.element=t?t:this.element?this.element:"div",this.className=e?e:this.className?this.className:"Container",_.call(this,this.element,this.className),this._useDelayInvalidate=!0,this._numChildrenCreated=this.element.tabIndex=-1,this._oldScrollLeft=this._oldScrollTop=this._firstChildIndex=this._numChildren=0,this._doingLayout=this._forceLayout=!1,this._horizontalScrollPolicy=this._verticalScrollPolicy="auto",this._verticalScrollBarExist=this._horizontalScrollBarExist=!1,this._label="",this._clickFocused=!1,this._autoLayout=!0,this._contentPane=new f("div","ContentPane"),this._contentPane.setStyle("overflowX","auto"),this._contentPane.setStyle("overflowY","auto"),this._contentPane.setStyle("position",Le.ie9?"relative":"absolute"),this._contentPane.setVisibility(!1),this.getRawChildren().addChild(this._contentPane),this._contentPane.addEvent("scroll",this._scrollHandler,this)}function x(t,e){var i=this;i._context=t,i._callbackHandler=e,i._stopped=!1,i._timer=null,i._frameHandler=function(){i._stopped||(i._callbackHandler(),i.start())}}function w(t,e,i){this.className="Stroke",this.id=null,this.color=t,this.alpha=o(i)?1:i,this.weight=o(e)?1:e,this.caps="miter"}function T(t,e){this.className="SolidColor",this.id=null,this.color=t||"#000000",this.alpha=o(e)?1:e}function D(){this.className="GradientEntry",this.color="#000000",this.ratio=0,this.alpha=1,this._entries=[]}function M(){this.className="LinearGradient",this.angle=0,this._entries=[]}function I(){this.className="RadialGradient",this.angle=this.focalPointRatio=0,this._entries=[]}function E(){var t=this;t.graphicIndex=0,"undefined"==typeof E.elements&&(E.elements={},E.free={}),t.getElement=function(e){var i,n;if(n=!0,Le.ie8H)for(var s in E.elements)if(E.free[s]){n=!1,i=E.elements[s],i.style.visibility="",i.style.display="block",E.free[s]=!1;break}return n&&("svg"==e&&window.SVGCanvas?(n=new window.SVGCanvas(1,1),i=n.svg.svgElement,i.svgContext=n):i=document.createElement(e),i.graphicIndex=t.graphicIndex,E.elements[t.graphicIndex]=i,E.free[t.graphicIndex]=!1,t.graphicIndex++),"canvas"==e.toLowerCase()&&Le.ie8L&&(i=window.G_vmlCanvasManager.initElement(i)),Ee.setStyle(i,"position","absolute"),i},t.initElement=function(t){return Le.ie8L?window.G_vmlCanvasManager.initElement(t):t},t.freeAllElements=function(e){var i=e.element.getElementsByTagName("canvas");for(e=i.length-1;-1<e;--e)0>i[e].className.indexOf("Trial")&&t.freeElement(i[e])},t.freeElement=function(t){var e,i=t.graphicIndex;e=Ee.clearStyle,l(i)||(Le.ie8L?E.elements[i]=null:(e(t,"left"),e(t,"top"),e(t,"fontSize"),e(t,"fontStyle"),e(t,"textAlign"),e(t,"fontFamily"),e(t,"color"),e(t,"fontWeight"),e(t,"lineHeight"),e(t,"letterSpacing"),e(t,"textDecoration"),a(t.getContext)&&(e=t.getContext("2d"),t.width=0,t.height=0,e.rotate(0),e.scale(1,1),e.translate(0,0),e.clearRect(0,0,t.width,t.height)),t.style.width="0px",t.style.height="0px",t.className="",E.free[i]=!0,t.selfElement?(t.selfElement.getParent()&&t.selfElement.getParent().removeChild(t.selfElement),t.selfElement.resetInvalidate(),t.selfElement.element=null,t.selfElement=null):t.parentNode&&t.parentNode.removeChild(t),t.owner&&t.owner.selfElement&&(t.owner.selfElement=null,t.owner=null)))}}function P(){_e.call(this)}function L(t,e,i,n){Ue.call(this,t,e,i),this.effectInstance=n}function N(){this.direction="vertical"}function A(t,e){this.element=t?t:this.element?this.element:"div",this.className=e?e:this.className?this.className:"Box",b.call(this,this.element,this.className),this._layoutObject=new N,this._layoutObject.setTarget(this)}function R(t){b.call(this,"div",t?t:"Tile"),this._direction="horizontal",this._tileHeight=this._tileWidth=NaN}function F(){this.element=this.element?this.element:"div",this.className=this.className?this.className:"Label",_.call(this,this.element,this.className),this._textChanged=!1}function k(t,e){this.RESULT_FORMAT_E4X="e4x",this.RESULT_FORMAT_FLASHVARS="flashvars",this.RESULT_FORMAT_OBJECT="object",this.RESULT_FORMAT_ARRAY="array",this.RESULT_FORMAT_TEXT="text",this.RESULT_FORMAT_XML="xml",this.CONTENT_TYPE_XML="application/xml",this.CONTENT_TYPE_FORM="application/x-www-form-urlencoded",this.ERROR_URL_REQUIRED="Client.URLRequired",this.ERROR_DECODING="Client.CouldNotDecode",this.ERROR_ENCODING="Client.CouldNotEncode",this.name=e,this._multiService=t,this.method=void 0,this.name=this.url="",this._service=t,this.useProxy=!1,this.concurrency=H.MULTIPLE,this.resultFormat=this.RESULT_FORMAT_OBJECT,this.contentType=this.CONTENT_TYPE_FORM,this.rootURL=""}function H(){this.LAST="last",this.MULTIPLE="multiple",this.SINGLE="single"}function O(t){_e.call(this),this.baseURL=t,this.makeObjectsBindable=!0,this.targetController=null,this.showAlertMessage=!0,this.currentCount=0,this.requestTimeout=30,this._timerInitFlag=!1,this._rpcList=[],this._rpcListChange=!1,this.TIMER_COUNT_MAX=86400}function W(t){_e.call(this),this._delayElapsedTime=this._delayStartTime=0,this._hideOnEffectEnd=this._durationExplicitlySet=!1,this._playCount=0,this._stopRepeat=!1,this._duration=800,this._startDelay=this._repeatDelay=this._repeatCount=0,this._suspendBackgroundProcessing=!1,this._target=t}function z(t,i,n,s,r,a,l){_e.call(this),t&&(void 0==s&&(s=-1),void 0==r&&(r=-1),this.listener=t,this._startValue=i,this._endValue=n,o(s)||-1==s||(this.duration=s),o(r)||-1==r||(this._maxDelay=1e3/r),this._updateFunction=a,this._endFunction=l,this._tempDuration=s,this._needToLayout=!1,this._maxDelay=87.5,this._doSeek=!1,this._isPlaying=!0,this._doReverse=!1,this._userEquation=this._defaultEasingFunction,this._started=!1,this._playheadTime=0,this._invertValues=!1,e(i)&&(this._arrayMode=!0),this._tempDuration?z.addTween(this):(this._id=-1,this.endTween()))}function B(t){_e.call(this),this.instanceClass=W,this.repeatCount=1,this.startDelay=this.repeatDelay=0,this._instances=[],this._isPaused=this._callValidateNow=!1,this._applyActualDimensions=!0,this._duration=800,this._hideFocusRing=this._endValuesCaptured=this._durationExplicitlySet=!1,this._perElementOffset=0,this._relevantStyles=[],this._targets=[],this._targets[0]=t}function V(t){B.call(this,t),this.instanceClass=X,this.easingFunction=null}function U(t){void 0==t&&(t=null),B.call(this,t),this.instanceClass=j,this.children=[]}function G(t){void 0==t&&(t=null),U.call(this,t),this.instanceClass=K}function Y(t){this.target=t,this.end={},this.start={}}function X(t){W.call(this,t),this.easingFunction=this.easingJsFunction=this.tween=null,this._needToLayout=!1,this._seekTime=0}function j(t){W.call(this,t),this._activeEffectQueue=[],this._playheadTime=0,this._childSets=[]}function K(t){j.call(this,t),this._isReversed=!1}function J(){var t=Me,e=Ne;this.fill=this.stroke=this.graphics=this.pattern=this.data=null,this.color2rgba=t.color2rgba,this.bright=t.adjustBrightness,this.drawArc=e.drawArc,this.arc=e.arc,this.drawLine=e.drawPolyLine,this.drawEllipse=e.drawEllipse,this.createPattern=e.createPattern,this.begin=e.begin,this._offset=0}function Q(t,e,i,n,s){t&&e&&(_.call(this,"div","Root"),this._useDelayInvalidate=!0,this.dataURL=this.layoutURL=null,this._dataURLInProcess=!1,this.BIX5OnLoadCallFunction=this.KoolOnLoadCallFunction=null,this.removeAllData=!1,this.showLoadingBar=!0,this.dataType="json",this._componentIds={},this._layoutChanged=this._dataChanged=!1,this._inLoadingBarCount=0,this._systemManager=We.getInstance(),this._paramId=t,this._paramTarget=e,this._jsVars=i,h(n)?this._paramWidth="100%":this._paramWidth=n,h(s)?this._paramHeight="100%":this._paramHeight=s,this.addEventListener("creationComplete",this._creationCompleteHandler,this))}function q(t){var e=this.selfElement||this;if(!e._dblKeyHandlerDirty){var i=function(t){var n="",n=window.event?t.keyCode:t.which;if("keydown"===t.type)if(t=window[e._productName],191===n&&e._clickedCtrl){Pe.documentRemoveEvent("keydown",i,e),Pe.documentRemoveEvent("keyup",i,e),e._dblKeyHandlerDirty=!1,e._clickedCtrl=!1,n="Version : PR "+t.version+" Trial<br>Release : 2018/08/06",t={borderStyle:"solid",borderWidth:1,borderColor:"#000"};var s=document.createElement("textarea");s.style.overflow="hidden",s.style.width=s.style.height="10px",s.innerHTML=e._layout+"\n"+(l(window.JSON)?"":window.JSON.stringify(e._data)),n+="<br>"+s.outerHTML,t.content={fontFamily:"arial",fontSize:"10px",text:n},t.button={fontFamily:"arial",fontSize:"10px",text:"Close"},Ee.popUp(e,t,"Information"),alert(window[e._productName+"License"])}else 17===n?e._clickedCtrl=!0:(Pe.documentRemoveEvent("keydown",i,e),Pe.documentRemoveEvent("keyup",i,e),e._dblKeyHandlerDirty=!1,e._clickedCtrl=!1);else"keyup"===t.type&&(Pe.documentRemoveEvent("keydown",i,e),Pe.documentRemoveEvent("keyup",i,e),e._dblKeyHandlerDirty=!1,e._clickedCtrl=!1)};Pe.documentAddEvent("keydown",i,e),Pe.documentAddEvent("keyup",i,e),e._dblKeyHandlerDirty=!0}}function $(t){return i(t)?document.getElementById(t):t}function Z(){this._wrapper=0<arguments.length?arguments[0]:null,this._name=1<arguments.length?arguments[1]:"",this._csses={},this._systemManager=We.getInstance()}function tt(){}function et(t,e,i){this.value=t?t:0,this.lowerMargin=e?e:0,this.upperMargin=i?i:0}function it(t){var e=this;_.call(e,"div",t?t:"ChartBase"),e._useDelayInvalidate=!0,e.id="",e._width=NaN,e._height=NaN,e._series=[],e._backgroundElements=[],e._annotationElements=[],e.dataTipDisplayMode="none",e.showDataTipMarker=!0,e.dataTipOrder="normal",e.dataTipMode="multiple",e.mouseSensitivity=0,e.axisMouseSensitivity=1,e.buttonMode=!1,e.showDataTipTargetsLine=!1,e.doubleClickEnabled=!1,e.dataTipJsFunction=null,e.axisDataTipJsFunction=null,e.axisClickJsFunction=null,e.itemClickJsFunction=null,e.itemDoubleClickJsFunction=null,e.itemDownJsFunction=null,e.itemUpJsFunction=null,e.displayCompleteCallFunction=null,e.displayUpdateCallFunction=null,e.dataRestoreCallFunction=null,e.itemOverJsFunction=null,e.itemOutJsFunction=null,e.itemMoveJsFunction=null,e.chartClickJsFunction=null,e.chartDoubleClickJsFunction=null,e.chartOverJsFunction=null,e.chartOutJsFunction=null,e._mouseIsOut=!0,e.renderingComplete=!1,e.touchMoveEnable=!0,e.lazyJsFunction=null,e._themeName="",e._forceTheme=!1,e.showHorizontalAxisDataTip=!1,e.showVerticalAxisDataTip=!1,e.touchOffset=0,e._lazyScroll=-1,e._percentWidth=100,e._percentHeight=100,e._transitionState=0,e._transitionEffect=null,e.gutterLeft=NaN,e.gutterRight=NaN,e.gutterTop=NaN,e.gutterBottom=NaN,e.calloutStroke=null,e.maximumDataTipCount=NaN,e.showDataTipTargets=!1,e.horizontalDataTipOffset=6,e.dataTipBackgroundColorOnSeries=!1,e.dataTipBorderWidth=NaN,e.dataTipBorderRadius=NaN,e.dataTipBorderStyle="",e.dataTipBorderColorOnSeries=!0,e.dataTipBorderColor="",e.dataTipFontColorOnSeries=!1,e.axisDataTipBorderWidth=NaN,e.axisDataTipBorderStyle=NaN,e.axisDataTipBorderRadius=NaN,e.axisDataTipBorderColor="",e.hideToolTipAtTouchEnd=!1,e._childOrderDirty=!1,e.dataTipFormatter=new qe,e.dataTipFormatter.rounding="nearest",e.dataTipFormatter.precision=0,e.enableDataEffect=!0,e.originalSeriesEffectCache=[],e.originalSeriesEffectCacheDirty=!1,e.allElements=[],e._tipCache=[],e._axisDataTipCache={h:[],v:[]},e._currentHitSet=[],e._commitPropertiesCalled=!1,e._bSeriesDirty=!0,e._seriesStylesDirty=!0,e._bDataDirty=!0,e._mouseEventsInitialized=!1,e._dataTipOverlayCreated=!1,e._showDataTips=!1,e._userSeries=[],e._enablePattern=!1,e._patternMode=!1,e._selectionMode="single",e._selectedSeries=null,e._caretItem=null,e._anchorItem=null,e._systemManager=We.getInstance(),e._dataProvider=null,e._seriesStartIndex=0,e._removeTipCacheTimeout=null,e._removeTipAxisCacheTimeout=null,e._chartColors=[],e._userDefineCache={},e._userDefineDirty=!1,e._selectionCanvases=null,e._rangeItemRenderer=null,e._dataRegionForRange=null,e._dragEnabled=!1,e.invalidateChildOrder(),e.clear=function(){function t(e){var i,n;if(i=e.getNumChildren(),0<i)for(--i;-1<i;--i)(n=e.getChildAt(i))&&(n instanceof it&&n.removeEffect(),n instanceof _&&t(n),n.getParent()&&(n.elementWrapDiv?e.removeChild(n.parentNode):e.removeChild(n)))}var i=e.root;e.resetMouseDispatching(),E&&E.getInstance().freeAllElements(e),ke.remove(e),t(i),bi(i._contentPane,"visibility","hidden"),i.chart=i.main=i.Caption=i.SubCaption=i.Legend=i.DataEditor=null}}function nt(){f.call(this,"div","RangeSelector")}function st(t,e,i,n,s){Ue.call(this,t,n,s),this.regionSelected=e,this.mouseEvent=i}function rt(t,e,i,n,s,r){this.tip=t,this.hd=e,this.x=i,this.y=n,this.gx=s,this.gy=r,this.width=t.offsetWidth,this.height=t.offsetHeight}function at(t,e){for(;0<t.length;){var i=t[t.length-1];if(i.gy+i.height<e.gy)break;i.merge(e,screen.height),e=t.pop()}t.push(e)}function ot(){this.tips=[],this.merge=function(t,e){var i=t.gy+t.height-this.gy;this.tips=this.tips.concat(t.tips),this.gy=Math.max(0,this.gy-(this.gy+this.height-t.gy)/2),this.gy+i>e&&(this.gy=Math.max(0,e-i)),this.height=i},this.addTip=function(t,e){this.tips.push(t),1==this.tips.length?(this.gy=t.py,this.height=t.height):2==this.tips.length?(this.height+=t.height,this.gy=Math.min(e-this.height,Math.max(0,(this.tips[0].gy+this.tips[1].gy)/2)-this.height/2)):(this.height+=t.height,this.gy=Math.min(e-this.height,Math.max(0,((this.gy+this.height/2)*(this.tips.length-1)+t.gy)/this.tips.length-this.height/2)))},this.positionY=function(){var t,e,i=0>this.gy?0:this.gy;for(t=0;t<this.tips.length;t++)e=this.tips[t],e.py=i,i+=e.height}}function lt(t,e,i){_e.call(this),this.element=t,this.item={},this.index=i,this.itemRenderer=void 0,this._currentState=Ri,s(e)?Ee.extend(this.item,e):this.item=e}function ht(t){v.call(this,t?t:"ChartElement"),this.id="",this._userDataProvider=this._dataTransform=this._chart=null}function dt(){}function ct(){}function ut(){this.disabledRangeSet=[],this.disabledDaySet=[],this.disabledDayDifference=0,this.begin=!0,this.DAYS_IN_WEEK=7,this.MILLISECONDS_IN_MINUTE=6e4,this.MILLISECONDS_IN_HOUR=36e5,this.MILLISECONDS_IN_DAY=864e5,this.MILLISECONDS_IN_WEEK=6048e5,this.MILLISECONDS_IN_MONTH=2592e6,this.MILLISECONDS_IN_YEAR=31536e6}function pt(t,e){this.rangeStart=t,this.rangeEnd=e}function gt(t,e,i,n,s,r){this.id=t,this.x=i,this.y=n,this.distance=e,this.chartItem=s,this.item=s.item,this.isHit=!!l(r)||r,this.getDisplayText=function(){return this.dataTipFunction.call(this.chartItem.element,this)}}function ft(){}function mt(){_e.call(this),this.axes={},this.elements=[]}function _t(){mt.call(this)}function yt(t,e){this.cache=t?t:null,this.filteredCache=e?e:null}function vt(t){_e.call(this),this.id="",this.labelJsFunction=null,this.displayName="",this.unitSize=1,this.title="",this.formatter=null,this._transforms=[],this.className=t}function St(t,e,i){this.position=t,this.value=e,this.text=i+""}function Ct(){this.accurate=!1,this.labels=[],this.minorTicks=[],this.ticks=[]}function bt(t){vt.call(this,t?t:"NumericAxis"),this.baseAtZero=this.autoAdjust=!0,this.padding=0,this.computedMinimum=this.computedMaximum=this.computedInterval=this.assignedMinimum=this.assignedMaximum=NaN,this.labelCache=null,this.labelMinimum=this.labelMaximum=NaN,this.minorTickCache=[],this.requiredDescribedFields=ct.REQUIRED_MIN_MAX|ct.REQUIRED_BOUNDED_VALUES,this._labelSet=[],this._cachedValuesHaveBounds=!1,this._regenerateAutoValues=!0,this._maximumLabelPadding=NaN,this._direction="normal",this._maximum=this._minimum=NaN,this.guardMinMax=function(t,e){return t==e&&0!=t?[t-1,e+1]:o(t)||!isFinite(t)?[0,100]:o(e)||!isFinite(e)?[t,t+100]:null},this.zeroValue=function(){return 0}}function xt(t){bt.call(this,t||"LinearAxis"),this.ticksBetweenLabels=!1,this.alignLabelsToInterval=!0,this._actualAssignedMinimum=this._actualAssignedMaximum=NaN}function wt(t){bt.call(this,t?t:"LogAxis"),this.computedInterval=1,this.formatter=null}function Tt(t){vt.call(this,t||"CategoryAxis"),this.ticksBetweenLabels=!1,this.categoryField="",this.groupLabelJsFunction=this.labelFunction=null,this.padding=.5,this._minimum=this._maximum=NaN,this.formatter=null,this.groupCategoryField="groupCategory",this._categoryValues=[],this._cachedTicks=this._cachedMinorTicks=this._labelsMatchToCategoryValuesByIndex=this._groupCategoryValues=null,this.setGroupCategoryValues=function(t){this._groupCategoryValues=t},this.getGroupCategoryValues=function(){return this._groupCategoryValues},this.getCategoryValues=function(){return this._categoryValues},this.getCategoryByIndex=function(t){return 0>t||t>=this._categoryValues.length||null==this._categoryValues[t]?"":this._categoryValues[t]},this.getDirection=function(){return""}}function Dt(t){bt.call(this,t?t:"DateTimeAxis"),this.autoAdjust=this.baseAtZero=!1,this.formatter=null,this.updatePropertyAccessors(),this.MILLISECONDS_IN_MINUTE=6e4,this.MILLISECONDS_IN_HOUR=36e5,this.MILLISECONDS_IN_DAY=864e5,this.MILLISECONDS_IN_WEEK=6048e5,this.MILLISECONDS_IN_MONTH=2592e6,this.MILLISECONDS_IN_YEAR=31536e6,this.MINIMUM_LABEL_COUNT=2,this.UNIT_PROGRESSION={milliseconds:null,seconds:"milliseconds",minutes:"seconds",hours:"minutes",days:"hours",weeks:"days",months:"weeks",years:"months"},this.parseFunction=null,this.unitSize=this.MILLISECONDS_IN_DAY,this._dataInterval=1,this.tmpDate=new Date,this._alignLabelsToUnits=!0,this.dateRangeUtilities=new ut,this._disabledRanges=this._disabledDays=null}function Mt(t){v.call(this,t?t:"Axis2DRenderer"),this._axis=null,this.horizontal=!0,this.canStagger=!1,this.canDropLabels=!0,this.placement="",this.labelJsFunction=null,this.tickPlacement="outside",this.minorTickPlacement="cross",this.showLabels=!0,this.showLine=!1,this.labelGap=4,this.groupLabelGap=5,this.axisStroke=new w("#f1f1f1",1,1),this.tickStroke=new w("#f1f1f1",1,1),this.minorTickStroke=new w("#ffffff",1,1),this.groupLabelStroke=new w("#777777"),this.tickLength=5,this.minorTickLength=0,this.verticalAxisTitleAlignment="flippedVertical",this.titleGap=2,this.formatter=null,this.minorTicks=[],this.labels=[],this._cacheDirty=!0,this._inverted=this._forceLabelUpdate=!1,this._gutters=new S,this.ABSOLUTE_TITLE_PADDING=6,this._ticks=[],this._measureLabelSize=this._titleHeight=0,this.measureTickSize=function(t){switch(t=0,t=this.tickLength,this.tickPlacement){case"inside":t=0;break;case"none":t=0}return this.tickSize=t},this.measureLabelSize=function(){var t,e,i,n,s,r=0,a=0,o=this.graphics;e=this._labels;var l=this._groupLabels;if(t=parseInt(this.getStyle("fontSize")),i=this.getStyle("labelRotation"),!this.showLabels)return 0;if(o.save(),this.setFont(),this.horizontal){if(0!=i){for(n=0,s=e.length;n<s;n++)a=Math.max(a,e[n].width);a=Math.sin(Math.PI/180*(0<i?i:360-i))*a+t}else{for(n=0,s=e.length;n<s;n+=1)t=e[n],a=Math.max(a,t.height);this.canStagger&&(a=2*a+this.labelGap)}if(l){for(n=0,s=l.length;n<s;n+=1)for(e=0,i=l[n].length;e<i;e+=1)t=l[n][e],r=Math.max(r,t.height*(n+1)+(n+1)*this.groupLabelGap);a+=r}}else for(n=0,s=e.length;n<s;n++)t=e[n],a=Math.max(a,t.width);return o.restore(),this.labelSize=a},this.getInverted=function(){return"right"==this.placement||"top"==this.placement},this.initStyles=function(t){switch(t){case"rMateBlockCategoryAxis":this.axisStroke=new w("#f1f1f1",1,1),this.minorTickLength=0,this.minorTickPlacement="none",this.tickLength=0,this.tickPlacement="none",this.tickStroke=new w("#f1f1f1"),this.labelGap=15;break;case"rMateBlockNumericAxis":break;default:this.axisStroke=new w("#f1f1f1",1,1),this.minorTickLength=0,this.minorTickPlacement="none",this.tickLength=0,this.tickPlacement="none",this.tickStroke=new w("#f1f1f1"),this.labelGap=15}},this.initStyles()}function It(t){var e=this;v.call(e,t?t:"AngularAxisRenderer"),e.showLabels=!0,e.showLine=!1,e.labelGap=6,e.axisStroke=null,e.minorTickStroke=null,e.minorTickPlacement="none",e.minorTickLength=0,e.tickStroke=null,e.tickLength=0,e.tickPlacement="none",e.dataTransform=new _t,e.tempAxisStroke=new w("#ffffff"),e.axis=null,e.initStyles=function(t){switch(t.constructor){case Tt:e.tempAxisStroke=new w("#bfbfbf"),e.tickLength=0,e.minorTickLength=0;break;case xt:e.tempAxisStroke=new w("#bfbfbf");break;case bt:e.tempAxisStroke=new w("#bfbfbf"),e.minorTickLength=0,e.minorTickPlacement="cross",e.minorTickStroke=new w("#ffffff"),e.tickLength=4,e.tickStroke=new w("#bfbfbf")}}}function Et(){_.call(this,"div","DataEditor"),this._percentWidth=100,this._dataEditorVisible=!0,this.chartId=this._productName="",this.chart=this.owner=null,this.headerHeight=22,this._editorHeight=80,this.minColumnWidth=NaN,this.reverseRow=!1,this.showHeaders=!0,this.showOnInit=!1,this.verticalAlign="middle",this.verticalGridLines=!0,this.horizontalGridLines=!1,this.editable=!0,this._closeDiv=null,this.useCloseButton=!0,this._useDelayInvalidate=di,this.defaultHeaderStyleName={},this._dataProvider=null,this.formatter=new qe}function Pt(t){R.call(this,t?t:"Legend"),this.position="bottom",this.vAlign="middle",this.hAlign="center",this.useAxisVisibleCheck=!1,this.itemClickJsFunction=this.titleJsFunction=null,this._defaultMouseOverAction=!1,this._horizontalScrollPolicy=this._verticalScrollPolicy="off",this._dataProvider=new ii,this._actualMajorAxisLength=this._preferredMajorAxisLength=NaN,this._childrenDirty=!1,this._legendItemLinkage=null,this._dataProviderChanged=this._selectChangedCheckableItem=!1,this._legendItemClass=Lt,this._legendItemClassChanged=!1,this._selected=!0,this._selectedChanged=this._useVisibleCheck=this._useVisibleCheckChanged=this._changeLegendItemFlag=!1,this._contentPane.setStyle("overflowX","hidden"),this._contentPane.setStyle("overflowY","hidden"),this.setUseVisibleCheck(this._useVisibleCheck)}function Lt(t){_.call(this,"div",t?t:"LegendItem"),this.selected=!0,this.fill=new T("#cccccc"),this.disableItemFill=null,this._markerHeight=this._markerWidth=NaN,this._useDelayInvalidate=di,this._styles={paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0}}function Nt(){Lt.call(this),this._fill=this.targetSeries=null}function At(t){var e=this;it.call(e,t?t:"PolarChart"),e._startAngle=0,e.startAngleRadians=0>e._startAngle?e._startAngle*Math.PI/180%(2*Math.PI)+2*Math.PI:e._startAngle*Math.PI/180%(2*Math.PI),e.setTransforms([new _t]),e.dataTipDisplayMode="mouse",e._angularAxis=null,e._radialAxis=null,e.numCategories=function(){return e._transforms[0].getAxis("a").getLabels(0).labels.length}}function Rt(t){At.call(this,t?t:"RadarChart"),this.startAngle=0,this.isSeriesOnAxis=!0,this._defaultGridLines=new qt,this._defaultGridLines.initStyles("radarGridLines"),this._backgroundElements=[this._defaultGridLines],this._computedGutters=new S,this.axisMargin=40,this.type="polygon",this.dataTipDisplayMode="normal",this._initialziedChildIndex=!1,this._angularAxisRenderers=[],this._radialAxisRenderers=[],this._radius=this._origin=null,this._bAxesRenderersDirty=!1,this.setAngularAxis(new Tt),this.setRadialAxis(new xt)}function Ft(t,e,i,n,s){this.element=t,this.items=i,this.index=e,this.start=n,this.end=s,this.clone=function(){return new Ft(this.element,this.index,this.items,this.start,this.end)}}function kt(){Pt.call(this,"SubLegend"),this.setUseVisibleCheck(!1)}function Ht(t){V.call(this,t),this.instanceClass=Vt,this.elementOffset=20,this.offset=this.minimumElementDuration=0,this.type="show",this.easingFunction="LinearEase"}function Ot(t){Ht.call(this,t),this.instanceClass=Ut}function Wt(t){Ht.call(this,t),this.instanceClass=Gt,this.direction="right"}function zt(t){Ht.call(this,t),this.instanceClass=Yt,this.direction="left"}function Bt(t){Ht.call(this,t),this.instanceClass=Xt,this.relativeTo="series",this.verticalFocus=this.horizontalFocus="center"}function Vt(t){this.targetSeries=t,X.call(this,t),this.minimumElementDuration=this.elementOffset=20,this.offset=0,this.type="show",
this.defaultEasingFunction="LinearEase",this._forward=!0}function Ut(t){Vt.call(this,t)}function Gt(t){Vt.call(this,t)}function Yt(t){Vt.call(this,t),this.direction="left"}function Xt(t){Vt.call(this,t),this.relativeTo="series"}function jt(){_.call(this,"div","CanvasElement Kool__pointer-events-none"),bi(this,"position","absolute"),this.childMaintainAspectRatio=1,this._percentHeight=this._percentWidth=100}function Kt(){ht.call(this,"CanvasLabel"),this.id="",this.verticalCenter=this.horizontalCenter=this.top=this.right=this.left=this.bottom=NaN,this.text="",this.verticalGap=4,this.itemClickJsFunction=null,this.borderColor="#000000",this.backgroundAlpha=0,this.backgroundColor="#ffffff",this.borderAlpha=1,this.borderStyle="none",this.borderThickness=1,this.textAlign="center",this.verticalAlign="middle",this.paddingBottom=this.paddingTop=this.paddingRight=this.paddingLeft=0,this.borderRadius=this.cornerRadius=NaN,this._addEventDirty=!1}function Jt(t){var e=this;ht.call(e,t?t:"GridLines"),e.direction="horizontal",e.horizontalChangeCount=1,e.horizontalStroke=new w("#f1f1f1"),e.horizontalTickAligned=!0,e.horizontalFill=null,e.horizontalAlternateFill=null,e.verticalStroke=new w("#f1f1f1"),e.verticalChangeCount=1,e.verticalTickAligned=!0,e.verticalFill=null,e.verticalAlternateFill=null,e.horizontalShowOrigin=!1,e.verticalShowOrigin=!1,e.horizontalOriginStroke=new w("#555555"),e.verticalOriginStroke=new w("#555555"),e.horizontalShowCenterLine=!1,e.verticalShowCenterLine=!1,e.horizontalCenterStroke=new w("#b1b1b1"),e.verticalCenterStroke=new w("#b1b1b1"),e.showEdgeHorizontalStroke=!0,e.showEdgeVerticalStroke=!0,e.initStyles=function(t){switch(t){case"horizontalGridLines":e.direction="vertical",e.horizontalShowOrigin=!1,e.horizontalTickAligned=!0,e.verticalShowOrigin=!0,e.verticalTickAligned=!0;break;case"bothGridLines":e.direction="both",e.horizontalFill=null,e.horizontalAlternateFill=null,e.verticalFill=null,e.verticalAlternateFill=null,e.horizontalShowOrigin=!1,e.horizontalTickAligned=!0,e.verticalShowOrigin=!1,e.verticalTickAligned=!0;break;case"radarGridLines":e.gridLines="both",e.radialStroke=new w("#bfbfbf"),e.angularStroke=new w("#bfbfbf"),e.radarFill=new T("#ffffff"),e.radarAlternateFill=new T("#ffffff"),e.radarChangeCount=1;break;case"windRoseGridLines":e.gridLines="both",e.radialStroke=new w("#999999"),e.angularStroke=new w("#cccccc"),e.radarFill=new T("#FFFFFF"),e.radarAlternateFill=new T("#f7f7f7"),e.radarChangeCount=1;break;default:e.direction="horizontal",e.horizontalOriginStroke=new w("#b0c1d0"),e.horizontalShowOrigin=!0,e.horizontalStroke=new w("#f1f1f1"),e.horizontalTickAligned=!0,e.verticalOriginStroke=new w("#b0c1d0"),e.verticalShowOrigin=!1,e.verticalStroke=new w("#f1f1f1"),e.verticalTickAligned=!0}}}function Qt(){_.call(this,"img","ImageElement"),this.maintainAspectRatio=!1,this.measuredHeight=this.measuredWidth=this.verticalCenter=this.horizontalCenter=this.bottom=this.top=this.right=this.left=NaN,this._source="",this._chilrenCreated=this._imgLoaded=!1,this._alpha=1,bi(this,"position","absolute")}function qt(){Jt.call(this,"RadarGridLines"),this.initStyles("radarGridLines")}function $t(){J.call(this)}function Zt(){J.call(this)}function te(t,e){J.call(this)}function ee(t){ht.call(this,t?t:"Series"),this.id="",this.hideDataEffect=this.showDataEffect=null,this.formatter=new qe,this.filterData=!0,this.tween=null,this.seriesState=0,this.showValueLabels=this.patternJsFunction=this.pattern=null,this.allSeriesTransform=this.selectable=this.sortOnYField=this.sortOnXField=this.interactive=!0,this.itemSelectionColor=this.itemRollOverColor="",this.htmlJsFunction=null,this._userDefineDirty=!1,this._selectionContainer=null,this._renderDataType=yt,this._displayName="",this._transitionRenderData=this._dataProvider=null,this._itemType=lt,this._selectedItems=[],this._selectionDirty=!1,this._selectionDirtyArray=[],this._labelLayerCreated=!1,this.labelLayer=null,this._bTransformDirty=this._bFilterDirty=this._bMappingDirty=this._bDataDirty=!0,this._selectionIndicesDirty=this._bHideTransitionDirty=!1,this._selectionIndicesDirtyArray=[],this._renderData=this._itemRendererInstance=null,this.setStyles({stroke:null,strokes:null,fill:null,fills:null})}function ie(t){ee.call(this,t?t:"RadarSeries"),this.field="",this.radius=5,this.selectionRadius=8,this.fillLineArea=!0,this.itemRenderer=new Se(Zt),this.renderDirection=4,this.labelGap=8,this._itemType=ne,this.radialSegmentType=Ft,this.legendMarkerRenderer=this.itemRenderer,this.lineSegmentRenderer=te,this._radialAxis=this._angularAxis=null,this.setDataTransform(new _t),this._styles={labelPosition:"none",fill:new T("#ffffff"),lineStroke:null,areaFill:null,stroke:null}}function ne(t,e,i){lt.call(this,t,e,i),this.origin=new fe(0,0),this.startAngle=NaN,this.x=this.y=0}function se(t,e,i,n,s){var r;if(t||(t="undefined"),e||(e="png"),!n)throw"The 'callback' parameter is undefined";if(n=n(),window.Blob&&window.atob&&window.ArrayBuffer&&window.Uint8Array){switch(e){case"png":case"jpeg":case"jpg":i=n,r=ae(window.atob(i.split(",")[1]),i.split(";")[0].split(":")[1]);break;case"pdf":r=ae(re(n,s),"application/pdf");break;case"csv":r=new Blob([n],{type:"application/csv"})}window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(r,t+"."+e):(i=document.createElement("a"),document.body.appendChild(i),i.download=t+"."+e,i.href=window.URL.createObjectURL(r),i.click(),document.body.removeChild(i))}else{if(!i)throw"The 'url' parameter is undefined";switch(e){case"png":case"jpeg":n=n.substr(n.indexOf(",")+1);break;case"pdf":n="data:application/pdf;base64,"+window.btoa(re(n))}r=document.createElement("iframe"),s=document.createElement("input");var a=document.createElement("input"),o=document.createElement("input"),l=document.createElement("form");document.getElementById("rMateH5__TempDownloadIFrame")&&(document.body.removeChild(document.getElementById("rMateH5__TempDownloadIFrame")),document.body.removeChild(document.getElementById("rMateH5__TempDownloadIFrame"))),document.body.appendChild(r),r.name=r.id="rMateH5__TempDownloadIFrame__",l.name=l.id="rMateH5__TempDownloadForm",l.method="POST",l.action=i,l.style.visibility="hidden",r.width=r.height=r.border=0,a.type="hidden",o.type="hidden",s.type="hidden",a.id=a.name="data",o.id=o.name="extension",s.id=s.name="fileName",a.value=n,o.value=e,s.value=t,l.appendChild(a),l.appendChild(o),l.appendChild(s),r.appendChild(l),l.submit()}}function re(t,e){0>t.indexOf("jpeg")&&(t="data:image/jpeg;base64,"+t);var i=e.location&&e.location.x||0,n=e.location&&e.location.y||0,s=new jsPDF(e.portrait?"p":"l","cm",[.026458*(e.size&&e.size.width||0),.026458*(e.size&&e.size.height||0)]);return s.addImage(t,"jpeg",i,n),s.output()}function ae(t,e){var i,n,s,r;for(s=new ArrayBuffer(t.length),r=new Uint8Array(s),i=0,n=t.length;i<n;i+=1)r[i]=t.charCodeAt(i);return new Blob([r?r:s],{type:e})}function oe(t,e,i){var n,s,r,a,o,l,h=0,d=[];if(o=document.getElementById(t),t=function(t){return t.replace(/\r|\t|\n|<th>|<td>|<tr>|<\/tr>/gi,"").split(/<\/th>|<\/td>/gi)},i||(i="horizontal"),a=o.tHead,o=o.tBodies[0],a=t(a.innerHTML),n=0,"horizontal"==i){for(s=a.length;n<s;n+=1)r=a[n],""!=r&&(i={},i[e]=r,d.push(i));for(;n=o.rows[h];){for(l=t(n.innerHTML),r=l[0],n=0,s=d.length;n<s;n+=1)d[n][r]=parseInt(l[n+1]);h++}}else{for(s=a.length;n<s;n+=1)""!=a[n]&&d.push(a[n]);for(a=d.concat(),d=[];n=o.rows[h];){for(l=t(n.innerHTML),r=l[0],i={},i[e]=r,n=0,s=a.length;n<s;n+=1)i[a[n]]=l[n+1];d.push(i),h++}}return d}function le(t,e){Z.call(this,t,e)}function he(t,e,i,n,s){function r(){console.log("window.KoolChartLicense;");var t="KoolChart";console.log("ReplacementFor_gpn="+t);var e="0";if(void 0==e)return void a("License is not registered.");var i=0;return 0!=i?(1==i?a("Invalid license."):2==i?a("This host is not authorized."):3==i?a("Period has expired."):4==i?a("Other versions of the license."):5==i?a("Invalid License Type."):6==i?a("Evaluation license."):7==i?a("Trial license is required."):8==i&&a("Invalid LicenseUrl."),i):void 0}function a(t){throw setTimeout('alert("'+t+'")',500),t}Q.call(this,t,e,i,n,s),this.dataType="xml",this._setChartMenuDirty=this._chartMenuDirty=!1,this._chartMenu=null,this._dataStack=[],this._drillDownFirstButton=this._drillDownBackButton=this._drillDownMenu=null,this._creationCompleteDirty=!1,this._dataEditor=this._slideData=this._slideLayout=this._slideController=this._motionController=null,this._themeName="default",this._rootEventInitialized=this._dataEditorLoaded=!1,this._patternLoadCount=this._patternLoaded=0,this._hideWrapper();this.ppr=function(t){abss(t)};new Array(1116352408,1899447441,(-1245643825),(-373957723),961987163,1508970993,(-1841331548),(-1424204075),(-670586216),310598401,607225278,1426881987,1925078388,(-2132889090),(-1680079193),(-1046744716),(-459576895),(-272742522),264347078,604807628,770255983,1249150122,1555081692,1996064986,(-1740746414),(-1473132947),(-1341970488),(-1084653625),(-958395405),(-710438585),113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,(-2117940946),(-1838011259),(-1564481375),(-1474664885),(-1035236496),(-949202525),(-778901479),(-694614492),(-200395387),275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,(-2067236844),(-1933114872),(-1866530822),(-1538233109),(-1090935817),(-965641998));r()}function de(t){t.registerTheme=function(t){si.addTheme(t)},t.removeTheme=function(t){si.removeTheme(t)},t.gridData2Chart=function(e,i,n,s){var r=document.getElementById(e).selfElement;--n,e=t[e].gridRowInfo[i],i=r._data.concat(),o(s)&&(s=0),i[n][e]=s,r.setData(i)},t.setRetinaDisplayRatio=function(t){mi=t},t.downloadToLocal=se,t.tableToArray=oe,t.setDefaultColors=function(e){tt.setDefaultColors(e);for(var i in t.instances)t.instances[i].invalidateDisplayList()},t.setGraphicTag=function(t){t=t.toLocaleString(),v.graphicTag="svg"!=t?"canvas":t},t.grr=function(){return mi},t.gue=function(){return fi}}function ce(t,e,i){var n,s=t._target;if(t._themeName==e)t._themeRunning=!1;else{if(s.themeRunning=!0,t._themeName=e,n=si.getTheme(e),!n&&"default"!=e)throw'theme "'+e+'" is not registerd.';si.restoreForDefault(t),"default"!=e&&si.applyEachTheme(t,n,i),s.setTheme(e,i),t.invalidateDisplayList(),t.setActualSize(t._originalWidth,t._originalHeight),t._slideController&&t._slideController.reCreateImage()}}function ue(t,e){var i,n,s,r,a,o,l,h,d,c,u,p,g="",f="n",m="_displayName",_=e.getDataProvider();h={p:{v:"field"},b:{a:"verticalAxis",v:"xField"},r:{a:"angularAxis",v:"field"},h:{a:"horizontalAxis",v:"yField"},d:{a:"horizontalAxis",v:"yField"},n:{a:"horizontalAxis",v:"yField"}},d=e.className;var y=Ee.createElement("div","Kool__AccessibilityDiv");if(Ci("Gauge",d)?f="g":Ci("Radar",d)?f="r":Ci("History",d)?(f="h",e=e.getDisplayerChart()):Ci("Dual",d)?(f="d",l=e.getMainChart(),i=e.getSubChart()):Ci("Pie",d)?(f="p",m="_nameField"):Ci("Bar",d)&&(f="b"),"g"!=f)for(h=h[f],d=h.v,h.a&&(c="_"+h.a),h="p"!=f?e[c]:null,"d"==f?(h=l[c],o=l.getAllSeries().concat(i.getAllSeries())):o=e.getAllSeries(),o&&o.length||(o=e.getSeries()),h&&h.categoryField&&(h=h.categoryField),i=0,s=_.getLength();i<s;i+=1)for(p=_.getItemAt(i),"p"!=f&&"r"!=f&&(n=e,l&&(n=l),n[c].labelFunction?g+=ri.axisFunc(n[c],p[h],n[c].labelFunction):"string"==typeof h&&(g+=p[h])),u=!1,n=0,r=o.length;n<r;n+=1)a=o[n],!u&&(a instanceof HTarget2DResultSeries||a instanceof HTarget2DGoalSeries||a instanceof HTarget3DResultSeries||a instanceof HTarget3DGoalSeries)&&(u=!0,d="xField",e.getVerticalAxis().categoryField&&(g+=p[e.getVerticalAxis().categoryField])),a[m]&&(g=m==s||"p"==f?g+(" "+p[a[m]]):g+(" "+a[m])),"n"!=f||u||("horizontalAxis"==c&&""!=a.xField&&(g+=" "+p[a.xField]),"verticalAxis"==c&&""!=a.yField&&(g+=" "+p[a.yField])),g=Ci("HLOC",a)?g+(" open "+p[a.openField]+" close "+p[a.closeField]+" low "+p[a.lowField]+" high "+p[a.highField]):g+(" "+p[a[d]]),a.radiusField?g+=" "+p[a.radiusField]+",":n==o.length-1&&i!=_.length-1&&(g+=", ");else _||(_=e.value),g=_.toString(),e.labelFunction?g=ri.gaugeFunc(g,e):e.formatter&&(g=e.formatter.format(g));bi(y,"overflow","hidden"),bi(y,"position","absolute"),bi(y,"width","0px"),bi(y,"height","0px"),y.innerHTML=g,t.element.appendChild(y)}var pe="../rMateGridH5/Assets/",ge=function(){var t=function(){};return function(e,i){if(t.prototype=i.prototype,e.prototype=new t,e._super=i.prototype,e.prototype.constructor=e,i._defaultStyles){e._defaultStyles||(e._defaultStyles={});for(var n in i._defaultStyles)e._defaultStyles.hasOwnProperty(n)||(e._defaultStyles[n]=i._defaultStyles[n])}if(i._propertyType)for(n in e._propertyType||(e._propertyType={}),i._propertyType)e._propertyType.hasOwnProperty(n)||(e._propertyType[n]=i._propertyType[n]);i._defaultProperty&&!e._defaultProperty&&(e._defaultProperty=i._defaultProperty)}}(),fe=function(t,e){var i=this;i.x=0<arguments.length?t:0,i.y=1<arguments.length?e:0,i.clone=function(){return new fe(i.x,i.y)}},me=function(t,e,i,n){this.left=0<arguments.length?t:0,this.top=1<arguments.length?e:0,this.right=2<arguments.length?i:0,this.bottom=3<arguments.length?n:0};me.prototype.clone=function(){return new me(this.left,this.top,this.right,this.bottom)},me.EMPTY=new me(0,0,0,0);var _e=function(){this._eventList={},this.uno=ke.elementNo++};_e.prototype.addEventListener=function(t,e,i,n,s){var r,a,o,h=2<arguments.length?i:window,d=3<arguments.length&&n,c=4<arguments.length?s:0,u=-1;for(l(this._eventList[t])&&(this._eventList[t]=[]),a=this._eventList[t],r=a.length-1;0<=r;r--){if((o=a[r])&&o.listener===e&&o.context===h){if(o.priority==c)return;a.splice(r,1)}o.priority<c&&0>u&&(u=r)}-1==u?a.unshift({listener:e,context:h,useCapture:d,priority:c}):a.splice(u+1,0,{listener:e,context:h,useCapture:d,priority:c})},_e.prototype.removeEventListener=function(t,e,i,n){i=2<arguments.length?i:window,n=3<arguments.length&&n;var s,r,a;if(this._eventList[t])for(r=this._eventList[t],s=r.length-1;0<=s;s--)if((a=r[s])&&a.listener===e&&a.context===i){a.listener=null,a.context=null,r.splice(s,1);break}},_e.prototype.hasEventListener=function(t){return!!(this._eventList[t]&&0<this._eventList[t].length)},_e.prototype.dispatchEvent=function(t){var e,i,n,s,r;if(e=t.type,this._eventList[e])for(i=this._eventList[e],e=i.length-1;0<=e;e--)if(n=i[e])if(s=n.listener,t.target||t.currentTarget){if(r=t.clone(),r.target=t.target?t.target:this.element?this.element:this,r.currentTarget=this.element,r.defaultPrevented=t.defaultPrevented,s.call(n.context,r),r._istoped)return!r.defaultPrevented;t.defaultPrevented=t.defaultPrevented&&r.defaultPrevented}else if(t.target=t.target?t.target:this.element?this.element:this,t.currentTarget=this.element||this,s.call(n.context,t),t._istoped)break;return!t.defaultPrevented},g._defaultStyles={},ge(g,_e),g.prototype._createRules=function(){var t;if(!this._rules)try{if("Kool__"===this._findCSS){if(this._sheetIdx=Ie.productCSSSheetIndex,0>this._sheetIdx&&document.styleSheets){var e,i,n,s="Kool__".replace("H5__","").replace("__","").toLowerCase();for(e=0;e<document.styleSheets.length;e++)if((i=document.styleSheets[e])&&i.href&&(n=i.href.substring(i.href.lastIndexOf("/")+1).toLowerCase(),0<=n.indexOf(s)&&(i.rules||i.cssRules))){this._sheetIdx=e;break}}0>this._sheetIdx&&(this._sheetIdx=Ee.findCSSSheetIndex("Kool__(\\S)*")),0>this._sheetIdx&&(this._sheetIdx=Ee.createCSSSheet(this._findCSS)),0<=this._sheetIdx&&0>Ie.productCSSSheetIndex&&Ie.productCSSSheetIndex!=this._sheetIdx&&(Ie.productCSSSheetIndex=this._sheetIdx)}else this._sheetIdx=Ee.findCSSSheetIndex(this._findCSS),0>this._sheetIdx&&(this._sheetIdx=Ee.createCSSSheet(this._findCSS));if(this._rules=Ee.addCSSRule(this._sheetIdx,this._cssName))for(t in this.constructor._defaultStyles)h(this._rules.style[t])?this._styles[t]=this.constructor._defaultStyles[t]:this._rules.style[t]=this.constructor._defaultStyles[t]}catch(r){throw Error("error in createRules() of "+this._cssName+"  error:"+r)}},g.prototype.clearStyle=function(){this._styles={}},g.prototype.getStyle=function(t){return this._styles&&this._styles.hasOwnProperty(t)?this._styles[t]:this.constructor._defaultStyles&&this.constructor._defaultStyles.hasOwnProperty(t)?this.constructor._defaultStyles[t]:this._rules.style[t]},g.prototype.setStyle=function(t,e){this._styles.hasOwnProperty(t)?this._styles[t]=e:h(this._rules.style[t])?this._styles[t]=e:this._rules.style[t]=e},g.prototype.getSizeStyle=function(t){return this._styles.hasOwnProperty(t)?parseFloat(this._styles[t]):this.constructor._defaultStyles&&this.constructor._defaultStyles.hasOwnProperty(t)?parseFloat(this.constructor._defaultStyles[t]):(t=parseFloat(this._rules.style[t]),isNaN(t)?0:t)},ge(f,_e),f.prototype.getAlpha=function(){return Ee.getAlpha(this.element)},f.prototype.setAlpha=function(t){Ee.setAlpha(this.element,t)},f.prototype.getX=function(){return Ee.getSizeStyle(this.element,"left")},f.prototype.setX=function(t){Ee.setPxStyle(this.element,"left",t)},f.prototype.getY=function(){return Ee.getSizeStyle(this.element,"top")},f.prototype.setY=function(t){Ee.setPxStyle(this.element,"top",t)},f.prototype.getWidth=function(){var t=this.element,e=Ee,i=e.getSizeStyle,n=e.getSizeStyleBorder,s=t.style.width;return s&&!isNaN(parseFloat(s))&&0>s.indexOf("%")?Le.useBorderBox||this._useBorderBox?parseFloat(s):parseFloat(s)+i(t,"paddingLeft")+i(t,"paddingRight")+n(t,"borderLeftWidth")+n(t,"borderRightWidth"):this._visible?e.getOffsetWidth(t):0},f.prototype.setWidth=function(t){var e=this.element,n=Ee,s=n.getSizeStyle,r=n.getSizeStyleBorder;i(t)&&0<=t.indexOf("%")?n.setStyle(e,"width",t):(s=Le.useBorderBox||this._useBorderBox?0:s(e,"paddingLeft")+s(e,"paddingRight")+r(e,"borderLeftWidth")+r(e,"borderRightWidth"),parseFloat(e.style.width)+s!=t&&n.setPxStyle(e,"width",0<t-s?t-s:0))},f.prototype.getHeight=function(){var t=this.element,e=Ee,i=e.getSizeStyle,n=e.getSizeStyleBorder,s=t.style.height;return s&&!isNaN(parseFloat(s))&&0>s.indexOf("%")?Le.useBorderBox||this._useBorderBox?parseFloat(s):parseFloat(s)+i(t,"paddingTop")+i(t,"paddingBottom")+n(t,"borderTopWidth")+n(t,"borderBottomWidth"):this._visible?e.getOffsetHeight(t):0},f.prototype.setHeight=function(t){var e=this.element,n=Ee,s=n.getSizeStyle,r=n.getSizeStyleBorder;i(t)&&0<=t.indexOf("%")?n.setStyle(e,"height",t):(s=Le.useBorderBox||this._useBorderBox?0:s(e,"paddingTop")+s(e,"paddingBottom")+r(e,"borderTopWidth")+r(e,"borderBottomWidth"),parseFloat(e.style.height)+s!=t&&n.setPxStyle(e,"height",0<t-s?t-s:0))},f.prototype.getWidthInline=function(){var t=this.element,e=t.style.width;return!this._visible||e&&!isNaN(parseFloat(e))&&0>e.indexOf("%")?isNaN(parseFloat(e))?0:parseFloat(e):Ee.getOffsetWidth(t)},f.prototype.setWidthInline=function(t){var e=this.element,n=Ee;i(t)&&0<=t.indexOf("%")?n.setStyle(e,"width",t):parseFloat(e.style.width)!=t&&n.setPxStyle(e,"width",t)},f.prototype.getHeightInline=function(){var t=this.element,e=t.style.height;return!this._visible||e&&!isNaN(parseFloat(e))&&0>e.indexOf("%")?isNaN(parseFloat(e))?0:parseFloat(e):Ee.getOffsetHeight(t)},f.prototype.setHeightInline=function(t){var e=this.element,n=Ee;i(t)&&0<=t.indexOf("%")?n.setStyle(e,"height",t):parseFloat(e.style.height)!=t&&n.setPxStyle(e,"height",t)},f.prototype.getEnabled=function(){return this._enabled},f.prototype.setEnabled=function(t){var e=this.element,i=Ee;this._enabled!=t&&(this._enabled=t,h(e.disabled)||(e.disabled=!t),t?i.removeClass(e,"disabled"):i.addClass(e,"disabled"))},f.prototype.getTabIndex=function(){return this.element.tabIndex},f.prototype.setTabIndex=function(t){this.element.tabIndex=t},f.prototype.getVisible=function(){return Ee.getDisplay(this.element)},f.prototype.setVisible=function(t){this._visible!=t&&((this._visible=t)?Ee.setDisplay(this.element,t,this._oldDisplay):this._oldDisplay=Ee.setDisplay(this.element,t))},f.prototype.getVisibility=function(){return Ee.getVisibility(this.element)},f.prototype.setVisibility=function(t){Ee.setVisibility(this.element,t)},f.prototype.getNumChildren=function(){return this.__getNumChildren()},f.prototype.__getNumChildren=function(){var t=this.element;return t.children?t.children.length:t.childNodes.length},f.prototype.getParent=function(){return this.parentElement},f.prototype._createElement=function(){if(!i(this.element))throw Error("element is not string in _createElement() of HTMLObject");this.element="svg"===this.element?document.createElementNS("http://www.w3.org/2000/svg",this.element):document.createElement(this.element),this.element.selfElement=this,this.element.className="Kool__"+this.className},f.prototype.addEvent=function(t,e,i,n,s){Pe.addEvent(this.element,t,e,i,n,s)},f.prototype.removeEvent=function(t,e,i,n){Pe.removeEvent(this.element,t,e,i,n)},f.prototype.addParent=function(t){t instanceof f||this.element.parentNode===t||(t.appendChild(this.element),this.parentElement=t,this.initialize())},f.prototype.addChild=function(t){if(t instanceof f){if(t.element.parentNode){if(t.element.parentNode==this.element)return t;t.element.parentNode.removeChild(t.element)}return this.element.appendChild(t.element),t.parentElement=this,t}throw Error("added element is not an instance of HTMLObject")},f.prototype.addChildAt=function(t,e){if(t instanceof f){var i=this.__getNumChildren();if(0<i&&i<e)throw Error("Out of range error in addChildAt "+e);return t.element.parentNode&&(t.element.parentNode.removeChild(t.element),i=this.__getNumChildren()),0===i||i<=e?this.element.appendChild(t.element):this.element.insertBefore(t.element,this.__getChildAt(e).element),t.parentElement=this,t}throw Error("added element is not an instance of HTMLObject")},f.prototype.getChildAt=function(t){return this.__getChildAt(t)},f.prototype.__getChildAt=function(t){var e,i;return e=this.element,e=e.children?e.children:e.childNodes,i=e.length,0>=i||i<=t?null:e&&0<e.length?e[t].selfElement:null},f.prototype.getChildIndex=function(t){return this.__getChildIndex(t)},f.prototype.__getChildIndex=function(t){if(!t)return-1;if(t instanceof f&&t.parentElement===this){var e=0;for(t=t.element;t=t.previousSibling;)e++;return e}return-1},f.prototype.setChildIndex=function(t,e){var i=this.__getNumChildren();if(!(0>=i||i<=e)&&(i=this.__getChildIndex(t),i!=e)){var n=this.__getChildAt(e);n&&(i<e?this.element.insertBefore(t.element,n.element.nextSibling):this.element.insertBefore(t.element,n.element))}},f.prototype.removeChild=function(t){return t instanceof f&&t.element.parentNode?(this.element.removeChild(t.element),t.parentElement=null,t):null},f.prototype.removeChildAt=function(t){var e=this.__getNumChildren();return 0>=e||e<=t?null:(t=this.__getChildAt(t),t instanceof f&&t.element.parentNode?(this.element.removeChild(t.element),t.parentElement=null,t):null)},f.prototype.getChildByName=function(t){var e,i,n,s;for(e=this.element,e=e.children?e.children:e.childNodes,i=e.length,s=0;s<i;s++)if((n=e[s].selfElement)&&n.name===t)return n;return null},f.prototype.swapChildren=function(t,e){if(this.element&&t&&e){var i=t.element.nextSibling;i===e.element?this.swapChildren(e,t):(this.element.insertBefore(t.element,e.element),this.removeChild(e.element),this.element.insertBefore(e.element,i))}},f.prototype.swapChildrenAt=function(t,e){this.swapChildren(this.__getChildAt(t),this.__getChildAt(e))},f.prototype.contains=function(t){return t instanceof f&&this.element.contains(t.element)},f.prototype.setStyle=function(t,e){Ee.setStyle(this.element,t,e)},f.prototype.setPxStyle=function(t,e){Ee.setPxStyle(this.element,t,e)},f.prototype.getStyle=function(t){return Ee.getStyle(this.element,t)},f.prototype.clearStyle=function(t){Ee.clearStyle(this.element,t)},f.prototype.getSizeStyle=function(t){return 0<=t.indexOf("border")?Ee.getSizeStyleBorder(this.element,t):Ee.getSizeStyle(this.element,t)},f.prototype.setAttr=function(t,e){Ee.setAttr(this.element,t,e)},f.prototype.getAttr=function(t){return Ee.getAttr(this.element,t)},f.prototype.removeAttr=function(t){Ee.removeAttr(this.element,t)},f.prototype.globalToLocal=function(t){var e=this.element,i=Ee.pageXY(e);return new fe(t.x-i.x-Ee.getSizeStyleBorder(e,"borderLeftWidth"),t.y-i.y-Ee.getSizeStyleBorder(e,"borderTopWidth"))},f.prototype.localToGlobal=function(t){var e=this.element,i=Ee.pageXY(e);return new fe(t.x+i.x+Ee.getSizeStyleBorder(e,"borderLeftWidth"),t.y+i.y+Ee.getSizeStyleBorder(e,"borderTopWidth"))},f.prototype.validateNow=function(){},f.prototype.isFocused=function(){return this.element==document.activeElement},f.prototype.focus=function(){this.element.focus()},f.prototype.blur=function(){this.element.blur()},ge(m,f),m.prototype.getNestLevel=function(){return this._nestLevel},m.prototype.setNestLevel=function(t){var e,i,n,s;if(0<t&&this._nestLevel!=t)for(this._nestLevel=t,this._updateCallbacks(),n=a(this.getRawChildren)?this.getRawChildren():this,i=n.getNumChildren(),e=0;e<i;e++)s=n.getChildAt(e),s instanceof m&&s.setNestLevel(t+1)},m.prototype.getInitialized=function(){return this._initialized},m.prototype.setInitialized=function(t){(this._initialized=t)&&this.dispatchEvent(new Ue("creationComplete"))},m.prototype.getProcessedDescriptors=function(){return this._processedDescriptors},m.prototype.setProcessedDescriptors=function(t){(this._processedDescriptors=t)&&this.dispatchEvent(new Ue("initialize"))},m.prototype.getIncludeInLayout=function(){return this._includeInLayout},m.prototype.setIncludeInLayout=function(t){this._includeInLayout!=t&&(this._includeInLayout=t,t=this.getParent())&&(t.invalidateSize(),t.invalidateDisplayList())},m.prototype.getParent=function(){return this._parent?this._parent:m._super.getParent.call(this)},m.prototype.getOwner=function(){return this.owner?this.owner:this.getParent()},m.prototype.setOwner=function(t){return this.owner=t},m.prototype.stylesInitialized=function(){},m.prototype.addChild=function(t){if(t instanceof f){var e=t.getParent();return e&&e.removeChild(t),this._addingChild(t),this._$addChild(t),this._childAdded(t),t}throw Error("added element is not an instance of HTMLObject")},m.prototype.addChildAt=function(t,e){if(t instanceof f){var i=t.getParent();return i&&i.removeChild(t),this._addingChild(t),this._$addChildAt(t,e),this._childAdded(t),t}throw Error("added element is not an instance of HTMLObject")},m.prototype._addingChild=function(t){t instanceof m&&(t.parentChanged(this),t.stylesInitialized())},m.prototype._childAdded=function(t){t instanceof m&&(t.setNestLevel(this._nestLevel+1),t.notifyStyleChangeInChildren(null,!0),t.initialize())},m.prototype.removeChild=function(t){return this._removingChild(t),this._$removeChild(t),this._childRemoved(t),t},m.prototype.removeChildAt=function(t){return t=this.getChildAt(t),this._removingChild(t),this._$removeChild(t),this._childRemoved(t),t},m.prototype._removingChild=function(t){},m.prototype._childRemoved=function(t){t instanceof m&&t.parentChanged(null)},m.prototype.parentChanged=function(t){t?this._parent=t instanceof m?t:t.getParent()instanceof m?t.getParent():t.getParent().getParent():(this._parent=null,this._nestLevel=0)},m.prototype.owns=function(t){if(this.contains(t))return!0;try{for(;t&&t!=this;)t=t instanceof m?t.getOwner():t.getParent()}catch(e){return!1}return t==this},m.prototype.callLater=function(t,e){this._methodQueue.push({method:t,args:e,context:this}),this._listeningForRender||(this._frameCallLater.startTimeout(this,this._callLaterDispatcher),this._listeningForRender=!0)},m.prototype._callLaterDispatcher=function(){this._listeningForRender&&(this._listeningForRender=!1);var t=this._methodQueue;this._methodQueue=[];var e,i=t.length;for(e=0;e<i;e++){var n=t[e];n.args?n.method.apply(this,n.args):n.method.apply(this)}},m.prototype._doPhasedInstantiation=function(){this._invalidatePropertiesFlag&&this.validateProperties(),this._invalidateSizeFlag&&this.validateSize(),this._invalidateDisplayListFlag&&this.validateDisplayList(),this._invalidatePropertiesFlag||this._invalidateSizeFlag||this._invalidateDisplayListFlag?this._doPhasedInstantiation():(!this.getInitialized()&&this.getProcessedDescriptors()&&this.setInitialized(!0),this.dispatchEvent(new Ue("updateComplete")))},m.prototype._updateCallbacks=function(){this._useDelayInvalidate?(this._invalidateDisplayListFlag&&He.getInstance().invalidateDisplayList(this),this._invalidateSizeFlag&&He.getInstance().invalidateSize(this),this._invalidatePropertiesFlag&&He.getInstance().invalidateProperties(this)):this._initialized&&(this._invalidatePropertiesFlag?this.validateProperties():this.invalidateProperties(),this._invalidateSizeFlag?this.validateSize():this.invalidateSize(),this._invalidateDisplayListFlag?this.validateDisplayList():this.invalidateDisplayList())},m.prototype.initialize=function(){this._initialized||(this.dispatchEvent(new Ue("preinitialize")),this.createChildren(),this._useDelayInvalidate?(this.childrenCreated(),this.setProcessedDescriptors(!0)):(this.setProcessedDescriptors(!0),this.childrenCreated()))},m.prototype.createChildren=function(){},m.prototype.childrenCreated=function(){this._useDelayInvalidate?(this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()):(this._invalidatePropertiesFlag?this.validateProperties():this.invalidateProperties(),this._invalidateSizeFlag?this.validateSize():this.invalidateSize(),this._invalidateDisplayListFlag?this.validateDisplayList():this.invalidateDisplayList())},m.prototype.invalidateProperties=function(){this._invalidatePropertiesFlag||(this._invalidatePropertiesFlag=!0,this._useDelayInvalidate?this.element.parentNode&&He.getInstance().invalidateProperties(this):this.element.parentNode&&(this._runInvalidateSizeFlag||this._runInvalidateDisplayListFlag?He.getInstance().invalidateProperties(this):this.validateProperties()))},m.prototype.styleChanged=function(t){(h(t)||Ie.sizeInvalidatingStyles[t]||"styleName"==t)&&this.invalidateSize(),this.invalidateDisplayList()},m.prototype.invalidateSize=function(){this._invalidateSizeFlag||(this._invalidateSizeFlag=!0,this._useDelayInvalidate?this.element.parentNode&&He.getInstance().invalidateSize(this):this.element.parentNode&&(this._runInvalidatePropertiesFlag||this._runInvalidateDisplayListFlag?He.getInstance().invalidateSize(this):this.validateSize()))},m.prototype.invalidateDisplayList=function(){this._invalidateDisplayListFlag||(this._invalidateDisplayListFlag=!0,this._useDelayInvalidate?this.element.parentNode&&He.getInstance().invalidateDisplayList(this):this.element.parentNode&&(this._runInvalidatePropertiesFlag||this._runInvalidateSizeFlag?He.getInstance().invalidateDisplayList(this):this.validateDisplayList()))},m.prototype.validateProperties=function(){this._invalidatePropertiesFlag&&(this._runInvalidatePropertiesFlag=!0,this.commitProperties(),this._runInvalidatePropertiesFlag=this._invalidatePropertiesFlag=!1)},m.prototype.commitProperties=function(){this._commitPropertiesCallCount++},m.prototype.validateSize=function(t){var e,i;if(t)for(t=0,e=this.getNumChildren();t<e;t+=1)i=this.getChildAt(t),i instanceof m&&i.validateSize(!0);this._invalidateSizeFlag&&(t=this._measureSizes())&&this._includeInLayout&&this.getProcessedDescriptors()&&(this.invalidateDisplayList(),(t=this.getParent())&&t.isContentPane&&(t=t.getParent()),t&&t instanceof m&&t.getProcessedDescriptors()&&(t.invalidateSize(),t.invalidateDisplayList()))},m.prototype._measureSizes=function(){var t,e=!1;return this._invalidateSizeFlag?(o(this._explicitWidth)||o(this._explicitHeight)?(this._runInvalidateSizeFlag=!0,this.measure(),this._runInvalidateSizeFlag=this._invalidateSizeFlag=!1,!isNaN(this._explicitMinWidth)&&this.measuredWidth<this._explicitMinWidth&&(this.measuredWidth=this._explicitMinWidth),!isNaN(this._explicitMaxWidth)&&this.measuredWidth>this._explicitMaxWidth&&(this.measuredWidth=this._explicitMaxWidth),!isNaN(this._explicitMinHeight)&&this.measuredHeight<this._explicitMinHeight&&(this.measuredHeight=this._explicitMinHeight),!isNaN(this._explicitMaxHeight)&&this.measuredHeight>this._explicitMaxHeight&&(this.measuredHeight=this._explicitMaxHeight)):(this._invalidateSizeFlag=!1,this._measuredMinHeight=this._measuredMinWidth=0),o(this._oldMinWidth)?(this._oldMinWidth=o(this._explicitMinWidth)?this.measuredMinWidth:this._explicitMinWidth,
this._oldMinHeight=o(this._explicitMinHeight)?this.measuredMinHeight:this._explicitMinHeight,this._oldExplicitWidth=o(this._explicitWidth)?this.measuredWidth:this._explicitWidth,this._oldExplicitHeight=o(this._explicitHeight)?this.measuredHeight:this._explicitHeight,e=!0):(t=o(this._explicitMinWidth)?this.measuredMinWidth:this._explicitMinWidth,t!=this._oldMinWidth&&(this._oldMinWidth=t,e=!0),t=o(this._explicitMinHeight)?this.measuredMinHeight:this._explicitMinHeight,t!=this._oldMinHeight&&(this._oldMinHeight=t,e=!0),t=o(this._explicitWidth)?this.measuredWidth:this._explicitWidth,t!=this._oldExplicitWidth&&(this._oldExplicitWidth=t,e=!0),t=o(this._explicitHeight)?this.measuredHeight:this._explicitHeight,t!=this._oldExplicitHeight&&(this._oldExplicitHeight=t,e=!0)),e):e},m.prototype.measure=function(){this._measureCallCount++},m.prototype.validateDisplayList=function(){this._invalidateDisplayListFlag&&(this._runInvalidateDisplayListFlag=!0,this._unscaledWidth=this.getWidth(),this._unscaledHeight=this.getHeight(),this.updateDisplayList(this._unscaledWidth,this._unscaledHeight),this._runInvalidateDisplayListFlag=this._invalidateDisplayListFlag=!1,this._useDelayInvalidate||this._doPhasedInstantiation())},m.prototype.updateDisplayList=function(t,e){this._updateDisplayListCallCount++},m.prototype.validateNow=function(){He.getInstance().validateClient(this)},m.prototype.notifyStyleChangeInChildren=function(t,e){this._cachedTextFormat=null;var i,n=this.getNumChildren();for(i=0;i<n;i++){var s=this.getChildAt(i);s&&s instanceof m&&(s.styleChanged(t),s.notifyStyleChangeInChildren(t,e))}},m.prototype.effectStarted=function(t){var e,i,n,s;for(this._effectsStarted.push(t),n=t.getEffect().getAffectedProperties(),i=n.length,e=0;e<i;e+=1)s=n[e],void 0==this._affectedProperties[s]&&(this._affectedProperties[s]=[]),this._affectedProperties[s].push(t);this._isEffectStarted=!0,t.getHideFocusRing()&&(this._preventDrawFocus=!0)},m.prototype.effectFinished=function(t){this._endingEffectInstances.push(t),this.invalidateProperties(),He.getInstance().addEventListener("updateComplete",this._updateCompleteHandler,this)},m.prototype.resetInvalidate=function(){var t,e,i,n;for(this._invalidateDisplayListFlag=this._invalidateSizeFlag=this._invalidatePropertiesFlag=!1,i=a(this.getRawChildren)?this.getRawChildren():this,e=i.getNumChildren(),t=0;t<e;t++)n=i.getChildAt(t),this!=n&&n instanceof m&&n.resetInvalidate()},m.prototype._updateCompleteHandler=function(t){He.getInstance().removeEventListener("updateComplete",this._updateCompleteHandler,this),this._processEffectFinished(this._endingEffectInstances),this._endingEffectInstances=[]},m.prototype._processEffectFinished=function(t){var e,i,n,s,r,a;for(e=this._effectsStarted.length-1;0<=e;e--)for(i=0;i<t.length;i++)if(a=t[i],a==this._effectsStarted[e]){for(i=this._effectsStarted[e],this._effectsStarted.splice(e,1),s=i.getEffect().getAffectedProperties(),n=0;n<s.length;n++)if(r=s[n],void 0!=this._affectedProperties[r]){for(i=0;i<this._affectedProperties[r].length;i++)if(this._affectedProperties[r][i]==a){this._affectedProperties[r].splice(i,1);break}0==this._affectedProperties[r].length&&delete this._affectedProperties[r]}break}this._isEffectStarted=0<this._effectsStarted.length,a&&a.getHideFocusRing()&&(this._preventDrawFocus=!1)},m.prototype._getEffectsForProperty=function(t){return void 0!=this._affectedProperties[t]?this._affectedProperties[t]:[]},m.prototype._$addChild=function(t){return m._super.addChild.call(this,t)},m.prototype._$addChildAt=function(t,e){return m._super.addChildAt.call(this,t,e)},m.prototype._$removeChild=function(t){return m._super.removeChild.call(this,t)},m.prototype._$removeChildAt=function(t){return m._super.removeChildAt.call(this,t)},ge(_,m),_._defaultStyles={backgroundAlpha:1},_.prototype.setWidth=function(t){_._super.setWidth.call(this,t),this._percentWidth=null,this._explicitWidth!=t&&(this._explicitWidth=t,this.invalidateSize()),(t=this.getParent())&&t instanceof m&&this._includeInLayout&&(t.invalidateSize(),t.invalidateDisplayList())},_.prototype.setHeight=function(t){_._super.setHeight.call(this,t),this._percentHeight=null,this._explicitHeight!=t&&(this._explicitHeight=t,this.invalidateSize()),(t=this.getParent())&&t instanceof m&&this._includeInLayout&&(t.invalidateSize(),t.invalidateDisplayList())},_.prototype.getDoubleClickEnabled=function(){return this._doubleClickEnabled},_.prototype.setDoubleClickEnabled=function(t){this._doubleClickEnabled=t;var e,i,n,s=a(this.getRawChildren)?this.getRawChildren():this;for(e=0,i=s.getNumChildren();e<i;e++)n=s.getChildAt(e),n instanceof _&&n.setDoubleClickEnabled(t)},_.prototype.getMinWidth=function(){return isNaN(this._explicitMinWidth)?this.measuredMinWidth:this._explicitMinWidth},_.prototype.setMinWidth=function(t){this.getExplicitMinWidth()!=t&&this.setExplicitMinWidth(t)},_.prototype.getMinHeight=function(){return isNaN(this._explicitMinHeight)?this.measuredMinHeight:this._explicitMinHeight},_.prototype.setMinHeight=function(t){this.getExplicitMinHeight()!=t&&this.setExplicitMinHeight(t)},_.prototype.getMaxWidth=function(){return isNaN(this._explicitMaxWidth)?1193046:this._explicitMaxWidth},_.prototype.setMaxWidth=function(t){this.getExplicitMaxWidth()!=t&&this.setExplicitMaxWidth(t)},_.prototype.getMaxHeight=function(){return isNaN(this._explicitMaxHeight)?1193046:this._explicitMaxHeight},_.prototype.setMaxHeight=function(t){this.getExplicitMaxHeight()!=t&&this.setExplicitMaxHeight(t)},_.prototype.getExplicitMinWidth=function(){return this._explicitMinWidth},_.prototype.setExplicitMinWidth=function(t){this._explicitMinWidth!=t&&(this._explicitMinWidth=t,this.invalidateSize(),(t=this.getParent())&&t instanceof _&&this._includeInLayout&&(t.invalidateSize(),t.invalidateDisplayList()))},_.prototype.getExplicitMinHeight=function(){return this._explicitMinHeight},_.prototype.setExplicitMinHeight=function(t){this._explicitMinHeight!=t&&(this._explicitMinHeight=t,this.invalidateSize(),(t=this.getParent())&&t instanceof _&&this._includeInLayout&&(t.invalidateSize(),t.invalidateDisplayList()))},_.prototype.getExplicitMaxWidth=function(){return this._explicitMaxWidth},_.prototype.setExplicitMaxWidth=function(t){this._explicitMaxWidth!=t&&(this._explicitMaxWidth=t,this.invalidateSize(),(t=this.getParent())&&t instanceof _&&this._includeInLayout&&(t.invalidateSize(),t.invalidateDisplayList()))},_.prototype.getExplicitMaxHeight=function(){return this._explicitMaxHeight},_.prototype.setExplicitMaxHeight=function(t){this._explicitMaxHeight!=t&&(this._explicitMaxHeight=t,this.invalidateSize(),(t=this.getParent())&&t instanceof _&&this._includeInLayout&&(t.invalidateSize(),t.invalidateDisplayList()))},_.prototype.getExplicitWidth=function(){return this._explicitWidth},_.prototype.setExplicitWidth=function(t){this._explicitWidth!=t&&(o(t)||(this._percentWidth=null),this._explicitWidth=t,_._super.setWidth.call(this,t),this.invalidateSize(),(t=this.getParent())&&t instanceof _&&this._includeInLayout&&(t.invalidateSize(),t.invalidateDisplayList()))},_.prototype.getExplicitHeight=function(){return this._explicitHeight},_.prototype.setExplicitHeight=function(t){this._explicitHeight!=t&&(o(t)||(this._percentHeight=null),this._explicitHeight=t,_._super.setHeight.call(this,t),this.invalidateSize(),(t=this.getParent())&&t instanceof _&&this._includeInLayout&&(t.invalidateSize(),t.invalidateDisplayList()))},_.prototype.getPercentWidth=function(){return this._percentWidth},_.prototype.setPercentWidth=function(t){this._percentWidth!=t&&(o(t)||(this._explicitWidth=NaN),this._percentWidth=t,Ee.setStyle(this,"width",t+"%"),(t=this.getParent())&&t instanceof _&&this._includeInLayout&&(t.invalidateSize(),t.invalidateDisplayList()))},_.prototype.getPercentHeight=function(){return this._percentHeight},_.prototype.setPercentHeight=function(t){this._percentHeight!=t&&(o(t)||(this._explicitHeight=NaN),this._percentHeight=t,Ee.setStyle(this,"height",t+"%"),(t=this.getParent())&&t instanceof _&&this._includeInLayout&&(t.invalidateSize(),t.invalidateDisplayList()))},_.prototype.setEnabled=function(t){this._enabled!=t&&(_._super.setEnabled.call(this,t),this.invalidateDisplayList())},_.prototype.getStyleName=function(){return this._styleName},_.prototype.setStyleName=function(t){this._styleName!=t&&(this._styleName&&(this._styleName instanceof _?(Ee.removeClass(this.element,"Kool__"+this._styleName.className),this._classStyle=null):Ee.removeClass(this.element,this._styleName)),this._styleName=t)&&(t instanceof _?(Ee.addClass(this.element,"Kool__"+t.className),this._classStyle=t):t instanceof g?(Ee.addClass(this.element,t._cssName),this._classStyle=t):t.hasOwnProperty("className")?(Ee.addClass(this.element,"Kool__"+t.className),this._classStyle=t):Ee.addClass(this.element,t),this.styleChanged("styleName"))},_.prototype.getContextMenu=function(){return this._contextMenu},_.prototype.setContextMenu=function(t){this._contextMenu!=t&&(this._contextMenu&&(this._contextMenu.removeEventListener(ContextMenuEvent.MENU_ITEM_SELECT,this._contextMenuItemSelectHandler,this),this.removeEvent("contextmenu",this._contextMenuHandler,this),this.removeChild(this._contextMenu)),this._contextMenu=t,t instanceof ContextMenu&&(this._contextMenu.setVisible(!1),this._contextMenu.addEventListener(ContextMenuEvent.MENU_ITEM_SELECT,this._contextMenuItemSelectHandler,this),this.addChild(this._contextMenu),this.addEvent("contextmenu",this._contextMenuHandler,this)))},_.prototype.setVisible=function(t){_._super.setVisible.call(this,t),t&&(0<(this.element.style.width+"").indexOf("%")||0<(this.element.style.height+"").indexOf("%"))&&(this.invalidateSize(),this.invalidateDisplayList())},_.prototype.clearStyles=function(){this._styles={},this._classStyle=null,this._cachedTextFormat=this.element.style.cssText=null},_.prototype.setStyle=function(t,e){var i;0==t.indexOf("padding")?this.setPxStyle(t,e):(this._styles.hasOwnProperty(t)||this.constructor._defaultStyles&&this.constructor._defaultStyles.hasOwnProperty(t)?(this._styles[t]=e,"backgroundAlpha"===t&&Ee.setBackgroundAlpha(this,e)):(Ee.setStyle(this.element,t,e),i=this.getStyle("backgroundAlpha"),"backgroundColor"!==t||l(i)||1==i||Ee.setBackgroundAlpha(this,i)),this.styleChanged(t))},_.prototype.setPxStyle=function(t,e){this._styles.hasOwnProperty(t)||this.constructor._defaultStyles&&this.constructor._defaultStyles.hasOwnProperty(t)?this._styles[t]=e:Ee.setPxStyle(this.element,t,e),this.styleChanged(t)},_.prototype.getStyle=function(t){if(0==t.indexOf("padding"))return this.getSizeStyle(t);if(this._styles.hasOwnProperty(t))return this._styles[t];if(this._classStyle){if(this._classStyle._styles&&this._classStyle._styles.hasOwnProperty(t))return this._classStyle._styles[t];if(this._classStyle instanceof _&&!h(this._classStyle.getStyle(t)))return this._classStyle.getStyle(t);if(this._classStyle.constructor&&this._classStyle.constructor._defaultStyles&&this._classStyle.constructor._defaultStyles.hasOwnProperty(t))return this._classStyle.constructor._defaultStyles[t]}return this.constructor._defaultStyles&&this.constructor._defaultStyles.hasOwnProperty(t)?this.constructor._defaultStyles[t]:Ee.getStyle(this.element,t)},_.prototype.getSizeStyle=function(t){if(this._styles.hasOwnProperty(t))return parseFloat(this._styles[t]);if(this._classStyle){if(this._classStyle._styles&&this._classStyle._styles.hasOwnProperty(t))return parseFloat(this._classStyle._styles[t]);if(this._classStyle instanceof _&&!h(this._classStyle.getStyle(t)))return this._classStyle.getSizeStyle(t);if(this._classStyle.constructor&&this._classStyle.constructor._defaultStyles&&this._classStyle.constructor._defaultStyles.hasOwnProperty(t))return parseFloat(this._classStyle.constructor._defaultStyles[t])}return this.constructor._defaultStyles&&this.constructor._defaultStyles.hasOwnProperty(t)?parseFloat(this.constructor._defaultStyles[t]):0<=t.indexOf("border")?Ee.getSizeStyleBorder(this.element,t):Ee.getSizeStyle(this.element,t)},_.prototype.setActualSize=function(t,e){if(!o(t)&&!o(e)){var i,n=this.element,s=Ee,r=s.getSizeStyle,a=s.getSizeStyleBorder;i=!1,this.getHeight()!=e&&(i=Le.useBorderBox||this._useBorderBox?0:r(n,"paddingTop")+r(n,"paddingBottom")+a(n,"borderTopWidth")+a(n,"borderBottomWidth"),s.setPxStyle(n,"height",0<e-i?e-i:0),i=!0),this.getWidth()!=t&&(i=Le.useBorderBox||this._useBorderBox?0:r(n,"paddingLeft")+r(n,"paddingRight")+a(n,"borderLeftWidth")+a(n,"borderRightWidth"),s.setPxStyle(n,"width",0<t-i?t-i:0),i=!0),i&&this.invalidateDisplayList()}},_.prototype.move=function(t,e){o(t)||o(e)||(Ee.setPxStyle(this.element,"left",t),Ee.setPxStyle(this.element,"top",e))},_.prototype.measureText=function(t){var e=this._cachedTextFormat;return e||(e={},e.font=this.getStyle("fontFamily"),e.size=this.getStyle("fontSize"),e.bold=this.getStyle("fontWeight"),e.underline=this.getStyle("textDecoration"),e.italic=this.getStyle("fontStyle"),e.align=this.getStyle("textAlign"),e.indent=this.getStyle("textIndent"),e.lineHeight=this.getStyle("lineHeight"),e.spacing=this.getStyle("letterSpacing"),this._cachedTextFormat=e),Be.getInstance().measureText(e,t)},_.prototype.getExplicitOrMeasuredWidth=function(){return o(this._explicitWidth)?this.measuredWidth:this._explicitWidth},_.prototype.getExplicitOrMeasuredHeight=function(){return o(this._explicitHeight)?this.measuredHeight:this._explicitHeight},_.prototype.getErrorString=function(){return this._errorString},_.prototype.setErrorString=function(t){var e=this._errorString;this._errorString=t,ToolTipManager.getInstance().registerErrorString(this,e,t),this._errorStringChanged=!0,this.invalidateProperties(),this.dispatchEvent(new Ue("errorStringChanged"))},_.prototype.showErrorString=function(){},_.prototype.hitTestPoint=function(t,e){var i=this.element.getBoundingClientRect();return t>=i.left&&t<=i.right&&e>=i.top&&e<=i.bottom},_.prototype.setBorderColorForErrorString=function(){this._errorString&&0!=this._errorString.length?(this._saveOutlineColor&&(this._saveOutlineColor=!1,this._origOutlineColor=this.getStyle("outlineColor"),this._origOutlineWidth=this.getStyle("outlineWidth")),this.setStyle("outlineColor",this._errorColor),this.setStyle("outlineStyle","solid"),this.setStyle("outlineWidth",this._errorWidth),this.setAttr("title",this._errorString)):l(this._origOutlineColor)||(this.setStyle("outlineColor",this._origOutlineColor),this.setStyle("outlineWidth",this._origOutlineWidth),this._saveOutlineColor=!0),this.focus()},_.prototype.getToolTip=function(){return this._toolTip},_.prototype.setToolTip=function(t){this._oldValue=this._toolTip,this._toolTip=t,h(t)?this.element.removeAttribute("title"):this.element.title=t,this.dispatchEvent(new Ue("toolTipChanged"))},_.prototype.createChildren=function(){var t=this.element,e="Kool__"+this.className;t.className||(t.className=e,this._styleName&&(e=this._styleName,e instanceof g?Ee.addClass(t,e._cssName):e.hasOwnProperty("className")?Ee.addClass(t,"Kool__"+e.className):Ee.addClass(t,e)))},_.prototype.styleChanged=function(t){this._cachedTextFormat=null,_._super.styleChanged.call(this,t)},_.prototype.commitProperties=function(){_._super.commitProperties.call(this),this._errorStringChanged&&(this._errorStringChanged=!1,this.setBorderColorForErrorString())},_.prototype.addPopUpContextMenu=function(t,e){var i=Ee.getWindowSize(),n=this._contextMenu.getWidth(),s=this._contextMenu.getHeight(),r=t,a=e;i.l+i.w>n+t&&i.t+i.h<s+e?a=e-s:i.l+i.w<n+t&&i.t+i.h<s+e?(r=t-n,a=e-s):i.l+i.w<n+t&&i.t+i.h>s+e&&(r=t-n),this.removeChild(this._contextMenu),PopUpManager.addPopUp(this._contextMenu,this,!1),PopUpManager.movePopUp(this._contextMenu,r,a),this._contextMenu.setVisibility(!0),Pe.documentAddEvent("mousedown",this._contextMenuDocumentMouseDownHandler,this),Le.ie8L||Pe.windowAddEvent("blur",this._contextMenuWindowBlurHandler,this)},_.prototype.removePopUpContextMenu=function(){this._contextMenu&&(PopUpManager.removePopUp(this._contextMenu),this._contextMenu.setVisible(!1),this.addChild(this._contextMenu),Pe.documentRemoveEvent("mousedown",this._contextMenuDocumentMouseDownHandler,this),Le.ie8L||Pe.windowRemoveEvent("blur",this._contextMenuWindowBlurHandler,this))},_.prototype._contextMenuHandler=function(t){t.target&&(t.target.selfElement instanceof ScrollBar||t.target.selfElement instanceof BrowserScrollBar)||t.defaultPrevented||(t.preventDefault(),t.stopPropagation(),this._contextMenu.setVisible(!0),this._contextMenu.setVisibility(!1),(t=Pe.getEventPageXY(t))&&this.addPopUpContextMenu(t.x,t.y))},_.prototype._contextMenuDocumentMouseDownHandler=function(t){this._contextMenu&&this._contextMenu.getVisible()&&(!t.target||!t.target.selfElement||t.target.selfElement!=this._contextMenu&&t.target.selfElement.getParent()!=this._contextMenu)&&(t.target&&this._contextMenu.element.contains(t.target)||this.removePopUpContextMenu())},_.prototype._contextMenuItemSelectHandler=function(t){this.removePopUpContextMenu(),this.dispatchEvent(t)},_.prototype._contextMenuWindowBlurHandler=function(t){this.removePopUpContextMenu()},ge(y,_),y.TEXT_WIDTH_PADDING=3,y.TEXT_HEIGHT_PADDING=1,y.prototype.getMultiline=function(){return this._multiline},y.prototype.setMultiline=function(t){this._multiline!=t&&(this._multiline=t,this._multilineChanged=!0,this.invalidateProperties())},y.prototype.getText=function(){return this._text},y.prototype.setText=function(t){this._text!=t&&(this._text=t,this._textChanged=!0,this.clearStyle("width"),this.clearStyle("height"),this.invalidateProperties())},y.prototype.getTextHeight=function(){var t=this.element.style;if(t.height&&"auto"!=t.height){var e=t.height;t.height="auto";var i=Ee.getOffsetHeight(this.element);return t.height=e,i}return this.getHeight()},y.prototype.getTextWidth=function(){var t=this.element,e=t.style;return e.width&&"auto"!=e.width?t.scrollWidth>t.offsetWidth?t.scrollWidth:t.offsetWidth:this.getWidth()},y.prototype.getWordWrap=function(){return this._wordWrap},y.prototype.setWordWrap=function(t){this._wordWrap!=t&&(this._wordWrap=t,this._wordWrapChanged=!0,this.invalidateProperties())},y.prototype.getHeight=function(){var t=this.element,e=t.style,i=e.height;return!this._visible||i?this.ignorePadding?Le.useBorderBox?this._num(i)-this._num(e.paddingTop)-this._num(e.paddingBottom):this._num(i):Le.useBorderBox?this._num(i):this._num(i)+this._num(e.paddingTop)+this._num(e.paddingBottom)+this._num(e.borderTopWidth)+this._num(e.borderBottomWidth):isNaN(this._offsetHeight)&&(this._offsetHeight=Ee.getOffsetHeight(t),this._text&&0===this._offsetHeight)?(this._offsetHeight=NaN,0):this._offsetHeight},y.prototype.setHeight=function(t){var e,n=this.element,s=n.style,r=Ee;this._explicitHeight!=t&&(this._explicitHeight=t,this._offsetHeight=this._offsetWidth=NaN),i(t)&&0<=t.indexOf("%")?r.setStyle(n,"height",t):(e=this.ignorePadding?Le.useBorderBox?this._num(s.paddingTop)+this._num(s.paddingBottom):0:Le.useBorderBox?0:this._num(s.paddingTop)+this._num(s.paddingBottom)+this._num(s.borderTopWidth)+this._num(s.borderBottomWidth),this._num(s.height)+e!=t&&r.setPxStyle(n,"height",0<t-e?t-e:0))},y.prototype.getWidth=function(){var t=this.element,e=t.style,i=e.width;return!this._visible||i?this.ignorePadding?Le.useBorderBox?this._num(i)-this._num(e.paddingLeft)-this._num(e.paddingRight):this._num(i):Le.useBorderBox?this._num(i):this._num(i)+this._num(e.paddingLeft)+this._num(e.paddingRight)+this._num(e.borderLeftWidth)+this._num(e.borderRightWidth):isNaN(this._offsetWidth)&&(this._offsetWidth=Ee.getOffsetWidth(t),this._text&&0===this._offsetWidth)?(this._offsetWidth=NaN,0):this._offsetWidth},y.prototype.setWidth=function(t){var e,n=this.element,s=n.style,r=Ee;this._explicitWidth!=t&&(this._explicitWidth=t,this._offsetHeight=this._offsetWidth=NaN),i(t)&&0<=t.indexOf("%")?r.setStyle(n,"width",t):(e=this.ignorePadding?Le.useBorderBox?this._num(s.paddingLeft)+this._num(s.paddingRight):0:Le.useBorderBox?0:this._num(s.paddingLeft)+this._num(s.paddingRight)+this._num(s.borderLeftWidth)+this._num(s.borderRightWidth),this._num(s.width)+e!=t&&r.setPxStyle(n,"width",0<t-e?t-e:0))},y.prototype.truncateToFit=function(){"ellipsis"!=this.getStyle("textOverflow")&&this.setStyle("textOverflow","ellipsis"),this._offsetHeight=this._offsetWidth=NaN},y.prototype.commitProperties=function(){y._super.commitProperties.call(this),this._offsetHeight=this._offsetWidth=NaN,this._textChanged&&(this.element.innerHTML=this._text,this._textChanged=!1),this._multilineChanged&&(this._visible?Ee.setStyle(this.element,"display",this._multiline?"inline-block":"inline"):this._oldDisplay=this._multiline?"inline-block":"inline",this._multilineChanged=!1),this._wordWrapChanged&&(Ee.setWordWrap(this.element,this._wordWrap),this._wordWrapChanged=!1)},y.prototype.getExplicitOrMeasuredWidth=function(){return isNaN(this._explicitWidth)?this.getWidth():this._explicitWidth},y.prototype.getExplicitOrMeasuredHeight=function(){return isNaN(this._explicitHeight)?this.getHeight():this._explicitHeight},y.prototype.setActualSize=function(t,e){if(!o(t)&&!o(e)){var i=this.element,n=i.style,s=Ee,r=0;this.getHeight()!=e&&(r=this._num(n.paddingTop)+this._num(n.paddingBottom)+this._num(n.borderTopWidth)+this._num(n.borderBottomWidth),s.setPxStyle(i,"height",0<e-r?e-r:0)),this.getWidth()!=t&&(r=this._num(n.paddingLeft)+this._num(n.paddingRight)+this._num(n.borderLeftWidth)+this._num(n.borderRightWidth),s.setPxStyle(i,"width",0<t-r?t-r:0))}},y.prototype.notifyStyleChangeInChildren=function(t,e){},y.prototype.styleChanged=function(t){(h(t)||Ie.sizeInvalidatingStyles[t]||"styleName"==t)&&(this._offsetHeight=this._offsetWidth=NaN)},y.prototype.validateDisplayList=function(){},y.prototype._num=function(t){return t=parseFloat(t),isNaN(t)?0:t},v.graphicTag=null,ge(v,m),v.prototype.setStyleName=function(t){_.prototype.setStyleName.call(this,t)},v.prototype.getStyleName=function(){return this._styleName},v.prototype.setPercentWidth=function(t){_.prototype.setPercentWidth.call(this,t)},v.prototype.getPercentWidth=function(){return _.prototype.getPercentWidth.call(this)},v.prototype.setPercentHeight=function(t){_.prototype.setPercentHeight.call(this,t)},v.prototype.getPercentHeight=function(){return _.prototype.getPercentHeight.call(this)},v.prototype.setWidth=function(t){i(this.element)||this._unscaledWidth==t||(this.element.width=t),_.prototype.setWidth.call(this,t)},v.prototype.getWidth=function(){return _.prototype.getWidth.call(this)},v.prototype.setHeight=function(t){i(this.element)||this._unscaledHeight==t||(this.element.height=t),_.prototype.setHeight.call(this,t)},v.prototype.getHeight=function(){return _.prototype.getHeight.call(this)},v.prototype.getMinWidth=function(){return _.prototype.getMinWidth.call(this)},v.prototype.setMinWidth=function(t){_.prototype.setMinWidth.call(this,t)},v.prototype.getMinHeight=function(){return _.prototype.getMinHeight.call(this)},v.prototype.setMinHeight=function(t){_.prototype.setMinHeight.call(this,t)},v.prototype.getMaxWidth=function(){return _.prototype.getMaxWidth.call(this)},v.prototype.setMaxWidth=function(t){_.prototype.setMaxWidth.call(this,t)},v.prototype.getMaxHeight=function(){return _.prototype.getMaxHeight.call(this)},v.prototype.setMaxHeight=function(t){_.prototype.setMaxHeight.call(this,t)},v.prototype._addingChild=function(t){m._addingChild.call(this),this.styleChanged(null)},v.prototype.setStyle=function(t,e){_.prototype.setStyle.call(this,t,e)},v.prototype.getStyle=function(t){return _.prototype.getStyle.call(this,t)},v.prototype.CSSToObject=function(t){var e,i,n,s,r,a={};for(n=t._rules.cssText.replace(/ /g,""),n=n.substring(n.indexOf("{")+1,n.lastIndexOf(";}")).split(";"),e=0,i=n.length;e<i;e+=1)n[e]=n[e].split(":"),s=De.removeHyphen(n[e][0]),""!=s&&(r=t.getStyle(s),a[s]=r);return a},v.prototype.setX=function(t){var e=this.element;this.elementWrapDiv&&(Ee.setPxStyle(e,"left",0),e=this.elementWrapDiv),Ee.setPxStyle(e,"left",t)},v.prototype.getX=function(){var t=this.element;return this.elementWrapDiv&&(t=this.elementWrapDiv),Ee.getSizeStyle(t,"left")},v.prototype.setY=function(t){var e=this.element;this.elementWrapDiv&&(Ee.setPxStyle(e,"top",0),e=this.elementWrapDiv),Ee.setPxStyle(e,"top",t)},v.prototype.getY=function(){var t=this.element;return this.elementWrapDiv&&(t=this.elementWrapDiv),Ee.getSizeStyle(t,"top")},v.prototype._createElement=function(){var t,e=this;if(!i(e.element))throw Error("element is not string in _createElement() of HTMLObject");e.element=E.getInstance().getElement(e.element),e.element.selfElement=e,e.element.setAttribute("class","Kool__"+e.className+" Kool__pointer-events-none"),a(e.element.getContext)||(e.element.getContext=function(){return this.svgContext}),e.graphics=t=e.element.getContext("2d"),t.imageSmoothingEnabled=!1,t.mozImageSmoothingEnabled=!1,t.oImageSmoothingEnabled=!1,t.webkitImageSmoothingEnabled=!1,t.msImageSmoothingEnabled=!1,t.imageSmoothingQuality="high",a(e.graphics.measureText)||(e.graphics.measureText=function(t){var e=this.getStyle(),i=this._cachedTextFormat;return i||(i={},i.font=e.fontFamily,i.size=e.fontSize,i.bold=e.fontWeight,i.underline=e.textDecoration,i.italic=e.fontStyle,i.align=e.textAlign,i.indent=e.textIndent,i.lineHeight=e.lineHeight,i.spacing=e.letterSpacing,this._cachedTextFormat=i),Be.getInstance().measureText(i,t)},e.graphics.clearRect=function(){for(var t=this.svg.svgElement;t.childNodes[0];)t.removeChild(t.childNodes[0])},e.graphics.fillText=function(t,i,n){Ee.setAttr(t,"fill",Me.color2hex(e.graphics.fillStyle)),this.svg.append(t)})},v.prototype.getExplicitOrMeasuredWidth=function(){return isNaN(this._explicitWidth)?this.measuredWidth:this._explicitWidth},v.prototype.getExplicitOrMeasuredHeight=function(){return isNaN(this._explicitHeight)?this.measuredHeight:this._explicitHeight},v.prototype.setVisible=function(t,e){var n,s=e||this.element;if(s&&!i(s)&&(this._visible!=this.getVisible()||this._visible!=t)&&(v._super.setVisibility.call(this,t),this.userVisible=this._visible=t,Le.ie8L&&Ee.setStyle(s,s.childNodes[0],"visibility",this.getStyle("visibility")),Le.isBB&&Ee.setStyle(s,"display",t?"block":"none"),s.owner&&s.owner.busyDivs)){n=s.owner.busydivs;for(var r in n)Ee.setStyle(n[r],"visibility",s.getStyle("visibility"))}},v.prototype.setActualSize=function(t,e){var n,s=this.element,r=Le.checkRetinaRatio();i(s)&&(s=null),t=Math.floor(0>t?0:t),e=Math.floor(0>e?0:e),this._unscaledWidth==t&&this._unscaledHeight==e||(this._unscaledWidth=this.width=t,this._unscaledHeight=this.height=e,s&&!i(s)&&(this.elementWrapDiv&&(n=s.parentNode,Ee.setPxStyle(n,"width",t),Ee.setPxStyle(n,"height",e)),this.graphics?(s.width=t*r,s.height=e*r,"CANVAS"!=s.tagName||this.graphics.svg||this.graphics.scale(r,r)):(s.width=t,s.height=e),Ee.setPxStyle(s,"width",t),Ee.setPxStyle(s,"height",e)),this.invalidateDisplayList())},v.prototype.move=function(t,e){var n,s=this.element;this.x=Math.floor(t),this.y=Math.floor(e),s&&!i(s)&&(this.elementWrapDiv&&(n=s.parentNode,Ee.setPxStyle(n,"left",t),Ee.setPxStyle(n,"top",e),t=e=0),Ee.setPxStyle(s,"left",t),Ee.setPxStyle(s,"top",e))},v.prototype.clear=function(t){t=t||this.element;var e=this._unscaledWidth,i=this._unscaledHeight,n=t.getContext("2d"),s=Le.checkRetinaRatio();n.clearRect(0,0,e,i),"534.30"==Le.appleWebKit&&(t.width=t.height=0,t.width=e*s,t.height=i*s,n.scale(s,s),Ee.setPxStyle(t,"width",e),Ee.setPxStyle(t,"height",i))},v.prototype.fillText=function(t,e,i,n){Ce.fillText(this.labelLayer?this.labelLayer:this,t,e,i,n)},v.prototype.setFont=function(t){Ce.setFont(this,t)},v.prototype.getFont=function(){return Ce.getFont.call(this)},v.prototype.measureText=function(t,e){return s(t)&&e&&(t.text=t[e]),Ce.measureText(this,t)};var ye=function(t,e,i,n){this.x=0<arguments.length?t:0,this.y=1<arguments.length?e:0,this.width=2<arguments.length?i:0,this.height=3<arguments.length?n:0};S.prototype.setLeft=function(t){var e=this.right-t;this.doNotFloor||(t=Math.floor(t),e=Math.floor(this.right-t)),this.left=this.x=t,this.width=e},S.prototype.setRight=function(t){var e=t-this.left;this.doNotFloor||(t=Math.floor(t),e=Math.floor(t-this.left)),this.right=t,this.width=e},S.prototype.setTop=function(t){var e=this.bottom-t;this.doNotFloor||(t=Math.floor(t),e=Math.floor(this.bottom-t)),this.top=this.y=t,this.height=e},S.prototype.setBottom=function(t){var e;e=t-this.top,this.doNotFloor||(t=Math.floor(t),e=Math.floor(t-this.top)),this.bottom=t,this.height=e},S.prototype.contains=function(t,e){return t>=this.x&&t<=this.right&&e>=this.y&&e<=this.bottom},S.prototype.intersects=function(t){return new fe,!(this.x>t.x+t.width||this.x+this.width<t.x||this.y>t.y+t.height||this.y+this.height<t.y)},S.prototype.clone=function(){return new S(this.x,this.y,this.width,this.height)};var ve=function(){this.uno=ke.elementNo++};ve.prototype.newInstance=function(){};var Se=function(t){ve.call(this),this.generator=0<arguments.length?t:null,this.properties=null};ge(Se,ve),Se.prototype.newInstance=function(){var t=new this.generator;if(null!=this.properties)for(var e in this.properties)t[e]=this.properties[e];return t},C.prototype.getNumChildren=function(){return this._owner._$getNumChildren()},C.prototype.addChild=function(t){return this._owner._rawChildren_addChild(t)},C.prototype.addChildAt=function(t,e){return this._owner._rawChildren_addChildAt(t,e)},C.prototype.removeChild=function(t){return this._owner._rawChildren_removeChild(t)},C.prototype.removeChildAt=function(t){return this._owner._rawChildren_removeChildAt(t)},C.prototype.getChildAt=function(t){return this._owner._rawChildren_getChildAt(t)},C.prototype.getChildByName=function(t){return this._owner._rawChildren_getChildByName(t)},C.prototype.getChildIndex=function(t){return this._owner._rawChildren_getChildIndex(t)},C.prototype.setChildIndex=function(t,e){return this._owner._rawChildren_setChildIndex(t,e)},C.prototype.contains=function(t){return this._owner._rawChildren_contains(t)},b._propertyType={children:Array},ge(b,_),b.prototype._defaultProperty="children",b.prototype.getAutoLayout=function(){return this._autoLayout},b.prototype.setAutoLayout=function(t){(this._autoLayout=t)&&(this.invalidateSize(),this.invalidateDisplayList(),(t=this.getParent())&&(t.invalidateSize(),t.invalidateDisplayList()))},b.prototype.getBorderMetrics=function(){return this._border?this._border.getBorderMetrics():Ee.getBorderMetrics(this)},b.prototype._getFirstChildIndex=function(){return this._firstChildIndex},b.prototype.getHorizontalScrollPolicy=function(){return this._horizontalScrollPolicy},b.prototype.setHorizontalScrollPolicy=function(t){this._horizontalScrollPolicy!=t&&(this._horizontalScrollPolicy=t,t="on"==t?"scroll":"off"==t?"hidden":"auto",this._contentPane?this._contentPane.setStyle("overflowX",t):this.setStyle("overflowX",t),this.invalidateDisplayList())},b.prototype.getHorizontalScrollPosition=function(){return this._contentPane?this._contentPane.element.scrollLeft:this.element.scrollLeft},b.prototype.setHorizontalScrollPosition=function(t){this._contentPane&&(this._contentPane.element.scrollLeft=t),this.element.scrollLeft=t},b.prototype.getIconSrc=function(){return this._iconSrc},b.prototype.setIconSrc=function(t){this._iconSrc=t,this.dispatchEvent(new Ue("iconSrcChanged"))},b.prototype.getLabel=function(){return this._label},b.prototype.setLabel=function(t){this._label=t,this.dispatchEvent(new Ue("labelChanged"))},b.prototype.getMaxHorizontalScrollPosition=function(){return this._contentPane?this._contentPane.element.scrollWidth-this._contentPane.element.clientWidth:this.element.scrollWidth-this.element.clientWidth},b.prototype.getMaxVerticalScrollPosition=function(){return this._contentPane?this._contentPane.element.scrollHeight-this._contentPane.element.clientHeight:this.element.scrollHeight-this.element.clientHeight},b.prototype._$getNumChildren=function(){return b._super.getNumChildren.call(this)},b.prototype.getNumChildren=function(){return this._contentPane?this._contentPane.getNumChildren():this._numChildren},b.prototype.getRawChildren=function(){return this._rawChildren||(this._rawChildren=new C(this)),
this._rawChildren},b.prototype.getSelectedIconSrc=function(){return this._selectedIconSrc},b.prototype.setSelectedIconSrc=function(t){this._selectedIconSrc=t,this.dispatchEvent(new Ue("selectedIconSrcChanged"))},b.prototype._getUsePadding=function(){return!0},b.prototype.getVerticalScrollPolicy=function(){return this._verticalScrollPolicy},b.prototype.setVerticalScrollPolicy=function(t){this._verticalScrollPolicy!=t&&(this._verticalScrollPolicy=t,t="on"==t?"scroll":"off"==t?"hidden":"auto",this._contentPane?this._contentPane.setStyle("overflowY",t):this.setStyle("overflowY",t),this.invalidateDisplayList())},b.prototype.getVerticalScrollPosition=function(){return this._contentPane?this._contentPane.element.scrollTop:this.element.scrollTop},b.prototype.setVerticalScrollPosition=function(t){this._contentPane&&(this._contentPane.element.scrollTop=t),this.element.scrollTop=t},b.prototype.getViewMetrics=function(){var t=this.getBorderMetrics();return this._horizontalScrollBarExist||this._verticalScrollBarExist?(this._viewMetrics?(this._viewMetrics.left=t.left,this._viewMetrics.right=t.right,this._viewMetrics.top=t.top,this._viewMetrics.bottom=t.bottom):this._viewMetrics=t.clone(),this._verticalScrollBarExist&&(this._viewMetrics.right+=Le.getScrollBarWidth()),this._horizontalScrollBarExist&&(this._viewMetrics.bottom+=Le.getScrollBarHeight()),this._viewMetrics):t},b.prototype.getViewMetricsAndPadding=function(){if(!(!this._viewMetricsAndPadding||this._horizontalScrollBarExist&&"on"!=this._horizontalScrollPolicy||this._verticalScrollBarExist&&"on"!=this._verticalScrollPolicy))return this._viewMetricsAndPadding;this._viewMetricsAndPadding||(this._viewMetricsAndPadding=new me);var t=this._viewMetricsAndPadding,e=this.getViewMetrics(),i=Ee.getPaddingMetrics(this._contentPane);return t.left=e.left+i.left,t.right=e.right+i.right,t.top=e.top+i.top,t.bottom=e.bottom+i.bottom,t},b.prototype.setVisible=function(t){if(b._super.setVisible.call(this,t),t){var e,i;for(t=0,e=this.getNumChildren();t<e;t++)i=this.getChildAt(t),i instanceof m&&(i instanceof b&&(Le.ie&&!Le.ie8L||Le.edge)&&i._invalidateViewMetricsAndPadding(),i.invalidateSize())}},b.prototype.addChild=function(t){return this.addChildAt(t,this.getNumChildren())},b.prototype.addChildAt=function(t,e){var i=t.getParent();return i&&(i==this&&(e=e==this.getNumChildren()?e-1:e),i.removeChild(t)),this._addingChild(t),this._contentPane?(this._contentPane.addChildAt(t,e),Ee.setStyle(t,"position","absolute")):this._$addChildAt(t,this._firstChildIndex+e),this._childAdded(t),t},b.prototype._addingChild=function(t){b._super._addingChild.call(this,t),this.invalidateSize(),this.invalidateDisplayList(),this._contentPane||(0==this._numChildren&&(this._firstChildIndex=b._super.getNumChildren.call(this)),this._numChildren++),this._contentPane&&!this._autoLayout&&(this._forceLayout=!0,He.getInstance().addEventListener("updateComplete",this._layoutCompleteHandler,this))},b.prototype._childAdded=function(t){b._super._childAdded.call(this,t),this.dispatchEvent(new Xe(Xe.CHILD_ADD,(!1),(!1),t)),t.dispatchEvent(new Ue("add"))},b.prototype.removeChild=function(t){return this._removingChild(t),this._contentPane?this._contentPane.removeChild(t):this._$removeChild(t),this._childRemoved(t),t},b.prototype.removeChildAt=function(t){return this.removeChild(this.getChildAt(t))},b.prototype._removingChild=function(t){b._super._removingChild.call(this,t),t.dispatchEvent(new Ue("remove")),this.dispatchEvent(new Xe(Xe.CHILD_REMOVE,(!1),(!1),t))},b.prototype._childRemoved=function(t){b._super._childRemoved.call(this,t),this.invalidateSize(),this.invalidateDisplayList(),this._contentPane||(this._numChildren--,0==this._numChildren&&(this._firstChildIndex=b._super.getNumChildren.call(this))),this._contentPane&&!this._autoLayout&&(this._forceLayout=!0,He.getInstance().addEventListener("updateComplete",this._layoutCompleteHandler,this))},b.prototype.getChildAt=function(t){return this._contentPane?this._contentPane.getChildAt(t):b._super.getChildAt.call(this,this._firstChildIndex+t)},b.prototype.getChildByName=function(t){if(this._contentPane)return this._contentPane.getChildByName(t);if(t=b._super.getChildByName.call(this,t),!t)return null;var e=b._super.getChildIndex.call(this,t)-this._firstChildIndex;return 0>e||e>=this._numChildren?null:t},b.prototype.getChildIndex=function(t){return this._contentPane?this._contentPane.getChildIndex(t):b._super.getChildIndex.call(this,t)-this._firstChildIndex},b.prototype.setChildIndex=function(t,e){var i,n=e;if(this._contentPane)this._contentPane.setChildIndex(t,e);else{if(i=b._super.getChildIndex.call(this,t),e+=this._firstChildIndex,e==i)return;b._super.setChildIndex.call(this,t,e),i-=this._firstChildIndex,n=e-this._firstChildIndex}this.invalidateDisplayList(),this.dispatchEvent(new je(je.CHILD_INDEX_CHANGE,(!1),(!1),t,i,n)),this.dispatchEvent(new Ue("childrenChanged"))},b.prototype.contains=function(t){return this._contentPane?this._contentPane.contains(t):b._super.contains.call(this,t)},b.prototype.swapChildren=function(t,e){this._contentPane?this._contentPane.swapChildren(t,e):b._super.swapChildren.call(this,t,e)},b.prototype.swapChildrenAt=function(t,e){this._contentPane?this._contentPane.swapChildrenAt(t,e):b._super.swapChildrenAt.call(this,t,e)},b.prototype._$getChildAt=function(t){return this.getChildAt(t)},b.prototype._layoutChrome=function(t,e){this._border&&(this._border.move(0,0),this._border.setActualSize(t,e))},b.prototype._createBorder=function(){if(!this._border){var t=this.getStyle("borderSkin");h(t)||(this._border=new t,this._border.name="border",this._border instanceof _&&this._border.setEnabled(this._enabled),this.getRawChildren().addChildAt(this._border,0),this.invalidateDisplayList())}},b.prototype._invalidateViewMetricsAndPadding=function(){this._viewMetricsAndPadding=null},b.prototype._checkScrollBarExist=function(){var t,e;return t="off"!==this._horizontalScrollPolicy&&("on"===this._horizontalScrollPolicy||(this._contentPane?this._contentPane.element.scrollWidth>this._contentPane.element.clientWidth:this.element.scrollWidth>this.element.clientWidth)),e="off"!==this._verticalScrollPolicy&&("on"===this._verticalScrollPolicy||(this._contentPane?this._contentPane.element.scrollHeight>this._contentPane.element.clientHeight:this.element.scrollHeight>this.element.clientHeight)),(t!=this._horizontalScrollBarExist||e!=this._verticalScrollBarExist)&&(this._horizontalScrollBarExist=t,this._verticalScrollBarExist=e,this._invalidateViewMetricsAndPadding(),!0)},b.prototype.createChildren=function(){b._super.createChildren.call(this),this._createBorder(),this._autoLayout||(this._forceLayout=!0),He.getInstance().addEventListener("updateComplete",this._layoutCompleteHandler,this),this._numChildrenCreated=this.getNumChildren(),this.setStyle("position","absolute"),this.setStyle("overflow","hidden"),this.setStyle("outline","none")},b.prototype.commitProperties=function(){b._super.commitProperties.call(this),this._changedStyles&&(b._super.notifyStyleChangeInChildren.call(this,"<MULTIPLE>"==this._changedStyles?null:this._changedStyles,!0),this._changedStyles=null)},b.prototype.validateSize=function(t){var e,i;if(this._autoLayout||this._forceLayout)b._super.validateSize.call(this,t);else if(t)for(t=0,e=this.getNumChildren();t<e;t+=1)i=this.getChildAt(t),i instanceof m&&i.validateSize(!0)},b.prototype.validateDisplayList=function(){this._checkScrollBarExist(),(this._autoLayout||this._forceLayout)&&(this._doingLayout=!0,b._super.validateDisplayList.call(this),this._checkScrollBarExist()&&(this._layoutObject&&this._layoutObject.updateDisplayList(this._unscaledWidth,this._unscaledHeight),this._checkScrollBarExist()),this._doingLayout=!1)},b.prototype.updateDisplayList=function(t,e){var i=this._contentPane,n=!1;if(b._super.updateDisplayList.call(this,t,e),this._layoutChrome(t,e),i){if(0<t&&0<e?n=!0:(0>=t||0>=e)&&(n=!1),Ee.setVisibility(this._contentPane,n),!n)return;n=this.getBorderMetrics(),i.setX(0),i.setY(0),i.setWidth(t-n.left-n.right),i.setHeight(e-n.top-n.bottom)}i&&("auto"==this._horizontalScrollPolicy&&this._horizontalScrollBarExist||"auto"==this._verticalScrollPolicy&&this._verticalScrollBarExist)&&i.element.style.setProperty&&(i.element.style.display="none",i.element.style.display="")},b.prototype.notifyStyleChangeInChildren=function(t,e){var i,n=this._numChildren;for(i=0;i<n;i++)if(this._contentPane||i<this._firstChildIndex||i>=this._firstChildIndex+this._numChildren){var s=b._super.getChildAt.call(this,i);s&&(s.styleChanged(t),s instanceof m&&s.notifyStyleChangeInChildren(t,e))}e&&(this._changedStyles=!h(this._changedStyles)||h(t)?"<MULTIPLE>":t,this.invalidateProperties())},b.prototype.styleChanged=function(t){(h(t)||Ie.sizeInvalidatingStyles[t]||"styleName"==t)&&this._invalidateViewMetricsAndPadding(),b._super.styleChanged.call(this,t)},b.prototype.getSizeStyle=function(t){return 0==t.indexOf("padding")&&this._contentPane?this._contentPane.getSizeStyle(t):b._super.getSizeStyle.call(this,t)},b.prototype.setPxStyle=function(t,e){0==t.indexOf("padding")&&this._contentPane?(this._contentPane.setPxStyle(t,e),this.styleChanged(t)):b._super.setPxStyle.call(this,t,e)},b.prototype.contentToGlobal=function(t){return this._contentPane?this._contentPane.localToGlobal(t):this.localToGlobal(t)},b.prototype.globalToContent=function(t){return this._contentPane?this._contentPane.globalToLocal(t):this.globalToLocal(t)},b.prototype.contentToLocal=function(t){return this._contentPane?this.globalToLocal(this.contentToGlobal(t)):t},b.prototype.localToContent=function(t){return this._contentPane?this.globalToContent(this.localToGlobal(t)):t},b.prototype.getChildren=function(){var t,e,i=[];for(e=this.getNumChildren(),t=0;t<e;t++)i.push(this.getChildAt(t));return i},b.prototype.removeAllChildren=function(){for(;0<this.getNumChildren();)this.removeChildAt(0)},b.prototype._rawChildren_addChild=function(t){return 0==this._numChildren&&this._firstChildIndex++,b._super._addingChild.call(this,t),this._$addChild(t),b._super._childAdded.call(this,t),this.dispatchEvent(new Ue("childrenChanged")),t},b.prototype._rawChildren_addChildAt=function(t,e){return this._firstChildIndex<e&&e<this._firstChildIndex+this._numChildren+1?this._numChildren++:e<=this._firstChildIndex&&this._firstChildIndex++,b._super._addingChild.call(this,t),this._$addChildAt(t,e),b._super._childAdded.call(this,t),this.dispatchEvent(new Ue("childrenChanged")),t},b.prototype._rawChildren_removeChild=function(t){return t=this._rawChildren_getChildIndex(t),this._rawChildren_removeChildAt(t)},b.prototype._rawChildren_removeChildAt=function(t){var e=b._super.getChildAt.call(this,t);return b._super._removingChild.call(this,e),this._$removeChildAt(t),b._super._childRemoved.call(this,e),this._firstChildIndex<t&&t<this._firstChildIndex+this._numChildren?this._numChildren--:(0==this._numChildren||t<this._firstChildIndex)&&this._firstChildIndex--,this.invalidateSize(),this.invalidateDisplayList(),this.dispatchEvent(new Ue("childrenChanged")),e},b.prototype._rawChildren_getChildAt=function(t){return b._super.getChildAt.call(this,t)},b.prototype._rawChildren_getChildByName=function(t){return b._super.getChildByName.call(this,t)},b.prototype._rawChildren_getChildIndex=function(t){return b._super.getChildIndex.call(this,t)},b.prototype._rawChildren_setChildIndex=function(t,e){var i=b._super.getChildIndex.call(this,t);b._super.setChildIndex.call(this,t,e),i<this._firstChildIndex&&e>=this._firstChildIndex?this._firstChildIndex--:i>=this._firstChildIndex&&e<=this._firstChildIndex&&this._firstChildIndex++,this.dispatchEvent(new Ue("childrenChanged"))},b.prototype._rawChildren_contains=function(t){return b._super.contains.call(this,t)},b.prototype._layoutCompleteHandler=function(t){He.getInstance().removeEventListener("updateComplete",this._layoutCompleteHandler,this),this._forceLayout=!1},b.prototype._scrollHandler=function(t){t=new Je(Je.SCROLL,(!1),(!1),(!1),0,"vertical",t.delta,t),t.detail=!1,this._contentPane?this._oldScrollTop!=this._contentPane.scrollTop?t.position=this._contentPane.scrollTop:this._oldScrollLeft!=this._contentPane.scrollLeft&&(t.position=this._contentPane.scrollLeft,t.direction="horizontal"):this._oldScrollTop!=this.element.scrollTop?t.position=this.element.scrollTop:this._oldScrollLeft!=this.element.scrollLeft&&(t.position=this.element.scrollLeft,t.direction="horizontal"),this.dispatchEvent(t),this._oldScrollTop=this._contentPane?this._contentPane.scrollTop:this.element.scrollTop,this._oldScrollLeft=this._contentPane?this._contentPane.scrollLeft:this.element.scrollLeft};var Ce={ieFontCheck:function(t){var e,i,n;if(!t)return"";for(t=t.split(","),i=t.length,Le.ie8L&&(i=1),e=0;e<i;e+=1)n=t[e],/['"]/g.test(n)||(t[e]="'"+n+"'");return t.join(",")},isCanvas:function(t){return t instanceof v?t.element.getContext("2d"):t instanceof HTMLCanvasElement?t.getContext("2d"):t instanceof CanvasRenderingContext2D||a(t.beginPath)&&a(t.closePath)?t:null},getLetterSpacing:function(t){var e=Ee.getStyle(t,"letterSpacing");return"normal"==e||Le.chrome?0:Ee.unit2px(t,e)},lineBreakCheckText:function(t,e,i){var n,r,a,o="",l=0,h=0,d=Ce.getLetterSpacing(t);if(Ce.setFont(t),t instanceof v&&(t=t.element),t=t.getContext("2d"),!s(e))for(a=String.prototype.split.call(e,""),n=a.length,e=0;e<n;e+=1)r=a[e],"\n"!=r?(l=t.measureText(r).width+d,h+=l,i<h&&(o+="\n",h=l)):h=0,o+=r;return o},setFont:function(t,e,i){var n,s,a,o,l,h,d,c,u=Ee.getStyle;t instanceof v&&(t=t.element),n=t.getContext("2d"),e||(e={}),e.getStyle||(e.getStyle=function(){}),s=e.color||e.getStyle("color")||u(t,"color"),a=e.fontStyle||e.getStyle("fontStyle")||u(t,"fontStyle"),o=e.fontWeight||e.getStyle("fontWeight")||u(t,"fontWeight"),l=e.fontSize||e.getStyle("fontSize")||u(t,"fontSize"),h=e.fontFamily||e.getStyle("fontFamily")||u(t,"fontFamily"),d=e.textDecoration||e.getStyle("textDecoration")||u(t,"textDecoration"),c=e.letterSpacing||e.getStyle("letterSpacing")||u(t,"letterSpacing"),t=Ee.unit2px(t,e.lineHeight||e.getStyle("lineHeight")||u(t,"lineHeight")),("normal"==c||Le.chrome)&&(c=0),r(l)&&(l+="px"),n.fillStyle=s,n.font=a+" "+o+" "+l+" "+Ce.ieFontCheck(h),n.svg&&(n.fontStyle=a,n.fontFamily=Ce.ieFontCheck(h),n.fontWeight=o,n.fontSize=l),n.save(),i&&(n.applyFont={color:s,fontStyle:a,fontWeight:o,fontSize:l,fontFamily:h,textDecoration:d,letterSpacing:c,lineHeight:t})},getFont:function(t){var e=Ee.getStyle;return t.element&&(t=t.element),{fontSize:e(t,"fontSize"),fontStyle:e(t,"fontStyle"),fontWeight:e(t,"fontWeight"),fontFamily:e(t,"fontFamily"),color:e(t,"color"),textDecoration:e(t,"textDecoration"),letterSpacing:Ce.getLetterSpacing(t),lineHeight:Ee.unit2px(t,e(t,"lineHeight"))}},checkHTMLTag:function(t){var e,i,n,s,r,a,o,l,h=["u","b","i"];if("string"==typeof t&&(t={text:t}),r=t.text,-1<r.indexOf("<font")||-1<r.indexOf("<br>")||-1<r.indexOf("<BR>"))return t.htmlTag=!0,t;for(e=0,i=h.length;e<i;e+=1)for(l=h[e],a=r.split("<"+l+">"),n=1,s=a.length;n<s;n+=1)if(o=a[n],o=o.substring(0,o.indexOf("</"+l+">")),""!=o)return t.htmlTag=!0,t;return t},measureText:function(t,e){var i,n;if(!h(e))return t instanceof v&&(t=t.element),i=t.getContext("2d"),s(e)?n=e.text:(n=e,e={}),n+="",-1<n.indexOf("\n")&&(n=n.replace(/\n/g,"<br>")),e.text=n,Ce.checkHTMLTag(e),e.htmlTag?(e.htmlText=Ce.getHtmlText(e.text),i=Ce.htmlText(t,e,null,!1,0,0),e.width=i.width,e.height=i.height,e.length=i.length):(e.length=e.text.length,e.width=i.measureText(e.text).width+(Le.chrome?0:e.length*Ce.getLetterSpacing(t)),e.height=i.applyFont?parseInt(i.applyFont.fontSize):Ee.getSizeStyle(t,"fontSize")),e.width=Math.round(e.width),e.height=Math.round(e.height),e},getPositionTextAlign:function(t,e,i,n){return"right"==n?t+i-e:"center"==n?t+.5*(i-e):t},fillText:function(t,e,i,n,r,a){var o,h,d,c;if(t instanceof v&&(t=t.element),a=t.getContext("2d"),a.textAlign="left",a.textBaseline="top",e.htmlTag)Ce.htmlText(t,e,null,!0,i,n,r);else{if(r=Ce.getLetterSpacing(t),s(e)&&(a.svg&&(n+=e.height),h=e.width,d=e.height,e=e.text),r)for(c=String.prototype.split.call(e,""),e=0,o=c.length;e<o;e+=1)a.fillText(c[e],i+.5*r,n),i+=a.measureText(c[e]).width+r;else a.svg?a.fillText(e,i,n+(l(d)?0:d)):a.fillText(e,i,n);t.selfElement&&"underline"==t.selfElement.getStyle("textDecoration")&&Ce.drawUnderline(a,i,n+d+2,h)}},htmlText:function(t,e,i,n,s,r,a){var o,h,d,c,u,p=s,g=r,f=0,m=e.htmlText,_=0,y=0;o=Ee.getStyle;var v,S,C,b,x,w,T,D,M=0,I=0,E=0;u=T=0;var P=!0;for(t.element&&(t=t.element),d=t.selfElement?t.selfElement.getStyle("textAlign"):o(t,"textAlign"),r=t.getContext("2d"),i||(i=r.applyFont?r.applyFont:Ce.getFont(t),i.underline=o(t,"textDecoration")),Ce.setFont(t,i),o=0,h=m.length;o<h;o+=1){if(c=m[o],x=c.color||i.color,v=c.i||i.fontStyle,S=c.b||i.fontWeight,C=parseInt(c.size||i.fontSize),b=c.family||i.fontFamily,w=c.u||i.underline,T=i.letterSpacing,D=i.lineHeight,r.fillStyle=x,r.font=v+" "+S+" "+C+"px "+b,P&&(n&&e.rowWidths&&(p=Ce.getPositionTextAlign(s,e.rowWidths[f],a?a:e.width,d)),P=!1),c.htmlText)c.width=e.width,u=Ce.htmlText(t,c,{fontStyle:v,fontWeight:S,fontSize:C,fontFamily:b,color:x,underline:w,letterSpacing:T,lineHeight:D},n,p,g,a),p=u.x,g=u.y,y+=u.length,_+=u.width,u=Math.max(u.height,I);else{if(c.br){p=s,g+=D,n||(e.rowWidths||(e.rowWidths=[]),e.rowWidths.push(_)),_=y=0,f++,P=!0,I=Math.max(g+u,I);continue}c=l(c.text)?c:c.text,T=r.measureText(De.trim(c)).width+c.length*T,_+=T,y+=c.length,u=C,n&&(r.svg?Ce.fillText(t,c,p,g+u):Ce.fillText(t,c,p,g),"underline"==w&&Ce.drawUnderline(r,p,g+u+2,T)),p+=T}E=Math.max(y,E),M=Math.max(_,M),I=Math.max(u,I)}return r.restore(),n||P||!e.rowWidths||e.rowWidths.push(_),{x:p,y:g,width:M,height:I,length:E}},drawUnderline:function(t,e,i,n){switch(n=Math.floor(e+n),e=Math.floor(e)-.5,i=Math.floor(i)-.5,t.save(),t.beginPath(),t.strokeStyle=t.fillStyle,t.lineWidth=1,t.textBaseline){case"top":t.moveTo(e,i),t.lineTo(n,i)}t.closePath(),t.stroke(),t.restore()},getHtmlText:function(t){for(var e,i,n,s,r=t,a=[],l={i:"italic",b:"bold",u:"underline",font:!0};!0;){if(n={},e=r.indexOf("<")+1,r.indexOf(" "),i="font"==r.substring(e,e+4)?r.substring(e,r.length).indexOf(" ",e)+e:r.indexOf(">",e),1!=e&&(t=r.substring(0,e-1),a.push(t),0==e)){t=r.substring(0,r.length),a.pop(),a.push(t);break}if(s=r.substring(e,i),"br"==s)n[s]=!0,a.push(n),r=r.substring(i+1,r.length);else{if(t=r.substring(e,r.indexOf("</"+s+">")+3+s.length),"font"==s){for(n.tagStyle=t.substring(t.indexOf(" ")+1,t.indexOf(">")).split(" "),n.temp={},e=0,i=n.tagStyle.length;e<i;e+=1)n.value=n.tagStyle[e].replace(/ |"|'/g,"").split("="),n.temp[n.value[0]]=o(parseInt(n.value[1]))?n.value[1]:parseInt(n.value[1])+"px";n=Ee.clone(n.temp,"true"),delete n.temp,delete n.value}if(e=t.indexOf(">"),i=t.indexOf("</"+s+">"),t=t.substring(e+1,i),n[s]=l[s],-1<t.indexOf("<")?n.htmlText=Ce.getHtmlText(t):n.text=t,a.push(n),t=r=r.substring(r.indexOf("</"+s+">")+3+s.length,r.length),0>r.indexOf("<")){""!=t&&a.push(t);break}}}return a}},be={stringCompare:function(t,e,i){return t||e?t?e?(i&&(t=t.toLowerCase(),e=e.toLowerCase()),t=t==e?0:t>e?1:-1,-1>t?t=-1:1<t&&(t=1),t):-1:1:0},numericCompare:function(t,e){return o(t)&&o(e)?0:o(t)?1:o(e)||t<e?-1:t>e?1:0},dateCompare:function(t,e){if(!d(t)&&!d(e))return 0;if(!d(t))return 1;if(!d(e))return-1;var i=t.getTime(),n=e.getTime();return i<n?-1:i>n?1:0},guid:function(){function t(t){var e=(Math.random().toString(16)+"000000000").substr(2,8);return t?"-"+e.substr(0,4)+"-"+e.substr(4,4):e}return t()+t(!0)+t(!0)+t()},copy:function(t){if(null==t||"object"!=typeof t)return t;var e,i=t.constructor();for(e in t)t.hasOwnProperty(e)&&(i[e]=be.copy(t[e]));return i},findFunction:function(t){if(a(t))return t;if(0<=t.indexOf(".")){t=t.split(".");var e,i=window;try{for(e=0;e<t.length;e++)if(i=i[t[e]],void 0==i)return}catch(n){return}return i}return window[t]},toXMLString:function(t){var i,n,r,o,d,c="",u="",p="",g=1<arguments.length?arguments[1]:void 0;if(g&&"Style"==g){c+=">";for(o in t){c+=o+"{";for(d in t[o])c+=d+":"+t[o][d]+";";c+="}"}return c+"</"+g+">"}for(o in t)if(c=o,r=t[o],e(r)){if(r[0])if(s(r[0])){for(u+="<"+c+">",i=0,n=r.length;i<n;i+=1)for(d in r[i])u+="<"+d+" "+be.toXMLString(r[i][d],d);u+="</"+c+">"}else p+=o+'="['+be.transXMLInvalidChar(r)+']" '}else s(r)?u+="<"+c+" "+be.toXMLString(r,c):a(r)?((l(this._funcCount)||h(this._funcCount))&&(this._funcCount=0,this._tempFunc={}),this._tempFunc["function_"+this._funcCount]=r,p+=o+'="{function_'+this._funcCount++ +'}"'):p+=o+'="'+r+'" ';return g=g?"</"+g+">":"",""!=u&&""!=p?p+">"+u+g:""!=u?(g&&(u=">"+u),u+=g,!g&&this._tempFunc?(i=be.copy(this._tempFunc),this._tempFunc=this._funcCount=null,{layout:u,functions:i}):u):(g?"":"<")+p+"/>"},transXMLInvalidChar:function(t){if(!i(t))return t;var e,n,s=['"',"'","<",">","&"],r=["&quot;","&apos;","&lt;","&gt;","&amp;"];for(e=0,n=s.length;e<n;e+=1)-1<t.indexOf(s[e])&&(t=t.replace(r[e],s[e]),t=t.replace(s[e],r[e]));return t},getChildLength:function(t){var e,i=0;for(e in t)i++;return i}},xe={sortOn:function(t,e){var i=t.slice();if(1>=arguments.length)return i.sort(function(t,e){return t>e?1:-1});var n=Array.prototype.slice.call(arguments);return n.shift(),i.sort(function(t,e){for(var i=n.slice(),s=i.shift();t[s]==e[s]&&i.length;)s=i.shift();return t[s]==e[s]?0:t[s]>e[s]?1:-1})},map:function(t,e){var i=Array.prototype.slice.call(arguments,3);if(a(t.map))return t.map(e,i);var n=t.length;if("function"!=typeof e)throw new(e+" is not a function");var s,r=Array(n),o=arguments[2];for(s=0;s<n;s++)r[s]=e.apply(o,[t[s],s,t].concat(i));return r},indexOf:function(t,e,i){if(a(t.indexOf))return t.indexOf(e,i);i=i||0;for(var n=t.length;i<n;i++)if(t[i]===e)return i;return-1}},we={elementToString:function(t){return t?window.XMLSerializer?(new window.XMLSerializer).serializeToString(t):t.xml:""},getProperty:function(t,e){return-1!=e.indexOf("@")?we.getAttribute(t,e.split("@")[1]):we.getElementProperty(t,e)},getAttribute:function(t,e){if(t)try{return t.getAttribute(e)}catch(i){try{return t.attributes[e]}catch(n){}}return null},getElementProperty:function(t,e){if(t){var i=t.getElementsByTagName(e);if(i&&0<i.length)return i[0].textContent||i[0].text}return null},getElement:function(t,e){if(t){var i=t.getElementsByTagName(e);if(i&&0<i.length)return i[0]}return null},getElements:function(t,e){if(t){var i=t.getElementsByTagName(e);if(i&&0<i.length)return i}return null},setProperty:function(t,e,i){-1!=e.indexOf("@")?we.setAttribute(t,e.split("@")[1],i):we.setElementProperty(t,e,i)},setAttribute:function(t,e,i){if(t)try{t.setAttribute(e,i)}catch(n){try{return t.attributes[e]=i}catch(s){}}},setElementProperty:function(t,e,n){if(t){var s=t.getElementsByTagName(e);s&&0<s.length?i(s[0].textContent)?s[0].textContent=n:s[0].text=n.toString():(e=9===t.nodeType?t.createElement(e):t.ownerDocument.createElement(e),i(e.textContent)?e.textContent=n:e.text=n.toString(),t.appendChild(e))}},hasElementProperty:function(t,e){if(t){var i=t.getElementsByTagName(e);if(i&&0<i.length)return!0}return!1},getFirstElementChild:function(t){if(t&&0<t.childNodes.length){if(t.firstElementChild)return t.firstElementChild;for(t=t.firstChild;t;t=t.nextSibling)if(1===t.nodeType)return t}return null},escapeXML:function(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"):""},parse:function(t){if(""==t||!t)return null;var e,i;try{window.DOMParser?(e=new DOMParser,i=e.parseFromString(t,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async=!1,i.loadXML(t))}catch(n){throw"Invalid XML e:"+n.message}if(!i||""===i.textContent)throw"Invalid XML";if(e=i.documentElement,!e&&i.parseError)throw"Invalid XML line:"+i.parseError.line+" "+i.parseError.reason;if(!e||!e.nodeName||"parsererror"===e.nodeName)throw"Invalid XML :"+(e&&e.innerHTML?e.innerHTML:e);if(e.firstElementChild&&"parsererror"===e.firstElementChild.nodeName)throw"Invalid XML :"+e.firstElementChild.innerHTML;return i},convertToArray:function(t,e){if(t){var i,n,s,r,a,l,h,d,c=[],u=t.getElementsByTagName(e);for(i=0,s=u.length;i<s;i++)if(n=u[i],1==n.nodeType){for(d=n.childNodes,a={},n=0,r=d.length;n<r;n++)1==d[n].nodeType&&(l=d[n].nodeName,h=d[n].textContent||d[n].text,a[l]=o(Number(h))?h:Number(h));c[i]=a}return c}}},Te={ALPHA_CHAR_CODES:[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70],uidDictionary:{},createUID:function(){var t,e,i=Array(36),n=0;for(t=0;8>t;t++)i[n++]=this.ALPHA_CHAR_CODES[Math.floor(16*Math.random())];for(t=0;3>t;t++)for(i[n++]=45,e=0;4>e;e++)i[n++]=this.ALPHA_CHAR_CODES[Math.floor(16*Math.random())];for(i[n++]=45,e=("0000000"+(new Date).getTime().toString(16).toUpperCase()).substr(-8),t=0;8>t;t++)i[n++]=e.charCodeAt(t);for(t=0;4>t;t++)i[n++]=this.ALPHA_CHAR_CODES[Math.floor(16*Math.random())];return String.fromCharCode.apply(null,i)},isUID:function(t){if(null!=t&&36==t.length){for(var e=0;36>e;e++){var i=t.charCodeAt(e);if(8==e||13==e||18==e||23==e){if(45!=i)return!1}else if(48>i||70<i||57<i&&65>i)return!1}return!0}return!1},getUID:function(t){var e=null;if(null==t)return e;if(i(t))return t;try{if(t.uid)return t.uid;if(n(t)){var s=t.nodeType;if(3===s||2===s||8===s)return t.toString();t.hasOwnProperty?e=t.uid=this.createUID():(e=t.getAttribute("rm_internal_uid"),e||(e=this.createUID(),t.setAttribute("rm_internal_uid",e)))}else{if(t.hasOwnProperty("rm_internal_uid"))return t.rm_internal_uid;if(e=t.hasOwnProperty("uno")?this.uidDictionary[t.uno]:this.uidDictionary[t],!e){e=this.createUID();try{t.rm_internal_uid=e}catch(r){this.uidDictionary[t]=e}}}}catch(r){e=t.toString()}return e}},De={trim:function(t){return t.replace(/^\s+|\s+$/g,"")},lowerToUpper:function(t){return t.replace(/^[a-z|A-Z]/,function(t){return t.toUpperCase()})},addHyphen:function(t){return((t=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}))&&0==t.indexOf("ms-")||0==t.indexOf("webkit-")||0==t.indexOf("moz-"))&&(t="-"+t),t},removeHyphen:function(t){return(t&&0==t.indexOf("-ms-")||0==t.indexOf("-webkit-"))&&(t=t.substr(1)),t.replace(/-[a-z]/g,function(t){return De.lowerToUpper(t.substring(1,2))})}},Me={colorTable:{transparent:[0,0,0,0],aqua:[0,255,255,1],black:[0,0,0,1],blue:[0,0,255,1],fuchsia:[255,0,255,1],gray:[128,128,128,1],green:[0,128,0,1],lime:[0,255,0,1],maroon:[128,0,0,1],navy:[0,0,128,1],olive:[128,128,0,1],purple:[128,0,128,1],red:[255,0,0,1],silver:[192,192,192,1],teal:[0,128,128,1],white:[255,255,255,1],yellow:[255,255,0,1]},color2rgba:function(t,e){if(!t)return!1;var i=Me.color2RgbaArr(t);return 0!=e&&o(e)&&(e=1),i?"rgba("+i[0]+","+i[1]+","+i[2]+","+e+")":null},color2hex:function(t){return!!t&&((t=Me.color2RgbaArr(t))?Me.rgbaArr2hex(t):null)},_pad2:function(t){return 1==t.length?"0"+t:""+t},_clamp_css_byte:function(t){return t=Math.round(t),0>t?0:255<t?255:t},_clamp_css_float:function(t){return 0>t?0:1<t?1:t},_parse_css_int:function(t){return"%"===t[t.length-1]?Me._clamp_css_byte(parseFloat(t)/100*255):Me._clamp_css_byte(parseInt(t))},_parse_css_float:function(t){return"%"===t[t.length-1]?Me._clamp_css_float(parseFloat(t)/100):Me._clamp_css_float(parseFloat(t))},_css_hue_to_rgb:function(t,e,i){return 0>i?i+=1:1<i&&--i,1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t},color2RgbaArr:function(t){if(!t)return null;var e=De.trim(t).toLowerCase();if(Me.colorTable[e])return Me.colorTable[e];if(0===e.indexOf("0x")&&(e=e.replace(/0x/,"#")),"#"===e.charAt(0))return 4===e.length?(t=parseInt(e.substr(1),16),0<=t&&4095>=t?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null):7===e.length?(t=parseInt(e.substr(1),16),0<=t&&16777215>=t?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null):null;var i=e.indexOf("("),n=e.indexOf(")");if(-1!==i&&n+1===e.length)switch(e=t.substr(0,i),i=t.substr(i+1,n-(i+1)).split(","),t=1,e){case"rgba":if(4!==i.length)break;t=Me._parse_css_float(i.pop());case"rgb":if(3!==i.length)break;return[Me._parse_css_int(i[0]),Me._parse_css_int(i[1]),Me._parse_css_int(i[2]),t];case"hsla":if(4!==i.length)break;t=Me._parse_css_float(i.pop());case"hsl":if(3!==i.length)break;return e=(parseFloat(i[0])%360+360)%360/360,n=Me._parse_css_float(i[1]),i=Me._parse_css_float(i[2]),n=.5>=i?i*(n+1):i+n-i*n,i=2*i-n,[Me._clamp_css_byte(255*Me._css_hue_to_rgb(i,n,e+1/3)),Me._clamp_css_byte(255*Me._css_hue_to_rgb(i,n,e)),Me._clamp_css_byte(255*Me._css_hue_to_rgb(i,n,e-1/3)),t]}return null},rgbaArr2hex:function(t){return"#"+Me._pad2(Number(t[0]).toString(16))+Me._pad2(Number(t[1]).toString(16))+Me._pad2(Number(t[2]).toString(16))},color2no:function(t){return!!t&&((t=Me.color2RgbaArr(t))?t[2]|t[1]<<8|t[0]<<16:0)},no2hex:function(t){return"number"==typeof t&&(t="00000"+(0|t).toString(16),t=t.substr(t.length-6).toUpperCase()),t},hex2rgb:function(t){return t.replace(/0x/,"#")},rgb2hex:function(t){return t.replace(/#/,"0x")},rgbToHex:function(t){return Me.rgbaArr2hex(Me.color2RgbaArr(t))},rgbPoint:function(t,e,i){var n=t>>16&255,s=t>>8&255;t&=255;var r=e>>16&255,a=e>>8&255;return e&=255,(n<r?n+(r-n)*i:n-(n-r)*i)<<16|(s<a?s+(a-s)*i:s-(s-a)*i)<<8|(t<e?t+(e-t)*i:t-(t-e)*i)},rgbInterpolate:function(t,e,i){var n,s,r,a=[],o=t>>16&255,l=t>>8&255;t&=255;var h=e>>16&255,d=e>>8&255,c=255&e,u=function(t,e,n,s){return t<e?n/i*(e-t)+t:(t-e)*(1-n/i)+e};for(e=0;e<=i;e+=1)n=u(o,h,e),s=u(l,d,e),r=u(t,c,e),a.push("#"+Me.no2hex((n<<8|s)<<8|r));return a},rgbMiddle:function(t,e){var i=t>>16&255,n=t>>8&255,s=255&t,r=e>>16&255,a=e>>8&255,o=255&e;return(i<r?i+(r-i)/2:i-(i-r)/2)<<16|(n<a?n+(a-n)/2:n-(n-a)/2)<<8|(s<o?s+(o-s)/2:s-(s-o)/2)},adjustBrightness:function(t,e){var i,n;return s(t)?(i=t.color||"#000000",n=o(t.alpha)?1:t.alpha):(i=t,n=1),void 0==e&&(e=0),i=i.replace(/#/,"0x"),i=Number(i),"rgba("+Math.max(Math.min((i>>16&255)+e,255),0)+", "+Math.max(Math.min((i>>8&255)+e,255),0)+", "+Math.max(Math.min((255&i)+e,255),0)+", "+n+")"},adjustBrightness2:function(t,e){var i,n;if(s(t)?(i=t.color||"#000000",n=o(t.alpha)?1:t.alpha):(i=t,n=1),void 0==e&&(e=0),0==t.alpha)return"rgb(255,255,255)";i=i.replace(/#/,"0x"),i=parseInt(i);var r=Math.max(Math.min(i>>16&255,255),0),a=Math.max(Math.min(i>>8&255,255),0),l=Math.max(Math.min(255&i,255),0);return 0==e?"rgba("+r+", "+a+", "+l+", "+n+")":(0>e?(e=(100+e)/100,r=(i>>16&255)*e,a=(i>>8&255)*e,l=(255&i)*e):(e/=100,r=i>>16&255,a=i>>8&255,l=255&i,r=Math.min(r+(255-r)*e,255),a=Math.min(a+(255-a)*e,255),l=Math.min(l+(255-l)*e,255)),"rgba("+parseInt(r)+", "+parseInt(a)+", "+parseInt(l)+", "+n+")")},rgb2hsv:function(t){var e=Me.color2RgbaArr(t);t=e[0]/255;var i=e[1]/255,n=e[2]/255,e=Math.max(t,i,n),s=e-Math.min(t,i,n);return t=60*(0==s?0:t==e?(6+(i-n)/s)%6:i==e?2+(n-t)/s:n==e?4+(t-i)/s:0),0>t&&(t+=360),{h:t,s:100*(0!=e?s/e:0),v:100*e}},hsv2rgb:function(t){var e,i,n,s,r,a,o;o=t.s/100;var l=t.v/100;switch(r=t.h/60,t=Math.floor(r),s=r-t,r=l*(1-o),a=l*(1-s*o),o=l*(1-(1-s)*o),t%6){case 0:e=l,i=o,n=r;break;case 1:e=a,i=l,n=r;break;case 2:e=r,i=l,n=o;break;case 3:e=r,i=a,n=l;break;case 4:e=o,i=r,n=l;break;case 5:e=l,i=r,n=a}return Me.rgbaArr2hex([Math.round(255*e),Math.round(255*i),Math.round(255*n)])}},Ie={productCSSSheetIndex:-2,sizeInvalidatingStyles:{border:1,borderStyle:1,borderWidth:1,borderTopStyle:1,borderTopWidth:1,borderBottomStyle:1,borderBottomWidth:1,borderLeftStyle:1,borderLeftWidth:1,borderRightStyle:1,borderRightWidth:1,fontFamily:1,fontSize:1,fontStyle:1,fontVariant:1,fontWeight:1,headerHeight:1,horizontalAlign:1,horizontalGap:1,lineHeight:1,letterSpacing:1,padding:1,paddingBottom:1,paddingLeft:1,paddingRight:1,paddingTop:1,strokeWidth:1,tabHeight:1,tabWidth:1,verticalAlign:1,verticalGap:1},mustHavePxStyles:{padding:1,paddingLeft:1,paddingRight:1,paddingTop:1,paddingBottom:1,borderWidth:1,borderLeftWidth:1,borderRightWidth:1,borderTopWidth:1,borderBottomWidth:1,borderRadius:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderTopLeftRadius:1,borderTopRightRadius:1,margin:1,marginLeft:1,marginRight:1,marginTop:1,marginBottom:1,fontSize:1,letterSpancing:1,lineHeight:1,outlineWidth:1,textIndent:1},cssStyleList:{cornerRadius:"borderRadius",borderThickness:"borderWidth"},changedPropList:{width:"gaugeWidth",height:"gaugeHeight",linearColumnWidth:"cylinderColumnWidth"}},Ee={extend:function(t,e,i){
t||(t={});for(var n in e)void 0!=t[n]&&i||(t[n]=e[n]);return t},clone:function(t,e){if(t){var i,n=new t.constructor;for(i in t)n[i]=e&&"object"==typeof t[i]?Ee.clone(t[i],e):t[i];return n}},setCssOfObject:function(t,e){var i,n;t instanceof f&&(t=t.element);for(i in e)(n=r(e[i])?Ee.setPxStyle:Ee.setStyle)(t,i,e[i])},getCssofObject:function(t,e){var i,n=0,s={};for(t instanceof f&&(t=t.element);n<e.length;)i=Ee.getStyle(t,e[n]),/%|px|pt/.test(i)&&(i=parseFloat(i.replace(/%|px|pt/,""))),s[e[n]]=i,n++;return s},css:function(t,e){Le.ie&&e&&!l(e.opacity)&&(e.filter="alpha(opacity="+100*e.opacity+")"),Ee.extend(t.style,e)},getHasClass:function(t,e,i){var n=[];for(t=new RegExp(t),i=(i||document).getElementsByTagName(e||"*"),e=0;e<i.length;e++)t.test(i[e].className)&&n.push(i[e]);return n},createElement:function(t,e,i){var n=document.createElement(t);return n.className=e,"div"===t&&(n.style[Le.boxSizing]=i||(Le.useBorderBox?"border-box":"content-box")),n},getAttr:function(t,e){var i=t.getAttribute(e);return""===i?this.hasAttr(e)?i:void 0:i},setAttr:function(t,e,i){Ee.setAttr=Le.supportSetAttribute?function(t,e,i){t.setAttribute(e,i)}:function(t,e,i){var n=t.getAttributeNode(e);n||t.setAttributeNode(n=t.ownerDocument.createAttribute(e)),n.value=i+""},Ee.setAttr(t,e,i)},removeAttr:function(t,e){t.removeAttribute(e)},hasAttr:function(t,e){if(t.hasAttribute)return t.hasAttribute(e);if(t.getAttributeNode){var i=t.getAttributeNode(e);return!!i&&i.specified}},addClass:function(t,e){t instanceof f&&(t=t.element);var i=t.className||"";Ee.hasClass(t,e)||(t.className=i+" "+e)},hasClass:function(t,e){return t instanceof f&&(t=t.element),new RegExp("(\\s|^)"+e+"(\\s|$)").test(t.className)},removeClass:function(t,e){t instanceof f&&(t=t.element),Ee.hasClass(t,e)&&(t.className=t.className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)")," "))},getDisplay:function(t){return"none"!=Ee.getStyleInline(t,"display")},setDisplay:function(t,e,i){return e?void Ee.setStyle(t,"display",i?i:""):(e=Ee.getStyleInline(t,"display"),Ee.setStyle(t,"display","none"),e)},getVisibility:function(t){return"hidden"!=Ee.getStyleInline(t,"visibility")},setVisibility:function(t,e){Ee.setStyle(t,"visibility",e?"":"hidden")},setWordWrap:function(t,e){Ee.setStyle(t,"wordWrap",e?"break-word":"normal"),Ee.setStyle(t,"whiteSpace",e?"normal":"nowrap")},getStyleInline:function(t,e){return t instanceof f&&(t=t.element),Ie.cssStyleList[e]&&(e=Ie.cssStyleList[e]),t.style[e]},getStyle:function(t,e){return Ee.getStyle=document.defaultView&&document.defaultView.getComputedStyle?function(t,e){t instanceof f&&(t=t.element),Ie.cssStyleList[e]&&(e=Ie.cssStyleList[e]);var i;return t.style[e]?i=t.style[e]:(i=(i=window.getComputedStyle(t))&&i[e],""==i&&(i=null==i||""===i?void 0:i)),i}:function(t,e){t instanceof f&&(t=t.element),Ie.cssStyleList[e]&&(e=Ie.cssStyleList[e]);var i;return t.style[e]?i=t.style[e]:t.currentStyle&&(i=t.currentStyle[e]),i},Ee.getStyle(t,e)},getStyle2:function(t,e){return this.getStyle2=document.defaultView&&document.defaultView.getComputedStyle?function(t,e){var i,n;return t.style[e]?i=t.style[e]:(i=(n=window.getComputedStyle(t))&&n[e],""==i&&(i=n&&n[e],i=null==i||""===i?void 0:i)),i}:function(t,e){var i;return t.style[e]?i=t.style[e]:t.currentStyle&&(i=t.currentStyle[e]),i},this.getStyle2(t,e).replace(/px/,"")},getSizeStyle:function(t,e){t instanceof f&&(t=t.element);var i=parseFloat(Ee.getStyle(t,e));return isNaN(i)?0:i},convertBorderSize:function(t,e){return"none"==t||"hidden"==t?0:"thin"==e?1:"medium"==e?3:"thick"==e?5:(e=Math.round(parseFloat(e)),isNaN(e)?0:e)},convertStyleSize:function(t){return t=parseFloat(t),isNaN(t)?0:t},getSizeStyleBorder:function(t,e){t instanceof f&&(t=t.element);var i=Ee.getStyle(t,e),n=e.replace("Width","Style"),n=Ee.getStyle(t,n);return Ee.convertBorderSize(n,i)},getAlpha:function(t){return Ee.getAlpha=document.defaultView&&document.defaultView.getComputedStyle?function(t){return parseFloat(Ee.getStyle(t,"opacity"))}:function(t){t=Ee.getStyle(t,"filter");var e=t.indexOf("opacity");return 0<=e?(t=t.substring(e).match(/\d+/g))?parseFloat(t[0])/100:void 0:1},Ee.getAlpha(t)},setStyle:function(t,e,i){t instanceof f&&(t=t.element),Ie.cssStyleList[e]&&(e=Ie.cssStyleList[e]);try{t.style[e]!==i&&(t.style[e]=i)}catch(n){}},setPxStyle:function(t,e,i){t instanceof f&&(t=t.element),Ee.setStyle(t,e,(isNaN(i)?parseFloat(i):i)+"px")},setPtStyle:function(t,e,i){Ee.setStyle(t,e,i+"pt")},clearStyle:function(t,e){t.style[e]&&(t.style.removeProperty?t.style.removeProperty(Ee.convertCamelCaseToDash(e)):t.style.removeAttribute(e))},setAlpha:function(t,e){return Ee.setAlpha=document.defaultView&&document.defaultView.getComputedStyle?function(t,e){Ee.setStyle(t,"opacity",e)}:function(t,e){Ee.setStyle(t,"filter","alpha(opacity="+100*e+")")},Ee.setAlpha(t,e)},getBorderMetrics:function(t){return Ee.getBorderMetrics=document.defaultView&&document.defaultView.getComputedStyle?function(t){t instanceof f&&(t=t.element),t=window.getComputedStyle(t);var e=Ee.convertBorderSize;return new me(e(t.borderLeftStyle,t.borderLeftWidth),e(t.borderTopStyle,t.borderTopWidth),e(t.borderRightStyle,t.borderRightWidth),e(t.borderBottomStyle,t.borderBottomWidth))}:function(t){t instanceof f&&(t=t.element),t=t.currentStyle;var e=Ee.convertBorderSize;return new me(e(t.borderLeftStyle,t.borderLeftWidth),e(t.borderTopStyle,t.borderTopWidth),e(t.borderRightStyle,t.borderRightWidth),e(t.borderBottomStyle,t.borderBottomWidth))},Ee.getBorderMetrics(t)},getPaddingMetrics:function(t){return Ee.getPaddingMetrics=document.defaultView&&document.defaultView.getComputedStyle?function(t){t instanceof f&&(t=t.element),t=window.getComputedStyle(t);var e=Ee.convertStyleSize;return new me(e(t.paddingLeft),e(t.paddingTop),e(t.paddingRight),e(t.paddingBottom))}:function(t){t instanceof f&&(t=t.element),t=t.currentStyle;var e=Ee.convertStyleSize;return new me(e(t.paddingLeft),e(t.paddingTop),e(t.paddingRight),e(t.paddingBottom))},Ee.getPaddingMetrics(t)},getBorderPaddingMetrics:function(t){return Ee.getBorderPaddingMetrics=document.defaultView&&document.defaultView.getComputedStyle?function(t){t instanceof f&&(t=t.element),t=window.getComputedStyle(t);var e=Ee.convertBorderSize,i=Ee.convertStyleSize;return new me(i(t.paddingLeft)+e(t.borderLeftStyle,t.borderLeftWidth),i(t.paddingTop)+e(t.borderTopStyle,t.borderTopWidth),i(t.paddingRight)+e(t.borderRightStyle,t.borderRightWidth),i(t.paddingBottom)+e(t.borderBottomStyle,t.borderBottomWidth))}:function(t){t instanceof f&&(t=t.element),t=t.currentStyle;var e=Ee.convertStyleSize,i=Ee.convertBorderSize;return new me(e(t.paddingLeft)+i(t.borderLeftStyle,t.borderLeftWidth),e(t.paddingTop)+i(t.borderTopStyle,t.borderTopWidth),e(t.paddingRight)+i(t.borderRightStyle,t.borderRightWidth),e(t.paddingBottom)+i(t.borderBottomStyle,t.borderBottomWidth))},Ee.getBorderPaddingMetrics(t)},pageXY:function(t){if(t instanceof f&&(t=t.element),t.getBoundingClientRect){t=t.getBoundingClientRect();var e=document.body,i=document.documentElement,n=t.top+(window.pageYOffset||i.scrollTop||e.scrollTop)-(i.clientTop||e.clientTop||0),e=t.left+(window.pageXOffset||i.scrollLeft||e.scrollLeft)-(i.clientLeft||e.clientLeft||0);return new fe(Math.round(e),Math.round(n))}for(e=n=0;t;)n+=parseInt(t.offsetTop),e+=parseInt(t.offsetLeft),t=t.offsetParent;return new fe(e,n)},getWidth:function(t){var e=Ee.getStyle(t,"width");if(i(e)){if("auto"===e||0<=e.indexOf("%")||0===e.length)return t=t.clientWidth}else if(o(e))return 0;return parseFloat(e)},getHeight:function(t){var e=Ee.getStyle(t,"height");if(i(e)){if("auto"===e||0<=e.indexOf("%")||0===e.length)return t=t.clientHeight}else if(o(e))return 0;return parseFloat(e)},getOffsetWidth:function(t){return t.offsetWidth},getOffsetHeight:function(t){return t.offsetHeight},getClientWidth:function(t){return t.clientWidth},getClientHeight:function(t){return t.clientHeight},getWindowSize:function(){var t="";return"number"==typeof window.innerWidth?t="w:window.innerWidth, h:window.innerHeight":document.documentElement&&document.documentElement.clientWidth?t="w:document.documentElement.clientWidth, h:document.documentElement.clientHeight":document.body&&document.body.clientWidth?t="w:document.body.clientWidth, h:document.body.clientHeight":document.width&&(t="w:document.width, h:document.height"),t="number"==typeof document.scrollTop?t+",t:document.scrollTop, l:document.scrollLeft":"number"==typeof window.pageYOffset?t+",t:window.pageYOffset, l:window.pageXOffset":"number"==typeof document.documentElement.scrollTop?t+",t:document.documentElement.scrollTop, l:document.documentElement.scrollLeft":"number"==typeof document.body.scrollTop?t+",t:document.body.scrollTop, l:document.body.scrollLeft":t+",t=0, l=0",Function("return{"+t+"}")()},getRootSize:function(t,e,i){var n,s,r,a=0,o=[],l={width:["Left","Right"],height:["Top","Bottom"]},h=Ee.getStyle,d=Ee.getSizeStyle,c=function(t){var e=0,i=Ee.getPaddingValue(t,["padding"+s,"padding"+r]);return"none"!=h(t,"borderStyle")&&(e=d(t,"border"+s+"Width")+d(t,"border"+r+"Width")),i+e};if(n=h(t,e),s=l[e][0],r=l[e][1],a+=c(t),o.push(i),"none"==h(t,"display")){if(/%/.test(n))for(o.push(n);t.parentNode;){if(n=h(t,e),h(t,Le.boxSizing),a+=c(t),"auto"==n&&(n=o[o.length-1]),!/%/.test(n)){n||(n=t["offset"+De.lowerToUpper(e)]),n=parseInt(n);break}o.push(n),t=t.parentNode}else n=parseInt(n);for(/%/.test(i)&&"#document"==t.nodeName&&(n=t.body["client"+De.lowerToUpper(e)]),t=o.length-1;-1<t;--t)n=Ee.percent2px(n,o[t])}else n=Ee.percent2px(t["offset"+De.lowerToUpper(e)],i);return Math.round(n-a)},transPx:function(t,e){var i;return i=Ee.test,i("pt",e)?e=16+(Number(e.replace(/[a-z,A-Z,%]/g,""))-12):i("em",e)?e=16*Number(e.replace(/[a-z,A-Z,%]/g,"")):i("%",e)?(i=e,e=t.parentNode.offsetWidth,e-=Ee.getPaddingValue(t.parentNode,["paddingLeft","paddingRight"]),e=Ee.percent2px(e,i)):e=parseInt(e),Math.round(e)},getPaddingValue:function(t,e){var i,n,s,r=0;for(i=0,n=e.length;i<n;i+=1)s=Ee.getStyle(t,e[i]),Ee.test("px",s)?s=parseInt(s):"none"!=Ee.getStyle(t,"display")&&(s=Ee.transPx(t,s)),r+=parseInt(s);return r},isBold:function(t){return isNaN(t)?"bold"==t:700<=t},getFontFamily:function(t){if(t){var e;for(e=t&&0<t.indexOf(",")?t.split(","):[t],t=0;t<e.length;t++)e[t]=De.trim(e[t]),0<=e[t].indexOf("'")&&(e[t]=e[t].replace(/\'/g,"")),0<=e[t].indexOf('"')&&(e[t]=e[t].replace(/\"/g,""));return e}return null},findCSSSheet:function(t){var e=new RegExp("(^|\\s)\\."+t+"(\\s|$)","i");if(document.styleSheets)for(t=0;t<document.styleSheets.length;t++){var i,n=document.styleSheets[t],s=0;do{try{if((i=n.rules?n.rules[s]:n.cssRules?n.cssRules[s]:null)&&i.selectorText&&e.test(i.selectorText))return i}catch(r){}s++}while(i)}return null},findCSSSheetIndex:function(t){var e=new RegExp("(^|\\s)\\."+t+"(\\s|$)","i");if(document.styleSheets)for(t=0;t<document.styleSheets.length;t++){var i,n=document.styleSheets[t],s=0;do{try{if((i=n.rules?n.rules[s]:n.cssRules?n.cssRules[s]:null)&&i.selectorText&&e.test(i.selectorText))return t}catch(r){}s++}while(i)}return-1},createCSSSheet:function(t){var e=document.createElement("style");return document.getElementsByTagName("head")[0].appendChild(e),e=e.sheet?e.sheet:e.styleSheet,e.addRule?e.addRule("."+t,null,0):e.insertRule("."+t+" { }",0),Ee.findCSSSheetIndex(t)},findCSSRule:function(t,e){var i,n=0,s=new RegExp("(^|\\s)\\."+e+"(\\s|$)","i");do{if((i=t.rules?t.rules[n]:t.cssRules?t.cssRules[n]:null)&&i.selectorText&&s.test(i.selectorText))return i;n++}while(i);return null},getCSSRule:function(t,e){if(document.styleSheets){if(0<=t)return Ee.findCSSRule(document.styleSheets[t],e);for(var i,n=0;n<document.styleSheets.length;n++)if(i=Ee.findCSSRule(document.styleSheets[n],e))return i}return null},addCSSRule:function(t,e){if(document.styleSheets){var i=document.styleSheets[t];i&&h(Ee.findCSSRule(i,e))&&(i.addRule?i.addRule("."+e,null,0):i.insertRule("."+e+" { }",0))}return Ee.getCSSRule(t,e)},removeCSSRule:function(t,e){var i,n,s=0;if(document.styleSheets){i=document.styleSheets[t];do{if((n=i.rules?i.rules[s]:i.cssRules[s])&&n.selectorText&&n.selectorText==e){i.cssRules?i.deleteRule(s):i.removeRule(s);break}s++}while(n)}},indexOfChild:function(t){try{for(var e=0;t=t.previousSibling;)e++;return e}catch(i){}return-1},getChildAt:function(t,e){try{if(t.children)return t.children[e];if(t.childNodes)return t.childNodes[e]}catch(i){}return null},isParentOf:function(t,e){try{if(document.compareDocumentPosition)return!!(16&t.compareDocumentPosition(e));if(document.body.contains)return t!==e&&(!t.contains||t.contains(e));for(var i=t;i&&i.parentNode;)if(i=i.parentNode,i==e)return!0}catch(n){}return!1},serialization:function(t,e){var i,n=[],s=t;if(e.constructor==Array)for(i=0;i<e.length;i++)n.push(e[i].name+"="+encodeURIComponent(e[i].value));else for(i in e)n.push(i+"="+encodeURIComponent(e[i]));return s=-1<t.indexOf("?")?s+"&":s+"?",s+n.join("&")},percent2px:function(t,e){return/%/.test(e)&&(e=Ee.percent2num(e)),Math.floor(.01*e*t)},percent2num:function(t){return/%|px/.test(t)&&(t=t.replace(/%|px/,"")),parseFloat(t)},test:function(t,e){return new RegExp(t).test(e)},convertCamelCaseToDash:function(t){return h(t)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},convertDashToCamelCase:function(t){return h(t)?t:t.replace(/(\-[a-z])/g,function(t){return t.toUpperCase().replace("-","")})},setBackgroundAlpha:function(t,e){if(Le.ie8L)Ee.setStyle(t,"filter","progid:DXImageTransform.Microsoft.Alpha(Opacity="+100*e+")");else{var i=Ee.getStyle(t,"backgroundColor");i&&Ee.setStyle(t,"backgroundColor",Me.color2rgba(i,e))}},drawBackgroundColor:function(t,e,i){/rgb/.test(e)&&(e=Me.rgbaArr2hex(Me.color2RgbaArr(e)));var n,s,r=Ee.test("linear-gradient",e),a=Ee.setStyle;l(e)&&(e="#FFFFFF"),t instanceof f&&(t=t.element),Le.ie8L||Le.ie9?(a(t,"background",""),r&&(s=i,r=e,e=r.substring(r.indexOf("#")+1,r.indexOf(",")),n=r.substring(r.lastIndexOf("#"),r.indexOf(")"))),a(t,"filter",Ee.drawFilterGradient(e,i,n,s))):r?(Le.safari&&(e="-webkit-"+e),a(t,"background",e)):a(t,"background",Me.color2rgba(e,Number(i)))},drawFilterGradient:function(t,e,i,n){var s,r=Me.hex2rgb,a=function(t){return t=Number(Math.round(100*t*2.55)).toString(16),0==t&&(t="00"),t};return t=s=r(t.replace(/#|0x/g,"")),i&&(s=r(i.replace(/#|0x/g,""))),e=i=a(e),n&&(i=a(n)),"progid:DXImageTransform.Microsoft.gradient(startColorstr='#"+e+t+"', endColorstr='#"+i+s+"')"},popUp:function(t,e,i){function n(t,e,i){var n,s;for(n in e)t.style[n]=e[n];for(n in i)s=i[n],l(s)&&(s=e[n]),t.style[n]=s}var s,r;for(s=0,r=t.element.childNodes;s<r;s++)if(t.element.childNodes[s].className==="Kool__"+i)return;s=e.title,r=e.content;var a=e.button,h=e.backgroundAlpha,d=this.createElement,c=Ee.setStyle,u=Ee.getSizeStyle,p=Ee.setPxStyle,g=Ee.drawBackgroundColor,f=0,m=0;l(h)&&(h=1);var _=d("div","Kool__"+i);i=e.width;var y=e.height;c(_,"overflow","hidden"),c(_,"position","absolute"),c(_,"padding",e.padding||"2px 2px 2px 2px"),c(_,"border",(e.borderStyle||"none")+" "+e.borderWidth+"px "+e.borderColor),g(_,e.backgroundColor||"#ffffff",h);var m=e.height,v=d("div","Button"),c={fontWeight:"normal",fontSize:"12px",fontFamily:"Arial",color:"#000000",textAlign:"center",padding:"2px 0px 0px 0px",cursor:"pointer"};if(n(v,c,a),p(v,"width",a.width||140),p(v,"height",a.height||18),g(v,a.backgroundColor||"#ffffff",h),v.innerHTML=a.text||"",f=0,m=m-u(v,"height")-f,o(e.width)&&(i=Math.max(140,u(v,"width"))),o(e.height)&&(y=u(v,"height")+f),Pe.addEvent(v,"mouseover",function(){g(v,a.mouseOverColor||"#eeeeee",1)}),Pe.addEvent(v,"mouseout",function(){g(v,a.backgroundColor||"#ffffff",1)}),Pe.addEvent(v,"click",function(){_.parentNode.removeChild(_)}),s){h=s.backgroundAlpha,l(h)&&(h=1);var S=d("div","Title"),c={fontWeight:"bold",fontSize:"12px",fontFamily:"Arial",color:"#000000",textAlign:"center",padding:"2px 0px 0px 0px"};n(S,c,s),p(S,"width",s.width||140),p(S,"height",s.height||18),g(S,s.backgroundColor||"#ffffff",h),S.innerHTML=s.text||"",f=u(S,"paddingTop")+u(S,"paddingBottom"),m=m-u(S,"height")-f,o(e.width)&&(i=Math.max(i,u(S,"width"))),o(e.height)&&(y+=u(S,"height")+f)}if(r){h=r.backgroundAlpha,l(h)&&(h=1);var C=d("div","Content"),c={overflowY:"auto",fontWeight:"normal",fontSize:"12px",fontFamily:"Arial",color:"#000000",textAlign:"left",padding:"2px 0px 0px 0px",overflowX:"hidden"};n(C,c,r),m-=6,(o(m)||0>m)&&(m=0),p(C,"width",r.width||140),p(C,"height",m||62),g(C,r.backgroundColor||"#ffffff",h),C.innerHTML=r.text||"",o(e.width)&&(i=Math.max(i,u(C,"width"))),o(e.height)&&(y+=u(C,"height")+u(C,"paddingTop")+u(C,"paddingBottom"))}p(_,"width",i),p(_,"height",y),p(_,"left",Math.round(e.x||.5*(t.getWidth()-i-u(_,"paddingLeft")-u(_,"paddingRight")))),p(_,"top",Math.round(e.y||.5*(t.getHeight()-y-u(_,"paddingTop")-u(_,"paddingBottom")))),S&&_.appendChild(S),C&&_.appendChild(C),v&&_.appendChild(v),t.element.appendChild(_)},getHtmlSize:function(t,e){var i=document.createElement("div");i.style.visibility="hidden",i.style.font=e,i.innerHTML=t,i.style.display="inline",document.body.appendChild(i);var n=i.offsetWidth,s=i.offsetHeight;return document.body.removeChild(i),{width:n,height:s}},getElementsByClassName:function(t){if(Le.ie8L){for(var e,i=new RegExp("(?:^|\\s)"+t+"(?:$|\\s)"),n=document.getElementsByTagName("*"),s=[],r="",a=0;e=n[a+=1];)(r=e.className)&&-1!==r.indexOf(t)&&(r===t||i.test(r))&&(s[s.length]=e);t=s}else t=window.document.getElementsByClassName(t);return t},unit2px:function(t,e){var i=Ee.getSizeStyle(t,"fontSize");return void 0==e?0:r(e)?Ee.getSizeStyle(t,"fontSize")*e:-1<e.indexOf("normal")?Ee.getSizeStyle(t,"fontSize"):-1<e.indexOf("px")?parseInt(e):-1<e.indexOf("pt")?.75*parseInt(e):-1<e.indexOf("em")||r(Number(e))?i*parseInt(e):-1<e.indexOf("%")?.01*i*parseInt(e):void 0},getFontStyle:function(t){var e=this.getStyle;return t instanceof f&&(t=t.element),{color:e(t,"color"),fontSize:e(t,"fontSize"),fontStyle:e(t,"fontStyle"),fontFamily:e(t,"fontFamily"),fontWeight:e(t,"fontWeight"),textDecoration:e(t,"textDecoration"),textAlign:e(t,"textAlign"),textIndent:e(t,"textIndent"),lineHeight:e(t,"lineHeight"),letterSpacing:e(t,"letterSpacing")}}},Pe={addEvent:function(t,e,i,n,s,r){n=n?n:window,s=!h(s)&&s;var a=h(r)?0:r;if(i){t instanceof f&&(t=t.element),t.events||(t.events={}),Pe.changeEventType[e]&&(e=Pe.changeEventType[e]());var o,l;r=-1;var d=t.events[e];if(d&&0!=d.length)for(o=d.length-1;0<=o;o--){if((l=d[o])&&l.listener===i&&l.context===n){if(l.priority==a)return;d.splice(o,1)}l.priority<a&&0>r&&(r=o)}else d=t.events[e]=[],document.addEventListener?t.addEventListener(e,Pe.handleEvent,s):t["on"+e]=Pe.handleEvent;n={listener:i,context:n,useCapture:s,priority:a},-1==r?d.unshift(n):d.splice(r+1,0,n),ke.insert(t,e,i,n)}},addEvent2:function(t,e,i,n,s,r){n=n?n:window,s=!h(s)&&s;var a=h(r)?0:r;if(i){t instanceof f&&(t=t.element),t.events||(t.events={}),Pe.changeEventType[e]&&(e=Pe.changeEventType[e]());var o,l;r=-1;var d=t.events[e];if(d&&0!=d.length)for(o=d.length-1;0<=o;o--){if((l=d[o])&&l.listener===i&&l.context===n){if(l.priority==a)return;d.splice(o,1)}l.priority<a&&0>r&&(r=o)}else d=t.events[e]=[],document.addEventListener?t.addEventListener(e,Pe.handleEvent,s):t.attachEvent("on"+e,Pe.handleEvent);n={listener:i,context:n,useCapture:s,priority:a},-1==r?d.unshift(n):d.splice(r+1,0,n),ke.insert(t,e,i,n)}},removeEvent:function(t,e,i,n,s){if(n=n?n:window,s=!h(s)&&s,t.events){Pe.changeEventType[e]&&(e=Pe.changeEventType[e]());var r,a,o=t.events[e];if(o){for(r=o.length-1;0<=r;r--)if((a=o[r])&&a.listener===i&&a.context===n){a.listener=null,a.context=null,o.splice(r,1);break}0==o.length&&(document.removeEventListener?t.removeEventListener(e,Pe.handleEvent,s):t["on"+e]=null)}}},removeEvent2:function(t,e,i,n,s){if(n=n?n:window,s=!h(s)&&s,t.events){Pe.changeEventType[e]&&(e=Pe.changeEventType[e]());var r,a,o=t.events[e];if(o){for(r=o.length-1;0<=r;r--)if((a=o[r])&&a.listener===i&&a.context===n){a.listener=null,a.context=null,o.splice(r,1);break}0==o.length&&(document.removeEventListener?t.removeEventListener(e,Pe.handleEvent,s):t.detachEvent(e,Pe.handleEvent))}}},handleEvent:function(t){var e=!0;t=t||Pe.fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event);var i;if(this.events)i=this.events[t.type];else{if(!t.srcElement||!t.srcElement.events)throw"not found element.events";t=Pe.fixEvent(t),i=t.target.events[t.type]}t.currentTarget||(t.currentTarget=this),t.stopImmediatePropagation&&t.stopImmediatePropagation!=Pe.fixEvent.stopImmediatePropagation&&(t.stopImmediatePropagationNative=t.stopImmediatePropagation,t.stopImmediatePropagation=Pe.fixEvent.stopImmediatePropagation),!t.wheelDelta&&t.detail&&(t.wheelDelta=-40*t.detail);for(var n=i.length-1;0<=n&&(!1===i[n].listener.call(i[n].context,t)&&(e=!1),!t._istoped);n--);return e},fixEvent:function(t){if(t.preventDefault||(t.preventDefault=Pe.fixEvent.preventDefault,t.defaultPrevented=!1),t.stopPropagation||(t.stopPropagation=Pe.fixEvent.stopPropagation),t.stopImmediatePropagation||(t.stopImmediatePropagation=Pe.fixEvent.stopImmediatePropagation),t.target||(t.target=t.srcElement||document),3===t.target.nodeType&&(t.target=t.target.parentNode),null==t.pageX&&null!=t.clientX){var e=t.target.ownerDocument||document,i=e.documentElement,e=e.body;t.pageX=t.clientX+(i&&i.scrollLeft||e&&e.scrollLeft||0)-(i&&i.clientLeft||e&&e.clientLeft||0),t.pageY=t.clientY+(i&&i.scrollTop||e&&e.scrollTop||0)-(i&&i.clientTop||e&&e.clientTop||0)}return t}};Pe.fixEvent.preventDefault=function(){this.returnValue=!1,this.defaultPrevented=!0},Pe.fixEvent.stopPropagation=function(){this._stoped=this.cancelBubble=!0},Pe.fixEvent.stopImmediatePropagation=function(){this.stopImmediatePropagationNative&&this.stopImmediatePropagationNative(),this._istoped=this.cancelBubble=!0},Pe.docuemntEvent={},Pe.documentAddEvent=function(t,e,i,n,s){i=i?i:window,n=!h(n)&&n;var r=h(s)?0:s;if(e){Pe.changeEventType[t]&&(t=Pe.changeEventType[t]());var a,o;s=-1;var l=Pe.docuemntEvent[t];if(l&&0!=l.length)for(a=l.length-1;0<=a;a--){if((o=l[a])&&o.listener===e&&o.context===i){if(o.priority==r)return;l.splice(a,1)}o.priority<r&&0>s&&(s=a)}else l=Pe.docuemntEvent[t]=[],document.addEventListener?document.addEventListener(t,Pe.documentHandleEvent,n):document.attachEvent("on"+t,Pe.documentHandleEvent);i={listener:e,context:i,useCapture:n,priority:r},-1==s?l.unshift(i):l.splice(s+1,0,i),ke.insert(document,t,e,i)}},Pe.documentRemoveEvent=function(t,e,i,n){i=i?i:window,n=!h(n)&&n,Pe.changeEventType[t]&&(t=Pe.changeEventType[t]());var s,r,a=Pe.docuemntEvent[t];if(a){for(s=a.length-1;0<=s;s--)if((r=a[s])&&r.listener===e&&r.context===i){r.listener=null,r.context=null,a.splice(s,1);break}0==a.length&&(document.removeEventListener?document.removeEventListener(t,Pe.documentHandleEvent,n):document.detachEvent(t,Pe.documentHandleEvent))}},Pe.documentHandleEvent=function(t){var e=!0;t=t||Pe.fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event),t.currentTarget||(t=Pe.fixEvent(t),t.currentTarget=document),t.stopImmediatePropagation&&t.stopImmediatePropagation!=Pe.fixEvent.stopImmediatePropagation&&(t.stopImmediatePropagationNative=t.stopImmediatePropagation,t.stopImmediatePropagation=Pe.fixEvent.stopImmediatePropagation);var i,n=Pe.docuemntEvent[t.type];if(!n)return e;for(i=n.length-1;0<=i&&(!1===n[i].listener.call(n[i].context,t)&&(e=!1),!t._istoped);i--);return e},Pe.windowEvent={},Pe.windowAddEvent=function(t,e,i,n,s){i=i?i:window,n=!h(n)&&n;var r=h(s)?0:s;if(e){Pe.changeEventType[t]&&(t=Pe.changeEventType[t]());var a,o;s=-1;var l=Pe.windowEvent[t];if(l&&0!=l.length)for(a=l.length-1;0<=a;a--){if((o=l[a])&&o.listener===e&&o.context===i){if(o.priority==r)return;l.splice(a,1)}o.priority<r&&0>s&&(s=a)}else l=Pe.windowEvent[t]=[],document.addEventListener?window.addEventListener(t,Pe.windowHandleEvent,n):window.attachEvent("on"+t,Pe.windowHandleEvent);i={listener:e,context:i,useCapture:n,priority:r},-1==s?l.unshift(i):l.splice(s+1,0,i),ke.insert(window,t,e,i)}},Pe.windowRemoveEvent=function(t,e,i,n){i=i?i:window,n=!h(n)&&n,Pe.changeEventType[t]&&(t=Pe.changeEventType[t]());var s,r,a=Pe.windowEvent[t];if(a){for(s=a.length-1;0<=s;s--)if((r=a[s])&&r.listener===e&&r.context===i){r.listener=null,r.context=null,a.splice(s,1);break}0==a.length&&(document.removeEventListener?window.removeEventListener(t,Pe.windowHandleEvent,n):window.detachEvent(t,Pe.windowHandleEvent))}},Pe.windowHandleEvent=function(t){var e=!0;t=t||Pe.fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event),t.currentTarget||(t=Pe.fixEvent(t),t.currentTarget=window),t.stopImmediatePropagation&&t.stopImmediatePropagation!=Pe.fixEvent.stopImmediatePropagation&&(t.stopImmediatePropagationNative=t.stopImmediatePropagation,t.stopImmediatePropagation=Pe.fixEvent.stopImmediatePropagation);var i,n=Pe.windowEvent[t.type];if(!n)return e;for(i=n.length-1;0<=i&&(!1===n[i].listener.call(n[i].context,t)&&(e=!1),!t._istoped);i--);return e},Pe.getButtonDown=function(t,e){return l(t.buttons)?l(t.which)&&!l(t.button)?"mousemove"==t.type||"mouseup"==t.type||"mousedown"==t.type?1&t.button:e?1:0:Le.chrome?0==t.which?0:1==t.which?1:2==t.which?4:3==t.which?2:0:e?1:0:Le.ie9&&"mousedown"!=t.type?e?1:0:1&t.buttons},Pe.getEventPageXY=function(t){return l(t.pageX2)?t.touches?new fe(t.touches[0].pageX,t.touches[0].pageY):new fe(t.pageX,t.pageY):new fe(t.pageX2,t.pageY2)},Pe.isRightButtonDown=function(t){return!l(t.buttons)&&2==t.buttons||!((!l(t.which)||l(t.button)||2!=t.button)&&3!=t.which)},Pe.changeEventType={mousewheel:function(){return Le.firefox?"DOMMouseScroll":"mousewheel"}},Pe.htmlEventType={abort:!0,blur:!0,cellchange:!0,change:!0,click:!0,contextmenu:!0,copy:!0,cut:!0,dblclick:!0,drag:!0,dragend:!0,dragenter:!0,dragleave:!0,dragover:!0,dragstart:!0,drop:!0,error:!0,focus:!0,focusin:!0,focusout:!0,keydown:!0,keypress:!0,keyup:!0,load:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mousewheel:!0,mouseup:!0,paste:!0,readystatechange:!0,resize:!0,resizeend:!0,resizestart:!0,scroll:!0,selectstart:!0,submit:!0,unload:!0};var Le={};!function(){var t=this.document,e="",i="";try{e=navigator.userAgent,i=navigator.platform,i=i.toLowerCase()}catch(n){}var s=e.toLowerCase(),r=s.match(/(edge)[\s\/:]([\w\d\.]+)?/)||s.match(/(opera|ie|firefox|chrome|crios|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||s.match(/(rv)[\s\/:]([\w\d\.]+)?/)||[null,"unknown",0],a=("ie"==r[1]||"rv"==r[1])&&t.documentMode,e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e);Le={name:"version"==r[1]?r[3]:"rv"==r[1]?"ie":r[1],version:a||parseFloat("opera"==r[1]&&r[4]?r[4]:r[2]),Platform:{name:s.match(/ip(?:ad|od|hone)/)?"ios":(s.match(/(?:webos|android)/)||i.match(/mac|win|linux/)||["other"])[0]}},Le[Le.name]=!0,Le[Le.name+parseInt(Le.version)]=!0,Le[Le.name+(8<parseInt(Le.version)?"8H":"8L")]=!0,Le[Le.name+(7<parseInt(Le.version)?"7H":"7L")]=!0,Le[Le.name+(6<parseInt(Le.version)?"6H":"6L")]=!0,Le.Platform[Le.Platform.name]=!0,Le.isMobile=e,Le.appleWebKit=Le.isMobile?function(){var t=s.indexOf("applewebkit"),t=s.substring(t,s.length);return De.trim(t.substring(12,t.indexOf("(")))}():"",Le.supportAttribute=function(){try{var e=t.createElement("div");return e.className="i","i"==e.getAttribute("class")}catch(i){return!1}}(),Le.supportSetAttribute=function(){try{var e=t.createElement("input");return e.setAttribute("type","hidden"),"hidden"==e.getAttribute("type")}catch(i){return!1}}(),Le.quirks=Le.ie&&"BackCompat"==t.compatMode,Le.boxSizing=Le.ie||Le.opera||Le.safari?"boxSizing":Le.firefox?"MozBoxSizing":"webkitBoxSizing",Le.useBorderBox=!(Le.ie7L&&!Le.quirks),Le.overflow="hidden",Le.supportTouch=Le.isMobile&&"ontouchend"in t&&"ontouchstart"in t,Le.tabIndexStartNo=1030,Le.divMaxSize=Le.chrome?33554428:Le.firefox?17895700:Le.safari?1e8:Le.edge?1533916:1193046,Le.checkPrefix=function(){return t.body?l(t.body.style.MozAnimation)?l(t.body.style.webkitBorderRadius)?l(t.body.style.OBorderRadius)?l(t.body.style.KhtmlBorderRadius)?l(t.body.style.msTransform)?"":"-ms-":"-khtml-":"-o-":"-webkit-":"-moz-":null},Le.getCssPrefix=function(){return l(Le.cssPrefix)?(Le.cssPrefix=Le.checkPrefix(),Le.cssPrefix):Le.cssPrefix},Le.supportCanvas=function(){try{var e=t.createElement("canvas");return!(!e||!e.getContext)}catch(i){return!1}}(),Le.useExCanvas=!(!Le.ie||Le.supportCanvas),Le.checkRetinaRatio=function(){var e,i=1;if(!Le.useExCanvas)try{e=t.createElement("canvas").getContext("2d"),i=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,i=(window.devicePixelRatio||1)/i}catch(n){}return i},Le.scrollBarWidth=NaN,Le.scrollBarHeight=NaN,Le.getScrollBarSize=function(){if(t.body){var e=t.createElement("p");e.style.width="100px",e.style.height="100px";var i=t.createElement("div");i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.visibility="hidden",i.style.width="100px",i.style.height="100px",i.style.overflow="hidden",i.appendChild(e),t.body.appendChild(i);var n=e.offsetWidth,n=e.offsetWidth,s=e.offsetHeight,s=e.offsetHeight;i.style.overflow="scroll";var r=e.offsetWidth,r=e.offsetWidth,a=e.offsetHeight,a=e.offsetHeight;n==r&&(r=i.clientWidth),s==a&&(a=i.clientHeight),Le.scrollBarWidth=n-r,Le.scrollBarHeight=s-a,t.body.removeChild(i)}},Le.getScrollBarWidth=function(){return isNaN(Le.scrollBarWidth)?(Le.getScrollBarSize(),Le.scrollBarWidth):Le.scrollBarWidth},Le.getScrollBarHeight=function(){return isNaN(Le.scrollBarHeight)?(Le.getScrollBarSize(),Le.scrollBarHeight):Le.scrollBarHeight},Le.setClipboard=function(e,i,n){if(window.clipboardData&&window.clipboardData.setData)window.clipboardData.setData("Text",e);else{if(65536<e.length)return void alert(ze.getString("utils","overClipboardLimit"));try{var s,r,a,o,l;s=i?i.element:t.body,r=t.createElement("div"),l=t.createElement("textarea"),l.value=e,n?(Ee.setPxStyle(r,"width",0),Ee.setPxStyle(r,"height",0),s.appendChild(r),Ee.setPxStyle(l,"width",1),Ee.setPxStyle(l,"height",1),r.appendChild(l),l.focus(),l.select(),setTimeout(function(){s.removeChild(r)},100)):(a=t.createElement("span"),a.innerHTML=ze.getString("utils","clipboardCopy"),r.id="Kool__CopyPanel",Ee.addClass(r,"Kool__CopyPanel"),s.appendChild(r),Ee.setPxStyle(r,"left",i.getWidth()/2-Ee.getWidth(r)/2),Ee.setPxStyle(r,"top",i.getHeight()/2-Ee.getHeight(r)/2),r.appendChild(a),o=t.createElement("img"),o.src=pe+"close.png",Pe.addEvent(o,"click",function(){s.removeChild(r)}),r.appendChild(o),r.appendChild(l),r.onkeydown=function(t){13==t.keyCode||27==t.keyCode?s.removeChild(r):67==t.keyCode&&t.ctrlKey||(t.preventDefault(),t.stopPropagation())},l.focus(),l.select())}catch(h){window.prompt(ze.getString("utils","clipboardCopy"),e)}}return!0},Le.getClipboard=function(e,i){if(window.clipboardData&&window.clipboardData.getData){var n=window.clipboardData;if(!n.types)return n.getData("Text");if(/text\/html/.test(n.types))return n.getData("text/html");if(/text\/plain/.test(n.types))return n.getData("text/plain")}else if(i&&i.clipboardData&&i.clipboardData.types&&i.clipboardData.getData){if(n=i.clipboardData.types,n instanceof DOMStringList&&n.contains("text/plain")||n.indexOf&&-1!==n.indexOf("text/plain"))return i.clipboardData.getData("text/plain");if(n instanceof DOMStringList&&n.contains("text/html")||n.indexOf&&-1!==n.indexOf("text/html"))return i.clipboardData.getData("text/html")}else try{var s,r,a,o;s=e?e.element:t.body,r=t.createElement("div"),o=t.createElement("textarea"),o.onpaste=function(t){setTimeout(function(){var t=o.value;s.removeChild(r),e&&e.clipboardPaste&&e.clipboardPaste(t)},100)},i?(Ee.setPxStyle(r,"width",0),Ee.setPxStyle(r,"height",0),s.appendChild(r),Ee.setPxStyle(o,"width",1),Ee.setPxStyle(o,"height",1),r.appendChild(o)):(n=t.createElement("span"),n.innerHTML=ze.getString("utils","clipboardPaste"),r.id="Kool__PastePanel",Ee.addClass(r,"Kool__PastePanel"),s.appendChild(r),Ee.setPxStyle(r,"left",e.getWidth()/2-Ee.getWidth(r)/2),Ee.setPxStyle(r,"top",e.getHeight()/2-Ee.getHeight(r)/2),
r.appendChild(n),a=t.createElement("img"),a.src=pe+"close.png",Pe.addEvent(a,"click",function(){s.removeChild(r)}),r.appendChild(a),r.appendChild(o),r.onkeydown=function(t){13==t.keyCode||27==t.keyCode?s.removeChild(r):86==t.keyCode&&t.ctrlKey||(t.preventDefault(),t.stopPropagation())}),o.focus()}catch(l){return window.prompt(ze.getString("utils","clipboardPaste"))}return null},Le.locale="en-US"}();var Ne={globalCompositeOperation:function(t,e){t.globalCompositeOperation=e},drawPolyLine:function(t,e,i,n,s,r,a,l,h,d,c,u,p,g,f,m){if(i!=n&&e){var _,y,v,S,C,b,x,w,T=i,D=i>n,M=!1,I=Ne.globalCompositeOperation;if(p&&(S=Ne.changeLineStyle,C=function(t,e){return{x:t.x+(e.x-t.x)*(g-t.y)/(e.y-t.y),y:g}},b=function(){var t=arguments;return!t[0]&&t[1].y>g||t[0]&&t[1].y<g},w=function(e,i,n,s,r){"step"==l||"reverseStep"==l?s={x:s.x,y:g}:"segment"==l&&(s=C(i,s)),Ne.drawLine(t,i,s,d,c),t.stroke(),x&&(I(t,"destination-over"),t.lineTo(x.x,g),t.fill(),x=r,I(t,"source-over")),t.closePath(),M?t.restore():S(t,f,m),t.beginPath(),t.moveTo(s.x,s.y),M=!M}),o(c)&&(c=5),y=D?-1:1,u){if(h){t.lineWidth=1;do if(!o(e[i][s])){t.moveTo(e[i][s],e[i][r]);break}while(i<n-1&&(i+=1))}else t.lineTo(e[i][s],e[i][r]);a&&(t.strokeStyle=Me.color2rgba(a.color,a.alpha),t.lineWidth=a.weight),t.save()}else a&&(t.strokeStyle=Me.color2rgba(a.color,a.alpha),t.lineWidth=a.weight),h?t.moveTo(e[i][s],e[i][r]):t.lineTo(e[i][s],e[i][r]);h={x:e[i][s],y:e[i][r]};var E={x:0,y:0},P={x:0,y:0};if(i+=y,p&&(h.y>g&&(S(t,f,m),M=!0),u&&(x=e[i-y])),"segment"==l){for(;i!=n;i+=y)E.x=e[i][s],E.y=e[i][r],p&&b(M,E)&&w(!1,h,0,E,e[i]),Ne.drawLine(t,h,E,d,c),h.x=e[i][s],h.y=e[i][r];v=h}else if("step"==l){for(;i!=n;i+=y)E.x=e[i][s],E.y=e[i-y][r],P.x=e[i][s],P.y=e[i][r],Ne.drawLine(t,h,E,d,c),p&&b(M,P)&&w(!1,E,0,P,e[i]),Ne.drawLine(t,E,P,d,c),h.x=e[i][s],h.y=e[i][r];v=h}else if("reverseStep"==l){for(;i!=n;i+=y)E.x=e[i-y][s],E.y=e[i][r],P.x=e[i][s],P.y=e[i][r],p&&b(M,E)&&w(!1,h,0,E,e[i]),Ne.drawLine(t,h,E,d,c),Ne.drawLine(t,E,P,d,c),h.x=e[i][s],h.y=e[i][r];v=h}else if("curve"==l){for(i=T,w=n-y,T={x:0,y:0};i!=n&&e[i+y]&&e[i+y][s]==e[i][s]&&e[i+y][r]==e[i][r];)i+=y;if(i==n||i+y==n)return;if(2==Math.abs(n-i))return t.lineTo(e[i+y][s],e[i+y][r]),void t.stroke();var L=0,N=0;v=n=0;var P=i,A=0,L=0,R=e[P+y][s]-e[P][s],F=e[P+y][r]-e[P][r],A=_=0,k={x:0,y:0},H={x:0,y:0},O={x:0,y:0};_=Math.sqrt(R*R+F*F);for(var R=R/_,F=F/_,N=e[P+y][s]-e[P][s],W=e[P],z=function(t,e,i,n){p&&b(M,n)?(u||(x=null),x=Ne.drawDeclineStroke(t,e,i,n,g,a,f,m,M,x),M=!M):Ne.drawQuadCurve(t,e,i,n,d,c)},P=P+y;P!=w;P+=y)if(e[P+y][s]!=e[P][s]||e[P+y][r]!=e[P][r]){A=-R,L=-F,R=e[P+y][s]-e[P][s],F=e[P+y][r]-e[P][r],_=Math.sqrt(R*R+F*F),R/=_,F/=_,D?(_=A-R,A=L-F):(_=R-A,A=F-L);var B=Math.sqrt(_*_+A*A);_/=B,A/=B,0<=L*F&&(_=1,A=0),L=-_*N*.25,N=-A*N*.25,P==y+i?(h.x=e[P-y].x,h.y=e[P-y].y,T.x=e[P][s]+L,T.y=e[P][r]+N,E.x=e[P][s],E.y=e[P][r],z(t,h,T,E)):(k.x=W[s]+n,k.y=W[r]+v,H.x=e[P][s]+L,H.y=e[P][r]+N,O.x=(k.x+H.x)/2,O.y=(k.y+H.y)/2,h.x=W[s],h.y=W[r],E.x=e[P][s],E.y=e[P][r],z(t,h,k,O),z(t,O,H,E)),N=e[P+y][s]-e[P][s],n=_*N*.25,v=A*N*.25,W=e[P]}h.x=e[P-y].x,h.y=e[P-y].y,T.x=W[s]+n,T.y=W[r]+v,E.x=e[P][s],E.y=e[P][r],z(t,h,T,E),v=e[P]}t.stroke(),p&&u&&(I(t,"destination-over"),t.lineTo(v.x,g),t.lineTo(x.x,g),t.fill(),I(t,"source-over"),t.restore())}},drawLine:function(t,e,i,n,s){var r,a,l=0;if(o(s)&&(s=10),0!=t.lineWidth%2&&(l=.5),e.x=Math.floor(e.x),e.y=Math.floor(e.y),i.x=Math.floor(i.x),i.y=Math.floor(i.y),e.x+=l,e.y+=l,i.x+=l,i.y+=l,n){t.moveTo(e.x,e.y);var h;if(n=!1,h=Ne.distanceOfTwoPoints(e,i),h<=s)t.lineTo(i.x,i.y);else{for(s=h=s/h;1>=s;s+=h)a=s,a=Math.max(Math.min(a,1),0),r=e.x+a*(i.x-e.x),a=e.y+a*(i.y-e.y),r=Math.floor(r)+l,a=Math.floor(a)+l,(n=!n)?t.lineTo(r,a):t.moveTo(r,a);n||i.x==r&&i.y==a||t.lineTo(i.x,i.y)}}else t.lineTo(i.x,i.y)},distanceOfTwoPoints:function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},changeLineStyle:function(t,e,i){var n=Me.color2rgba(e.color,e.alpha);e=e.weight,t.save(),t.strokeStyle=n,t.lineWidth=e,i&&(t.fillStyle=i)},drawDeclineStroke:function(t,e,i,n,s,r,a,o,l,h){var d,c,u,p=l,g=Ne.globalCompositeOperation,f=function(i){t.stroke(),h&&(g(t,"destination-over"),t.lineTo(h.x,s),t.fill(),g(t,"source-over")),t.closePath(),p?t.restore():Ne.changeLineStyle(t,a,o),t.beginPath(),i?(t.moveTo(e.x,e.y),d=e):t.moveTo(u.x,u.y),p=!p};if(e.y==s)f(!0);else if(p&&n.y<s||!p&&n.y>=s){r=0,l=e,c=1/300,u={x:0,y:0};for(var m=c;1>=Math.round(m);m+=c)u=Ne.getQuadraticValue(m,e,i,n),r+=Ne.distanceOfTwoPoints(u,l),t.lineTo(u.x,u.y),l=u,(p&&u.y<s||!p&&u.y>s)&&(f(),d=u);return d}return Ne.drawQuadCurve(t,e,i,n),d},drawQuadCurve:function(t,e,i,n,s,r,a){if(o(r)&&(r=10),o(a)&&(a=200),s){t.moveTo(e.x,e.y),s=1/a,a=0;var l;l=e;for(var h={x:0,y:0},d=s;1>=d;d+=s)h=Ne.getQuadraticValue(d,e,i,n),a+=Ne.distanceOfTwoPoints(h,l),l=Math.floor(a/r%2),0==l?t.lineTo(h.x,h.y):t.moveTo(h.x,h.y),l=h}else t.quadraticCurveTo(i.x,i.y,n.x,n.y)},getQuadraticValue:function(t,e,i,n){t=Math.max(Math.min(t,1),0);var s=1-t,r=t*t,a=s*s;return{x:a*e.x+2*s*t*i.x+r*n.x,y:a*e.y+2*s*t*i.y+r*n.y}},drawArc:function(t,e,i,n,s,r,a,o){isNaN(a)&&(a=r);var l,h,d,c;if(Math.abs(s)>2*Math.PI&&(s=2*Math.PI),d=Math.ceil(Math.abs(s)/(Math.PI/4)),s=-(s/d),l=-n,0<d){c=e+Math.cos(n)*r,n=i+Math.sin(-n)*a,o?t.lineTo(c,n):t.moveTo(c,n);for(var u=0;u<d;u++)l+=s,h=l-s/2,o=e+Math.cos(l)*r,n=i+Math.sin(l)*a,c=e+r/Math.cos(s/2)*Math.cos(h),h=i+a/Math.cos(s/2)*Math.sin(h),t.quadraticCurveTo(c,h,o,n)}},drawEllipse:function(t,e,i,n,s){var r=n/2*.5522848,a=s/2*.5522848,o=e+n,l=i+s;n=e+n/2,s=i+s/2,t.moveTo(e,s),t.bezierCurveTo(e,s-a,n-r,i,n,i),t.bezierCurveTo(n+r,i,o,s-a,o,s),t.bezierCurveTo(o,s+a,n+r,l,n,l),t.bezierCurveTo(n-r,l,e,s+a,e,s)},drawRoundRect:function(t,e,i,n,s,r){o(s)&&(s=0),o(r)&&(r=0),t.beginPath(),t.moveTo(e/2+s,0+r),t.lineTo(e-n+s,0+r),t.quadraticCurveTo(e+s,0+r,e+s,n+r),t.lineTo(e+s,i-n+r),t.quadraticCurveTo(e+s,i+r,e-n+s,i+r),t.lineTo(n+s,i+r),t.quadraticCurveTo(0+s,i+r,0+s,i-n+r),t.lineTo(0+s,n+r),t.quadraticCurveTo(0+s,0+r,n+s,0+r),t.lineTo(e/2+s,0+r),t.closePath()},createPattern:function(t,e){if(!e.readyState||"complete"==e.readyState)return t.createPattern(e,"repeat")},apply:function(t,e){e&&(t.strokeStyle=Me.color2rgba(e.color,e.alpha),t.lineWidth=e.weight)},begin:function(t,e,i,n,s){var r;if(e.pattern)s=e.pattern,e.createRect&&e.apply(t,{color:"#000",alpha:1,weight:1});else if(n){if(n instanceof M)e=Ne.calcAngle("linear",n.angle,i.left,i.top,i.width,i.height),s=t.createLinearGradient(e.x1,e.y1,e.x2,e.y2);else if(n instanceof I)s||(s=.5*Math.max(i.width,i.height)),e=Ne.calcAngle("radial",n.angle,i.left,i.top,i.width,i.height,s,n.focalPointRatio),s=t.createRadialGradient(e.x1,e.y1,0,e.x2,e.y2,s);else if("object"==typeof n)s=Me.color2rgba(n.color,n.alpha);else{if("string"!=typeof n)return;s=Me.color2rgba(n,1)}if(n instanceof M||n instanceof I)for(e=n._entries,1>e.length&&(e=n.entries),n=0,i=e.length;n<i;n+=1)r=e[n],s.addColorStop(r.ratio,Me.color2rgba(r.color,r.alpha))}else s="#000";t.fillStyle=s},calcAngle:function(t,e,i,n,s,r,a,l){var h,d,c,u,p;switch(o(l)||(1<l?l=1:0>l&&(l=0)),t){case"linear":0<=e&&45>e?(d=0,u=r/2*(45-e)/45,c=s,p=r-u):45<=e&&135>e?(d=s*(e-45)/90,u=0,c=s-d,p=r):135<=e&&225>e?(d=s,u=r*(e-135)/90,c=0,p=r-u):225<=e&&315>e?(d=s*(1-(e-225)/90),u=r,c=s-d,p=0):315<=e&&(d=0,u=r-r/2*(e-315)/45,c=s,p=r-u),h={x1:i+d,y1:n+u,x2:i+c,y2:n+p};break;case"radial":e=e*Math.PI/180,d=i+a+.5*s*l*Math.cos(e),u=n+a+.5*r*l*Math.sin(e),h={x1:d,y1:u,x2:d,y2:u}}return h},drawFromHTML:function(t,e,i){var n,s,r,a,o,l,h,d=1,c=i.x,u=i.y,p=i.width;i=i.height;var g=Ee,f=g.getStyle,g=g.getSizeStyle,m=["Left","Right","Top","Bottom"];if(n=f(e,"backgroundColor"),d=Le.ie9?e.style.filter||e.currentStyle.filter:f(e,"backgroundImage"),t.save(),t.beginPath(),"rgba(0, 0, 0, 0)"!=n&&"transparent"!=n)-1<n.indexOf("rgba")?t.fillStyle=n:t.fillStyle=Me.color2rgba(n,g(e,"opacity")),t.fillRect(c,u,p,i);else if(d&&-1<d.indexOf("gradient")){if(r=[],o=new M,-1<d.indexOf("progid")){o.angle=-1<d.indexOf("GradientType")?90:270,d=d.substring(d.indexOf("(")+1,d.lastIndexOf(")")).replace(/ |\"|\'/g,"").split(","),n=0;do h=d[n],s=new D,s.color=Me.color2rgba("#"+h.substr(h.indexOf("#")+3,h.length-1),parseInt(h.charAt(15)+h.charAt(16),16)),s.ratio=(n+1)/d.length,r.push(s),n++;while(n<d.length)}else{o.angle=Number(d.substring(d.indexOf("(")+1,d.indexOf("deg"))),d=d.substring(d.indexOf("rgb"),d.lastIndexOf(")")).replace(/ /g,"");do h=d.substring(0,d.indexOf("%")+1),d=d.substring(h.length+1,d.length),s=new D,s.color=h.substring(0,h.indexOf(")")+1),s.ratio=.01*Number(h.substring(h.indexOf(")")+1,h.length-1)),r.push(s);while(0<d.length)}o.setEntries(r),Ne.begin(t,{},new S(c,u,p,i),o),t.fillRect(c,u,p,i)}for(n=0,s=m.length;n<s;n+=1)r=m[n],a="Right"==r?p:0,h="Bottom"==r?i:0,o=f(e,"border"+r+"Style"),d=a||h?-1:1,"solid"==o&&(t.lineWidth=g(e,"border"+r+"Width"),t.strokeStyle=f(e,"border"+r+"Color"),0>=t.lineWidth||(o=.5*t.lineWidth*d,"Left"==r||"Right"==r?(l=Math.floor(c+a)+o,a=g(e,"borderTop"+r+"Radius"),t.moveTo(l,Math.floor(u+a)),a=g(e,"borderBottom"+r+"Radius"),t.lineTo(l,Math.floor(u+i-a))):(a=g(e,"border"+r+"LeftRadius")*d)?(l=Math.floor(u+h),t.moveTo(Math.floor(c)+o*d,Math.floor(u+h+a)+o),t.quadraticCurveTo(Math.floor(c)+o*d,l,Math.floor(c+a*d),l+o),a=g(e,"border"+r+"RightRadius")*d,l=Math.floor(c+p)-o*d,t.lineTo(Math.floor(c+p-a*d)-o*d,Math.floor(u+h)+o),t.quadraticCurveTo(l,Math.floor(u+h)+o,l,Math.floor(u+h+a)+o)):(t.moveTo(Math.floor(c),Math.floor(u+h)+o),t.lineTo(Math.floor(c+p),Math.floor(u+h)+o)),t.stroke()));t.closePath(),t.restore()}};x.prototype.startTimeout=function(t,e){var i=x.timer;i(function(){e.call(t)})},x.prototype.start=function(){var t;this._stopped?this._stopped=!1:(t=x.timer,this._timer=t(this._frameHandler))},x.prototype.stop=function(){var t=x.clearTimer;t(this._timer),this._stopped=!0},x.prototype.reset=function(){this.stop()};try{x._init=function(){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;if(t&&t(function(){}),t||e){if(t&&!e){var i,n=t;x.__animationCache={},t=function(t){return i=n(function(){x.__animationCache[i]&&t()}),x.__animationCache[i]=!0,i},e=function(t){x.__animationCache[t]=null}}}else t=function(t){return window.setTimeout(t,5)},e=window.clearTimeout;x.timer=t,x.clearTimer=e,x._init=t=e=null}()}catch(Ae){}var Re=function(t){_e.call(this),this.parsedFieldCount=0,this.parsingDate=!1,this._csvStr=null,this._fdNo=this._resultPnt=this._strPnt=0,this._intReg=/^[-]?\d+$/,this._floatReg=/^[-]?\d*\.\d+$/,this._fieldEnclosureSymbol='"',this._fieldSeperator=t?t:",",this._headerCnt=0,this._recordSeperator="\n",this._recordSeperator2="\r"};ge(Re,_e),Re.prototype.getFieldEnclosureSymbol=function(){return this._fieldEnclosureSymbol},Re.prototype.setFieldEnclosureSymbol=function(t){this._fieldEnclosureSymbol=t},Re.prototype.getFieldSeperator=function(){return this._fieldSeperator},Re.prototype.setFieldSeperator=function(t){this._fieldSeperator=t},Re.prototype.getFieldNames=function(){return this._fieldNames},Re.prototype.setFieldNames=function(t){this._fieldNames=t},Re.prototype.getParsedArray=function(){return this._parsedArray},Re.prototype.getParsedHeaders=function(){return this._parsedHeaders},Re.prototype.getHeaderCnt=function(){return this._headerCnt},Re.prototype.setHeaderCnt=function(t){this._headerCnt=t},Re.prototype.getRecordSeperator=function(){return this._recordSeperator},Re.prototype.setRecordSeperator=function(t){this._recordSeperator=t,this._recordSeperator2="\n"==this._recordSeperator?"\r":"\r"==this._recordSeperator?"\n":""},Re.prototype.parse=function(t){var e,i,n,s=this.parseFunction?be.findFunction(this.parseFunction):null;if(this.parsedFieldCount=0,this._csvStr=t,this._parsedHeaders=[],this._parsedArray=[],this._resultPnt=this._strPnt=0,!this._csvStr)return null;for(t=this._csvStr.length;this._strPnt<t;){if(e=this._lineScan(),this._resultPnt<this._headerCnt){for(i=[],n=0;n<this._fdNo;n++)this._fieldNames?i.push(e[this._fieldNames[n]]):i.push(e["F"+n]);this._parsedHeaders.push(i)}else s&&(e=s(e,this._csvLine,this._resultPnt)),this._parsedArray.push(e);this._resultPnt++}return this._parsedArray},Re.prototype.parseAsync=function(t){this.parsedFieldCount=0,this._csvStr=t,this._parsedHeaders=[],this._parsedArray=[],this._resultPnt=this._strPnt=0,this._csvStr?this.parseLinesAsync():(t=new Ue(Ue.COMPLETE,(!1),(!1)),this.dispatchEvent(t))},Re.prototype.parseLinesAsync=function(){for(var t,e,i,n=this._csvStr.length,s=this.parseFunction?be.findFunction(this.parseFunction):null;this._strPnt<n;){if(i=this._lineScan(),this._resultPnt<this._headerCnt){for(e=[],t=0;t<this._fdNo;t++)this._fieldNames?e.push(i[this._fieldNames[t]]):e.push(i["F"+t]);this._parsedHeaders.push(e)}else s&&(i=s(i,this._csvLine,this._resultPnt)),this._parsedArray.push(i);if(this._resultPnt++,0==this._resultPnt%1e3)return n=new ProgressEvent(ProgressEvent.PROGRESS,(!1),(!1),this._strPnt,n),this.dispatchEvent(n),void setTimeout(this.parseLinesAsync,5)}n=new ProgressEvent(ProgressEvent.PROGRESS,(!1),(!1),this._strPnt,n),this.dispatchEvent(n),n=new Ue("complete",(!1),(!1)),this.dispatchEvent(n)},Re.prototype._lineScan=function(){var t,e,i,n=!1,s=this._csvStr.length,r={},a="",o=this._strPnt,l=this._strPnt;for(this._fdNo=0,t=this._strPnt;t<s;t++){if(e=this._csvStr.charAt(t),i=this._csvStr.charAt(t+1),n)e==this._fieldEnclosureSymbol&&i==this._fieldEnclosureSymbol&&(a+=this._csvStr.substring(o,l+1),l=o=t+1),e!=this._fieldEnclosureSymbol&&l++;else if(e!=this._fieldEnclosureSymbol)if(e==this._fieldSeperator)a+=this._csvStr.substring(o,l),this._fieldNames?this._fdNo<this._fieldNames.length&&(r[this._fieldNames[this._fdNo++]]=this._getValue(a)):r["F"+this._fdNo++]=this._getValue(a),a="",l=o=t+1,this.parsedFieldCount=Math.max(this.parsedFieldCount,this._fdNo);else{if(e==this._recordSeperator)return a+=this._csvStr.substring(o,l),this._fieldNames?this._fdNo<this._fieldNames.length&&(r[this._fieldNames[this._fdNo++]]=this._getValue(a)):r["F"+this._fdNo++]=this._getValue(a),this.parseFunction&&(this._csvLine=this._csvStr.substring(this._strPnt,t)),this._strPnt=t+1,this.parsedFieldCount=Math.max(this.parsedFieldCount,this._fdNo),r;e!=this._recordSeperator2&&l++}e==this._fieldEnclosureSymbol&&(n||(l=o=t+1),n=!n)}return a+=this._csvStr.substring(o,l),this._fieldNames?this._fdNo<this._fieldNames.length&&(r[this._fieldNames[this._fdNo++]]=this._getValue(a)):r["F"+this._fdNo++]=this._getValue(a),this.parseFunction&&(this._csvLine=this._csvStr.substring(this._strPnt,t)),this._strPnt=t,this.parsedFieldCount=Math.max(this.parsedFieldCount,this._fdNo),r},Re.prototype._getValue=function(t){var e;if(this._intReg.test(t)&&0!=t.indexOf("0")&&(e=parseInt(t),!isNaN(e))||this._floatReg.test(t)&&(e=parseFloat(t),!isNaN(e)))return e;if(this.parsingDate&&(0<=t.indexOf("/")||0<=t.indexOf("-")||0<=t.indexOf(":")))try{if(e=Fe.parse(t),!isNaN(e))return new Date(e)}catch(i){}return De.trim(t)},Re.prototype.fastParse=function(t){var e,i,n,s=this.parseFunction?be.findFunction(this.parseFunction):null;if(this.parsedFieldCount=0,this._csvStr=t,this._parsedHeaders=[],this._parsedArray=[],this._resultPnt=this._strPnt=0,this._csvLines=this._csvStr.split(this._recordSeperator),this._fieldNames)for(t=0;t<this._csvLines.length;t++)if(i=this._csvLines[t].split(this._fieldSeperator),t<this._headerCnt)this._parsedHeaders.push(i);else{for(n={},this.parsedFieldCount=Math.max(this.parsedFieldCount,i.length),e=0;e<i.length;e++)e<this._fieldNames.length&&(n[this._fieldNames[e]]=i[e]);s&&(n=s(n,this._csvLines[t],t)),this._parsedArray.push(n)}else for(t=0;t<this._csvLines.length;t++)if(i=this._csvLines[t].split(this._fieldSeperator),t<this._headerCnt)this._parsedHeaders.push(i);else{for(n={},this.parsedFieldCount=Math.max(this.parsedFieldCount,i.length),e=0;e<i.length;e++)n["F"+e]=i[e];s&&(n=s(n,this._csvLines[t],t)),this._parsedArray.push(n)}return this._parsedArray},Re.prototype.fastParseAsync=function(t){this.parsedFieldCount=0,this._csvStr=t,this._parsedHeaders=[],this._parsedArray=[],this._resultPnt=this._strPnt=0,this._csvStr?(this._csvLines=this._csvStr.split(this._recordSeperator),this._fastParseLinesAsync()):(t=new Ue(Ue.COMPLETE,(!1),(!1)),this.dispatchEvent(t))},Re.prototype._fastParseLinesAsync=function(){var t,e,i,n,s=this._csvLines.length,r=this.parseFunction?be.findFunction(this.parseFunction):null;for(t=this._resultPnt;t<s;t++){if(i=this._csvLines[t].split(this._fieldSeperator),t<this._headerCnt)this._parsedHeaders.push(i);else{for(n={},this.parsedFieldCount=Math.max(this.parsedFieldCount,i.length),e=0;e<i.length;e++)this._fieldNames?e<this._fieldNames.length&&(n[this._fieldNames[e]]=i[e]):n["F"+e]=i[e];r&&(n=r(n,this._csvLines[t],t)),this._parsedArray.push(n)}if(this._resultPnt++,0==this._resultPnt%1e4)return s=new ProgressEvent(ProgressEvent.PROGRESS,(!1),(!1),this._resultPnt,s),this.dispatchEvent(s),void setTimeout(this._fastParseLinesAsync,5)}s=new ProgressEvent(ProgressEvent.PROGRESS,(!1),(!1),this._resultPnt,s),this.dispatchEvent(s),s=new Ue("complete",(!1),(!1)),this.dispatchEvent(s)},Re.encode=function(t,e){return t?0<=t.indexOf("\n")||0<=t.indexOf(e)?'"'+(0<=t.indexOf('"')?t.replace(/\"/g,'""'):t)+'"':0<=t.indexOf('"')?'"'+t.replace(/\"/g,'""')+'"':t:t};var Fe={parseWithFormat:function(t,e){var i,n,s,r,a,o="",l="",h=i="",d="",c="",u=0;if(e&&t&&0<e.length&&e.length==t.length){for(a=e.length,r=0;r<a;r++,u++)if(s=""+t.charAt(u),n=""+e.charAt(r),"M"==n)isNaN(Number(s))||" "==s?u--:l+=s;else if("D"==n)isNaN(Number(s))||" "==s?u--:o+=s;else if("H"==n)isNaN(Number(s))||" "==s?u--:h+=s;else if("N"==n||"m"==n)isNaN(Number(s))||" "==s?u--:d+=s;else if("S"==n)isNaN(Number(s))||" "==s?u--:c+=s;else if("Y"==n)i+=s;else if(!isNaN(Number(s))&&" "!=s)return Fe.parse(t);return s=""+t.charAt(e.length-r+u),""!=s&&" "!=s?NaN:(n=Number(l),o=Number(o),s=Number(i),h=Number(h),d=Number(d),c=Number(c),isNaN(s)||isNaN(n)||isNaN(o)?NaN:(2==i.length&&70>s&&(s+=2e3),i=new Date(s,n-1,o,isNaN(h)?0:h,isNaN(d)?0:d,isNaN(c)?0:c),o!=i.getDate()||n-1!=i.getMonth()?NaN:i.getTime()))}return Fe.parse(t)},parse:function(t){var e,n=Date.parse(t);if(isNaN(n)||0xe677cb1a5fbf<n){var s=t.toString();if(i(t)&&8==t.length||r(t)&&8==s.length)try{(n=new Date(s.substr(0,4),Number(s.substr(4,2))-1,s.substr(6,2)))&&(n=n.getTime())}catch(a){n=NaN}else if(i(t)&&14==t.length||r(t)&&14==s.length)try{(n=new Date(s.substr(0,4),Number(s.substr(4,2))-1,s.substr(6,2),s.substr(8,2),s.substr(10,2),s.substr(12,2)))&&(n=n.getTime())}catch(a){n=NaN}else if(0<s.indexOf("-"))try{n=Date.parse(s.replace(/-/g,"/"))}catch(a){n=NaN}else if(0<s.indexOf("."))try{n=Date.parse(s.replace(/\./g,"/"))}catch(a){n=NaN}else if(0>s.indexOf("/")&&(i(t)&&6==t.length||r(t)&&6==s.length))try{e=parseInt(s.substr(0,2)),(n=new Date(70<e?1900+e:2e3+e,Number(s.substr(2,2))-1,s.substr(4,2)))&&(n=n.getTime())}catch(a){n=NaN}}else if(i(t)&&0<t.indexOf("-"))try{n=Date.parse(t.replace(/-/g,"/"))}catch(a){n=NaN}return n},toISOString:function(t){function e(t){return 10>t?"0"+t:t}return t?t.toISOString?t.toISOString():t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z":""}};w.prototype.clone=function(){return new w(this.color,this.weight,this.alpha)},D._propertyType={entries:Array},D.prototype.setEntries=function(t){this._entries=t},D.prototype.getEntries=function(t){return this._entries},M._propertyType={entries:Array},M.prototype.setEntries=function(t){this._entries=t},M.prototype.getEntries=function(){return this._entries},I._propertyType={entries:Array},I.prototype.setEntries=function(t){this._entries=t},I.prototype.getEntries=function(){return this._entries},E._instance=null,E.getInstance=function(){return E._instance||(E._instance=new E),E._instance};var ke={elementNo:0,eventNo:0,zIndex:3450,uid:0,cache:{},stores:{},insert:function(t,e,i,n){var s;t==document?(s="document",ke.cache[s]||(ke.cache[s]={elem:t,events:[]})):t==window?(s="window",ke.cache[s]||(ke.cache[s]={elem:t,events:[]})):l(t.euid)?(s="Kool__"+ke.uid++,t.euid=s,ke.cache[s]={elem:t,events:[]}):s=t.euid,ke.cache[s].events.push({type:e,listener:i,context:n.context,useCapture:n.useCapture,priority:n.priority})},clean:function(){var t,e,i,n,s=ke.cache;for(t in s){for(n=s[t],e=n.events.length-1;-1<e;--e)i=n.events[e],n.elem==document?Pe.documentRemoveEvent(i.type,i.listener,i.context,i.useCapture,i.priority):n.elem==window?Pe.windowRemoveEvent(i.type,i.listener,i.context,i.useCapture,i.priority):Pe.removeEvent(n.elem,i.type,i.listener,i.context,i.useCapture,i.priority);n.elem=n.events=null}ke.cache={},Pe.docuemntEvent={},Pe.windowEvent={},Te.uidDictionary={}},remove:function(t,e){var i,n,s,r,a,o,l;if(t){if(t instanceof f&&(t=t.element),s=ke.cache[t.euid],0<t.childNodes.length)for(i=t.childNodes.length-1;-1<i;)ke.remove(t.childNodes[i]),i--;if(s){for(i=s.events.length-1;-1<i;)o=s.events[i],Pe.removeEvent(s.elem,o.type,o.listener,o.context,o.useCapture,o.priority),s.events[i]=null,i--;if(s.elem.selfElement&&s.elem.selfElement._eventList)for(a in l=s.elem.selfElement._eventList)for(n=l[a].length-1;-1<n;--n)o=l[a][n],s.elem.selfElement.removeEventListener(a,o.listener,o.context,o.useCapture);s.events=s.elem=a=null}ke.cache[t.euid]=null;try{delete ke.cache[t.euid],t.euid=void 0}catch(h){}for(i=t.childNodes.length-1;0<=i;--i){if(s=t.childNodes[i],s.euid&&s.events){for(r in s.events)for(o=s.events[r],n=o.length-1;-1<n;--n)Pe.removeEvent(s,r,o.listener,o.context,o.useCapture,o.priority);if(s.selfElement&&s.selfElement._eventList){l=s.selfElement._eventList;for(a in l)for(n=l[a].length-1;-1<n;--n)o=l[a][n],s.selfElement.removeEventListener(a,o.listener,o.context,o.useCapture);a=null}s.events=null,ke.cache[s.euid]=null;try{delete ke.cache[s.euid],s.euid=void 0}catch(h){}}t.removeChild(s)}"CANVAS"==t.tagName&&E.getInstance().freeElement(t),e&&t.parentNode&&t.parentNode.removeChild(t)}}},He=function(){_e.call(this),this.className="LayoutManager",this.name=this.className+this.uno,this._updateCompleteQueue=new Oe,this._invalidatePropertiesQueue=new Oe,this._invalidateSizeQueue=new Oe,this._invalidateDisplayListQueue=new Oe,this._callLaterPending=this._usePhasedInstantiation=this._invalidateDisplayListFlag=this._invalidateClientSizeFlag=this._invalidateSizeFlag=this._invalidateClientPropertiesFlag=this._invalidatePropertiesFlag=!1,this._targetLevel=Number.MAX_VALUE};ge(He,_e),He.getInstance=function(){return He._instance||(He._instance=new He),He._instance},He.prototype.getUsePhasedInstantiation=function(){return this._usePhasedInstantiation},He.prototype.setUsePhasedInstantiation=function(t){this._usePhasedInstantiation!=t&&(this._usePhasedInstantiation=t)},He.prototype.invalidateProperties=function(t){var e=this;e._invalidatePropertiesFlag||(e._invalidatePropertiesFlag=!0,e._callLaterPending||(e._callLaterObject?e._callLaterObject.callLater(function(){e._doPhasedInstantiation()}):(e._callLaterObject=new _,e._callLaterObject.callLater(function(){e._waitAFrame()})),e._callLaterPending=!0)),e._targetLevel<=t._nestLevel&&(e._invalidateClientPropertiesFlag=!0),e._invalidatePropertiesQueue.addObject(t,t._nestLevel)},He.prototype.invalidateSize=function(t){var e=this;e._invalidateSizeFlag||(e._invalidateSizeFlag=!0,e._callLaterPending||(e._callLaterObject?e._callLaterObject.callLater(function(){e._doPhasedInstantiation()}):(e._callLaterObject=new _,e._callLaterObject.callLater(function(){e._waitAFrame()})),e._callLaterPending=!0)),e._targetLevel<=t._nestLevel&&(e._invalidateClientSizeFlag=!0),e._invalidateSizeQueue.addObject(t,t._nestLevel)},He.prototype.invalidateDisplayList=function(t){var e=this;e._invalidateDisplayListFlag||(e._invalidateDisplayListFlag=!0,e._callLaterPending||(e._callLaterObject?e._callLaterObject.callLater(function(){e._doPhasedInstantiation()}):(e._callLaterObject=new _,e._callLaterObject.callLater(function(){e._waitAFrame()})),e._callLaterPending=!0)),e._invalidateDisplayListQueue.addObject(t,t._nestLevel)},He.prototype._validateProperties=function(){for(var t=this._invalidatePropertiesQueue.removeSmallest();t;)t.validateProperties(),t._updateCompletePendingFlag||(this._updateCompleteQueue.addObject(t,t._nestLevel),t._updateCompletePendingFlag=!0),t=this._invalidatePropertiesQueue.removeSmallest();this._invalidatePropertiesQueue.isEmpty()&&(this._invalidatePropertiesFlag=!1)},He.prototype._validateSize=function(){for(var t=this._invalidateSizeQueue.removeLargest();t;)t.validateSize(),t._updateCompletePendingFlag||(this._updateCompleteQueue.addObject(t,t._nestLevel),t._updateCompletePendingFlag=!0),t=this._invalidateSizeQueue.removeLargest();this._invalidateSizeQueue.isEmpty()&&(this._invalidateSizeFlag=!1)},He.prototype._validateDisplayList=function(){for(var t=this._invalidateDisplayListQueue.removeSmallest();t;)t.validateDisplayList(),t._updateCompletePendingFlag||(this._updateCompleteQueue.addObject(t,t._nestLevel),t._updateCompletePendingFlag=!0),t=this._invalidateDisplayListQueue.removeSmallest();this._invalidateDisplayListQueue.isEmpty()&&(this._invalidateDisplayListFlag=!1)},He.prototype._doPhasedInstantiation=function(){var t=this;if(t._usePhasedInstantiation?t._invalidatePropertiesFlag?t._validateProperties():t._invalidateSizeFlag?t._validateSize():t._invalidateDisplayListFlag&&t._validateDisplayList():(t._invalidatePropertiesFlag&&t._validateProperties(),t._invalidateSizeFlag&&t._validateSize(),t._invalidateDisplayListFlag&&t._validateDisplayList()),t._invalidatePropertiesFlag||t._invalidateSizeFlag||t._invalidateDisplayListFlag)t._callLaterObject.callLater(function(){t._doPhasedInstantiation()});else{t.setUsePhasedInstantiation(!1),t._callLaterPending=!1;for(var e=t._updateCompleteQueue.removeLargest();e;)!e.getInitialized()&&e.getProcessedDescriptors()&&e.setInitialized(!0),e.dispatchEvent(new Ue("updateComplete")),e._updateCompletePendingFlag=!1,e=t._updateCompleteQueue.removeLargest();t.dispatchEvent(new Ue("updateComplete"))}},He.prototype.validateNow=function(){if(!this._usePhasedInstantiation)for(var t=0;this._callLaterPending&&100>t++;)this._doPhasedInstantiation()},He.prototype.validateClient=function(t,e){e=1<arguments.length&&e;var i,n=!1,s=this._targetLevel;if(t._useDelayInvalidate){for(this._targetLevel==Number.MAX_VALUE&&(this._targetLevel=t._nestLevel);!n;){for(n=!0,i=this._invalidatePropertiesQueue.removeSmallestChild(t);i;)i.validateProperties(),i._updateCompletePendingFlag||(this._updateCompleteQueue.addObject(i,i._nestLevel),i._updateCompletePendingFlag=!0),i=this._invalidatePropertiesQueue.removeSmallestChild(t);for(this._invalidatePropertiesQueue.isEmpty()&&(this._invalidateClientPropertiesFlag=this._invalidatePropertiesFlag=!1),i=this._invalidateSizeQueue.removeLargestChild(t);i;){if(i.validateSize(),i._updateCompletePendingFlag||(this._updateCompleteQueue.addObject(i,i._nestLevel),i._updateCompletePendingFlag=!0),this._invalidateClientPropertiesFlag&&(i=this._invalidatePropertiesQueue.removeSmallestChild(t))){this._invalidatePropertiesQueue.addObject(i,i._nestLevel),n=!1;break}i=this._invalidateSizeQueue.removeLargestChild(t)}if(this._invalidateSizeQueue.isEmpty()&&(this._invalidateClientSizeFlag=this._invalidateSizeFlag=!1),!e){for(i=this._invalidateDisplayListQueue.removeSmallestChild(t);i;){if(i.validateDisplayList(),i._updateCompletePendingFlag||(this._updateCompleteQueue.addObject(i,i._nestLevel),i._updateCompletePendingFlag=!0),this._invalidateClientPropertiesFlag&&(i=this._invalidatePropertiesQueue.removeSmallestChild(t))){this._invalidatePropertiesQueue.addObject(i,i._nestLevel),n=!1;break}if(this._invalidateClientSizeFlag&&(i=this._invalidateSizeQueue.removeLargestChild(t))){this._invalidateSizeQueue.addObject(i,i._nestLevel),n=!1;break}i=this._invalidateDisplayListQueue.removeSmallestChild(t)}this._invalidateDisplayListQueue.isEmpty()&&(this._invalidateDisplayListFlag=!1)}}if(s==Number.MAX_VALUE&&(this._targetLevel=Number.MAX_VALUE,!e))for(i=this._updateCompleteQueue.removeLargestChild(t);i;)i.getInitialized()||i.setInitialized(!0),i.dispatchEvent(new Ue("updateComplete")),i._updateCompletePendingFlag=!1,i=this._updateCompleteQueue.removeLargestChild(t)}else t.validateProperties(),t.validateSize(),e||t.validateDisplayList()},He.prototype.isInvalid=function(){return this._invalidatePropertiesFlag||this._invalidateSizeFlag||this._invalidateDisplayListFlag},He.prototype._waitAFrame=function(){var t=this;t._callLaterObject.callLater(function(){t._doPhasedInstantiation()})};var Oe=function(){this.className="PriorityQueue",this._arrayOfArrays=[],this._minPriority=0,this._maxPriority=-1};Oe.prototype.addObject=function(t,e){this._arrayOfArrays[e]||(this._arrayOfArrays[e]=[]),this._arrayOfArrays[e].push(t),this._maxPriority<this._minPriority?this._minPriority=this._maxPriority=e:(e<this._minPriority&&(this._minPriority=e),e>this._maxPriority&&(this._maxPriority=e))},Oe.prototype.removeLargest=function(){var t=null;if(this._minPriority<=this._maxPriority){for(;!this._arrayOfArrays[this._maxPriority]||0==this._arrayOfArrays[this._maxPriority].length;)if(this._maxPriority--,this._maxPriority<this._minPriority)return null;for(t=this._arrayOfArrays[this._maxPriority].shift();!(this._arrayOfArrays[this._maxPriority]&&0!=this._arrayOfArrays[this._maxPriority].length||(this._maxPriority--,this._maxPriority<this._minPriority)););}return t},Oe.prototype.removeLargestChild=function(t){for(var e,i,n=null,s=this._maxPriority,r=t._nestLevel;r<=s;)if(this._arrayOfArrays[s]&&0<this._arrayOfArrays[s].length){for(e=0,i=this._arrayOfArrays[s].length;e<i;e++)if(this._contains(t,this._arrayOfArrays[s][e]))return n=this._arrayOfArrays[s][e],this._arrayOfArrays[s].splice(e,1),n;s--}else if(s==this._maxPriority&&this._maxPriority--,s--,s<r)break;return n},Oe.prototype.removeSmallest=function(t){if(t=null,this._minPriority<=this._maxPriority){for(;!this._arrayOfArrays[this._minPriority]||0==this._arrayOfArrays[this._minPriority].length;)if(this._minPriority++,this._minPriority>this._maxPriority)return null;for(t=this._arrayOfArrays[this._minPriority].shift();!(this._arrayOfArrays[this._minPriority]&&0!=this._arrayOfArrays[this._minPriority].length||(this._minPriority++,this._minPriority>this._maxPriority)););}return t},Oe.prototype.removeSmallestChild=function(t){for(var e,i,n=null,s=t._nestLevel;s<=this._maxPriority;)if(this._arrayOfArrays[s]&&0<this._arrayOfArrays[s].length){for(e=0,i=this._arrayOfArrays[s].length;e<i;e++)if(this._contains(t,this._arrayOfArrays[s][e]))return n=this._arrayOfArrays[s][e],this._arrayOfArrays[s].splice(e,1),n;s++}else if(s==this._minPriority&&this._minPriority++,s++,s>this._maxPriority)break;return n},Oe.prototype.removeAll=function(){this._arrayOfArrays.splice(0,this._arrayOfArrays.length),this._minPriority=0,this._maxPriority=-1},Oe.prototype.isEmpty=function(){return this._minPriority>this._maxPriority},Oe.prototype._contains=function(t,e){return t.getRawChildren?t.getRawChildren().contains(e):t instanceof f?t.contains(e):t===e};var We=function(){_e.call(this),this.className="SystemManager",this.name=this.className+this.uno};ge(We,_e),We.apps={},We.getInstance=function(){return We._instance||(We._instance=new We),We._instance},We.domReadyDelayCall=!1,We.domReadyInteractive=!1,We.prototype.getRootElement=function(){return this._rootElement},We.prototype.setRootElement=function(t){this._rootElement=t},We.prototype.getDocument=function(){return document},We.prototype.getClassMap=function(){return this._classMap},We.prototype.getToolTipChildren=function(){return this._toolTipChildren?this._toolTipChildren.element!=this._toolTipChildren.element.parentNode.lastChild&&this._toolTipChildren.element.parentNode.appendChild(this._toolTipChildren.element):(this._toolTipChildren=new _,document.body.appendChild(this._toolTipChildren.element),
this._toolTipChildren.setNestLevel(1),this._toolTipChildren.initialize()),this._toolTipChildren},We.destroy=function(t){delete We.apps[t]},We.domReady=function(t,e,i){We.domReady.done?We.apps[i]=t.call(e):!We.domReadyDelayCall&&document&&document.getElementsByTagName&&document.getElementById&&document.body&&("complete"==document.readyState||We.domReadyInteractive&&"interactive"==document.readyState)?(We.domReady.ready=[{f:t,c:e,id:i}],We.isDOMReady()):We.domReady.timer?We.domReady.ready.push({f:t,c:e,id:i}):(We.domReady.ready=[{f:t,c:e,id:i}],We.domReady.timer=setInterval(We.isDOMReady,30))},We.isDOMReady=function(){if(We.domReady.done)return!1;if(document&&document.getElementsByTagName&&document.getElementById&&document.body&&("complete"==document.readyState||We.domReadyInteractive&&"interactive"==document.readyState)){clearInterval(We.domReady.timer),We.domReady.timer=null,We.domReady.done=!0;for(var t=0;t<We.domReady.ready.length;t++){var e=We.domReady.ready[t];e.c?We.apps[e.id]=e.f.call(e.c):e.f()}We.domReady.ready=null,Pe.windowAddEvent("resize",We.windowResizeHandler,this),Pe.windowAddEvent("unload",We.destroyHandler,this)}},We.windowResizeHandler=function(){for(var t in We.apps)We.apps[t].resize(t)},We.destroyHandler=function(){try{Pe.windowRemoveEvent("resize",We.windowResizeHandler,this),Pe.windowRemoveEvent("unload",We.destroyHandler,this);var t,e,i,n=Ee.getHasClass("Kool__[a-zA-Z]*Root","div");for(t=0,e=n.length;t<e;t++)i=n[t].selfElement,i.destroy&&i.destroy(i);ke.clean(),We.apps={}}catch(s){}},We.addClassMap=function(t){var e=We.getInstance();e._classMap||(e._classMap={}),Ee.extend(e._classMap,t,!0)};var ze={resources:{"ko-KR":{shared:{dateFormat:"YYYY/MM/DD",monthFormat:"YYYY/MM",monthSymbol:"",yearSymbol:""},controls:{firstDayOfWeek:0,dayNamesShortest:",,,,,,",disclosureIcon:" /",okLabel:"",yesLabel:"",noLabel:"",cancelLabel:""},formatters:{am:"",pm:"",dayNamesShort:",,,,,,",monthNamesShort:"1,2,3,4,5,6,7,8,9,10,11,12"},utils:{overClipboardLimit:"   .   . ( 64000)",clipboardCopy:" Ctrl+C  Enter ",clipboardPaste:" Ctrl+V "}},"en-US":{shared:{dateFormat:"MM/DD/YYYY",monthFormat:"MM/YYYY",monthSymbol:"",yearSymbol:""},controls:{firstDayOfWeek:0,dayNamesShortest:"S,M,T,W,T,F,S",disclosureIcon:"Tree open/close",okLabel:"OK",yesLabel:"Yes",noLabel:"No",cancelLabel:"Cancel"},formatters:{am:"AM",pm:"PM",dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat",monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec"},utils:{overClipboardLimit:"Too many characters to copy. Reduce selection range. (maximum 64Kbytes)",clipboardCopy:"Copy to clipboard: Ctrl+C, Enter",clipboardPaste:"Paste from clipboard: Ctrl+V"}},"fr-FR":{shared:{dateFormat:"DD/MM/YYYY",monthFormat:"MM/YYYY",monthSymbol:"",yearSymbol:""},controls:{firstDayOfWeek:0,dayNamesShortest:"D,L,M,M,J,V,S",disclosureIcon:"Arbre d'ouverture / fermeture",okLabel:"OK",yesLabel:"Oui",noLabel:"Non",cancelLabel:"Annuler"},formatters:{am:"AM",pm:"PM",dayNamesShort:"Dim,Lun,Mar,Mer,Jeu,Ven,Sam",monthNamesShort:"Jan,Fv,Mar,Avr,Mai,Jui,Juil,Ao,Sep,Oct,Nov,Dc"},utils:{overClipboardLimit:"Trop de caractres pour etre copi. Rduire la plage de slection. (maximum 64Kbytes)",clipboardCopy:"Copier dans le Presse-papier: Ctrl+C, Entre",clipboardPaste:"Coller du Presse-papier: Ctrl+V"}},"de-DE":{shared:{dateFormat:"DD.MM.YYYY",monthFormat:"MM.YYYY",monthSymbol:"",yearSymbol:""},controls:{firstDayOfWeek:0,dayNamesShortest:"S,M,D,M,D,F,S",disclosureIcon:"Baum ffnen / Schlieen",okLabel:"OK",yesLabel:"Ja",noLabel:"Nein",cancelLabel:"Abbrechen"},formatters:{am:"vorm.",pm:"nachm.",dayNamesShort:"Son,Mon,Die,Mit,Don,Fre,Sam",monthNamesShort:"Jan,Feb,Mrz,Apr,Mai,Jun,Jul,Aug,Sep,Okt,Nov,Dez"},utils:{overClipboardLimit:"Zu viele Zeichensatze fr Kopie. Reduzieren Sie die Wahlsbereich. (maximum 64Kbytes)",clipboardCopy:"Kopien in der Zwischenablage. Ctrl+C, Eingabe",clipboardPaste:"Einfugen aus der Zwischenablage: Ctrl+V"}},"zh-CN":{shared:{dateFormat:"YYYY-MM-DD",monthFormat:"YYYY-MM",monthSymbol:"",yearSymbol:""},controls:{firstDayOfWeek:0,dayNamesShortest:",,,,,,",disclosureIcon:"/",okLabel:"",yesLabel:"",noLabel:"",cancelLabel:""},formatters:{am:"",pm:"",dayNamesShort:",,,,,,",monthNamesShort:"1,2,3,4,5,6,7,8,9,10,11,12"},utils:{overClipboardLimit:"64K",clipboardCopy:"Ctrl + C",clipboardPaste:"Ctrl + V"}}},_localeChain:["en-US","ko-KR","fr-FR","de-DE","zh-CN"],getLocaleChain:function(){return this._localeChain},setLocaleChain:function(t){e(t)?this._localeChain=t:this._localeChain=[t]},addResourceBundle:function(t,e,i){i=i?i:this._localeChain[0],this.resources[i]||(this.resources[i]={}),this.resources[i][t]=e},getResourceBundle:function(t,e){var i=e?e:this._localeChain[0];return this.resources[i]?this.resources[i][t]:void 0},getString:function(t,e,i,n){var s,r="",a=this.resources;if(n)a[n]&&a[n][t]&&(h(a[n][t][e])||(r=a[n][t][e]));else for(n=0;n<this._localeChain.length;n++)if(s=this._localeChain[n],a[s]&&a[s][t]&&!h(a[s][t][e])){r=a[s][t][e];break}if(r&&i)for(n=0;n<i.length;n++)r=r.replace("{"+n+"}",i[n]);return r},getNumber:function(t,e,i){var n,s=0,r=this.resources;if(i)r[i]&&r[i][t]&&(h(r[i][t][e])||(s=r[i][t][e]));else for(i=0;i<this._localeChain.length;i++)if(n=this._localeChain[i],r[n]&&r[n][t]&&!h(r[n][t][e])){s=r[n][t][e];break}return Number(s)}};ge(P,_e),P._effectTriggersForEvent={},P._effects=[],P.createEffectForType=function(t,e){var i=P._effectTriggersForEvent[e];if(""!=i&&void 0!=i||(i=e+"Effect"),i=t[i],!i)return null;if(a(i))return new i(t);try{var n;if(i instanceof String?n=t.parentDocument[i]:i instanceof B&&(n=i),n)return n.setTarget(t),n}catch(s){}return(n=t.systemManager.getDefinitionByName("effects."+i))?new n(t):null},P.effectStarted=function(t){P._effects[t]=1},P.effectFinished=function(t){delete P._effects[t]};var Be=function(){this._textFields={}};Be.getInstance=function(){return Be._instance||(Be._instance=new Be),Be._instance},Be.prototype.measureText=function(t,e){var i,n,s="";return i=e?e:"",n=document.body,this._textFieldHolder||(this._textFieldHolder=document.createElement("div"),Ee.addClass(this._textFieldHolder,"Kool__Root"),Ee.setVisibility(this._textFieldHolder,!1),Ee.setStyle(this._textFieldHolder,"position","absolute"),Ee.setPxStyle(this._textFieldHolder,"left",-6e3),Ee.setPxStyle(this._textFieldHolder,"top",-300),Ee.setPxStyle(this._textFieldHolder,"width",5e3),n.appendChild(this._textFieldHolder)),t?(s+=t.font+",",s+=t.size+",",s+=t.bold+",",s+=t.underline+",",s+=t.italic+",",s+=t.align+",",s+=t.indent+",",s+=t.lineHeight+",",s+=t.spacing,this._textFields[s]?n=this._textFields[s]:(n=document.createElement("div"),t.font&&Ee.setStyle(n,"fontFamily",t.font),t.size&&Ee.setStyle(n,"fontSize",t.size),t.bold&&Ee.setStyle(n,"fontWeight",t.bold),t.underline&&Ee.setStyle(n,"textDecoration",t.underline),t.italic&&Ee.setStyle(n,"fontStyle",t.italic),t.align&&Ee.setStyle(n,"textAlign",t.align),t.indent&&Ee.setStyle(n,"textIndent",t.indent),t.lineHeight&&"0"!=t.lineHeight&&"0px"!=t.lineHeight&&Ee.setStyle(n,"lineHeight",t.lineHeight),t.spacing&&Ee.setStyle(n,"letterSpacing",t.spacing),Ee.setStyle(n,"position","absolute"),this._textFieldHolder.appendChild(n),this._textFields[s]=n),n.innerHTML!=i.toString()&&(n.innerHTML=i.toString()),new ye(0,0,n.offsetWidth,n.offsetHeight)):new ye(0,0,0,0)},Be.prototype.saveAutocomplete=function(t,e){if(e){var i,n=document.body;if(!this._autocompleteHolder){this._autocompleteHolder=document.createElement("div"),Ee.addClass(this._autocompleteHolder,"Kool__AutocompleteRoot"),Ee.setVisibility(this._autocompleteHolder,!1),Ee.setStyle(this._autocompleteHolder,"position","absolute"),Ee.setPxStyle(this._autocompleteHolder,"left",-1e3),Ee.setPxStyle(this._autocompleteHolder,"top",-200),Ee.setPxStyle(this._autocompleteHolder,"width",100);try{i=document.createElement("<iframe name='Kool__AutocompleteIframe'>")}catch(s){i=document.createElement("iframe"),i.id="Kool__AutocompleteIframe",i.name="Kool__AutocompleteIframe"}Ee.setStyle(i,"width","200px"),Ee.setStyle(i,"height","0px"),Ee.setStyle(i,"border","0px"),this._autocompleteHolder.appendChild(i),this._autocompleteForm=document.createElement("form"),this._autocompleteForm.target=i.name,this._autocompleteForm.action=pe+"close.png",Ee.setAttr(this._autocompleteForm,"autocomplete","on"),this._autocompleteInputElement=document.createElement("input"),this._autocompleteInputElement.type="text",this._autocompleteForm.appendChild(this._autocompleteInputElement),this._autocompleteHolder.appendChild(this._autocompleteForm),n.appendChild(this._autocompleteHolder)}if(this._autocompleteInputElement)if(Ee.setAttr(this._autocompleteInputElement,"name",t),this._autocompleteInputElement.value=e,window.external&&"AutoCompleteSaveForm"in window.external)window.external.AutoCompleteSaveForm(this._autocompleteForm);else try{this._autocompleteForm.submit()}catch(s){}}};var Ve={isDragging:!1,_dragProxy:null,doDrag:function(t,e,i,n){if(n=!(3<arguments.length)||n,!Ve.isDragging){Ve.isDragging=!0;var s=t.uno;h(s)||(Ve._dragProxy={uno:s,ds:e,am:n},i.dataTransfer.clearData("Text"),i.dataTransfer.setData("Text",s.toString()))}},getDragSource:function(t){return!h(t)&&Ve._dragProxy&&Ve._dragProxy.uno==t?Ve._dragProxy:null},endDrag:function(t){Ve.isDragging=!1,Ve._dragProxy=null}},Ue=function(t,e,i){this.type=t,this.bubbles=1<arguments.length&&e,this.cancelable=2<arguments.length&&i,this.defaultPrevented=!1,this.eno=ke.eventNo++,this._stoped=this._istoped=!1};Ue.prototype.clone=function(){return new Ue(this.type,this.bubbles,this.cancelable)},Ue.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0,this.htmlEvent&&(this.htmlEvent.preventDefault?this.htmlEvent.preventDefault():this.htmlEvent.returnValue=!1))},Ue.prototype.stopImmediatePropagation=function(){this._istoped=!0,this.htmlEvent&&(this.htmlEvent.stopImmediatePropagation?this.htmlEvent.stopImmediatePropagation():this.htmlEvent.cancelBubble=!0)},Ue.prototype.stopPropagation=function(){this._stoped=!0,this.htmlEvent&&(this.htmlEvent.stopPropagation?this.htmlEvent.stopPropagation():this.htmlEvent.cancelBubble=!0)};var Ge=function(t,e,i,n,s,r,a){Ue.call(this,t,e,i),this.kind=3<arguments.length?n:null,this.location=4<arguments.length?s:-1,this.oldLocation=5<arguments.length?r:-1,this.items=6<arguments.length?a:[]};ge(Ge,Ue),Ge.COLLECTION_CHANGE="collectionChange",Ge.prototype.clone=function(){return new Ge(this.type,this.bubbles,this.cancelable,this.kind,this.location,this.oldLocation,this.items)};var Ye=function(t,e,i,n){Ue.call(this,t,e,i),this.value=n};ge(Ye,Ue),Ye.TWEEN_END="tweenEnd",Ye.TWEEN_START="tweenStart",Ye.TWEEN_UPDATE="tweenUpdate",Ye.prototype.clone=function(){return new Ye(this.type,this.bubbles,this.cancelable,this.value)},ge(L,Ue),L.EFFECT_END="effectEnd",L.EFFECT_START="effectStart",L.prototype.clone=function(){return new L(this.type,this.bubbles,this.cancelable,this.effectInstance)};var Xe=function(t,e,i,n,s){Ue.call(this,t,e,i),this.relatedObject=n,this.htmlEvent=s};ge(Xe,Ue),Xe.CHILD_ADD="childAdd",Xe.CHILD_REMOVE="childRemove",Xe.prototype.clone=function(){return new Xe(this.type,this.bubbles,this.cancelable,this.relatedObject,this.htmlEvent)};var je=function(t,e,i,n,s,r,a){Ue.call(this,t,e,i),this.relatedObject=n,this.oldIndex=s,this.newIndex=r,this.triggerEvent=a};ge(je,Ue),je.CHANGE="change",je.CHILD_INDEX_CHANGE="childIndexChange",je.HEADER_SHIFT="headerShift",je.prototype.clone=function(){return new je(this.type,this.bubbles,this.cancelable,this.relatedObject,this.oldIndex,this.newIndex,this.triggerEvent)};var Ke=function(t,e,i,n,s,r,a,o){Ue.call(this,t,e,i),this.kind=n,this.property=s,this.oldValue=r,this.newValue=a,this.source=o?o:{}};ge(Ke,Ue),Ke.PROPERTY_CHANGE="propertyChange",Ke.prototype.clone=function(){return new Ke(this.type,this.bubbles,this.cancelable,this.kind,this.property,this.oldValue,this.newValue,this.source)};var Je=function(t,e,i,n,s,r,a,o){Ue.call(this,t,e,i),this.detail=n,this.position=s,this.direction=r,this.delta=a,this.htmlEvent=o};ge(Je,Ue),Je.SCROLL="scroll",Je.prototype.clone=function(){return new Je(this.type,this.bubbles,this.cancelable,this.detail,this.position,this.direction,this.delta,this.htmlEvent)},N.prototype.getTarget=function(){return this._target},N.prototype.setTarget=function(t){t!=this._target&&(this._target=t)},N.prototype.measure=function(){var t,e=this._isVertical(),i=0,n=0,s=0,r=0,a=this._target.getNumChildren(),l=a;for(t=0;t<a;t++){var h=this._target.getChildAt(t);if(h.getIncludeInLayout()){var d=h.getExplicitOrMeasuredWidth(),c=h.getExplicitOrMeasuredHeight();e?(i=Math.max(o(h.getPercentWidth())?d:h.getMinWidth(),i),s=Math.max(d,s),n+=isNaN(h.getPercentHeight())?c:h.getMinHeight(),r+=c):(i+=o(h.getPercentWidth())?d:h.getMinWidth(),s+=d,n=Math.max(o(h.getPercentHeight())?c:h.getMinHeight(),n),r=Math.max(c,r))}else l--}e=this._widthPadding(l),l=this._heightPadding(l),this._target.measuredMinWidth=i+e,this._target.measuredMinHeight=n+l,this._target.measuredWidth=s+e,this._target.measuredHeight=r+l},N.prototype.updateDisplayList=function(t,e){var i=this._target.getNumChildren();if(0!=i){var n,s,r,a=this._target.getViewMetricsAndPadding(),o=this._target.getSizeStyle("paddingLeft"),l=this._target.getSizeStyle("paddingTop"),h=this._getHorizontalAlignValue(),d=this._getVerticalAlignValue(),c=this._target.getMinWidth(),u=this._target.getMinHeight(),c=Math.max(t,c)-a.right-a.left,a=Math.max(e,u)-a.bottom-a.top,u=this._target._horizontalScrollBarExist,p=this._target._verticalScrollBarExist,g=0,f=0;if(1==i)i=this._target.getChildAt(0),g=i.getPercentWidth(),n=i.getPercentHeight(),g=g?Math.max(i.getMinWidth(),Math.min(i.getMaxWidth(),100<=g?c:c*g/100)):i.getExplicitOrMeasuredWidth(),n=n?Math.max(i.getMinHeight(),Math.min(i.getMaxHeight(),100<=n?a:a*n/100)):i.getExplicitOrMeasuredHeight(),i.setActualSize(g,n),Le.ie7&&i.setActualSize(g,n),(i.getPercentWidth()||i.getPercentHeight())&&i.invalidateDisplayList(),p&&"auto"==this._target.getVerticalScrollPolicy()&&(c+=Le.getScrollBarWidth()),u&&"auto"==this._target.getHorizontalScrollPolicy()&&(a+=Le.getScrollBarHeight()),p=(c-i.getWidth())*h+o,u=(a-i.getHeight())*d+l,i.move(p,u);else if(this._isVertical()){for(n=this._target.getStyle("verticalGap"),s=i,r=0;r<i;r++)this._target.getChildAt(r).getIncludeInLayout()||s--;if(r=Qe.childHeightsProportionally(this._target,a-(s-1)*n,c),u&&"auto"==this._target.getHorizontalScrollPolicy()&&(r+=Le.getScrollBarHeight()),p&&"auto"==this._target.getVerticalScrollPolicy()&&(c+=Le.getScrollBarWidth()),u=l+r*d,0<h)for(r=0;r<i;r++)s=this._target.getChildAt(r),p=(c-s.getWidth())*h,f=Math.min(f,p);for(r=0;r<i;r++)s=this._target.getChildAt(r),p=0<h?(c-s.getWidth())*h+o-f:o-f,s.move(p,u),s.getIncludeInLayout()&&(u+=s.getHeight()+n)}else{for(n=this._target.getStyle("horizontalGap"),s=i,r=0;r<i;r++)this._target.getChildAt(r).getIncludeInLayout()||s--;if(r=Qe.childWidthsProportionally(this._target,c-(s-1)*n,a),u&&"auto"==this._target.getHorizontalScrollPolicy()&&(a+=Le.getScrollBarHeight()),p&&"auto"==this._target.getVerticalScrollPolicy()&&(r+=Le.getScrollBarWidth()),p=o+r*h,0<d)for(r=0;r<i;r++)s=this._target.getChildAt(r),u=(a-s.getHeight())*d,g=Math.min(g,u);for(r=0;r<i;r++)s=this._target.getChildAt(r),u=0<d?(a-s.getHeight())*d+l-g:l-g,s.move(p,u),s.getIncludeInLayout()&&(p+=s.getWidth()+n)}}},N.prototype._isVertical=function(){return"horizontal"!=this.direction},N.prototype._widthPadding=function(t){var e=this._target.getViewMetricsAndPadding(),e=e.left+e.right;return 1<t&&0==this._isVertical()&&(e+=this._target.getStyle("horizontalGap")*(t-1)),e},N.prototype._heightPadding=function(t){var e=this._target.getViewMetricsAndPadding(),e=e.top+e.bottom;return 1<t&&this._isVertical()&&(e+=this._target.getStyle("verticalGap")*(t-1)),e},N.prototype._getHorizontalAlignValue=function(){var t=this._target.getStyle("horizontalAlign");return"center"==t?.5:"right"==t?1:0},N.prototype._getVerticalAlignValue=function(){var t=this._target.getStyle("verticalAlign");return"middle"==t?.5:"bottom"==t?1:0};var Qe={childWidthsProportionally:function(t,e,i){var n,s,r,a,l=e,h=0,d=[];for(a=t.getNumChildren(),r=0;r<a;r++){s=t.getChildAt(r);var c=s.getPercentWidth(),u=s.getPercentHeight(),u=!o(u)&&s.getIncludeInLayout()?Math.max(s.getMinHeight(),Math.min(s.getMaxHeight(),100<=u?i:i*u/100)):s.getExplicitOrMeasuredHeight();!o(c)&&s.getIncludeInLayout()?(h+=c,n={},n.percent=c,n.min=s.getMinWidth(),n.max=s.getMaxWidth(),n.height=u,n.child=s,d.push(n)):(c=s.getExplicitOrMeasuredWidth(),s.setActualSize(c,u),s.getIncludeInLayout()&&(l-=s.getWidth())),(s.getPercentWidth()||s.getPercentHeight())&&s.invalidateDisplayList()}if(h){for(l=Qe.childrenProportionally(e,l,h,d),a=d.length,r=0;r<a;r++)n=d[r],s=n.child,s.setActualSize(n.size,n.height);Qe.distributeExtraWidth(t,e)}return l},childHeightsProportionally:function(t,e,i){var n,s,r,a,l=e,h=0,d=[];for(a=t.getNumChildren(),r=0;r<a;r++){s=t.getChildAt(r);var c=s.getPercentWidth(),u=s.getPercentHeight(),c=!o(c)&&s.getIncludeInLayout()?Math.max(s.getMinWidth(),Math.min(s.getMaxWidth(),100<=c?i:i*c/100)):s.getExplicitOrMeasuredWidth();!o(u)&&s.getIncludeInLayout()?(h+=u,n={},n.percent=u,n.min=s.getMinHeight(),n.max=s.getMaxHeight(),n.width=c,n.child=s,d.push(n)):(u=s.getExplicitOrMeasuredHeight(),s.setActualSize(c,u),s.getIncludeInLayout()&&(l-=s.getHeight())),(s.getPercentWidth()||s.getPercentHeight())&&s.invalidateDisplayList()}if(h){for(l=Qe.childrenProportionally(e,l,h,d),a=d.length,r=0;r<a;r++)n=d[r],s=n.child,s.setActualSize(n.width,n.size);Qe.distributeExtraHeight(t,e)}return l},childrenProportionally:function(t,e,i,n){var s,r=n.length;t=e-t*i/100,0<t&&(e-=t);do{t=0,s=!0;for(var a=e/i,o=0;o<r;o++){var l=n[o],h=l.percent*a;if(h<l.min){s=l.min,l.size=s,n[o]=n[--r],n[r]=l,i-=l.percent,e-=s,s=!1;break}if(h>l.max){s=l.max,l.size=s,n[o]=n[--r],n[r]=l,i-=l.percent,e-=s,s=!1;break}l.size=h,t+=h}}while(!s);return Math.max(0,Math.floor(e-t))},distributeExtraHeight:function(t,e){var i,n,s,r,a=t.getNumChildren(),l=!1,h=e,d=0;for(i=0;i<a;i++)s=t.getChildAt(i),s.getIncludeInLayout()&&(r=s.getHeight(),n=s.getPercentHeight(),d+=r,o(n)||(n=Math.ceil(n/100*e),n>r&&(l=!0)));if(l)for(h-=d,l=!0;l&&.5<h;)for(l=!1,i=0;i<a;i++)if(s=t.getChildAt(i),r=s.getHeight(),n=s.getPercentHeight(),!o(n)&&s.getIncludeInLayout()&&r<s.maxHeight&&(n=Math.ceil(n/100*e),n>r&&(1>h?s.setActualSize(s.getWidth(),r+h+1e-4):s.setActualSize(s.getWidth(),r+1),h--,l=!0,0>=h)))return},distributeExtraWidth:function(t,e){var i,n,s,r,a=t.getNumChildren(),l=!1,h=e,d=0;for(i=0;i<a;i++)s=t.getChildAt(i),s.getIncludeInLayout()&&(r=s.getWidth(),n=s.getPercentWidth(),d+=r,o(n)||(n=Math.ceil(n/100*e),n>r&&(l=!0)));if(l)for(h-=d,l=!0;l&&.5<h;)for(l=!1,i=0;i<a;i++)if(s=t.getChildAt(i),r=s.getWidth(),n=s.getPercentWidth(),!o(n)&&s.getIncludeInLayout()&&r<s.getMaxWidth()&&(n=Math.ceil(n/100*e),n>r&&(1>h?s.setActualSize(r+h+1e-4,s.getHeight()):s.setActualSize(r+1,s.getHeight()),h--,l=!0,0>=h)))return}};A._defaultStyles={horizontalGap:6,horizontalAlign:"left",verticalGap:6,verticalAlign:"top"},ge(A,b),A.prototype.getDirection=function(){return this._layoutObject.direction},A.prototype.setDirection=function(t){this._layoutObject.direction=t,this.invalidateSize(),this.invalidateDisplayList()},A.prototype.measure=function(){A._super.measure.call(this),this._layoutObject.measure()},A.prototype.updateDisplayList=function(t,e){A._super.updateDisplayList.call(this,t,e),this._layoutObject.updateDisplayList(t,e)},A.prototype._isVertical=function(){return"vertical"==this.getDirection()},R._defaultStyles={horizontalAlign:"left",horizontalGap:8,paddingBottom:0,paddingTop:0,verticalAlign:"top",verticalGap:6},ge(R,b),R.prototype.getDirection=function(){return this._direction},R.prototype.setDirection=function(t){this._direction=t,this.invalidateSize(),this.invalidateDisplayList(),this.dispatchEvent(new Ue("directionChanged"))},R.prototype.getTileHeight=function(){return this._tileHeight},R.prototype.setTileHeight=function(t){this._tileHeight=t,this.invalidateSize()},R.prototype.getTileWidth=function(){return this._tileWidth},R.prototype.setTileWidth=function(t){this._tileWidth=t,this.invalidateSize()},R.prototype.measure=function(){var t,e,i,n,s,r,a;for(R._super.measure.call(this),this._findCellSize(),n=this._cellWidth,s=this._cellHeight,i=e=this.getNumChildren(),t=0;t<e;t++)this.getChildAt(t)._includeInLayout||i--;e=i,0<e?(i=this.getStyle("horizontalGap"),t=this.getStyle("verticalGap"),"horizontal"==this._direction?(a=this._explicitWidth,o(a)||(r=Math.floor((a+i)/(this._cellWidth+i)))):(a=this._explicitHeight,o(a)||(r=Math.floor((a+t)/(this._cellHeight+t)))),o(r)&&(r=Math.ceil(Math.sqrt(e))),1>r&&(r=1),a=Math.ceil(e/r),"horizontal"==this._direction?(e=r*this._cellWidth+(r-1)*i,r=a*this._cellHeight+(a-1)*t):(e=a*this._cellWidth+(a-1)*i,r=r*this._cellHeight+(r-1)*t)):(e=n,r=s),i=this.getViewMetricsAndPadding(),t=i.left+i.right,i=i.top+i.bottom,this.measuredMinWidth=Math.ceil(n+t),this.measuredMinHeight=Math.ceil(s+i),this.measuredWidth=Math.ceil(e+t),this.measuredHeight=Math.ceil(r+i)},R.prototype.updateDisplayList=function(t,e){R._super.updateDisplayList.call(this,t,e),(o(this._cellWidth)||o(this._cellHeight))&&this._findCellSize();var i,n,s,r,a,l,h=this.getNumChildren();i=this.getViewMetricsAndPadding(),r=this.getStyle("paddingLeft"),s=this.getStyle("paddingTop");var d=this.getStyle("horizontalGap"),c=this.getStyle("verticalGap"),u=this.getStyle("horizontalAlign"),p=this.getStyle("verticalAlign"),g=r,f=s;if("horizontal"==this._direction)for(s=Math.ceil(t)-i.right,i=0;i<h;i++)n=this.getChildAt(i),n._includeInLayout&&(g+this._cellWidth>s&&g!=r&&(f+=this._cellHeight+c,g=r),this._setChildSize(n),a=Math.floor(this._calcHorizontalOffset(n.getWidth(),u)),l=Math.floor(this._calcVerticalOffset(n.getHeight(),p)),n.move(g+a,f+l),g+=this._cellWidth+d);else for(r=Math.ceil(e)-i.bottom,i=0;i<h;i++)n=this.getChildAt(i),n._includeInLayout&&(f+this._cellHeight>r&&f!=s&&(g+=this._cellWidth+d,f=s),this._setChildSize(n),a=Math.floor(this._calcHorizontalOffset(n.getWidth(),u)),l=Math.floor(this._calcVerticalOffset(n.getHeight(),p)),n.move(g+a,f+l),f+=this._cellHeight+c);this._cellHeight=this._cellWidth=NaN},R.prototype._findCellSize=function(){var t,e,i,n,s=0,r=0,a=!o(this._tileWidth),l=!o(this._tileHeight);if(a&&l)this._cellWidth=this._tileWidth,this._cellHeight=this._tileHeight;else{for(e=this.getNumChildren(),t=0;t<e;t++)i=this.getChildAt(t),i._includeInLayout&&(n=i.getExplicitOrMeasuredWidth(),n>s&&(s=n),i=i.getExplicitOrMeasuredHeight(),i>r&&(r=i));this._cellWidth=a?this._tileWidth:s,this._cellHeight=l?this._tileHeight:r}},R.prototype._setChildSize=function(t){var e,i,n;0<t._percentWidth?e=Math.min(this._cellWidth,this._cellWidth*t._percentWidth/100):(e=t.getExplicitOrMeasuredWidth(),e>this._cellWidth&&(i=o(t._explicitWidth)?0:t._explicitWidth,n=o(t.explicitMinWidth)?0:t.explicitMinWidth,e=i>this._cellWidth||n>this._cellWidth?Math.max(n,i):this._cellWidth)),0<t._percentHeight?i=Math.min(this._cellHeight,this._cellHeight*t._percentHeight/100):(i=t.getExplicitOrMeasuredHeight(),i>this._cellHeight&&(i=o(t._explicitHeight)?0:t._explicitHeight,n=o(t.explicitMinHeight)?0:t.explicitMinHeight,i=i>this._cellHeight||n>this._cellHeight?Math.max(n,i):this._cellHeight)),t.setActualSize(e,i)},R.prototype._calcHorizontalOffset=function(t,e){var i;return"left"==e?i=0:"center"==e?i=(this._cellWidth-t)/2:"right"==e&&(i=this._cellWidth-t),i},R.prototype._calcVerticalOffset=function(t,e){var i;return"top"==e?i=0:"middle"==e?i=(this._cellHeight-t)/2:"bottom"==e&&(i=this._cellHeight-t),i},ge(F,_),F.prototype.getText=function(){return this._text},F.prototype.setText=function(t){this._text!==t&&(this._cachedTextFormat=null,this._text=t,this._textChanged=!0,this._explicitWidth=this._explicitHeight=NaN,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList(),this.dispatchEvent(new Ue("valueCommit")))},F.prototype._textFieldChange=function(t){var e;t||(e=this._text!=this.element.innerHTML),e&&this.dispatchEvent(new Ue("valueCommit"))},F.prototype._getMinimumText=function(t){return(!t||2>t.length)&&(t="Wj"),t},F.prototype.commitProperties=function(){F._super.commitProperties.call(this),this._textChanged&&(this.element.innerHTML=this._text,this._text=this.element.innerHTML,this._textFieldChange(!1),this._textChanged=!1)},F.prototype.measure=function(){var t=Ee.getBorderPaddingMetrics(this),e=this._explicitWidth,i=this._explicitHeight,n=this.measureText(this._getMinimumText(this._text));F._super.measure.call(this),!o(e)&&e||(e=n.width+y.TEXT_WIDTH_PADDING),!o(i)&&i||(i=n.height+y.TEXT_HEIGHT_PADDING),this.measuredWidth=e+t.left+t.right,this.measuredHeight=i+t.top+t.bottom};var qe=function(){this.id=null,this.useNegativeSign=this.useThousandsSeparator=!0,this.precision=-1,this.applyPrecisionToInteger=!0,this.thousandsSeparatorTo=",",this.decimalSeparatorTo=".",this.rounding="none",this.returnValueWhenError=!1};qe.prototype.format=function(t){var e=parseFloat(t),i=-1==this.precision?0:Math.abs(this.precision),n=this.decimalSeparatorTo,s=this.useThousandsSeparator?this.thousandsSeparatorTo:"",e="down"==this.rounding?-1<this.precision&&0<i?Math.floor(e*Math.pow(10,i))/Math.pow(10,i):Math.floor(e):"up"==this.rounding?-1<this.precision&&0<i?Math.ceil(e*Math.pow(10,i))/Math.pow(10,i):Math.ceil(e):"nearest"==this.rounding?-1<this.precision&&0<i?Math.round(e*Math.pow(10,i))/Math.pow(10,i):Math.round(e):e,r=0>e?this.useNegativeSign?"-":"(":"",a=parseInt(e=-1<this.precision?Math.abs(e).toFixed(i+1):Math.abs(e))+"",o=a.length,o=3<o?o%3:0,l=e-a,h="";return this.error=void 0,isNaN(l)?(this.error="invalid number",this.returnValueWhenError?t:""):(0<l?h=n+e.toString().slice(a.toString().length+1):0<i&&(h=n+l.toFixed(i+1).slice(2)),h&&!this.applyPrecisionToInteger&&0<i&&0==l&&(h=""),r+(o?a.substr(0,o)+s:"")+a.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+s)+(-1<this.precision?i?h.substr(0,i+n.length):"":h)+("("==r?")":""))};var $e=function(){function t(t,e,i,n){for(;n>=i;n--){var s=t.substring(e,e+n);if(s.length<i)break;var r;t:{r=s;for(var a=void 0,a=0;a<r.length;a++)if(-1=="1234567890".indexOf(r.charAt(a))){r=!1;break t}r=!0}if(r)return s}return null}var e=this;e.id=null,e.formatString="YYYY/MM/DD HH:NN:SS",e.parseFormatString=void 0,e.returnValueWhenError=!1;var i=function(){var t=/D{1,4}|E{1,4}|M{1,4}|YY(?:YY)?|([HhNSTt])\1?|[LloZ]|"[^"]*"|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g,s=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t};return function(r,a,o){var l=i;1!=arguments.length||"[object String]"!=Object.prototype.toString.call(r)||/\d/.test(r)||(a=r,r=void 0),a=String(l.masks[a]||a||l.masks["default"]),"UTC:"==a.slice(0,4)&&(a=a.slice(4),o=!0);var h=o?"getUTC":"get",d=r[h+"Date"](),c=r[h+"Day"](),u=r[h+"Month"](),p=r[h+"FullYear"](),g=r[h+"Hours"](),f=r[h+"Minutes"](),m=r[h+"Seconds"](),h=r[h+"Milliseconds"](),_=o?0:r.getTimezoneOffset(),y={D:d,DD:s(d),DDD:l.i18n.dayNames[c],DDDD:l.i18n.dayNames[c+7],E:c,EE:s(c),EEE:l.i18n.dayNames[c],EEEE:l.i18n.dayNames[c+7],M:u+1,MM:s(u+1),MMM:l.i18n.monthNames[u],MMMM:l.i18n.monthNames[u+12],YY:String(p).slice(2),YYYY:p,h:g%12||12,hh:s(g%12||12),H:g,HH:s(g),N:f,NN:s(f),S:m,SS:s(m),l:s(h,3),L:s(99<h?Math.round(h/10):h),t:12>g?"a":"p",tt:12>g?"am":"pm",T:12>g?"A":"P",TT:12>g?"AM":"PM",Z:o?"UTC":(String(r).match(e)||[""]).pop().replace(n,""),o:(0<_?"-":"+")+s(100*Math.floor(Math.abs(_)/60)+Math.abs(_)%60,4)};return a.replace(t,function(t){return t in y?y[t]:t.slice(1,t.length-1)})}}();i.masks={"default":"DDD MMM DD YYYY HH:NN:SS",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"DDDD, MMMM D, YYYY",shortTime:"h:NN TT",mediumTime:"h:NN:SS TT",longTime:"h:NN:SS TT Z",isoDate:"YYYY-MM-DD",isoTime:"HH:NN:SS",isoDateTime:"YYYY-MM-DD'T'HH:NN:SS",isoUtcDateTime:"UTC:YYYY-MM-DD'T'HH:NN:SS'Z'"},i.i18n={dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" ")},e.getDateFromFormat=function(e,n){e+="",n+="";for(var s,r,a=0,o=0,l="",h="",d=new Date,c=d.getYear(),u=d.getMonth()+1,p=1,g=d.getHours(),f=d.getMinutes(),d=d.getSeconds(),m="";o<n.length;){for(l=n.charAt(o),h="";n.charAt(o)==l&&o<n.length;)h+=n.charAt(o++);if("YYYY"==h||"YY"==h||"Y"==h){if("YYYY"==h&&(r=s=4),"YY"==h&&(r=s=2),"Y"==h&&(s=2,r=4),c=t(e,a,s,r),null==c)return 0;a+=c.length,2==c.length&&(c=70<c?1900+(c-0):2e3+(c-0))}else if("MMM"==h||"NNN"==h){for(l=u=0;l<i.i18n.monthNames.length;l++){var _=i.i18n.monthNames[l];if(e.substring(a,a+_.length).toLowerCase()==_.toLowerCase()&&("MMM"==h||"NNN"==h&&11<l)){u=l+1,12<u&&(u-=12),a+=_.length;break}}if(1>u||12<u)return 0}else if("EE"==h||"E"==h){for(l=0;l<i.i18n.dayNames.length;l++)if(h=i.i18n.dayNames[l],e.substring(a,a+h.length).toLowerCase()==h.toLowerCase()){a+=h.length;break}}else if("MM"==h||"M"==h){if(u=t(e,a,h.length,2),null==u||1>u||12<u)return 0;a+=u.length}else if("DD"==h||"D"==h){if(p=t(e,a,h.length,2),null==p||1>p||31<p)return 0;a+=p.length}else if("hh"==h||"h"==h){if(g=t(e,a,h.length,2),null==g||1>g||12<g)return 0;a+=g.length}else if("HH"==h||"H"==h){if(g=t(e,a,h.length,2),null==g||0>g||23<g)return 0;a+=g.length}else if("KK"==h||"K"==h){if(g=t(e,a,h.length,2),null==g||0>g||11<g)return 0;a+=g.length}else if("kk"==h||"k"==h){if(g=t(e,a,h.length,2),null==g||1>g||24<g)return 0;a+=g.length,g--}else if("NN"==h||"N"==h||"mm"==h||"m"==h){if(f=t(e,a,h.length,2),null==f||0>f||59<f)return 0;a+=f.length}else if("SS"==h||"S"==h){if(d=t(e,a,h.length,2),null==d||0>d||59<d)return 0;a+=d.length}else if("a"==h){if("am"==e.substring(a,a+2).toLowerCase())m="AM";else{if("pm"!=e.substring(a,a+2).toLowerCase())return 0;m="PM"}a+=2}else{if(e.substring(a,a+h.length)!=h)return 0;a+=h.length}}if(a!=e.length)return 0;if(2==u)if(0==c%4&&0!=c%100||0==c%400){if(29<p)return 0}else if(28<p)return 0;return(4==u||6==u||9==u||11==u)&&30<p?0:(12>g&&"PM"==m?g=g-0+12:11<g&&"AM"==m&&(g-=12),new Date(c,u-1,p,g,f,d))},e.format=function(t){e.error=void 0;var n=t;return n&&0!=n.toString().length?(n=n?d(n)?t:new Date(Fe.parseWithFormat(n,e.parseFormatString)):new Date,isNaN(n)?(e.error="invalid date",e.returnValueWhenError?t:""):i(n,e.formatString)):(e.error="invalid date",e.returnValueWhenError?t:"")}};O._propertyType={rpcList:Array,RPCList:Array},ge(O,_e),O.prototype.getRPCList=O.prototype.getRpcList=function(){return this._rpcList},O.prototype.setRPCList=O.prototype.setRpcList=function(t){if(t&&t!=this._rpcList){this._rpcList=t;var e,i,n,s,r,a=[];for(e=0;e<t.length;++e){if(n=t[e],i=new k,s=n.name,!s)throw"you must define name property.";for(r in n)i.hasOwnProperty(r)&&(i[r]=n[r]);a.push(i)}this.setOperationList(a),this._rpcListChange=!0}},O.prototype.setOperationList=function(t){if(null==t)this.operations=null;else{var e,i,n,s={};for(e=0;e<t.length;e++){if(i=t[e],n=i.name,!n)throw"Operations must have a name property value for HTTPMultiService";s[n]=i}this.operations=s}},O.prototype.getOperationList=function(){if(null==this.operations)return null;var t,e,i=[];for(t in this.operations)e=this.operations[t],i.push(e);return i},O.prototype.invalidateRPCList=function(){var e=this;e._timer&&clearInterval(e._timer),e.initAllOperation(),e._timerInitFlag=!0;var i,n,s=[],r=e._rpcList;for(i=0;i<r.length;i++)s.push(parseInt(r[i].interval));for(s.sort(),n=s[0],i=1;i<s.length;i++)if(!o(s[i])&&0!=s[i]%n){n=1;break}n*=1e3,i=function(){var i,s,a,l,h,d=(new Date).getTime();for(e.currentCount+=n/1e3,i=0;i<r.length;i++)if(s=r[i],l=e.getOperation(s.name),a=e._restIntervalMap[l.name],h=null!=e._msgTimeNowMap[l.name]?e._msgTimeNowMap[l.name].getTime():(new Date).getTime(),
e._timerInitFlag)a={requestAllData:!0},e._msgIndexMap[l.name]="init",a.dummy=d,a.url=e.baseURL+Ee.serialization(s.url,a),t({url:a.url,onSuccess:e.operationResultHandler,onError:e.operationFaultHandler,target:l,currentTarget:e});else{var c;c=e._initDateMap[l.name]instanceof Date?e._initDateMap[l.name].getTime():(new Date).getTime(),o(s.interval)&&(h+=1e3,e._msgTimeNowMap[l.name]=new Date(h)),(0==(e.currentCount+a)%s.interval||c<=h)&&e._sendingOperationMap[l.name]&&(a={},c<=h?(a.requestAllData=!0,e._initCompleteOperationMap[l.name]=!1):a.requestAllData=!1,a.index=e._msgIndexMap[l.name],a.dummy=d,a.url=e.baseURL+Ee.serialization(s.url,a),t({url:a.url,onSuccess:e.operationResultHandler,onError:e.operationFaultHandler,target:l,currentTarget:e}))}e.currentCount>=e.TIMER_COUNT_MAX&&(e.calculateOperationRestInterval(e.currentCount),clearInterval(e._timer)),e._timerInitFlag=!1},i(),e._timer=setInterval(i,n)},O.prototype.calculateOperationRestInterval=function(t){var e,i,n;for(e=0;e<this._rpcList.length;++e)i=this._rpcList[e],n=this.getOperation(i.name),o(i.interval)||(this._restIntervalMap[n.name]=t%i.interval)},O.prototype.initAllOperation=function(){var t,e,i;for(this._operationMap={},this._msgTimeNowMap={},this._endDateMap={},this._startDateMap={},this._initDateMap={},this._msgIndexMap={},this._targetDataMap={},this._sendingOperationMap={},this._initCompleteOperationMap={},this._restIntervalMap={},this._origianlRetryCount={},t=0;t<this._rpcList.length;t++)e=this._rpcList[t],i=this.getOperation(e.name),this._operationMap[i.name]=e,this._sendingOperationMap[i.name]=!0,this._initCompleteOperationMap[i.name]=!1,this._restIntervalMap[i.name]=0,this._origianlRetryCount[i.name]=e.retryCount},O.prototype.serviceStart=function(){this.invalidateRPCList()},O.prototype.operationResultHandler=function(t,e){try{var i,n=e.target,s=e.currentTarget,r=s.realTimeXmlData2array(t),a=r.infoMsg,o=r.item,l=s._operationMap[n.name];if(a){if(s._receiveMsgIndex=void 0!=a.index?a.index:null,a.timeNow?(s._timeNow=a.timeNow,s._msgTimeNowMap[n.name]=s.dateParseFunction(s._timeNow)):s._msgTimeNowMap[n.name]=new Date,a.startDate?(s._startDate=a.startDate,s._startDateMap[n.name]=s.dateParseFunction(s._startDate)):s._startDate=null,a.endDate?(s._endDate=a.endDate,s._endDateMap[n.name]=s.dateParseFunction(s._endDate)):s._endDate=null,a.nextInitDate?(s._nextInitDate=a.nextInitDate,s._initDateMap[n.name]=s.dateParseFunction(s._nextInitDate)):s._nextInitDate=null,a.isInitData?(l.retryCount=s._origianlRetryCount[n.name],s._isInitData="true"==a.isInitData.toString(),s._initCompleteOperationMap[n.name]=!0):s._isInitData=!1,s._isInitData){o.constructor===Array?i=o.concat():(i=[],i.push(o));var h;s._startDate&&l.target instanceof ee&&l.target.getAxis("h")instanceof Dt&&(h=l.target.getAxis("h"),h.setMinimum(s.dateParseFunction(s._startDate))),s._endDate&&l.target instanceof ee&&l.target.getAxis("h")instanceof Dt&&(h=l.target.getAxis("h"),h.setMaximum(s.dateParseFunction(s._endDate)))}else i=s._targetDataMap[l.target.id],o&&(o instanceof Array?i.push(o.list):i.push(o));s._msgIndexMap[s]=s._receiveMsgIndex,s._targetDataMap[l.target.id]=i,l.target.hasOwnProperty("_dataProvider")?l.target.setDataProvider(i.concat()):clearInterval(s._timer)}else s.showErrorMessage&&alert("In a response XML of the server-side, 'infoMsg' node definitions is required"),clearInterval(s._timer)}catch(d){clearInterval(s._timer)}},O.prototype.operationFaultHandler=function(e,i){var n,s=i.target,r=i.currentTarget,a=r._operationMap[s.name];0>=a.retryCount&&!r._initCompleteOperationMap[s.name]?(r.showErrorMessage&&alert("Fail to load.\nPlease check the URL path"),r._sendingOperationMap[s.name]=!1):0<a.retryCount&&!r._initCompleteOperationMap[s.name]?(--a.retryCount,n={requestAllData:!0},r._msgIndexMap[s.name]="init",n.dummy=(new Date).getTime(),n.url=r.baseURL+Ee.serialization(a.url,n),t({url:n.url,onSuccess:r.operationResultHandler,onError:r.operationFaultHandler,target:s,currentTarget:r})):r.showErrorMessage&&alert("Exception Error of HttpMultiServiceRepeater")},O.prototype.dateParseFunction=function(t){return new Date(Date.parse(t))},O.prototype.getOperation=function(t){return t=this.operations[t],t instanceof k?t:null},O.prototype.realTimeXmlData2array=function(t){function e(t){var e,n,s,r=0,a=[];if(1<t.length){for(;r<t.length;r++)if(1==t[r].nodeType){e=t[r].childNodes,i={};for(var o=0;o<e.length;o++)1==e[o].nodeType&&(n=e[o].nodeName,s=e[o].textContent||e[o].text,i[n]=s);a.push(i)}return a}for(i={};r<t.childNodes.length;r++)1==t.childNodes[r].nodeType&&(n=t.childNodes[r].nodeName,s=t.childNodes[r].textContent||t.childNodes[r].text,i[n]=s);return i}var i,n={},s=t.getElementsByTagName("infoMsg")[0],s=e(s);return t=1<t.getElementsByTagName("item").length?t.getElementsByTagName("item"):t.getElementsByTagName("item")[0],t=e(t),n.infoMsg=s,n.item=t,n},ge(W,_e),W.prototype.getActualDuration=function(){var t=NaN;return 0<this._repeatCount&&(t=this._duration*this._repeatCount+(this._repeatDelay*this._repeatCount-1)+this._startDelay),t},W.prototype.getDuration=function(){return!this._durationExplicitlySet&&this._parentCompositeEffectInstance?this._parentCompositeEffectInstance.getDuration():this._duration},W.prototype.setDuration=function(t){this.durationExplicitlySet=!0,this._duration=t},W.prototype.getEffect=function(){return this._effect},W.prototype.setEffect=function(t){this._effect=t},W.prototype.getEffectTargetHost=function(){return this._effectTargetHost},W.prototype.setEffectTargetHost=function(t){this._effectTargetHost=t},W.prototype.getHideFocusRing=function(){return this._hideFocusRing},W.prototype.setHideFocusRing=function(t){this._hideFocusRing=t},W.prototype.getPlayheadTime=function(){return Math.max(this._playCount-1,0)*this._duration+Math.max(this._playCount-2,0)*this._repeatDelay+(this._playReversed?0:this._startDelay)},W.prototype.getPlayReversed=function(){return this._playReversed},W.prototype.setPlayReversed=function(t){this._playReversed=t},W.prototype.getPropertyChanges=function(){return this._propertyChanges},W.prototype.setPropertyChanges=function(t){this._propertyChanges=t},W.prototype.getRepeatCount=function(){return this._repeatCount},W.prototype.setRepeatCount=function(t){this._repeatCount=t},W.prototype.getRepeatDelay=function(){return this._repeatDelay},W.prototype.setRepeatDelay=function(t){this._repeatDelay=t},W.prototype.getStartDelay=function(){return this._startDelay},W.prototype.setStartDelay=function(t){this._startDelay=t},W.prototype.getSuspendBackgroundProcessing=function(){return this._suspendBackgroundProcessing},W.prototype.setSuspendBackgroundProcessing=function(t){this._suspendBackgroundProcessing=t},W.prototype.getTarget=function(){return this._target},W.prototype.setTarget=function(t){this._target=t},W.prototype.getTriggerEvent=function(){return this._triggerEvent},W.prototype.setTriggerEvent=function(t){this._triggerEvent=t},W.prototype.initEffect=function(t){var e=this.getTarget();switch(this._triggerEvent=t,t.type){case"resizeStart":case"resizeEnd":this._durationExplicitlySet||this.setDuration(250);break;case"hide":e.setVisible(!0,!0),this._hideOnEffectEnd=!0,e.addEventListener("show",this._eventHandler)}},W.prototype.startEffect=function(){var t=this.getTarget();P.effectStarted(this.uno),t instanceof m&&t.effectStarted(this),0<this._startDelay&&!this._playReversed?(this._delayTimer=new Timer(this._startDelay,1),this._delayStartTime=(new Date).getTime(),this._delayTimer.addEventListener("timer",this._delayTimerHandler),this._delayTimer.start()):this.play()},W.prototype.play=function(){var t=this.getTarget();this._playCount++,this.dispatchEvent(new L(L.EFFECT_START,(!1),(!1),this)),t&&t.dispatchEvent(new L(L.EFFECT_START,(!1),(!1),this))},W.prototype.pause=function(){this._delayTimer&&this._delayTimer.running&&!o(this._delayStartTime)&&(this._delayTimer.stop(),this._delayElapsedTime=(new Date).getTime()-this._delayStartTime)},W.prototype.stop=function(){this._delayTimer&&this._delayTimer.reset(),this._stopRepeat=!0,this.finishEffect()},W.prototype.resume=function(){!this._delayTimer||this._delayTimer.running||o(this._delayElapsedTime)||(this._delayTimer.delay=this._playReversed?this._delayElapsedTime:this._delayTimer.delay-this._delayElapsedTime,this._delayTimer.start())},W.prototype.reverse=function(){0<this._repeatCount&&(this._playCount=this._repeatCount-this._playCount+1)},W.prototype.end=function(){this._delayTimer&&this._delayTimer.reset(),this._stopRepeat=!0,this.finishEffect()},W.prototype.finishEffect=function(){var t=this.getTarget();this._playCount=0,this.dispatchEvent(new L(L.EFFECT_END,(!1),(!1),this)),t&&t.dispatchEvent(new L(L.EFFECT_END,(!1),(!1),this)),t instanceof m&&t.effectFinished(this),P.effectFinished(this.uno)},W.prototype.finishRepeat=function(){!this._stopRepeat&&0!=this._playCount&&(this._playCount<this._repeatCount||0==this._repeatCount)?0<this._repeatDelay?(this._delayTimer=new Timer(this._repeatDelay,1),this._delayStartTime=(new Date).getTime(),this._delayTimer.addEventListener("timer",this._delayTimerHandler),this._delayTimer.start()):this.play():this.finishEffect()},W.prototype._playWithNoDuration=function(){this.setDuration(0),this.setRepeatCount(1),this.setRepeatDelay(0),this.setStartDelay(0),this.startEffect()},W.prototype._eventHandler=function(t){"show"==t.type&&1==this._hideOnEffectEnd&&(this._hideOnEffectEnd=!1,t.target.removeEventListener("show",this._eventHandler))},W.prototype._delayTimerHandler=function(t){this._delayTimer.reset(),this._delayElapsedTime=this._delayStartTime=NaN,this.play()},ge(z,_e),z.activeTweens=[],z.timer=null,z.interval=50,z.intervalTime=NaN,z.addTween=function(t){t._id=z.activeTweens.length,z.activeTweens.push(t),z.timer||(z.timer=new x(this,z.timerHandler),z.timer.start()),o(z.intervalTime)&&(z.intervalTime=(new Date).getTime()),t._startTime=t._previousUpdateTime=z.intervalTime},z.removeTweenAt=function(t){if(!(t>=z.activeTweens.length||0>t)){z.activeTweens.splice(t,1);var e,i=z.activeTweens.length;for(e=t;e<i;e+=1)t=z.activeTweens[e],t._id--;i||(z.intervalTime=NaN,z.timer.reset(),z.timer=null)}},z.removeTween=function(t){z.removeTweenAt(t._id)},z.timerHandler=function(t){var e;t=!1;var i;for(e=z.activeTweens.length,z.intervalTime=(new Date).getTime(),i=e;0<=i;--i)(e=z.activeTweens[i])&&(e.needToLayout=!1,e._doInterval(),e.needToLayout&&(t=!0));t&&He.getInstance().validateNow()},z.prototype.getPlayheadTime=function(){return this._playheadTime},z.prototype.getPlayReversed=function(){return this._invertValues},z.prototype.setPlayReversed=function(t){this._invertValues=t},z.prototype.setTweenHandlers=function(t,e){this._updateFunction=t,this._endFunction=e},z.prototype.setEasingFunction=function(t){this._userEquation=t},z.prototype.endTween=function(t){var e=new Ye(Ye.TWEEN_END);t=this._getCurrentValue(t?z.intervalTime-this._startTime:this.duration),this.dispatchEvent(e),null!=this._endFunction?this._endFunction(t):this.listener.onTweenEnd(t),0<=this._id&&z.removeTweenAt(this._id),e.value=t},z.prototype.seek=function(t){this._previousUpdateTime=t=z.intervalTime,this._startTime=t-this._playheadTime,this._doSeek=!0},z.prototype.reverse=function(){this._isPlaying?(this._doReverse=!1,this.seek(this.duration-this._playheadTime),this._invertValues=!this._invertValues):this._doReverse=!this._doReverse},z.prototype.pause=function(){this._isPlaying=!1},z.prototype.stop=function(){0<=this._id&&z.removeTweenAt(this._id)},z.prototype.resume=function(){this._isPlaying=!0,this._startTime=z.intervalTime-this._playheadTime,this._doReverse&&(this.reverse(),this._doReverse=!1)},z.prototype._defaultEasingFunction=function(t,e,i,n){return i/2*(Math.sin(Math.PI*(t/n-.5))+1)+e},z.prototype._doInterval=function(){var t,e,i=!1;return this._previousUpdateTime=e=z.intervalTime,(this._isPlaying||this._doSeek)&&(this._playheadTime=t=e-this._startTime,e=this._getCurrentValue(t),t>=this.duration&&!this._doSeek?(this.endTween(),i=!0):(this._started||(t=new Ye(Ye.TWEEN_START),this.dispatchEvent(t),this._started=!0),t=new Ye(Ye.TWEEN_UPDATE),t.value=e,this.dispatchEvent(t),null!=this._updateFunction?this._updateFunction(e):this.listener.onTweenUpdate(e)),this._doSeek=!1),i},z.prototype._getCurrentValue=function(t){var e,i,n;if(0==this.duration)return this._endValue;if(this._invertValues&&(t=this.duration-t),this._arrayMode){for(n=[],i=this._startValue.length,e=0;e<i;e++)n.push(this._userEquation(t,this._startValue[e],this._endValue[e]-this._startValue[e],this.duration));return n}return this._userEquation(t,this._startValue,Number(this._endValue)-Number(this._startValue),this.duration)},ge(B,_e),B.mergeArrays=function(t,e){var i,n,s;if(e)for(i=0;i<e.length;i+=1){for(s=!0,n=0;n<t.length;n+=1)if(t[n]==e[i]){s=!1;break}s&&t.push(e[i])}return t},B.stripUnchangedValues=function(t){var e,i,n,s=t.length;for(n=0;n<s;n++)for(e in i=t[n],i.start)(i.start[e]==i.end[e]||"number"==typeof i.start[e]&&"number"==typeof i.end[e]&&isNaN(i.start[e])&&isNaN(i.end[e]))&&(delete i.start[e],delete i.end[e]);return t},B.prototype.getDuration=function(){return this._duration},B.prototype.setDuration=function(t){this._durationExplicitlySet=!0,this._duration=t},B.prototype.getEffectTargetHost=function(){return this._effectTargetHost},B.prototype.setEffectTargetHost=function(t){this._effectTargetHost=t},B.prototype.getHideFocusRing=function(){return this._hideFocusRing},B.prototype.setHideFocusRing=function(t){this._hideFocusRing=t},B.prototype.isPlaying=function(){return this._instances&&0<this._instances.length},B.prototype.getPerElementOffset=function(){return this._perElementOffset},B.prototype.setPerElementOffset=function(t){this._perElementOffset=t},B.prototype.getRelevantProperties=function(){return this._relevantProperties?this._relevantProperties:this.getAffectedProperties()},B.prototype.setRelevantProperties=function(t){this._relevantProperties=t},B.prototype.getRelevantStyles=function(){return this._relevantStyles},B.prototype.setRelevantStyles=function(t){this._relevantStyles=t},B.prototype.getTarget=function(){return 0<this._targets.length?this._targets[0]:null},B.prototype.setTarget=function(t){this._targets.splice(0,this._targets.length),t&&(this._targets[0]=t)},B.prototype.getTargets=function(){return this._targets},B.prototype.setTargets=function(t){var e;for(e=t.length-1;0<e;e--)null==t[e]&&t.splice(e,1);this._targets=t},B.prototype.getTriggerEvent=function(){return this._triggerEvent},B.prototype.setTriggerEvent=function(t){this._triggerEvent=t},B.prototype.getAffectedProperties=function(){return[]},B.prototype.createInstances=function(t){t||(t=this.getTargets());var e,i,n=[],s=t.length,r=0;for(i=0;i<s;i++)(e=this.createInstance(t[i]))&&(e.setStartDelay(e.getStartDelay()+r),r+=this._perElementOffset,n.push(e));return this._triggerEvent=null,n},B.prototype.createInstance=function(t){t||(t=this.getTarget());var e,i;e=!0;var n=null;if(i=!1,this._propertyChangesArray&&(i=!0,e=this._filterInstance(this._propertyChangesArray,t)),e){if(n=new this.instanceClass(t),this._initInstance(n),i)for(i=this._propertyChangesArray.length,e=0;e<i;e++)this._propertyChangesArray[e].target==t&&n.setPropertyChanges(this._propertyChangesArray[e]);n.addEventListener(L.EFFECT_START,this._effectStartHandler,this),n.addEventListener(L.EFFECT_END,this._effectEndHandler,this),this._instances.push(n),this._triggerEvent&&n.initEffect(this._triggerEvent)}return n},B.prototype.deleteInstance=function(t){var e,i=this._instances.length;for(t.removeEventListener(L.EFFECT_START,this._effectStartHandler,this),t.removeEventListener(L.EFFECT_END,this._effectEndHandler,this),e=0;e<i;e++)this._instances[e]===t&&this._instances.splice(e,1)},B.prototype.play=function(t,e){var i,n;this.getTargets(),null==t&&null!=this._propertyChangesArray&&(this._callValidateNow&&He.getInstance().validateNow(),this._endValuesCaptured||(this._propertyChangesArray=this._captureValues(this._propertyChangesArray,!1)),this._propertyChangesArray=B.stripUnchangedValues(this._propertyChangesArray),this._applyStartValues(this._propertyChangesArray,t));var s,r=this.createInstances(t);for(n=r.length,i=0;i<n;i++)s=r[i],s.setPlayReversed(e),s.startEffect();return r},B.prototype.pause=function(){var t,e;if(this._isPlaying&&!this._isPaused)for(this._isPaused=!0,e=this._instances.length,t=0;t<e;t++)this._instances[t].pause()},B.prototype.stop=function(){var t,e;for(t=this._instances.length;0<=t;t--)(e=this._instances[t])&&e.stop()},B.prototype.resume=function(){var t,e;if(this._isPlaying&&this._isPaused)for(this._isPaused=!1,e=this._instances.length,t=0;t<e;t++)this._instances[t].resume()},B.prototype.reverse=function(){var t,e;if(this._isPlaying)for(e=this._instances.length,t=0;t<e;t++)this._instances[t].reverse()},B.prototype.end=function(t){var e;if(t)t.end();else for(t=this._instances.length;0<=t;t--)(e=this._instances[t])&&e.end()},B.prototype.captureStartValues=function(){0<this.getTargets().length&&(this._propertyChangesArray=this._captureValues(null,!0),this._callValidateNow=!0),this._endValuesCaptured=!1},B.prototype.captureMoreStartValues=function(t){0<this.getTargets().length&&(t=this._captureValues(null,!0),this._propertyChangesArray=this._propertyChangesArray.concat(t))},B.prototype.captureEndValues=function(){this._propertyChangesArray=this._captureValues(this._propertyChangesArray,!1),this._endValuesCaptured=!0},B.prototype._filterInstance=function(t,e){return!this._filterObject||this._filterObject.filterInstance(t,this._effectTargetHost,e)},B.prototype._initInstance=function(t){t.setDuration(this._duration),t._durationExplicitlySet=this._durationExplicitlySet,t.setEffect(this),t.setEffectTargetHost(this._effectTargetHost),t.setHideFocusRing(this._hideFocusRing),t.setRepeatCount(this.repeatCount),t.setRepeatDelay(this.repeatDelay),t.setStartDelay(this.startDelay),t.setSuspendBackgroundProcessing(this.suspendBackgroundProcessing)},B.prototype._captureValues=function(t,e){var i,n,s,r,a,o;if(!t)for(t=[],n=this.getTargets().length,i=0;i<n;i++)t.push(new Y(this.getTargets()[i]));if((a=this._filterObject?B.mergeArrays(this._relevantProperties,this._filterObject.filterProperties):this._relevantProperties)&&0<a.length)for(n=t.length,i=0;i<n;i++)for(this.setTarget(t[i].getTarget()),o=e?t[i].start:t[i].end,r=a.length,s=0;s<r;s++)o[a[s]]=this._getValueFromTarget(this.getTarget(),a[s]);if((a=this._filterObject?B.mergeArrays(this._relevantStyles,this._filterObject.filterStyles):this._relevantStyles)&&0<a.length)for(n=t.length,i=0;i<n;i++)for(this.setTarget(t[i].target()),o=e?t[i].start:t[i].end,r=a.length,s=0;s<r;s++)o[a[s]]=this.getTarget().getStyle(a[s]);return t},B.prototype._getValueFromTarget=function(t,e){if(e in t)return t[e]},B.prototype._applyStartValues=function(t,e){var i,n,s,r,a,o,l=this._relevantProperties;for(n=t.length,i=0;i<n;i++){for(a=t[i].getTarget(),o=!1,r=this.getTargets().length,s=0;s<r;s++)if(this.getTargets()[s]==a){o=this._filterInstance(t,a);break}if(o){for(r=l.length,s=0;s<r;s++)l[s]in t[i].start&&l[s]in a&&this._applyValueToTarget(a,l[s],t[i].start[l[s]],t[i].start);for(r=this._relevantStyles.length,s=0;s<r;s++)this._relevantStyles[s]in t[i].start&&a.setStyle(this._relevantStyles[s],t[i].start[this._relevantStyles[s]])}}},B.prototype.applyValueToTarget=function(t,e,i,n){if(e in t)try{this._applyActualDimensions&&t instanceof f&&"height"==e?t.setActualSize(t.width,i):this._applyActualDimensions&&t instanceof f&&"width"==e?t.setActualSize(i,t.height):t[e]=i}catch(s){}},B.prototype._effectStartHandler=function(t){this.dispatchEvent(t)},B.prototype._effectEndHandler=function(t){this.deleteInstance(t.effectInstance),this.dispatchEvent(t)},ge(V,B),V.prototype._initInstance=function(t){V._super._initInstance.call(this,t),t.easingFunction=this.easingFunction,t.addEventListener(Ye.TWEEN_START,this._tweenEventHandler),t.addEventListener(Ye.TWEEN_UPDATE,this._tweenEventHandler),t.addEventListener(Ye.TWEEN_END,this._tweenEventHandler)},V.prototype._tweenEventHandler=function(t){this.dispatchEvent(t)},ge(U,B),U.prototype.getAffectedProperties=function(){var t,e,i;if(this._affectedProperties){for(t=[],i=this.children.length,e=0;e<i;e+=1)t=t.concat(this.children[e].getAffectedProperties());this._affectedProperties=t}return this._affectedProperties},U.prototype.createInstance=function(t){return this._childTargets||(this._childTargets=[t]),t=U._super.createInstance.call(this,t),this._childTargets=null,t},U.prototype.createInstances=function(t){return t||(t=this.getTargets()),this._childTargets=t,t=this.createInstance(),this._childTargets=null,t?[t]:[]},U.prototype.filterInstance=function(t,e){var i,n,s;if(this._filterObject){for(s=this.getTargets(),s.length||(s=this._childTargets),n=s.length,i=0;i<n;i+=1)if(this._filterObject.filterInstance(t,this.getEffectTargetHost(),s[i]))return!0;return!1}return!0},U.prototype._initInstance=function(t){var i,n,s;if(i=this._childTargets,U._super._initInstance.call(this,t),e(i),this.children)for(n=this.children.length,i=0;i<n;i+=1)s=this.children[i],null!=this._propertyChangesArray&&(s._propertyChangesArray=this._propertyChangesArray),null==s._filterObject&&this._filterObject&&(s._filterObject=this._filterObject),0==s.getTargets().length?t.addChildSet(this.children[i].createInstances(this.getTargets())):t.addChildSet(this.children[i].createInstances(s.getTargets()))},U.prototype.captureStartValue=function(){var t,e,i=this.getChildrenTargets();for(this._propertyChangesArray=[],e=i.length,t=0;t<e;t+=1)this._propertyChangesArray.push(new Y(i[t]));this._endValuesCaptured=!1},U.prototype._applyStartValues=function(t,e){var i,n,s,r;for(n=this.children.length,i=0;i<n;i+=1)s=this.children[i],r=0<s.getTargets().length?s.getTargets():this.getTargets(),!s._filterObject&&this._filterObject&&(s._filterObject=this._filterObject),s._applyStartValues(t,r)},U.prototype.addChild=function(t){this.children.push(t),this._affectedProperties=null},U.prototype.getChildrenTargets=function(){var t,e,i,n,s,r,a=[],o={},l=this.getTargets();for(e=this.child.length,t=0;t<e;t+=1)if(i=this.children[t],i instanceof U)for(r=i.getChildrenTargets(),n=r.length,i=0;i<n;i+=1)r[i]&&(o[r[i].toString()]=r[i]);else if(i.getTargets())for(r=i.getTargets(),n=r.length,i=0;i<n;i+=1)r[i]&&(o[r[i].toString()]=r[i]);for(e=l.length,t=0;t<e;t+=1)l[t]&&(o[l[t].toString()]=l[t]);for(s in o)a.push(o[s]);return a},ge(G,U),ge(X,W),X.prototype.setPlayReversed=function(t){X._super.setPlayReversed.call(this,t),this.tween&&this.tween.setPlayReversed(t)},X.prototype.getPlayheadTime=function(){return this.tween?this.tween.getPlayheadTime()+X._super.getPlayheadTime():0},X.prototype.pause=function(){W._super.pause.call(this),this.tween&&this.tween.pause()},X.prototype.stop=function(){X._super.stop.call(this),this.tween&&this.tween.stop()},X.prototype.resume=function(){X._super.resume.call(this),this.tween&&this.tween.resume()},X.prototype.reverse=function(){X._super.reverse.call(this),this.tween&&this.tween.reverse(),X._super.setPlayReversed(!this.getPlayReversed())},X.prototype.seek=function(t){this.tween?this.tween.seek(t):this._seekTime=t},X.prototype.end=function(){this._stopRepeat=!0,this._delayTimer&&this._delayTimer.reset(),this.tween&&(this.tween.endTween(),this.tween=null)},X.prototype.onTweenUpdate=function(t){},X.prototype.onTweenEnd=function(t){this.onTweenUpdate(t),this.tween=null,this._needToLayout&&He.getInstance().validateNow(),this.finishRepeat()},X.prototype._createTween=function(t,e,i,n,s,r,a,o,l,h,d){return n=this._seekTime,s=this.easingFunction,r=this.getPlayReversed(),void 0==h&&(h=-1),void 0==d&&(d=-1),t=new z(t,e,i,h,d),t.addEventListener(Ye.TWEEN_START,this._tweenEventHandler),t.addEventListener(Ye.TWEEN_UPDATE,this._tweenEventHandler),t.addEventListener(Ye.TWEEN_END,this._tweenEventHandler),null!=s&&(t.easingFunction=s),0<n&&t.seek(n),t.playReversed=r,t},X.prototype._applyTweenStartValues=function(){var t=this.tween;0<this.duration&&this.onTweenUpdate(t.getCurrentValue(0))},X.prototype._tweenEventHandler=function(t){this.dispatchEvent(t)},ge(j,W),j.prototype.getActualDuration=function(){var t=NaN;return 0<this._repeatCount&&(t=this.getDurationWithoutRepeat()*this._repeatCount+(this._repeatDelay*this._repeatCount-1)+this._startDelay),t},j.prototype.getPlayheadTime=function(){return this._playheadTime+W._CompositeEffectInstance._super.getPlayheadTime.call(this)},j.prototype.getDurationWithoutRepeat=function(){return 0},j.prototype.play=function(){this._timerTween=new z(this,0,0,this.getDurationWithoutRepeat()),j._super.play.call(this)},j.prototype.pause=function(){j._super.pause.call(this),this._timerTween&&this._timerTween.pause()},j.prototype.stop=function(){j._super.stop.call(this),this._timerTween&&this._timerTween.stop()},j.prototype.resume=function(){j._super.resume.call(this),this._timerTween&&this._timerTween.resume()},j.prototype.reverse=function(){j._super.reverse.call(this),j._super.setPlayReversed(!this._playReversed),this._timerTween&&this._timerTween.reverse()},j.prototype.finishEffect=function(){this._activeEffectQueue=null,j._super.finishEffect.call(this)},j.prototype.addChildSet=function(t){var e,i;if(t&&(i=t.length,0<i))for(this._childSets?this._childSets.push(t):this._childSets=[t],e=0;e<i;e++)t[e].addEventListener(L.EFFECT_END,this._effectEndHandler,this),t[e]._parentCompositeEffectInstance=this},j.prototype.hasRotateInstance=function(){return!1},j.prototype.playWithNoDuration=function(){j._super.playWithNoDuration.call(this),this.end()},j.prototype.onEffectEnd=function(t){},j.prototype.onTweenUpdate=function(t){this._playheadTime=this._timerTween?this._timerTween._playheadTime:this._playheadTime},j.prototype.onTweenEnd=function(t){this._playheadTime=this._timerTween?this._timerTween._playheadTime:this._playheadTime},j.prototype.initEffect=function(t){var e,i,n,s,r;for(j._super.initEffect.call(this,t),i=this._childSets.length,e=0;e<i;e++)for(r=this._childSets[e],s=r.length,n=0;n<s;n++)r[n].initEffect(t)},j.prototype._effectEndHandler=function(t){this.onEffectEnd(t.effectInstance)},ge(K,j),K.prototype.getDurationWithoutRepeat=function(){var t,e,i,n=0;for(e=this._childSets.length,t=0;t<e;t+=1)i=this._childSets[t],n=Math.max(i[0].getActualDuration(),n);return n},K.prototype.addChildSet=function(t){K._super.addChildSet.call(this,t)},K.prototype.play=function(){var t,e;this._doneEffectQueue=[],this._activeEffectQueue=[],this._replayEffectQueue=[];var i,n,s,r;for(K._super.play.call(this),e=this._childSets.length,t=0;t<e;t+=1)for(r=this._childSets[t],n=r.length,i=0;i<n&&null!=this._activeEffectQueue;i+=1)s=r[i],this._playReversed&&s.getActualDuration()<this.getDurationWithoutRepeat()?(this._replayEffectQueue.push(s),this.startTimer()):(s._playReversed=this._playReversed,this._activeEffectQueue.push(s));if(0<this._activeEffectQueue.length)for(i=this._activeEffectQueue.slice(0),t=0;t<e;t+=1)i[t].startEffect()},K.prototype.pause=function(){var t,e;for(K._super.pause.call(this),e=this._activeEffectQueue.length,t=0;t<e;t+=1)this._activeEffectQueue[t].pause()},K.prototype.stop=function(){var t,e,i;if(this._stopTimer(),this._activeEffectQueue)for(i=this._activeEffectQueue.concat(),this._activeEffectQueue=null,e=i.length,t=0;t<e;t+=1)i[t]&&i[t].stop();K._super.stop.call(this)},K.prototype.resume=function(){var t,e;for(K._super.resume.call(this),e=this._activeEffectQueue.length,t=0;t<e;t+=1)this._activeEffectQueue[t].resume()},K.prototype.reverse=function(){var t,e;if(K._super.reverse.call(this),this._isReversed){for(e=this._activeEffectQueue.length,t=0;t<e;t+=1)this._activeEffectQueue[t].reverse();this._stopTimer()}else{for(this._replayEffectQueue=this._doneEffectQueue.splice(0,this._doneEffectQueue.length),e=this._activeEffectQueue.length,t=0;t<e;t+=1)this._activeEffectQueue[t].reverse();this.startTimer()}this._isReversed=!this._isReversed},K.prototype.end=function(){var t,e,i;if(this._endEffectCalled=!0,this._stopTimer(),this._activeEffectQueue)for(i=this._activeEffectQueue.concat(),this._activeEffectQueue=null,e=i.length,t=0;t<e;t+=1)i[t]&&i[t].end();K._super.end.call(this)},K.prototype.onEffectEnd=function(t){var e,i;if(!this._endEffectCalled&&this._activeEffectQueue){for(i=this._activeEffectQueue.length,e=0;e<i;e+=1)if(t==this._activeEffectQueue[e]){this._doneEffectQueue.push(t),this._activeEffectQueue.splice(e,1);break}1==i&&this.finishRepeat()}},K.prototype._startTimer=function(){var t=this._timer;t||(t=new Timer(10),t.addEventListener("timer",this._timerHandler)),t.start()},K.prototype._stopTimer=function(){this._timer&&this._timer.reset()},K.prototype._timerHandler=function(t){var e,i;if(t=this.getDurationWithoutRepeat()-this._playheadTime,e=this._replayEffectQueue.length)for(--e;0<=e;--e)i=this._replayEffectQueue[e],t<=i.getActualDuration()&&(this._activeEffectQueue.push(i),this._replayEffectQueue.splice(e,1),i.setPlayReversed(this._playReversed),i.startEffect());else this._stopTimer()},J.prototype.apply=function(t,e){var i,n=1;(i=e?e:this.stroke)&&(s(i)&&(n=i.weight,i=Me.color2rgba(i.color,i.alpha)),t.strokeStyle=i,t.lineWidth=n,this._offset=.5*n||0)},J.prototype.createRect=function(t,e,i,n){var s=0,r=0,a=this._offset;return 0>i&&(s=2*a),0>n&&(r=2*a),t=new S(t+a,e+a,i-2*a,n-2*a),t.setLeft(t.left-s),t.setRight(t.right+s),t.width<=2*a?(t.setTop(e),t.setBottom(e+n)):(t.setTop(t.top-r),t.setBottom(t.bottom+r)),0!=2*a%2&&(t.left+=.5,t.width=t.right-t.left,t.right+=.5,t.width=t.right-t.left,t.top+=.5,t.height=t.bottom-t.top,t.bottom+=.5,t.height=t.bottom-t.top),t},J.prototype.clear=function(t,e,i,n){var s=this.graphics;s&&(this.apply(s,this.stroke),t=this.createRect(t,e,i,n),this._offset=0,s.save(),this.drawPath(s,t),s.clip(),Le.ie&&(s.globalCompositeOperation="copy"),s.clearRect(t.left,t.top,t.width,t.height),s.restore())},J.prototype.drawPath=function(t,e){};var Ze=function(t){_e.call(this),this._source=null,this._enableEvents=!1,arguments.length?this.setSource(t):this.setSource(null),this._enableEvents=!0};ge(Ze,_e),Ze.prototype.getLength=function(){return this._source?this._source.length:0},Ze.prototype.getSource=function(){return this._source},Ze.prototype.setSource=function(t){h(t)?this._source=[]:e(t)?this._source=t:this._source=[t],this._enableEvents&&this.dispatchEvent(new Ge(Ge.COLLECTION_CHANGE,(!1),(!1),"reset",(-1),(-1)))},Ze.prototype.addItem=function(t){this.addItemAt(t,this._source.length)},Ze.prototype.addItemAt=function(t,e){if(0>e||e>this._source.length)throw new RangeError("Out of range error "+e);this._source.splice(e,0,t),this.dispatchEvent(new Ge(Ge.COLLECTION_CHANGE,(!1),(!1),"add",e,(-1),[t]))},Ze.prototype.getItemAt=function(t){if(0>t||t>=this._source.length)throw new RangeError("Out of range error "+t);return this._source[t]},Ze.prototype.getItemIndex=function(t){return xe.indexOf(this._source,t)},Ze.prototype.removeItemAt=function(t){if(0>t||t>=this._source.length)throw new RangeError("Out of range error "+t);var e=this._source.splice(t,1)[0];return this.dispatchEvent(new Ge(Ge.COLLECTION_CHANGE,(!1),(!1),"remove",t,(-1),[e])),e},Ze.prototype.removeAll=function(){0>=this._source.length||(this._source.splice(0,this._source.length),this.dispatchEvent(new Ge(Ge.COLLECTION_CHANGE,(!1),(!1),"reset",(-1),(-1))))},Ze.prototype.setItemAt=function(t,e){if(0>e||e>=this._source.length)throw new RangeError("Out of range error "+e);var i=this._source[e];this._source[e]=t,i=new Ke(Ke.PROPERTY_CHANGE,(!1),(!1),"update",e,i,t),this.dispatchEvent(new Ge(Ge.COLLECTION_CHANGE,(!1),(!1),"replace",e,(-1),[i]))},Ze.prototype.itemUpdated=function(t,e,i,n){t=new Ke(Ke.PROPERTY_CHANGE,(!1),(!1),"update",e,i,n,t),this.dispatchEvent(new Ge(Ge.COLLECTION_CHANGE,(!1),(!1),"update",(-1),(-1),[t]))},Ze.prototype.getProperty=function(t,e){return null==t?null:t[e]},Ze.prototype.setProperty=function(t,e,i){null!=t&&(t[e]=i)},Ze.prototype.getPropertyAt=function(t,e){var i=this.getItemAt(t);return null==i?null:i[e]},Ze.prototype.setPropertyAt=function(t,e,i){t=this.getItemAt(t),null!=t&&(t[e]=i)},Ze.prototype.toArray=function(){return this._source.concat()},Ze.prototype.toString=function(){
return this._source?"object"==typeof JSON?JSON.stringify(this._source):this._source.toString():this.constructor.name};var ti=function(){_e.call(this)};ge(ti,_e),ti.prototype.contains=function(t){throw"must override contains method in "+this.constructor.name},ti.prototype.createCursor=function(t){throw"must override createCursor method in "+this.constructor.name},ti.prototype.disableAutoUpdate=function(){throw"must override disableAutoUpdate method in "+this.constructor.name},ti.prototype.enableAutoUpdate=function(){throw"must override enableAutoUpdate method in "+this.constructor.name},ti.prototype.itemUpdated=function(t,e,i,n){throw"must override itemUpdated method in "+this.constructor.name},ti.prototype.refresh=function(){throw"must override refresh method in "+this.constructor.name};var ei=function(t){_e.call(this),this._sort=this._list=this._localIndex=this.filterFunction=null,this._autoUpdateCounter=0,this._dispatchResetEvent=!0,this._eventDispatcher=new _e,arguments.length?this.setList(t):this.setList(null)};ge(ei,ti),ei.prototype.getLength=function(){return this._localIndex?this._localIndex.length:this._list?this._list.getLength():0},ei.prototype.getList=function(){return this._list},ei.prototype.setList=function(t){if(this._list!=t){var e=!1,i=!1;this._list&&(this._list.removeEventListener(Ge.COLLECTION_CHANGE,this._listChangeHandler,this),e=0<this._list.getLength()),(this._list=t)&&(this._list.addEventListener(Ge.COLLECTION_CHANGE,this._listChangeHandler,this),i=0<this._list.getLength()),(e||i)&&this.reset(),this.dispatchEvent(new Ue("listChanged"))}},ei.prototype.getSort=function(){return this._sort},ei.prototype.setSort=function(t){this._sort=t},ei.prototype.addAll=function(t){this.addAllAt(t,this.getLength())},ei.prototype.addAllAt=function(t,i){var s,a,o,l;if(e(t))for(s=0;s<t.length;s++)this._list.addItemAt(t[s],i+s);else{if(n(t))l=9===t.nodeType?t.documentElement.childNodes:t.childNodes;else{s=!1,a=null!=t&&"undefined"!=typeof t;try{s=a&&t instanceof NodeList}catch(h){}a=a&&r(t.length)&&"undefined"!=typeof t.item,(s||a)&&(l=0<t.length&&9===t[0].parentNode.nodeType?t[0].parentNode.documentElement.childNodes:t[0].parentNode.childNodes)}if(!l)throw Error("children not found error in addAllAt "+i);for(a=s=0,o=l.length;s<o;s++)1===l[s].nodeType&&this._list.addItemAt(l[s],i+a++)}},ei.prototype.addItem=function(t){this.addItemAt(t,this.getLength())},ei.prototype.addItemAt=function(t,e){if(0>e||e>this.getLength())throw new RangeError("Out of range error "+e);var i=e;this._localIndex&&this._sort?i=this._list.getLength():this._localIndex&&null!=this.filterFunction&&(i=i===this._localIndex.length?this._list.getLength():this._list.getItemIndex(this._localIndex[e])),this._list.addItemAt(t,i)},ei.prototype.getItemAt=function(t){if(0>t||t>=this.getLength())throw new RangeError("Out of range error "+t);return this._localIndex?this._localIndex[t]:this._list?this._list.getItemAt(t):null},ei.prototype.getItemIndex=function(t){return this._sort||null!=this.filterFunction?xe.indexOf(this._localIndex,t):this._list.getItemIndex(t)},ei.prototype.getLocalItemIndex=function(t){var e,i;if(this._localIndex)for(i=this._localIndex.length,e=0;e<i;e++)if(this._localIndex[e]==t)return e;return-1},ei.prototype.removeItemAt=function(t){if(0>t||t>=this.getLength())throw new RangeError("Out of range error "+t);var e=t;return this._localIndex&&(e=this._list.getItemIndex(this._localIndex[t])),this._list.removeItemAt(e)},ei.prototype.removeAll=function(){var t;if(t=this.getLength(),0<t)if(this._localIndex)for(--t;0<=t;t--)this.removeItemAt(t);else this._list.removeAll()},ei.prototype.setItemAt=function(t,e){if(0>e||e>=this.getLength())throw new RangeError("Out of range error "+e);var i=e;return this._localIndex&&(i=e>this._localIndex.length?this._list.getLength():this._list.getItemIndex(this._localIndex[e])),this._list.setItemAt(t,i)},ei.prototype.itemUpdated=function(t,e,i,n){this._list&&this._list.itemUpdated(t,e,i,n)},ei.prototype.getProperty=function(t,e){return this._list?this._list.getProperty(t,e):null},ei.prototype.setProperty=function(t,e,i){if(this._list)return this._list.setProperty(t,e,i)},ei.prototype.getPropertyAt=function(t,e){return this._localIndex?this._list.getProperty(this._localIndex[t],e):this._list?this._list.getPropertyAt(t,e):null},ei.prototype.setPropertyAt=function(t,e,i){this._localIndex?this._list.setProperty(this._localIndex[t],e,i):this._list&&this._list.setPropertyAt(t,e,i)},ei.prototype.toArray=function(){return this._localIndex?this._localIndex.concat():this._list.toArray()},ei.prototype.toString=function(){return this._localIndex?this._localIndex.toString():this._list&&this._list.toString?this._list.toString():this.constructor.name},ei.prototype.contains=function(t){return-1!=this.getItemIndex(t)},ei.prototype.createCursor=function(t){return new ListCollectionViewCursor(this,t)},ei.prototype.disableAutoUpdate=function(){this._autoUpdateCounter++},ei.prototype.enableAutoUpdate=function(){0<this._autoUpdateCounter&&(this._autoUpdateCounter--,0===this._autoUpdateCounter&&this._handlePendingUpdates())},ei.prototype.itemUpdated=function(t,e,i,n){this._list.itemUpdated(t,e,i,n)},ei.prototype.refresh=function(){return this._internalRefresh(!0)},ei.prototype.addEventListener=function(t,e,i,n,s){this._eventDispatcher.addEventListener(t,e,i,n,s)},ei.prototype.removeEventListener=function(t,e,i,n){this._eventDispatcher.removeEventListener(t,e,i,n)},ei.prototype.dispatchEvent=function(t){return this._eventDispatcher.dispatchEvent(t)},ei.prototype.hasEventListener=function(t){return this._eventDispatcher.hasEventListener(t)},ei.prototype.findItem=function(t,e,i){if(!this._sort)throw Error("itemNotFound");return 0===this._localIndex.length?i?0:-1:this._sort.findItem(this._localIndex,t,e,i)},ei.prototype.reset=function(){this._internalRefresh(!1),this._dispatchResetEvent&&this.dispatchEvent(new Ge(Ge.COLLECTION_CHANGE,(!1),(!1),"reset",(-1),(-1)))},ei.prototype.getBookmark=function(t){var e;if(0>t||t>this.getLength())throw Error("invalidIndex");try{e=this.getItemAt(t)}catch(i){e=null}return new ListCollectionViewBookmark(e,this,this._revision,t)},ei.prototype.getBookmarkIndex=function(t){if(!(t instanceof ListCollectionViewBookmark)||t.view!=this)throw Error("bookmarkNotFound");if(t.viewRevision!=this._revision){if(0>t.index||t.index>=this.getLength()||this.getItemAt(t.index)!=t.getValue())try{t.index=this.getItemIndex(t.getValue())}catch(e){t.index=this.getLocalItemIndex(t.getValue())}t.viewRevision=this._revision}return t.index},ei.prototype._getFilteredItemIndex=function(t){var e,i;if(t=this._list.getItemIndex(t),0==t)return 0;for(--t;0<=t;t--){var n=this._list.getItemAt(t);if(this.filterFunction(n))for(i=this._localIndex.length,e=0;e<i;e++)if(this._localIndex[e]==n)return e+1}return 0},ei.prototype._addItemsToView=function(t,e,i){i=!!l(i)||i;var n=this._localIndex?[]:t,s=e,r=!0;if(this._localIndex){var a=e;for(e=0;e<t.length;e++){var o=t[e];if(null==this.filterFunction||this.filterFunction(o)){if(a=this._sort?this.findItem(o,Sort.ANY_INDEX_MODE,!0):this._getFilteredItemIndex(o),r&&(s=a,r=!1),this._sort&&this._sort.unique&&0==this._sort.compareFunction(o,this._localIndex[a]))throw Error("incorrectAddition");this._localIndex.splice(a++,0,o),n.push(o)}else s=-1}}return this._localIndex&&1<n.length&&(s=-1),i&&0<n.length&&(t=new Ge(Ge.COLLECTION_CHANGE,(!1),(!1),"add",s,(-1),n),this.dispatchEvent(t)),s},ei.prototype._replaceItemsInView=function(t,e,i){if(i=!!l(i)||i,this._localIndex){var n,s=t.length,r=[],a=[];for(n=0;n<s;n++){var o=t[n];r.push(o.oldValue),a.push(o.newValue)}this._removeItemsFromView(r,e,i),this._addItemsToView(a,e,i)}else t=new Ge(Ge.COLLECTION_CHANGE,(!1),(!1),"replace",e,(-1),t),this.dispatchEvent(t)},ei.prototype._moveItemInView=function(t,e,i){if(e=!!l(e)||e,this._localIndex){var n,s=-1;for(n=0;n<this._localIndex.length;n++)if(this._localIndex[n]===t){s=n;break}if(-1<s&&this._localIndex.splice(s,1),n=this._addItemsToView([t],s,!1),e){var r=new Ge(Ge.COLLECTION_CHANGE);r.items.push(t),i&&n==s&&-1<n?i.push(t):(-1<n&&-1<s?(r.kind="move",r.location=n,r.oldLocation=s):-1<n?(r.kind="add",r.location=n):-1<s?(r.kind="remove",r.location=s):e=!1,e&&this.dispatchEvent(r))}}},ei.prototype._removeItemsFromView=function(t,e,i){i=!!l(i)||i;var n=this._localIndex?[]:t,s=e;if(this._localIndex)for(e=0;e<t.length;e++){var r=t[e],a=this.getItemIndex(r);-1<a&&(this._localIndex.splice(a,1),n.push(r),s=a)}i&&0<n.length&&(t=new Ge(Ge.COLLECTION_CHANGE,(!1),(!1),"remove",this._localIndex&&1!=n.length?-1:s,(-1),n),this.dispatchEvent(t))},ei.prototype._listChangeHandler=function(t){if(0<this._autoUpdateCounter)this._pendingUpdates||(this._pendingUpdates=[]),this._pendingUpdates.push(t);else switch(t.kind){case"add":this._addItemsToView(t.items,t.location);break;case"reset":this.reset();break;case"remove":this._removeItemsFromView(t.items,t.location);break;case"replace":this._replaceItemsInView(t.items,t.location);break;case"update":this._handlePropertyChangeEvents(t.items);break;default:this.dispatchEvent(t)}},ei.prototype._handlePropertyChangeEvents=function(t){var e=t;if(this._sort||null!=this.filterFunction){var i,n,s=[];for(i=0;i<t.length;i++){var r,e=t[i];e.target?(n=e.target,r=e.target!=e.source):(n=e.source,r=!1);for(var a=0;a<s.length;a++)if(s[a].item===n){var o,l=s[a].events,h=l.length;for(o=0;o<h;o++)if(l[o].property!=e.property){l.push(e);break}break}a<s.length?n=s[a]:(n={item:n,move:r,events:[e]},s.push(n)),n.move=n.move||null!=this.filterFunction||!e.property||this._sort&&this._sort.propertyAffectsSort(e.property)}for(e=[],i=0;i<s.length;i++)n=s[i],n.move?this._moveItemInView(n.item,n.item,e):e.push(n.item);for(n=[],t=0;t<e.length;t++)for(i=0;i<s.length;i++)e[t]===s[i].item&&(n=n.concat(s[i].events));e=n}0<e.length&&(s=new Ge(Ge.COLLECTION_CHANGE),s.kind="update",s.items=e,this.dispatchEvent(s))},ei.prototype._handlePendingUpdates=function(){var t;if(this._pendingUpdates){t=this._pendingUpdates,this._pendingUpdates=null;var e,i,n;for(e=0;e<t.length;e++){var s=t[e];if("update"===s.kind)if(n)for(i=0;i<s.items.length;i++)n.items.push(s.items[i]);else n=s;else this._listChangeHandler(s)}n&&this._listChangeHandler(n)}},ei.prototype._internalRefresh=function(t){if(this._sort||null!=this.filterFunction){var e=this.getList();if(this._localIndex=e?e.toArray():[],null!=this.filterFunction){var i,e=[],n=this._localIndex.length;for(i=0;i<n;i++){var s=this._localIndex[i];this.filterFunction(s)&&e.push(s)}this._localIndex=e}this._sort&&(this._sort.sort(this._localIndex),t=!0)}else this._localIndex&&(this._localIndex=null);return this._revision++,this._pendingUpdates=null,t&&this.dispatchEvent(new Ge(Ge.COLLECTION_CHANGE,(!1),(!1),"refresh",(-1),(-1))),!0};var ii=function(t){ei.call(this),arguments.length?this.setSource(t):this.setSource(null)};ii._defaultProperty="source",ge(ii,ei),ii.prototype.getSource=function(){return this._list&&this._list instanceof Ze?this._list.getSource():null},ii.prototype.setSource=function(t){this.setList(new Ze(t))},Q.productInit=function(t,e,n,s,r,o){var l;window[t]&&window[t].__productInited&&window[t].__productInited()||(window[t]={},l=window[t],l.version="5.0",l.defaultWidth=r?r:420,l.defaultHeight=o?o:280,l.instances={},l.onLoadCallFunctions={},l.create=function(i,s,r,a,o,d){if(h(a)&&(a="100%"),h(o)&&(o="100%"),h(s))throw s+" is undefined for "+t;var c,u,p,g,f,m=void 0==r?[]:r.split("&"),_={};for(c=0,u=m.length;c<u;c++)p=m[c],f=p.indexOf("="),g=p.substring(0,f),p=p.substring(f+1,p.length),_[g]=p;d&&l.setOnLoadCallFunction(i,d),h(_.licenseURL)||(l.licenseURL=decodeURIComponent(_.licenseURL)),h(_.assetsPath)||(pe=_.assetsPath),h(_.localeChain)||ze.setLocaleChain(_.localeChain),We.domReady(function(){var l,h=$(s);if(!h)throw s+" is undefined for "+t;return this.instances[i]&&this.instances[i].destroy(),l=new e(i,s,r,a,o),l._productName=t,l._productParser=n,this.instances[i]=l,h.appendChild(l.element),l.addEvent("dblclick",q,l),l.initialize(),l},this,i)},l.resize=function(){for(var t in this.instances)this.instances[t].resize(t)},l.setOnLoadCallFunction=function(t,e){if(!(t&&i(t)&&e&&a(e)))throw"id or onLoadCallFunction is undefined";this.onLoadCallFunctions||(this.onLoadCallFunctions={}),this.onLoadCallFunctions[t]=e},l.call=function(t,e){var i,n=this,s=[];i=2;for(var r=arguments.length;i<r;i+=1)s.push(arguments[i]);We.domReady.done&&!We.domReady.ready?(i=$(t),i[e].apply(i,s)):(n._callTimer||(n._callMethods=[],n._callTimer=window.setInterval(function(){n._callDelays()},30)),n._callMethods.push({target:t,f:e,p:s}))},l._callDelays=function(){var t,e,i,n;if(We.domReady.done&&!We.domReady.ready){if(window.clearInterval(l._callTimer),this._callMethods)for(t=0,e=this._callMethods.length;t<e;t+=1)n=this._callMethods[t],i=$(n.target),a(n.f)?(n.p.unshift(n.target),n.f.apply(window,n.p)):i[n.f].apply(i,n.p);l._callMethods=l._callDelays=null}},l.setAssetsPath=function(t){pe=t},l.resizing=l.resize,l.__productInited=function(){return!0},s&&a(s)&&s(l))},ge(Q,_),Q.prototype.getTargetLayout=function(){return this._layout},Q.prototype.setTargetLayout=function(t){this._layout=t,this._layoutChanged=!0,this.invalidateProperties(),this.invalidateDisplayList()},Q.prototype.getLayoutXML=function(){return this._layout},Q.prototype.setLayoutXML=function(t){this._layout=t,this._layoutChanged=!0,this.invalidateProperties(),this.invalidateDisplayList()},Q.prototype.getTargetData=function(){return this._data},Q.prototype.setTargetData=function(t){this._data!==t&&(this._data=t,this._dataChanged=!0,this.invalidateProperties(),this.invalidateDisplayList())},Q.prototype.getCollection=function(){return this._collection},Q.prototype._createRoot=function(){var t,e;if(this._root&&(this._root.resetInvalidate(),ke.remove(this._root,!0)),this._root=this._target=this._httpService=null,this._customStyle="",this._componentIds={},this._unmatchedComponentIds=[],e=this._layout,!n(e)&&s(e)&&(e=be.toXMLString(e),s(e))){for(t in e.functions)this._componentIds[t]=e.functions[t];e=e.layout}i(e)&&(e=we.parse(e));do e=e.firstChild||e.nextSibling;while(1!=e.nodeType);0<=e.nodeName.indexOf("#")&&(e=e.firstChild),t=new this._productParser(this,e.nodeName),t.startParsing(e),this._root=t._root,this._target=t._target,this._target.id=this._paramId,this._target.setActualSize(this._rooWidth,this._rootHeight),this._httpService&&this._httpService.serviceStart()},Q.prototype.createChildren=function(){var t;if(Q._super.createChildren.call(this),!this._target){Ee.setStyle(this,"position","relative"),t=this.element,t.setLayout=this.setLayout,t.setData=this.setData,t.addData=this.addData,t.setLayoutXML=this.setLayoutXML,t.getLayoutXML=this.getLayoutXML,t.setLayoutURLEx=t.setLayoutURL=this.setLayoutURLEx,t.setDataURLEx=t.setDataURL=this.setDataURL,t.addDataURLEx=t.addDataURLEx=this.addDataURLEx,t.setDataType=this.setDataType,t.destroy=this.destroy,t.clear=this.clear,t.resize=this.resize,t.id=this._paramId,t=void 0==this._jsVars?[]:this._jsVars.split("&");var e,i,n,s,r,a={};for(e=0,i=t.length;e<i;e++)n=t[e],r=n.indexOf("="),0>r||(s=n.substring(0,r),n=n.substring(r+1,n.length),-1<(r=n.indexOf("function"))&&(n=n.substring(r+9,n.indexOf("(")),n=window[n]),a[s]=n,u(this,s)&&p(this,s,n));this._valuesMap=a,h(a.dataType)||this.setDataType(a.dataType);try{this.prr(this._systemManager.getClassMap())}catch(o){}t=this._getTargetSize(),this._rootWidth=t.width,this._rootHeight=t.height,this.setActualSize(this._rootWidth,this._rootHeight),this.layoutURL&&this.setLayoutURLEx(this.layoutURL),this.KoolOnLoadCallFunction?be.findFunction(this.KoolOnLoadCallFunction)(this._paramId):window[this._productName].onLoadCallFunctions[this._paramId]&&(window[this._productName].onLoadCallFunctions[this._paramId](this._paramId),window[this._productName].onLoadCallFunctions[this._paramId]=null),this.BIX5OnLoadCallFunction&&be.findFunction(this.BIX5OnLoadCallFunction)(this._paramId)}},Q.prototype.commitProperties=function(){Q._super.commitProperties.call(this),this._layoutChanged&&(this._layoutChanged=!1,this._createRoot(this._productParser)),this._dataChanged&&(this._target&&(this._target.removeEventListener("updateComplete",this._updateCompleteHandler,this),this._target.addEventListener("updateComplete",this._updateCompleteHandler,this),this._target.setDataProvider(this._data),this._collection=this._target.getDataProvider()),this._dataChanged=!1)},Q.prototype.measure=function(){this.measuredWidth=this.getWidth(),this.measuredHeight=this.getHeight()},Q.prototype.updateDisplayList=function(t,e){var i,n,s=this.getNumChildren();for(Q._super.updateDisplayList.call(this,t,e),i=0;i<s;i+=1)n=this.getChildAt(i),n instanceof b&&(n.getWidth(),n.getHeight()),n instanceof _&&(n.move(0,0),n.setActualSize(this.getWidth(),this.getHeight()))},Q.prototype.setDataType=function(t){(this.selfElement?this.selfElement:this).dataType=t},Q.prototype.setLayout=function(t){var e=this.selfElement?this.selfElement:this;if(i(t))try{e.setLayoutXML(t)}catch(r){throw ze.getString("rmateweb","invalidLayoutXML")+(r.message||r)}else if(n(t))e.setLayoutXML(t);else{if(!s(t))throw"Invalid layout XML";e._layout=t,e._layoutChanged=!0,e.invalidateProperties(),e.invalidateDisplayList()}e.dataSet&&e._pushDataIntoWrapper()},Q.prototype.setData=function(t){var e=this.selfElement?this.selfElement:this;e.dataSet=e._dataSetting(t),e._pushDataIntoWrapper()},Q.prototype.setLayoutURLEx=function(e){var s=this.selfElement?this.selfElement:this;s.addLoadingBar(),s._layout=null,s.layoutURL=e,t({url:e,onSuccess:function(t){if(i(t))s.setLayoutXML(t);else{if(!n(t))throw"Invalid layout";s.setLayoutXML(t)}s.dataSet?(s._pushDataIntoWrapper(),s.removeLoadingBar()):(s.removeLoadingBar(),!s._dataURLInProcess&&s.dataURL&&s.setDataURLEx(s.dataURL))},onError:function(t){throw s.removeLoadingBar(),"XMLHttpRequest is faild to open the url, "+s.layoutURL+" : "+t}})},Q.prototype.setDataURLEx=function(e){var i=this.selfElement?this.selfElement:this;i.addLoadingBar(),i._targetData=null,i.dataSet=null,i.dataURL=e,i._dataURLInProcess=!0,t({url:e,onSuccess:function(t){i.dataSet=i._dataSetting(t),i._pushDataIntoWrapper(),i.removeLoadingBar(),i._dataURLInProcess=!1},onError:function(t){throw i.removeLoadingBar(),i._dataURLInProcess=!1,"XMLHttpRequest is failed to open the url, "+e+" : "+t}})},Q.prototype.addData=function(t){var e=this.selfElement?this.selfElement:this;e._target&&e._collection&&e._collection.addAll(e._dataSetting(t))},Q.prototype.addDataURLEx=function(e,i){i=!(1<arguments.length)||i;var n=this.selfElement?this.selfElement:this;i&&n.lastAddURL==e||(n.lastAddURL=e,n.addLoadingBar(),t({url:e,onSuccess:function(t){n.addData(t),n.removeLoadingBar()},onError:function(t){throw n.removeLoadingBar(),"XMLHttpRequest is failed to open the url, "+e+" : "+t}}))},Q.prototype.destroy=function(){var t=this.selfElement?this.selfElement:this;t.resetInvalidate(),ke.remove(t,!0),t._layout=t._target=t._data=t._dataSet=t._collection=t._changedData=t._componentIds=t._unmatchedComponentIds=null,delete window[t._productName].instances[t._paramId],We.destroy(t._paramId)},Q.prototype.clear=function(){var t=this.selfElement?this.selfElement:this;t._root&&ke.remove(t._root),t._componentIds={},t._unmatchedComponentIds=[],t._layout=t._target=t._data=t._dataSet=t._collection=null},Q.prototype.resize=function(){var t=this.selfElement?this.selfElement:this,e=t._getTargetSize();!e||e.width==t._targetRootWidth&&e.height==t._targetRootHeight||(t._targetRootWidth=e.width,t._targetRootHeight=e.height,t.setActualSize(e.width,e.height),t.invalidateDisplayList())},Q.prototype.getRoot=function(){return this.selfElement},Q.prototype.getTarget=function(){return(this.selfElement?this.selfElement:this)._target},Q.prototype.getRemoveAllData=function(){return this.removeAllData},Q.prototype.addLoadingBar=function(){var t=this.selfElement?this.selfElement:this;h(t)||(t._inLoadingBarCount++,t.showLoadingBar&&(t._loadingBar||(t._loadingBar=document.createElement("div"),t._loadingBar.style.boxSizing="content-box",t._loadingBar.style.position="absolute",t._loadingBar.className="Kool__Preloader"),t.element.contains(t._loadingBar)||t.element.appendChild(t._loadingBar)))},Q.prototype.removeLoadingBar=function(){var t=this.selfElement?this.selfElement:this;h(t)||(t._inLoadingBarCount--,0>=t._inLoadingBarCount&&t._loadingBar&&t.element.contains(t._loadingBar)&&(t.element.removeChild(t._loadingBar),t._loadingBar=null,t._inLoadingBarCount=0))},Q.prototype.addResourceBundle=function(t,e,i){ze.addResourceBundle(t,e,i)},Q.prototype._targetCreationCompleteHandler=function(){},Q.prototype._getCollectionItemAt=function(t){if(0<=t&&t<this._collection.getLength()){if(this._collection instanceof HierarchicalCollectionView){var e=this._collection.createCursor();return e.seek(CursorBookmark.getFIRST(),t),e.getCurrent()}return this._collection.getItemAt(t)}return null},Q.prototype._addChangedData=function(t,e){var i;for(i=0;i<this._changedData.getLength();i++)this._changedData.getItemAt(i).idx>=e&&"D"!=this._changedData.getItemAt(i).job&&this._changedData.getItemAt(i).idx++;this._changedData.addItem({idx:e,job:"I",data:t})},Q.prototype._getTargetSize=function(){var t=this._paramWidth,e=this._paramHeight,i=Ee.test,n=Ee.getStyle,s=Ee.getRootSize,r=$(this._paramTarget);return i("%",t)?(i("%",n(r,"width"))&&this.setPercentWidth(this._paramWidth.replace("%","")),t=s(r,"width",t)):t=parseInt(t),i("%",e)?(i("%",n(r,"height"))&&this.setPercentHeight(this._paramHeight.replace("%","")),e=s(r,"height",e)):e=parseInt(e),{width:t,height:e}},Q.prototype._pushDataIntoWrapper=function(){this.setTargetData(this.dataSet)},Q.prototype._dataSetting=function(t){var e,n,s,r,a,o;if(i(t)){if(n=this.dataType.toLowerCase(),"json"==n)try{e=JSON.parse(t)}catch(l){return void alert(ze.getString("rmateweb","invalidJSON")+l.message)}else if("fastcsv"==n)try{s=new Re,this._useDataGridFields&&this.getDataGrid()&&s.setFieldNames(this.getDataGridColumnFieldNames()),e=s.fastParse(t)}catch(l){return void alert(ze.getString("rmateweb","invalidCSV")+l.message)}else if("csv"==n)try{r=new Re,this._useDataGridFields&&this.getDataGrid()&&r.setFieldNames(this.getDataGridColumnFieldNames()),e=r.parse(t)}catch(l){return void alert(ze.getString("rmateweb","invalidCSV")+l.message)}else if("fasttsv"==n)try{a=new Re,this._useDataGridFields&&this.getDataGrid()&&a.setFieldNames(this.getDataGridColumnFieldNames()),a.setFieldSeperator("\t"),e=a.fastParse(t)}catch(l){return void alert(ze.getString("rmateweb","invalidTSV")+l.message)}else if("tsv"==n)try{o=new Re,this._useDataGridFields&&this.getDataGrid()&&o.setFieldNames(this.getDataGridColumnFieldNames()),o.setFieldSeperator("\t"),e=o.parse(t)}catch(l){return void alert(ze.getString("rmateweb","invalidTSV")+l.message)}else try{e=we.parse(t)}catch(l){return void alert(ze.getString("rmateweb","invalidXML")+l.message)}return e}return t},Q.prototype._eventDelayDispatcher=function(t){this.callLater(this.dispatchEvent,[t])},Q.prototype._creationCompleteHandler=function(t){this._target.removeEventListener("creationComplete",this._creationCompleteHandler,this),this._eventDelayDispatcher(new Ue("layoutComplete"))},Q.prototype._updateCompleteHandler=function(t){this._target.removeEventListener("updateComplete",this._updateCompleteHandler,this),this._collection=this._target.getDataProvider(),this._eventDelayDispatcher(new Ue("dataComplete"))},Z.resources={"ko-KR":{rmateparser:{invalidJSON:" JSON  .   . :",invalidXML:" XML  .   . :",invalidCSV:" CSV  .   . :",invalidTSV:" TSV  .   . :",invalidLayoutXML:" XML  .  XML  .",unknownObject:"   :{0}() .",unknownVariable:"   :{0}() .",unknownProperty:"   :{0}() .",errorSetProperty:":{0}    . :",errorSetBoolean:" {0}  true false ."}}},ze.addResourceBundle("rmateparser",Z.resources["ko-KR"].rmateparser,"ko-KR"),Z.prototype._tryExtraNewInstance=function(t){return null},Z.prototype._extraParsing=function(t){return!1},Z.prototype._setExtraPropsStyles=function(t,e,i){return!1},Z.prototype.startParsing=function(t){var e,i,n=t.childNodes;e=this._getClassInfo(t);try{this._wrapper.ppr(this._systemManager.getClassMap())}catch(s){}for(this._root=new e("div",this._name),this._setPropsStyles(t,this._root,e),this._wrapper.addChild(this._root),this._root.setStyle("verticalGap",0),this._root.setStyle("horizontalGap",0),this._root.setVerticalScrollPolicy("off"),this._root.setHorizontalScrollPolicy("off"),this._csses={},(t=t.getElementsByTagName("Style"))&&t[0]&&this._parseStyle(t[0].textContent||t[0].text),t=0,e=n.length;t<e;t+=1)if(i=n[t],1==i.nodeType&&"Style"!=i.nodeName)if(u(this._root,i.nodeName))i=this._commitSubNodes(i.nodeName,i.childNodes,this._root,i),this._setPropsStylesByNode(i,this._root);else if(!this._extraParsing(i)&&!this._parseExtraLayout(i,this._root))break;this._checkUnMatchedComponentId()},Z.prototype._parseStyle=function(t){var e=t.replace(/\s+(?=([^"]*"[^"]*")*[^"]*$)(?=([^']*'[^']*')*[^']*$)/g,""),i=e.match(/(\.\w*|\w*)\s*\{/g),n=e.match(/\{.*?\}/gi);if(i&&n){if(i.length!=n.length)throw"Style tag is invalid in the layout";var s,r,a,l,d;t=[];var c=[];for(s=0,a=i.length;s<a;s++)t[s]=i[s].replace(/\{/g,""),d=n[s].replace(/\{|\}/g,""),c[s]=d.split(";");for(s=0,a=c.length;s<a;s++){for(n=c[s],e=[],r=0,l=n.length;r<l;r++)i={},d=n[r].split(":"),2<=d.length&&(i.name=d[0],i.value=d[1].replace(/\\"|"|'/g,""),Ie.mustHavePxStyles[i.name]&&!o(Number(i.value))&&(i.value+="px"),-1<i.value.indexOf("0x")&&(i.value=i.value.replace(/0x/,"#")),e[r]=i);c[s]=e}var u,i=-1,n=this._systemManager.getClassMap();if(s=Ee.findCSSSheetIndex("Kool__"+this._wrapper.uno),0>s&&(s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style"),a.type="text/css",a.styleSheet?a.styleSheet.cssText=".Kool__"+this._wrapper.uno+" {color: blue;}":a.innerHTML=".Kool__"+this._wrapper.uno+" {color: blue;}",s.appendChild(a)),s=Ee.findCSSSheetIndex("Kool__"+this._wrapper.uno),0>s)throw"can not create styles in layout";for(s=0,a=t.length;s<a;s++)if(r=t[s],d=r.substr(0,1),"."!=d&&/[A-Z]/.test(d))for(n[r]?(n[r]._defaultStyles||(n[r]._defaultStyles={}),u=n[r]._defaultStyles):u=null,0>i&&(i=Ie.productCSSSheetIndex,0>i&&(i=Ee.findCSSSheetIndex("Kool__(\\S)*"),0<=i&&0>Ie.productCSSSheetIndex&&(Ie.productCSSSheetIndex=i))),e=0<=i?Ee.getCSSRule(i,"Kool__"+r):null,r=0,l=c[s].length;r<l;r++)d=c[s],e&&!h(e.style[d[r].name])?e.style[d[r].name]=d[r].value:u&&(u[d[r].name]=this._convertValue(d[r].value,!0));else for(d=r.replace(".",""),e=new g(d,"Kool__"+this._wrapper.uno,(!1)),this._csses[d]=e,r=0,l=c[s].length;r<l;r++)d=c[s],e.setStyle(d[r].name,this._convertValue(d[r].value,!0))}},Z.prototype._getClassInfo=function(t){return(t=this._systemManager.getClassMap()[t.nodeName])?t:null},Z.prototype._getClassInfoByName=function(t){return this._systemManager.getClassMap()[t]?this._systemManager.getClassMap()[t]:null},Z.prototype._tryCorrectNewInstance=function(t,e){var i,n,s,r,a;a=t.nodeName;var o=this._getClassInfo(t);if(o){if(r=new o,r.className||(r.className=a),e&&r instanceof f&&(e.addChild(r),e.move(0,0)),s=r._defaultProperty,n=we.getFirstElementChild(t),0<t.childNodes.length&&n&&!u(r,n.nodeName)&&s&&u(r,s))i=this._commitSubNodes(s,t.childNodes,r,t),this._setPropsStylesByNode(i,r);else if(t.childNodes&&0<t.childNodes.length)for(n=0,s=t.childNodes.length;n<s;n+=1)i=t.childNodes[n],1==i.nodeType&&(i=this._commitSubNodes(i.nodeName,i.childNodes,r,i),this._setPropsStylesByNode(i,r));if(this._setPropsStyles(t,r,o),(-1<a.indexOf("DataGrid")||-1<a.indexOf("MapChart")||-1<a.indexOf("Chart")||-1<a.indexOf("Gauge"))&&(this._target=r,this._target.addEventListener("creationComplete",this._wrapper._targetCreationCompleteHandler,this._wrapper)),a=this._tryExtraNewInstance(t,r))return a}return r},Z.prototype._setPropsStyles=function(t,e,n){var s,o,l,h,g;for(h=0,g=t.attributes.length;h<g;h++)if(s=t.attributes[h].name,o=t.attributes[h].value,o=o.replace(/0x/g,"#"),"id"==s)this._addIds(De.trim(o),e),e.hasOwnProperty(s)&&p(e,s,o);else if(/styleName/.test(s)&&e instanceof m)e.setStyleName(this._csses[o]?this._csses[o]:o);else if(u(e,s))try{"boolean"==typeof c(e,s)?("true"!=o&&"false"!=o&&alert(ze.getString("rmateparser","errorSetBoolean",[s])),p(e,s,"true"==o)):"width"==s&&-1!=o.indexOf("%")?e.setPercentWidth(Number(o.replace("%",""))):"height"==s&&-1!=o.indexOf("%")?e.setPercentHeight(Number(o.replace("%",""))):i(c(e,s))?p(e,s,o):r(c(e,s))?p(e,s,Number(o)):d(c(e,s))?p(e,s,new Date(Date.parse(o))):this._setExtraProperty(s,o,t.attributes[h],t,e,n)}catch(f){p(e,s,Number(o))}else if(!this._setExtraPropsStyles(e,s,o)){var _;a(e.getStyle)&&(_=e.getStyle(s)),_&&r(_)?e.setStyle(s,Number(o)):_&&"boolean"==typeof _?e.setStyle(s,0!=o&&"false"!=o):a(e.setStyle)?-1!=o.indexOf("{")&&-1!=o.indexOf("}")?(o=this._removeBrace(o),"null"==o?e.setStyle(s,null):o&&((l=this._getComponentById(o))?e.setStyle(s,l):alert(ze.getString("rmateparser","unknownVariable",[o])))):-1!=o.indexOf("[")&&-1!=o.indexOf("]")?(o=o.replace("[",""),o=o.replace("]",""),o=o.split(","),e.setStyle(s,o)):this._setCorrectStyle(n,e,s,o):alert(ze.getString("rmateparser","unknownProperty",[s]))}},Z.prototype._commitSubNodes=function(t,e,i,n){var s,r,a,o,l,h=[],d={};if(s=this._getClassInfoByName(t),d.name=t,s)return e&&0<e.length?this._tryCorrectNewInstance(e[0].parentNode,i):this._tryCorrectNewInstance(n,i),d;for(s=0,r=e.length;s<r;s++)if(a=e[s],1==a.nodeType){if(l="children"==t?this._tryCorrectNewInstance(a,i):this._tryCorrectNewInstance(a),!l){alert(ze.getString("rmateparser","unknownObject",[a.nodeName]));break}if(u(i,t)||"RPCList"==t)this._getClassPropertyType(i,t)==Array?(h.push(l),d.data=h):d.data=l;else{for(o=a=0;o<n.childNodes.length;o++)1==n.childNodes[o].nodeType&&a++;1<a||"fills"==t?(h.push(l),d.data=h):d.data=l}}return d.data||(l=this._getClassPropertyType(i,d.name))&&(d.data=new l)||(d.data=null),d},Z.prototype._parseExtraLayout=function(t,e){var i=this._tryCorrectNewInstance(t,e);return null==i?(alert(ze.getString("rmateparser","unknownObject",[t.nodeName])),!1):(i instanceof f&&this._root.addChild(i),!0)},Z.prototype._setExtraProperty=function(t,e,i,n,s,r){var a,o,l,h,d,u,g,f;try{c(s,t)instanceof ve||"itemRenderer"==t||"headerRenderer"==t||"renderer"==t||"itemEditor"==t||"symbolRenderer"==t?(l=this._getClassInfoByName(e))&&p(s,t,new Se(l)):"true"==e||"false"==e?p(s,t,"true"==e):"sortCompareFunction"==t&&s instanceof DataGridColumn?"numericSort"==e?p(s,"sortCompareFunction",this._wrapper._numericSort(s.getDataField())):0<=e.indexOf("GroupingSort")&&(u="first",g=!1,0<=e.indexOf("last")&&(u="last"),0<=e.indexOf("Numeric")&&(g=!0),p(s,"sortCompareFunction",this._wrapper._groupingSortCompareFunction(u,g,s))):-1!=e.indexOf("}")&&-1!=e.indexOf("[")?(d=e,-1!=e.indexOf("'")&&(d=e.replace(/'/g,'"')),(h="object"==typeof JSON?JSON.parse(d):JSONParse(d))&&p(s,t,h)):-1!=e.indexOf("{")&&-1!=e.indexOf("}")?(f=this._removeBrace(e),"null"==f?p(s,t,null):f&&(a=this._getComponentById(f,s,t))&&p(s,t,a)):-1!=e.indexOf("[")&&-1!=e.indexOf("]")?(e=e.replace("[",""),e=e.replace("]",""),o=e.split(","),p(s,t,o)):p(s,t,e)}catch(m){return alert(ze.getString("rmateparser","errorSetProperty",[t])+m.message),!1}return!0},Z.prototype._getClassPropertyType=function(t,e){var i=t.constructor;return i._propertyType?i._propertyType[e]||null:null},Z.prototype._addIds=function(t,e){this._wrapper._componentIds[t]=e},Z.prototype._getComponentById=function(t,e,i){return e=1<arguments.length?e:null,i=2<arguments.length?i:null,"$"==t.charAt(0)?(this._wrapper._componentIds[t]={target:e,name:i,id:t},null):this._wrapper._componentIds[t]?this._wrapper._componentIds[t]:(this._wrapper._unmatchedComponentIds.push({target:e,name:i,id:t}),null)},Z.prototype._checkUnMatchedComponentId=function(){var t,e;if(this._wrapper._unmatchedComponentIds&&!(0>=this._wrapper._unmatchedComponentIds.length))for(t=0;t<this._wrapper._unmatchedComponentIds.length;t++)e=this._wrapper._unmatchedComponentIds[t],
this._wrapper._componentIds[e.id]?p(e.target,e.name,this._wrapper._componentIds[e.id]):alert(ze.getString("rmateparser","unknownVariable",[e.id]))},Z.prototype._removeBrace=function(t){if(!t)return null;var e=t.indexOf("{"),i=t.indexOf("}");return De.trim(t.substring(e+1,i))},Z.prototype._setPropsStylesByNode=function(t,e){if(u(e,t.name))if(e instanceof f&&"children"==t.name)for(var i=0,n=t.data.length;i<n;i+=1)e.addChild(t.data[i]);else p(e,t.name,t.data);else a(e.setStyle)&&e.setStyle(t.name,t.data);"RPCList"==t.name&&e["set"+t.name](t.data)},Z.prototype._setCorrectStyle=function(t,e,i,n){Ie.mustHavePxStyles[i]&&!o(Number(n))&&(n+="px"),0<i.indexOf("StyleName")&&this._csses[n]?e.setStyle(i,this._csses[n]):e.setStyle(i,this._convertValue(n,!1))},Z.prototype._convertValue=function(t,e){var n=Number(t);return t?"true"==String(t)||"false"==String(t)?"true"==String(t):isNaN(n)?e&&i(t)&&0<=t.indexOf(",")?t.split(","):t:n:t},tt.defaultColors="#ff812d #ffd100 #81d733 #666666 #43cbff #3284c3 #d4155b #f71075 #a48d70 #15b671 #00998e #ce4acc #9a0197 #aa94de #8d65d2 #e44747 #f99b2b #fde145 #00c574 #4c9cff #005d6e #ada59d #88827b #584737 #36ccda #2aa8b4 #8647a7 #ba7dda".split(" "),tt.lineColors="#03a9f5 #fabc05 #8e5d9b #00b6aa #88b14b #8a7860 #d23579 #96d4df #57646d #d09d5c #9896a4 #f79d2e #55b48b #3991a7 #d1af94 #dd4760 #615c60 #5587a2 #54bae9 #ffc853 #e17034 #888888 #53bb9d #765e8b".split(" "),tt.columnColors="#41b2e6 #4452a8 #fabc05 #5587a2 #69cabc #6c4a85 #8a7860 #96d4df #f7a33b #d8c6aa #49588b #68c0c9 #476f80 #cc3a5f #ffc853 #4d4a69 #b9d7d7 #efc471 #eb8952 #439896 #8ab840 #8a8a8a #634265 #f38072".split(" "),tt.pieColors=["#40b1e6","#f97b17","#fabb05","#20cbc2","#074d81"],tt.matrixColors="#5587a2 #074d81 #20cbc2 #f6a54c #d1af94 #96d4df".split(" "),tt.defaultFills=[],tt.systemColors=tt.defaultColors.concat(),tt.originalColors=tt.defaultColors.concat(),tt._styleSelectors={},tt.inited=!1,tt.createSelector=function(t){var e=tt.getStyleDeclaration(t);return e||(e={},tt.setStyleDeclaration(t,e,!1)),e},tt.getStyleDeclaration=function(t){return tt._styleSelectors[t]},tt.setStyleDeclaration=function(t,e){tt._styleSelectors[t]=e},tt.setDefaultColors=function(t){t=t.concat(),tt.defaultColors=t,tt.originalColors=t,tt.inited=!1,tt.init(!0)},tt.init=function(t){if(!tt.inited){var e,i=tt.defaultColors,n=i.length;for(e=0;e<n;e+=1)tt.defaultFills[e]=new T(i[e]);e=tt.defaultFills.concat(),tt.initSeriesStyle("chartBaseChartSeriesStyles",e),tt.initSeriesStyle("lineChartSeriesStyles",t?e:tt.lineColors.concat()),tt.initSeriesStyle("columnChartSeriesStyles",t?e:tt.columnColors.concat()),tt.initSeriesStyle("pieChartSeriesStyles",t?e:tt.pieColors.concat()),tt.initSeriesStyle("matrixChartSeriesStyles",t?e:tt.pieColors.concat())}},tt.initSeriesStyle=function(t,e){var n,s,r,a=e.length;for(tt[t]=[],n=0;n<a;n+=1)r="rMateSeries"+n,s=e[n],tt[t][n]={name:r,style:{fill:i(s)?new T(s):s,areaFill:new T(s.color||s,.3),lineStroke:new w(s.color||s,3),areaStroke:new w(s.color||s,3)}}},tt.addThemeStyle=function(t,e){var i,n=0,s=e.length;for(tt[t]=[];n<s;n+=1)i=e[n],tt[t][n]={name:t+n,style:{fill:new T(i),areaFill:new T(i,.3),lineStroke:new w(i,3),areaStroke:new w(i,3)}}},tt.removeThemeStyle=function(t){try{delete tt[t]}catch(e){tt[t]=null}},tt.init();var ni={patterns:[],getLength:function(){return ni.patterns.length},addItem:function(t){ni.patterns.push(t)},getItem:function(t){return ni.patterns[t%ni.patterns.length]},removeAll:function(){ni.patterns=[]}},si={themes:{},themeColors:{},getTheme:function(t){return si.themes[t]},getDefaultColor:function(t){var e=si.themeColors;return e[t]?e[t]:tt.originalColors},removeTheme:function(t){var e,i=si.themes[t];if(i){for(e=i.targets.length-1;-1<e;--e)ce(i.targets[e],"default");try{delete si.themes[t],delete si.themeColors[t]}catch(n){si.themes[t]=null,si.themeColors[t]=null}}},addTheme:function(t){var e,i,n,s;if("string"!=typeof t)for(e in i=si.themes,t)if(!i[e])for(n in i[e]={},s=i[e],s.targets=[],t[e])"defaultColors"==n?tt.addThemeStyle(e,t[e][n]):s[n]=si.toChartCompatible(t[e][n])},saveChartForTheme:function(t){var e,i,n,s=t._themeName,r=si.themes;if(s&&"default"!=s)for(n=r[s].targets,e=n.length-1,i=-1;e>i;--e)n[e]===t&&n.splice(e,1);if("default"==s)t._themeName="default";else{for(e=0,i=r[s].targets.length;e<i;e+=1)if(r[s].targets[e]===t)return;r[s].targets.push(t)}},toChartCompatible:function(t){var i,n,r,a,o,l,h={},d=si.toChartCompatible;for(a in t){if(o=void 0,l=t[a],/styleName|StyleName/.test(a))for(i in o=new g(a,a,(!1)),l)o.setStyle(i,l[i],!0);else if(e(l))for(o=[],n=0,r=l.length;n<r;n+=1)o.push(s(l[n])?d(l[n]):l[n]);else s(l)?(/troke/.test(a)&&(o=new w),/ill$/.test(a)&&(o=l.focalPointRatio?new I:l.angle?new M:new T),o=s(o)?Ee.extend(o,l):d(l)):(/itemRenderer/.test(a)&&(l=new Se(We.getInstance().getClassMap()[l])),o=l);h[a]=o}return h},restoreForDefault:function(t){var e,i,n,r=0,a=t.getNumChildren();for(e in t._defaultTheme){if(n=t._defaultTheme[e],n instanceof Se)t[e]=n;else if(s(n)&&u(t,e)){for(i in n)t[e][i]=n[i];n[i]=null}else this.convertValue(t,e,n);t._defaultTheme[e]=null}for(t._defaultTheme=null;r<a;r+=1)(e=t.getChildAt(r))&&e instanceof f&&!/Selection|Layer/.test(e.className)&&(this.restoreForDefault(e),0<e.getNumChildren()&&this.restoreForDefault(e))},applyEachTheme:function(t,e,i){for(var n,s=0,r=t.getNumChildren();s<r;s+=1)(n=t.getChildAt(s))&&n instanceof f&&!/Selection|Layer/.test(n.className)&&(e&&this.applyTheme(n,e[n.className],i),0<n.getNumChildren()&&this.applyEachTheme(n,e,i));!i&&t._layout&&this.applyEachThemeXML(t,we.parse(t._layout).childNodes[0]),t instanceof he&&this.saveChartForTheme(t)},applyThemeXML:function(t,e){for(var i=0;i<e.attributes.length;i+=1)si.convertValue(t,e.attributes[i])},convertValue:function(t){var e,n,s;if(3>arguments.length?(s=arguments[1].name,n=arguments[1].value):4>arguments.length&&(s=arguments[1],n=arguments[2]),!/DataEffect/.test(s)){if(n&&!isNaN(Number(n)))n=Number(n);else if(i(n)&&(-1<n.indexOf("{")||-1<n.indexOf("}")))return;e=De.lowerToUpper(s),t["get"+e]?i(n)&&-1<n.indexOf("%")?t["setPercent"+e](parseInt(n)):t["set"+e](n):t[s]instanceof Se?(i(n)&&(n=new Se(We.getInstance().getClassMap()[n])),t[s]=n):t.hasOwnProperty(s)?t[s]=n:!h(n)&&!l(n)||t._styles[s]||t.constructor._defaultStyles[s]?t.setStyle(s,n):t.clearStyle(s)}},applyEachThemeXML:function(t,i){var n,s,r,a,o=0,l=i.childNodes.length;for(t.className==i.nodeName&&si.applyThemeXML(t,i),o=0,l=i.childNodes.length;o<l;o+=1)if(a=i.childNodes[o],1==a.nodeType&&(s=a.nodeName,!/Style||DataEffect/.test(s)))if(Ci("Chart",s)?n=t._chart:t["get"+De.lowerToUpper(s)]?n=t["get"+De.lowerToUpper(s)]():t.hasOwnProperty(s)?n=t[s]:t instanceof f&&(n=t.getStyle(s)),e(n))for(s=0,r=a.childNodes.length;s<r;s+=1)1==a.childNodes[s].nodeType&&si.applyEachThemeXML(n[s],a.childNodes[s]);else n&&((u(t,s)||t.getStyle(s))&&(n.className==a.childNodes[0].nodeName?si.applyThemeXML(n,a.childNodes[0]):(r=We.getInstance().getClassMap()[a.childNodes[0].nodeName],r=new r,si.applyThemeXML(r,a.childNodes[0]),u(t,s)?p(t,s,r):t.setStyle(s,r))),0<a.childNodes.length&&si.applyEachThemeXML(n,a))},applyTheme:function(t,n,r){var o,l,d,c,u;for(o in n){if(d=n[o],t._defaultTheme||(t._defaultTheme={}),/styleName|StyleName/.test(o))u=t[o],t.setStyle(o,d);else if(t["get"+(c=De.lowerToUpper(o))]){if(u=t["get"+c](),e(u)){si.applyArrayTheme(t,o,n[o],r);continue}i(d)&&-1<d.indexOf("%")?t["setPercent"+c](parseInt(d)):t["set"+c](d)}else if(t[o]instanceof Se||d instanceof Se)u=t[o],t[o]=d;else if(s(t[o])){if(u=t[o]){t._defaultTheme[o]||(t._defaultTheme[o]={});for(l in d)a(d[l])||(t._defaultTheme[o][l]=t[o][l],si.convertValue(t[o],l,d[l]));continue}d.constructor!==Object.constructor&&(t[o]=d)}else t.hasOwnProperty(o)&&!h(t[o])?(u=t[o],t[o]=d):(u=t.getStyle(o),t.setStyle(o,d));t._defaultTheme[o]||(t._defaultTheme[o]=u)}},applyArrayTheme:function(t,e,i,n){var s,r=0;for("series"==e&&(e="allSeries"),t=t["get"+(s=De.lowerToUpper(e))]?t["get"+s]():t[e],s=t.length;r<s;r+=1)e=t[r],si.applyTheme(e,i[r],n)}},ri={chartFunc:function(t,e,n){var s=[],r=t.chartItem.element,o=r.id,l=t.chartItem,d=r._displayName,c=r.getDataTransform(),u=c.getAxis("h"),p=c.getAxis("v"),g=u.displayName,f=p.displayName;if(h(l.xValue)||s.push(u.formatForScreen(l.xValue)),h(l.yValue)||s.push(p.formatForScreen(l.yValue)),h(l.zValue)||s.push(c.getAxis(void 0).formatForScreen(Number(l.zValue))),h(l.value)||s.push(l.value.toString()),h(l.percentValue)||s.push(l.percentValue),h(l.minValue)||void 0!=l.medianValue||(r instanceof Bar2DSeries||r instanceof Bar3DSeries||r instanceof BarSet||r instanceof HTarget3DGoalSeries||r instanceof HTarget3DResultSeries?(r=u.formatForScreen(l.minValue),s[0]-=r):(r=p.formatForScreen(l.minValue),s[1]-=r),s.push(r)),e&&i(e)&&(e=ri.findFunction(e)),a(e)){if("dataTipFunction"==n)return e(o,d,l.index,g,f,t.item,s);e(o,t.getDisplayText(),l.index,t.item,s)}},chartPrivateFunc:function(t,e,n,s){return s&&i(s)&&(s=ri.findFunction(s)),a(s)&&s(e,t.id),""},itemPrivateFunc:function(t,e,n,s,r){return r&&i(r)&&(r=ri.findFunction(r)),a(r)&&r(e,s),""},seriesFunc:function(t,e,n,r){var l,d=[],c=e.id,u=e.getDataTransform();u.getAxis("a"),l=u.getAxis("h");var p=u.getAxis("v");if(h(t.xValue)||d.push(l.formatForScreen(t.xValue)),h(t.yValue)||d.push(p.formatForScreen(t.yValue)),h(t.zValue)||d.push(u.getAxis(void 0).formatForScreen(Number(t.zValue))),h(t.minValue)||void 0!=t.medianValue||(e instanceof Bar2DSeries||e instanceof Bar3DSeries||e instanceof BarSet||e instanceof HTarget3DGoalSeries||e instanceof HTarget3DResultSeries?(e=l.formatForScreen(t.minValue),l instanceof Dt||l instanceof Tt||(d[0]-=e),d.push(e)):(l=p.formatForScreen(t.minValue),d[1]-=l,d.push(l))),t.name&&d.push(t.name),h(t.value)||d.push(Number(t.value)),h(t.percentValue)||d.push(Number(t.percentValue)),l=t.item,n&&i(n)&&(n=ri.findFunction(n)),a(n)){if(t=n(c,t.index,l,d),r){if(r=1,s(t)){if(t.entries){for(l=[],n=new M,t.focalPointRatio&&(n=new I,n.focalPointRatio=t.focalPointRatio),r=0;r<t.entries.length;r+=1)c=t.entries[r],d=new D,d.color=c.color,d.alpha=o(c.alpha)?1:c.alpha,d.ratio=o(c.ratio)?1:c.ratio,l.push(d);return n.setEntries(l),n.angle=o(t.angle)?0:t.angle,n}r=t,t=r.color,r=r.alpha}return/0 x/.test(t)&&(t=t.replace(/0x/g,"#")),new T(t,r)}return t}return""},seriesSetFunc:function(t,e,n,s){return s&&i(s)&&(s=ri.findFunction(s)),a(s)?s(e.index,e.item,t):""},defaultFillFunc:function(t,e){var i,n=t.getStyle("fills"),s=t.className,r=t.getChart()._chartColors;return s.match(/Pie|Tree|Word/g)?n&&0<n.length?n[e%n.length]:r[e%r.length].style.fill:n&&0<n.length?n[e%n.length]:i?i:(i=t.getStyle("fill"),"string"==typeof i?new T(i):i)},axisFunc:function(t,e,n){return t=t.id,n&&i(n)&&(n=ri.findFunction(n)),a(n)?n(t,e):e},gaugeFunc:function(t,e,n){return e&&i(e)&&(e=ri.findFunction(e)),a(e)?e(t,n):""},defaultPatternFunc:function(t,e,i){return e=t.patternJsFunction?ri.patternFunc(e,t,t.patternJsFunction):ni.getItem(i),Ne.createPattern(t.graphics||t._graphics,e)},patternFunc:function(t,e,n){var s,r,o=[],l=e.getDataTransform();r=l.getAxis("h");var h=l.getAxis("v");return l.getAxis("a"),t.xValue&&o.push(r.formatForScreen(t.xValue)),t.yValue&&o.push(h.formatForScreen(t.yValue)),t.zValue&&(e instanceof Bubble3DSeries&&(s="bubbleRadius"),o.push(l.getAxis(s).formatForScreen(t.zValue))),t.minValue&&(e instanceof Bar2DSeries||e instanceof Bar3DSeries||e instanceof BarSet||e instanceof HTarget3DGoalSeries||e instanceof HTarget3DResultSeries?(s=r.formatForScreen(t.minValue),r instanceof Dt||r instanceof Tt||(o[0]=Number(o[0])-s),o.push(s)):(r=h.formatForScreen(t.minValue),o[1]=Number(o[1])-r,o.push(r))),t.value&&o.push(t.value.toString()),t.percentValue&&o.push(t.percentValue.toString()),n&&i(n)&&(n=ri.findFunction(n)),a(n)?ni.getItem(n(e.id,o,ni.patterns.length)):""},findFunction:function(t){if(a(t))return t;if(0<=t.indexOf(".")){t=t.split(".");var e=window;try{for(var i=0;i<t.length;i++)if(e=e[t[i]],void 0==e)return}catch(n){return}return e}return window[t]}};it.DRAG_THRESHOLD=4,it._propertyType={series:Array,backgroundElements:Array,annotationElements:Array},it._defaultStyles={chartSeriesStyles:null,styleName:null,dataTipStyleName:null,axisDataTipStyleName:null},ge(it,_),it.prototype.getStyle=function(t){return ht.prototype.getStyle.call(this,t)},it.prototype.getRangeSelector=function(){if(this._rangeItemRenderer)return this._rangeItemRenderer},it.prototype.getEnablePattern=function(){return this._enablePattern},it.prototype.getPatternMode=it.prototype.getEnablePattern,it.prototype.setEnablePattern=it.prototype.setPatternMode=function(t){this._enablePattern=t,this.legendDataChanged(),this.invalidateDisplayList()},it.prototype.setPatternMode=it.prototype.setEnablePattern,it.prototype.getSelectionMode=function(){return this._selectionMode},it.prototype.setSelectionMode=function(t){fi&&(t="none"),this._selectionMode!=t&&(this._selectionMode=t,this.invalidateProperties())},it.prototype.getLegendData=function(){var t,e,i=[],n=this.allElements.length;for(t=0;t<n;t+=1)e=this.allElements[t],e instanceof ee&&(i=i.concat(e.getLegendData()));return i},it.prototype.getDataProvider=function(){return this._dataProvider},it.prototype.setDataProvider=function(t){var i;n(t)&&(i=we.convertToArray(t,"item")),e(t)?i=new ii(t.concat()):t instanceof ti?i=t:t instanceof ei?i=new ei(t):null!=t&&(i=new ii([t])),this._dataProvider=i,this.invalidateData(),this.dispatchEvent(new Ue("dataChanged"))},it.prototype.getSeries=function(){return this._userSeries},it.prototype.setSeries=function(t){var e,i;for(this._userSeries=t=null==t?[]:t,e=0,i=t.length;e<i;e+=1)t instanceof ee&&(t.owner=this);this.invalidateSeries(),this.invalidateData(),this.legendDataChanged()},it.prototype.getShowDataTips=function(){return this._showDataTips},it.prototype.setShowDataTips=function(t){this._showDataTips!=t&&(this._showDataTips=t)&&(this._mouseEventsInitialized||this.setupMouseDispatching())},it.prototype.getBackgroundElements=function(){return this._backgroundElements},it.prototype.setBackgroundElements=function(t){this._backgroundElements=t,this.invalidateSeries()},it.prototype.getAnnotationElements=function(){return this._annotationElements},it.prototype.setAnnotationElements=function(t){this._annotationElements=t,this.invalidateSeries()},it.prototype.getSelectedChartItem=function(){return this._selectedSeries?this._selectedSeries.getSelectedItem():null},it.prototype.getSelectedChartItems=function(){var t,e,i,n=this.getSeries(),s=n.length,r=[];for(t=0;t<s;t+=1)for(i=n[t].getSelectedItems(),e=0;e<i;e+=1)r.push(n[t].getSelectedItems[e]);return r},it.prototype.getDragEnabled=function(){return this._dragEnabled},it.prototype.setDragEnabled=function(t){this._dragEnabled&&!t&&this.removeEventListener("dragComplete",this._dragCompleteHandler,this,!1),(this._dragEnabled=t)&&this.addEventListener("dragComplete",this._dragCompleteHandler,this,!1,-50)},it.prototype.getItemsInRegion=function(t){var e,i=[];if(this._transforms)for(e=0;e<this._transforms.length;e+=1)i=i.concat(this._getItemsInRegionFromElements(this._transforms[e],t));return i},it.prototype.getNextItem=function(){return null},it.prototype.getPreviousItem=function(){return null},it.prototype.getFirstItem=function(){return null},it.prototype.getLastItem=function(){return null},it.prototype.removeEffect=function(){function t(t){(n=t.tween)&&(z.removeTween(n),t.tween=null)}var e,i,n;for(e=0;e<this._series.length;++e)if(a(this._series[e].getAllowNegativeForStacked))for(i=0;i<this._series[e]._series.length;++i)t.call(this,this._series[e]._series[i]);else t.call(this,this._series[e])},it.prototype.advanceEffectState=function(){var t,e=[];if(this._transitionState==Pi)if(e=this.collectTransitions(),0==e.length)this.setChartState(Ni);else{for(this.setChartState(Li),t=new G,this._transitionEffect=t.createInstance(),t=0;t<e.length;t++)this._transitionEffect.addChildSet([e[t]]);this._transitionEffect.addEventListener(L.EFFECT_END,this._dataEffectEndHandler,this),this._transitionEffect.play()}if(this._transitionState==Ni)if(e=this.collectTransitions(),this.enableDataEffect&&0!=e.length){for(this.setChartState(Ai),t=new G,this._transitionEffect=t.createInstance(),t=0;t<e.length;t++)this._transitionEffect.addChildSet([e[t]]);this._transitionEffect.addEventListener(L.EFFECT_END,this._dataEffectEndHandler,this),this._transitionEffect.play()}else this.setChartState(Ei);this.invalidateDisplayList()},it.prototype._dataEffectEndHandler=function(t){t.target.removeEventListener("effectEnd",this._dataEffectEndHandler),this.getChartState()==Li?this.setChartState(Ni):this.setChartState(Ei),this._transitionEffect=null,this.invalidateDisplayList()},it.prototype.setChartState=function(t){var e,i,n=this.allElements.length;if(this._transitionState!=t){for(this._transitionState=t,i=0;i<n;i+=1)(e=this.allElements[i])&&e.chartStateChanged&&e.chartStateChanged(this._transitionState,t);this.invalidateDisplayList()}},it.prototype.getChartState=function(){return this._transitionState},it.prototype.getAllSeries=function(){return h(this._allSeries)?this._series:this._allSeries},it.prototype.removeDocEvent=function(t){var e=this;void 0===it.prototype.removeScrollData&&(it.prototype.removeScrollData=function(){e._as=e._sp=void 0}),"add"==t?yi(document,"mouseup",it.prototype.removeScrollData):(vi(document,"mouseup",it.prototype.removeScrollData),it.prototype.removeSCrollData=void 0)},it.prototype.invalidateSeriesStyles=function(){this._seriesStylesDirty||(this._seriesStylesDirty=!0,this.invalidateProperties())},it.prototype.hideData=function(){this._transitionEffect&&(this.setChartState(Ei),this._transitionEffect.end(),this._transitionEffect=null),this.setChartState(Pi)},it.prototype.invalidateSeries=function(){this._bSeriesDirty||(this._bSeriesDirty=!0,this.invalidateProperties(),this.invalidateDisplayList())},it.prototype.invalidateChildOrder=function(){this._childOrderDirty||(this._childOrderDirty=!0,this.invalidateProperties())},it.prototype.updateChildOrder=function(){var t,e,i,n=0;for(t=0,e=this._backgroundElements.length;t<e;t+=1)i=this._backgroundElements[t],this.setChildIndex(i,n++);this._seriesStartIndex=n=this.updateAxisOrder(n),this.changeAxisIndex(),this._tempLastSeries=null},it.prototype.setupMouseDispatching=function(){var t=this.element;this._mouseEventsInitialized||(this._mouseEventsInitialized=!0,yi(t,"mouseup",this._mouseEventHandler,this),yi(t,"mouseover",this._mouseEventHandler,this),yi(t,"click",this._mouseEventHandler,this),pi?(yi(t,"touchstart",this._mouseEventHandler,this),yi(t,"touchmove",this._mouseEventHandler,this),yi(t,"touchend",this._mouseEventHandler,this),this.hideToolTipAtTouchEnd||Pe.documentAddEvent("touchstart",this._touchStartRemoveTipCache,this)):(yi(t,"mouseout",this._mouseEventHandler,this),yi(t,"mousedown",this._mouseEventHandler,this),yi(t,"mousemove",this._mouseEventHandler,this),this._doubleClickEnabled&&yi(t,"dblclick",this._mouseEventHandler,this)))},it.prototype.setupRangeDispatching=function(){this._rangeEventsInitialized=!0,this.addEventListener(st.REGION_CHANGE,this._regionChangeHandler,this)},it.prototype.resetMouseDispatching=function(){var t=this.element;this._mouseEventsInitialized&&(this._mouseEventsInitialized=!1,vi(t,"mouseup",this._mouseEventHandler,this),vi(t,"mouseover",this._mouseEventHandler,this),vi(t,"click",this._mouseEventHandler,this),pi?(vi(t,"touchstart",this._mouseEventHandler,this),vi(t,"touchmove",this._mouseEventHandler,this),vi(t,"touchend",this._mouseEventHandler,this),this.hideToolTipAtTouchEnd||Pe.documentRemoveEvent("touchstart",this._touchStartRemoveTipCache,this)):(vi(t,"mouseout",this._mouseEventHandler,this),vi(t,"mousedown",this._mouseEventHandler,this),vi(t,"mousemove",this._mouseEventHandler,this),this._doubleClickEnabled&&vi(t,"dblclick",this._mouseEventHandler,this)))},it.prototype._touchStartRemoveTipCache=function(t){Ee.isParentOf(this.getParent().element,t.target)||this.registerRemoveTipCache()},it.prototype._mouseEventHandler=function(t){var e,i,n,s=t.type;pi&&t.touches&&(e=t.touches[0]),i=(e||t).pageX,n=(e||t).pageY,e&&"click"!=s&&(i+=this.touchOffset,n+=this.touchOffset),"touchstart"==s?s="mousedown":"touchmove"==s?s="mousemove":"touchend"==s?(s="mouseout",i=n=NaN):"dblclick"==s&&(s="doubleclick"),e=this.globalToLocal({x:i,y:n}),s=De.lowerToUpper(s.replace("mouse","")),this["_mouse"+s+"Handler"](t,e.x,e.y)},it.prototype._mouseOverHandler=function(t,e,i){var n;if(a(t.preventDefault)&&t.preventDefault(),this._removeTipCacheTimeout&&(!this.adjustAxesPlacements||this.adjustAxesPlacements&&(n=this.getDataRegion())&&n.left<e&&n.top>i&&n.left+n.width>e&&n.top+n.height>i)&&(window.clearTimeout(this._removeTipCacheTimeout),this._removeTipCacheTimeout=null,this._changeTipOpacity(this._tipCache,1)),this._mouseIsOut)return this._mouseIsOut=!1,this.legend&&this.legend.setArrowVisible&&this.legend.setArrowVisible(!0),this.chartOverJsFunction&&ri.chartPrivateFunc(this,"chartOver",t,this.chartOverJsFunction),!1},it.prototype._mouseOutHandler=function(t,e,i){var n,s;if(a(t.preventDefault)&&t.preventDefault(),!(this._mouseIsOut||(this._mouseIsOut=!0,pi&&!this.hideToolTipAtTouchEnd||(n=Ee.isParentOf(this.element,t.toElement)))))return pi&&this._scroll&&this._startPoint&&this.scrollDragChange(t),this instanceof it&&(s=this.findDataPoints(e,i),"object"==typeof s&&this.processRollEvents(s,t,e,i),(0<this._axisDataTipCache.h.length||0<this._axisDataTipCache.v.length)&&this.registerRemoveAxisTipCache()),this.legend&&this.legend.setArrowVisible&&this.legend.setArrowVisible(!1),this.chartOutJsFunction&&ri.chartPrivateFunc(this,"chartOut",t,this.chartOutJsFunction),n||this.registerRemoveTipCache(),!1},it.prototype._mouseDownHandler=function(t,e,i){var n;if(pi){if(!this._mouseIsOut)return;this._mouseIsOut=!1,n=Ee.getAttr(t.target,"class"),this.touchMoveEnable||/Track$/.test(n)||/ZoomMenu/.test(n)||(t.preventDefault(),t.stopPropagation())}if(this.scrollDragChange({type:t.type,point:new fe(e,i),target:t.target}),n=this.findDataPoints(e,i),this.processRollEvents(n,t,e,i),n&&0<n.length&&this.itemDownJsFunction)for(t=0,e=n.length;t<e;t++)ri.chartFunc.call(this,n[t],this.itemDownJsFunction);return!1},it.prototype._mouseUpHandler=function(t,e,i){var n;if(this.scrollDragChange(t),n=this.findDataPoints(e,i),this.processRollEvents(n,t,e,i),n&&0<n.length&&this.itemUpJsFunction)for(t=0,e=n.length;t<e;t++)ri.chartFunc.call(this,n[t],this.itemUpJsFunction);return!1},it.prototype._mouseClickHandler=function(t,e,i){var n,s,r;if(r=this.findDataPoints(e,i),this.processRollEvents(r,t,e,i),r&&0<r.length){if(this.itemClickJsFunction)for("multiple"==this.dataTipMode?(s=this.maximumDataTipCount,s=o(s)?r.length:Math.min(s,r.length)):s=Math.min(r.length,1),n=0;n<s;n++)r[n].isHit&&ri.chartFunc.call(this,r[n],this.itemClickJsFunction)}else this.chartClickJsFunction&&ri.chartPrivateFunc(this,"chartClick",t,this.chartClickJsFunction);return this.axisClickJsFunction&&((n=this._findAxisDataPoints("h",e,i))&&ri.findFunction(this.axisClickJsFunction)(n.id,n.h.label),(n=this._findAxisDataPoints("v",e,i))&&ri.findFunction(this.axisClickJsFunction)(n.id,n.v.label)),t.preventDefault(),t.stopPropagation(),!1},it.prototype._mouseDoubleclickHandler=function(t,e,i){var n;if((n=this.findDataPoints(e,i))&&0<n.length){if(this.itemDoubleClickJsFunction)for("multiple"==this.dataTipMode?(i=this.maximumDataTipCount,i=o(i)?n.length:Math.min(i,n.length)):i=Math.min(n.length,1),e=0;e<i;e++)ri.chartFunc.call(this,n[e],this.itemDoubleClickJsFunction)}else this.chartDoubleClickJsFunction&&ri.chartPrivateFunc(this,"chartDoubleClick",t,this.chartDoubleClickJsFunction);return t.preventDefault(),t.stopPropagation(),!1},it.prototype._mouseMoveHandler=function(t,e,i){var n,s,r;if(this.scrollDragChange({type:t.type,point:new fe(e,i),target:t.target}),this._startPoint)return this._removeTipCache(),this.clearSelection(),!1;if(n=this.findDataPoints(e,i),this.processRollEvents.call(this,n,t,e,i),(this.showHorizontalAxisDataTip||this.axisClickJsFunction)&&(s=this._findAxisDataPoints("h",e,i),this.showHorizontalAxisDataTip&&this.createAxisDataTip(s,"h")),(this.showVerticalAxisDataTip||this.axisClickJsFunction)&&(r=this._findAxisDataPoints("v",e,i),this.showVerticalAxisDataTip&&this.createAxisDataTip(r,"v")),this.buttonMode){for(t=0;n[t];){if(n[t].isHit){Di(this,"Kool__cursor-pointer"),t=-1;break}t++}(s||r)&&Di(this,"Kool__cursor-pointer"),-1==t||s||r||Mi(this,"Kool__cursor-pointer")}},it.prototype._selectRectangleRegion=function(t,e){var i=this.getItemsInRegion(t);e||(e=!1),e&&(i=i.concat(this.getSelectedChartItems())),this._selectSpecificChartItems(i)},it.prototype._regionChangeHandler=function(t){var e=!0;this._selectedSeries||(e=!1),this._selectRectangleRegion(t.regionSelected,t.mouseEvent.ctrlKey||t.mouseEvent.shiftKey),!e&&!this._selectedSeries||t.mouseEvent.buttonDown||this.dispatchEvent(new Ue("change"))},it.prototype._dragCompleteHandler=function(t){this._mouseDown=!1,this._mouseDownItem=this._mouseDownPoint=null},it.prototype._getNextSeries=function(t){var e,i,n,s=!1;for(e=this._caretItem?zi(t,this._caretItem.element,0):-1;!s&&e<t.length-1;)++e,n=t[e],(i=n.getItems())&&n.selectable&&n.getVisible()&&0<i.length&&(s=!0);return s?i[this._caretItem?zi(this._caretItem.element.getItems(),this._caretItem,0):0]:null},it.prototype._getPreviousSeries=function(t){var e,i,n,s=!1;for(e=this._caretItem?zi(t,this._caretItem.element,0):t.length;!s&&0<e;)--e,n=t[e],(i=n.getItems())&&n.selectable&&n.getVisible()&&0<i.length&&(s=!0);return s?i[this._caretItem?zi(this._caretItem.element.getItems(),this._caretItem,0):0]:null},it.prototype._getNextSeriesItem=function(t){var e=0;return this._caretItem?(t=this._caretItem.element,e=zi(t.getItems(),this._caretItem,0),e==t.getItems().length-1?null:t.getItems()[++e]):this._getNextSeries(t)},it.prototype._getPreviousSeriesItem=function(t){var e=0;return this._caretItem?(t=this._caretItem.element,e=zi(t.getItems(),this._caretItem,0),0==e?null:t.getItems()[--e]):this._getPreviousSeries(t)},it.prototype.createAxisDataTip=function(t,e){var i,n,s,r=this.getWidth(),a=this.getHeight();i=this._axisDataTipCache[e],t&&t[e]?(this._removeTipAxisCacheTimeout&&(window.clearTimeout(this._removeTipAxisCacheTimeout),this._removeTipAxisCacheTimeout=null,this._changeTipOpacity(i,1)),t=t[e],i.length?(s=i[0],this._axisDataTipCache[e]=[]):(s=this.createToolTipDiv("AxisDataTip",this.getStyle("axisDataTipStyleName")),this.element.appendChild(s)),this._axisDataTipCache[e].push(s),s.innerHTML=t.label,i=s.offsetWidth,n=s.offsetHeight,t.x+i>r&&(t.x=r-i),t.y+n>a&&(t.y=a-n),xi(s,"left",t.x),xi(s,"top",t.y),o(this.axisDataTipBorderRadius)||xi(s,"borderRadius",this.axisDataTipBorderRadius),o(this.axisDataTipBorderWidth)||xi(s,"borderWidth",this.axisDataTipBorderWidth),""!=this.axisDataTipBorderStyle&&bi(s,"borderStyle",this.axisDataTipBorderStyle),""!=this.axisDataTipBorderColor?bi(s,"borderColor",Me.hex2rgb(this.axisDataTipBorderColor)):bi(s,"borderColor",t.color),Ee.addClass(s,"Kool__show_data_tip")):0<i.length&&this.registerRemoveAxisTipCache()},it.prototype._findAxisDataPoints=function(t,e,i){var n,s,r,a,o,l,h,d,c,u,p,g,f,m,_,y,v,S=this.axisMouseSensitivity;if(s=this._computedGutters,t="h"==t?"horizontal":"vertical",l=(l=this["_"+t+"AxisRenderers"])&&0<l.length?l[0]:this[t+"AxisRenderer"],d=l._labels,n=l.axisStroke,o=fi?n.color:Me.color2rgba(n.color,n.alpha),"horizontal"==t){for(t=l._gutters.left,s=l._gutters.right,p=l.height,u=p-l._gutters.bottom-.5+l.labelGap+n.weight-1,p=l.width-t-s,f=l.getStyle("labelRotation"),m=0<f?-f*Math.PI/180:(180-f)*Math.PI/180,n=0,s=d.length;n<s;n+=1)if(a=d[n],g=a.width,_=a.height,c=a.position,r=a.value.value,a=l.getAxis(),h=0,a.formatter?r=a.formatter.format(r):l.formatter&&(r=l.formatter.format(r)),a={id:a.id,h:{x:e+10,y:i,label:r,color:o}},0!=f){if(r=t+c*p,r=0<f?r+_:r-.5*_,h=r-g,y=u-S+0+.35*_,v=u-S+0+.75*_-g*Math.sin(m),80<=f&&90>=f&&(r=t+c*p,h=r+1,y=u-S+0,v=y+g),!(i<y||i>v)){if(g=(v-y)/(h-r),g=g*(e-r)+y,10>=Math.abs(g-i))return a;if(g=(h-r)/(v-y),g=g*(i-y)+r,10>=Math.abs(g-e))return a}}else if(c=t+c*p-.5*g,l.canStagger&&n%2&&(h=(l.labelGap+.5*_)*("top"==l.placement?-1:1)),c-S<=e&&e<=c+g+S&&u-S+h<=i&&i<=u+_+S+h)return this.axisDataTipJsFunction&&(a.h.label=ri.axisFunc(this,r,this.axisDataTipJsFunction)),a}else if("vertical"==t)for(p=l.height-s.top-s.bottom-n.weight,f=l.getStyle("labelRotation"),m=f*Math.PI/180,n=0,s=d.length;n<s;n+=1)if(a=d[n],g=a.width,_=a.height,c=a.position,r=a.value.value,a=l.getAxis(),t=l._gutters.left-l.labelGap-g,u=this._computedGutters.top+p*c-.5*_,a.formatter?r=a.formatter.format(r):l.formatter&&(r=l.formatter.format(r)),a={id:a.id,v:{x:e+10,y:i-_-10,label:r,color:o}},0!=f){if(r=t+g+S,y=u+g,h=r-g*Math.cos(m),v=y-g,80<=f&&90>=f){if(h=r=t+g-.5*_,y=u-S,v=u-S+g,i<y||i>v)continue}else if(i>y||i<v)continue;if(g=(v-y)/(h-r),g=g*(e-r)+y,10>=Math.abs(g-i))return a;if(g=(h-r)/(v-y),g=g*(i-y)+r,10>=Math.abs(g-e))return a}else if(c=t,t=u,c-S<=e&&e<=c+g+S&&t-S<=i&&i<=t+_+S)return this.axisDataTipJsFunction&&(a.v.label=ri.axisFunc(this,r,this.axisDataTipJsFunction)),a;return null},it.prototype.scrollDragChange=function(t){},it.prototype.findDataPoints=function(t,e,i){var n,s,r,o=[];if(0==this.getDataRegion().contains(t,e))return o;for(n=this.allElements.length,s=n-1;0<=s;s--)r=this.allElements[s],n=this.mouseSensitivity,r&&a(r.mappingChanged)&&(!a(r.getVisible)||r.getVisible())&&(n=r.interactive&&r.getIncludeInLayout()?r.findDataPoints(t-r.x,e-r.y,n,i):[],0!=n.length&&(o=o.concat(n)));for(s=0,n=o.length;s<n;s++)o[s].x+=r.getX(),o[s].y+=r.getY();return o},it.prototype.processRollEvents=function(t,e,i,n){var s;s=null;var r=0,a=0,o=[],l=e.type,h=[],d=[],c=t.length,u=this._currentHitSet.length,p=ri.itemPrivateFunc;if(this.renderingComplete){if(!fi){if(0==c&&0==u)return void("single"!=this._selectionMode||"mousedown"!=l&&"touchstart"!=l?"multiple"!=this._selectionMode||"mousedown"!=l&&"touchstart"!=l||this._startTracking(e):this.clearSelection());if("axis"==this.dataTipDisplayMode&&"multiple"==this._selectionMode&&("mousedown"==l||"touchstart"==l))return this.clearSelection(!0),void this._startTracking(e);for(s=t.concat(),1<c&&(s=xe.sortOn(s,"id"));a<u||r<c;)r==c||a<u&&this._currentHitSet[a].id<s[r].id?(h.push(this._currentHitSet[a]),a++):a==u||r<c&&this._currentHitSet[a].id>s[r].id?(o.push(s[r]),r++):(d.push(s[r]),r++,a++);if(0<h.length&&this.itemOutJsFunction&&p(this,"itemOut",e,h,this.itemOutJsFunction),0<o.length&&this.itemOverJsFunction&&p(this,"itemOver",e,o,this.itemOverJsFunction),0<d.length&&this.itemMoveJsFunction&&p(this,"itemMove",e,d,this.itemMoveJsFunction),"mousedown"==l||"touchstart"==l)if(this._dragEnabled&&!Ve.isDragging)this._mouseDown=!0,this._mouseDownPoint=new fe(i,n),this._mouseDownItem=t[0].chartItem;else if(0<t.length)if("axis"==this.dataTipDisplayMode)for(r=0;t[r];){if(t[r].isHit){this._selectItem(t[r].chartItem,e);break}r++}else this._selectItem(t[0].chartItem,e);"mouseup"==e.type&&(this._dragEnabled&&this._mouseDown&&Ve.isDragging&&this._selectItem(this._mouseDownItem,e),this._mouseDown=!1,this._mouseDownPoint=this._mouseDownItem=null),(pi?"touchstart"!=l:"mousedown"!=l&&"mouseup"!=l)&&(Ve.isDragging||this._rollOverItem(t,h)),"mousemove"==e.type&&(s=new fe(i,n),this._dragEnabled&&this._mouseDown&&!Ve.isDragging&&(Math.abs(this._mouseDownPoint.x-s.x)>it.DRAG_THRESHOLD||Math.abs(this._mouseDownPoint.y-s.y)>it.DRAG_THRESHOLD)&&(s=this._mouseDownItem.element,-1==zi(s.getSelectedItems(),this._mouseDownItem,0)&&this._selectItem(this._mouseDownItem,e),this._selectedSeries&&(e=new Ue("dragStart"),e.dragInitiator=this,e.localX=this._mouseDownPoint.x,e.localY=this._mouseDownPoint.y,e.buttonDown=!0,this._selectedSeries.dispatchEvent(e))))}this._currentHitSet=t,this._dragEnabled&&this._mouseDown&&Ve.isDragging?this.updateDataTipToMatchHitSet([]):this.updateDataTipToMatchHitSet(this._currentHitSet,i,n)}},it.prototype._rollOverItem=function(t,e){var i,n,s,r,a=null,o=null;if(0<t.length){for(i=0,n=t.length;i<n;i+=1)a=t[i],"none"!=this._selectionMode&&a.chartItem.element.selectable&&a.chartItem.setCurrentState(Fi);
if("axis"==this.dataTipDisplayMode)for(s=t.length,i=e.length-1;-1<i;--i)for(o=0;o<s;o+=1)e[i]&&t[o]&&e[i].id==t[o].id&&e.splice(i,1)}if(0<e.length)for(i=0;i<e.length;i+=1)if(a=e[i],o=a.chartItem.element,o.selectable){for(n=-1,r=o.getSelectedItems(),o=0,s=r.length;o<s;o+=1)if(r[o]===a.chartItem){n=o;break}-1==n?this._selectedSeries?a.chartItem.setCurrentState(Hi):a.chartItem.setCurrentState(Ri):a.chartItem.setCurrentState(ki)}},it.prototype._selectItem=function(t,e){var i;i=null;var n=!1,s=!1,r=this._selectionMode;t.isGroup||(i=t.element,e.shiftKey&&this._anchorItem?(n=!0,1<i.getSelectedItems().length&&(s=zi(i.getSelectedItems(),t,0),i.getSelectedItems().splice(s,1),i.getSelectedItems().push(t),this._selectedSeries=i)):"none"!=this._selectionMode&&i.selectable&&(-1==zi(i.getSelectedItems(),t,0)&&(s=!0),s?(this._selectedSeries?"single"==r?1<this.getSelectedChartItems().length?(this.clearSelection(),this._setChartItemsToDisabled()):this._selectedSeries._removeItemFromSelection(this._selectedSeries.getSelectedItem()):e.ctrlKey||(this.clearSelection(),this._setChartItemsToDisabled()):this._setChartItemsToDisabled(),i._addItemtoSelection(t),this._selectedSeries=i,n=!0):"multiple"==r?(e.ctrlKey?(i._removeItemFromSelection(t),0==this._selectedSeries.getSelectedItems().length&&((i=this._getSelectedSeries(i))?this._selectedSeries=i:this.clearSelection()),n=!0):i!=this._selectedSeries||this._getSelectedSeries(i)||1!=this._selectedSeries.getSelectedItems().length?(this.clearSelection(),this._setChartItemsToDisabled(),i._addItemtoSelection(t),this._selectedSeries=i,n=!0):n=!1,t.setCurrentState(Fi)):(1<this.getSelectedChartItems().length&&(this.clearSelection(),i._addItemtoSelection(t)),this._selectedSeries=i)),n&&(this._selectedSeries&&(this._caretItem&&(-1!=zi(this._caretItem.element.getSelectedItems(),this._caretItem,0)?this._caretItem.setCurrentState(ki):this._caretItem.setCurrentState(Hi)),this._caretItem=this._selectedSeries.getSelectedItem(),this._caretItem.setCurrentState(Wi),this._anchorItem||!e.shiftKey)&&(this._anchorItem=this._caretItem),this.dispatchEvent(new Ue("change"))))},it.prototype._getSelectedSeries=function(t){var e,i,n,s,r,a;for(e=0,i=this._transforms.length;e<i;e+=1)for(a=this._transforms[e],n=0,s=a.elements.length;n<s;n+=1)if(r=a.elements[n],r instanceof ee&&r!=t&&0!=r.getSelectedItems().length)return r;return null},it.prototype._setChartItemsToDisabled=function(){var t,e,i,n,s;for(t=0,e=this._transforms.length;t<e;t+=1)for(s=this._transforms[t],i=0,n=s.elements.length;i<n;i+=1)s.elements[i]instanceof ee&&s.elements[i]._clearSeriesItemsState(!1,Hi)},it.prototype.getSeriesTransformState=function(t){var e,i=!1;if(a(t.getAllowNegativeForStacked)){for(e=0;e<t._series.length;e++)if(i=this.getSeriesTransformState(t._series[e]))return!0;return!1}return t.getTransformState()},it.prototype._getItemsInRegionFromElements=function(t,e){var i,n,s=[],r=t.elements;for(n=0;n<r.length;n+=1)i=r[n],i instanceof ee&&i.selectable&&i.getVisible()&&(s=s.concat(i.getItemsInRegion(e)));return s},it.prototype.updateDataTipToMatchHitSet=function(t,e,i){var n=0;if(this._showDataTips){for("multiple"==this.dataTipMode?(n=this.maximumDataTipCount,n=o(n)?t.length:Math.min(n,t.length)):n=Math.min(t.length,1),"axis"==this.dataTipDisplayMode&&(n=1),1>t.length?this.registerRemoveTipCache():this._removeTipCacheTimeout&&(window.clearTimeout(this._removeTipCacheTimeout),this._removeTipCacheTimeout=null,this._changeTipOpacity(this._tipCache,1)),t=this._tipCache.length;t<n;t+=1)this._tipCache[t]=this.createToolTipDiv("DataTip",this.getStyle("dataTipStyleName"));if(0<n)for(;0<this._tipCache.length-n;)this.element.removeChild(this._tipCache[0]),this._tipCache.shift();this.positionDataTips(e,i)}},it.prototype.positionDataTips=function(t,e){var i,n,r;if(this._tipCache){var a,l,h,d,c,u,p,g="",f=[];u=[];var m=[];h=[];var _,y,v,S=[],C=this.dataTipJsFunction;c=this.getDataRegion(),v=this._tipCache.length;var b,x=_=0,T=this.showDataTipTargets,D=this.horizontalDataTipOffset,E=this.horizontalDataTipOffset,x="",P=this.dataTipDisplayMode;if(o(D)&&(D=6),o(E)&&(E=6),this._dataTipOverlay&&(a=this._dataTipOverlay.graphics,this._dataTipOverlay.clear()),v=this._currentHitSet.length){for("single"==this.dataTipMode&&(v=1),"axis"==P&&"reverse"!=this.dataTipOrder&&this._currentHitSet.reverse(),l=0;l<v;l+=1)d=this._currentHitSet[l],_=s(d.contextColor)?d.contextColor.color?d.contextColor.color:d.contextColor._entries[0].color:d.contextColor,"#ffffff"==_.toLocaleLowerCase()&&(_="#000000"),x=C?ri.chartFunc.call(this,d,C,"dataTipFunction"):this.dataTipFunction?this.dataTipFunction.call(d.chartItem.element,d):d.dataTipFunction.call(d.chartItem.element,d),"axis"!=P||this instanceof Bubble3DChart||this instanceof Polar3DChart||this instanceof At?(g=this.dataTipFontColorOnSeries?"<font color='"+_+"'>"+x+"</font>":x,S.push(g)):(C||(0==l&&(Ci("Bar",this.className)?(y=this._verticalAxis.categoryField?d.chartItem.item[this._verticalAxis.categoryField]:d.chartItem.yValue,this._verticalAxis.formatter&&(y=this._verticalAxis.formatter.format(y))):(y=this._horizontalAxis.categoryField?d.chartItem.item[this._horizontalAxis.categoryField]:d.chartItem.xValue,this._horizontalAxis.formatter&&(y=this._horizontalAxis.formatter.format(y))),y=(y+"").replace(/<br>/," "),g=this.dataTipFontColorOnSeries?g+("<font color='"+_+"'>"+y+"</font>"):g+y,0<d.chartItem.element._displayName.length&&(g+="<br/>")),this.showDataTipMarker&&1<v&&(y="",this._enablePattern&&(y=";border:solid 1px #000;background-image:url("+ni.getItem(d.chartItem.element.seriesIndex).getAttribute("src")+");"),g+="<span class='Kool__DataTipMarker' style='background-color:"+_+(ci.ie7&&ui?";float:none":"")+y+"'></span>&nbsp;")),g=this.dataTipFontColorOnSeries?g+("<font color='"+_+"'>"+x+"</font>"):g+x,1<v&&(g+="<br/>"),!C&&l==v-1&&(p=d.chartItem.element.stacker)&&"stacked"==p.getType()&&(x=p._posTotalsByPrimaryAxis[d.chartItem[(d.chartItem.element instanceof Bar2DSeries?"y":"x")+"Value"]],this.dataTipFormatter&&(x=this.dataTipFormatter.format(x)),g+="Total : "+x),S[0]=g);for(l=0,v=S.length;l<v;l+=1)d=this._currentHitSet[l],g=this._tipCache[l],g.parentNode&&g.parentNode==this.element||this.element.appendChild(g),g.innerHTML=S[l],_=Math.max(c.left,Math.min(d.x,c.right)),x=Math.max(c.top,Math.min(d.y,c.bottom)),b={x:_,y:x},d=new rt(g,d,_,x,b.x,b.y),d.py=0<d.gy-E-g.offsetHeight?d.gy-E-g.offsetHeight-4:d.gy+E+4,h.push(d),f[l]=d;for(0<h.length&&(h=xe.sortOn(h,"gx"),r=4,i=this.getWidth(),n=this.getHeight(),l=Math.floor(h.length/2),u.length>m.length?l=Math.max(0,l-(u.length-m.length)):m.length>u.length&&(l=Math.min(h.length,l+(m.length-u.length))),u=u.concat(h.slice(0,l)),m=m.concat(h.slice(l,h.length))),m=xe.sortOn(m,"gy"),h=m.length,c=[],v=null,S=[],l=0;l<h;l++)d=m[l],d.isRight=!0,d.px=d.gx+D,d.px+d.width>this.getWidth()?S.push(l):(v?d.py<v.gy+v.height||(at(c,v),v=new ot):v=new ot,v.addTip(d,screen.height));for(u=xe.sortOn(u,"gy"),l=S.length-1;-1<l;--l)u.unshift(m[S[l]]),m.splice(l,1);for(v&&at(c,v),S=m=0,h=c.length,l=0;l<h;l++)c[l].positionY();for(h=u.length,c=[],v=null,l=0;l<h;l++)d=u[l],d.isRight=!1,d.px=d.gx-d.width-D,v?d.py<v.gy+v.height||(at(c,v),v=new ot):v=new ot,v.addTip(d,screen.height);for(v&&at(c,v),h=c.length,l=0;l<h;l++)c[l].positionY();for(f=xe.sortOn(f,"py"),h=f.length,c=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY,C=0,v=!0,E=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY,g=0;v&&2>=g;)for(v=!1,g++,l=0;l<h;l++){for(p=f[l],_=C=!1;S<f.length&&f[S].gy+4.5<p.py;)f[S].gx>=c&&(C=!0),f[S].gx<=u&&(_=!0),S++;for(m=Math.max(m,S);m<f.length&&f[m].gy-4.5<p.py+p.height;)f[m].gx>=c&&(C=!1,c=f[m].gx),f[m].gx<=u&&(_=!1,u=f[m].gx),m++;if(C||_)for(c=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY,C=S;C<m;C++)c=Math.max(c,f[C].gx),u=Math.min(u,f[C].gx);if("axis"==this.dataTipDisplayMode?(0>p.py&&(p.py=0),p.px+p.width>=i-4.5&&(p.px=t-p.width-D-4.5)):p.isRight?(p.px=Math.max(p.px,c+4.5),p.px=Math.max(E,p.px),2>h&&(p.px=p.px-D-.5*p.width),p.px>=i-p.width?(p.px=i-p.width-D-4.5,d>p.px&&(d=p.px,v=!0)):0>=p.px-.5*p.width&&(p.px+=.5*p.width)):(p.px=Math.min(p.px,u-4.5-p.width),p.px=Math.min(d-p.width,p.px),p.px<=r&&(p.px=r,p.px+p.width>E&&(E=p.px+p.width,v=!0))),0>p.py)p.py=0;else if(p.height>n){for(C=this.getParent();0>C.className.indexOf("Chart");)C=C.getParent();p.py=Ee.pageXY(C).y-Ee.pageXY(this).y}else p.py+p.height>=this.getY()+n&&(p.py=n-p.height);b.x=p.px,b.y=p.py,_=b,x=s(p.hd.contextColor)?p.hd.contextColor.color:p.hd.contextColor,(p.hd.contextColor instanceof M||p.hd.contextColor instanceof I)&&(x=p.hd.contextColor._entries[0].color),x=Me.hex2rgb(x),this.dataTipBackgroundColorOnSeries&&bi(p.tip,"backgroundColor",x),o(this.dataTipBorderWidth)||xi(p.tip,"borderWidth",this.dataTipBorderWidth),o(this.dataTipBorderRadius)||xi(p.tip,"borderRadius",this.dataTipBorderRadius),this.dataTipBorderStyle&&bi(p.tip,"borderStyle",this.dataTipBorderStyle),this.dataTipBorderColorOnSeries&&bi(p.tip,"borderColor",x),""!=this.dataTipBorderColor&&bi(p.tip,"borderColor",Me.hex2rgb(this.dataTipBorderColor)),xi(p.tip,"left",Math.floor(b.x)),xi(p.tip,"top",Math.floor(b.y)),Di(p.tip,"Kool__show_data_tip"),p.x=Math.floor(p.x)+.5,p.y=Math.floor(p.y)-.5,a&&(1<h&&(Ne.apply(a,new w(x)),this.calloutStroke&&Ne.apply(a,this.calloutStroke),C=Math.floor(.5*p.height),a.beginPath(),p.isRight?a.moveTo(_.x,_.y+C):a.moveTo(_.x+p.width,_.y+C),a.lineTo(p.x,_.y+C),a.lineTo(p.x,p.y),a.stroke()),T&&(Ne.apply(a,new w(x)),a.fillStyle="#FFFFFF",a.beginPath(),a.moveTo(p.x,p.y),a.arc(p.x-.5*a.lineWidth,p.y-a.lineWidth/2,4.5,0,2*Math.PI,!0),a.stroke(),a.fill(),a.fillStyle=x,a.beginPath(),a.moveTo(p.x,p.y),a.arc(p.x-.5*a.lineWidth,p.y-a.lineWidth/2,1.5,0,2*Math.PI,!0),a.stroke(),a.fill()))}}}},it.prototype.registerRemoveTipCache=function(){var t=this;t._tipCache&&t._tipCache.length&&(t._removeTipCacheTimeout&&(clearTimeout(t._removeTipCacheTimeout),t._removeTipCacheTimeout=null),t._changeTipOpacity(t._tipCache,0),fi?t._removeTipCache():t._removeTipCacheTimeout=window.setTimeout(function(){t._removeTipCache(),t=t._removeTipCacheTimeout=null},500))},it.prototype._removeTipCache=function(){var t,e,i;for(e=0,i=this._tipCache.length;e<i;e+=1)t=this._tipCache[e],t.parentNode&&t.parentNode.removeChild(t),this._tipCache[e]=null;this._tipCache=[]},it.prototype.registerRemoveAxisTipCache=function(){var t=this;t._axisDataTipCache&&(t._axisDataTipCache.h.length||t._axisDataTipCache.v.length)&&(t._removeTipAxisCacheTimeout&&(clearTimeout(t._removeTipAxisCacheTimeout),t._removeTipAxisCacheTimeout=null),t._changeTipOpacity(t._axisDataTipCache.h,0),t._changeTipOpacity(t._axisDataTipCache.v,0),fi?t._removeAxisTipCache():t._removeTipAxisCacheTimeout=window.setTimeout(function(){t._removeAxisTipCache(),t=t._removeTipAxisCacheTimeout=null},500))},it.prototype._removeAxisTipCache=function(){var t,e,i,n=this._axisDataTipCache.h.concat(this._axisDataTipCache.v);for(e=0,i=n.length;e<i;e+=1)t=n[e],t.parentNode&&t.parentNode.removeChild(t),n[e]=null;this._axisDataTipCache.h=[],this._axisDataTipCache.v=[]},it.prototype._changeTipOpacity=function(t,e){var i,n;for(i=0,n=t.length;i<n;i+=1)(e?Di:Mi)(t[i],"Kool__show_data_tip")},it.prototype.createToolTipDiv=function(t,e){var i=Ee.createElement("div","Kool__"+t+" Kool__pointer-events-none");return e&&Di(i,e.className),"mouse"!=this.dataTipDisplayMode&&Di(i,"Kool__DataTipTransition"),i},it.prototype.cancelEffect=function(){this._transitionEffect&&(this._transitionEffect.end(),this._transitionEffect=null),this.setChartState(Ei)},it.prototype._historyDual=function(){var t,e,i=this.getParent();if(!i)return!0;if(t=i._displayerChart||i._mainChart,e=i._navigator||i._subChart,!t||!e)return!0;if(t.renderingComplete||e.renderingComplete){if(!t.renderingComplete&&e.renderingComplete||t.renderingComplete&&!e.renderingComplete)return i.displayCompleteCallFunction&&(this.displayCompleteCallFunction=i.displayCompleteCallFunction),i.displayUpdateCallFunction&&(this.displayUpdateCallFunction=i.displayUpdateCallFunction),i.renderingComplete=!0;if(t.renderingComplete&&e.renderingComplete&&!t.getChartState()&&!e.getChartState())return i.themeRunning=!1,!0}else this.renderingComplete=!0;return!1},it.prototype.allSeriesRenderingComplete=function(t){var e,i=this;0!=i.getChartState()||!i._dataProvider||(i._dataProvider.length?1>i._dataProvider.length:1>i._dataProvider.getLength())||(a(i.measureLabels)&&i.measureLabels(),i._historyDual()&&(e=i.displayUpdateCallFunction,t=i.displayCompleteCallFunction,i.renderingComplete?e&&ri.findFunction(e)(i.id):(i.renderingComplete=!0,i.callLater(function(t,e){t&&ri.findFunction(t)(e),i.dispatchEvent(new Ue("renderingComplete"))},[t,i.id])),i.themeRunning=!1))},it.prototype.measureLabels=function(){var t,e=this.allElements.length;for(this.allLabelsMeasured=!0,t=0;t<e;t++)this.invalidateDisplay(this.allElements[t])},it.prototype.invalidateDisplay=function(t){var e,i,n=t.labelLayer;if(a(t.getAllowNegativeForStacked))for(i=t._series,e=0;e<i.length;e++)this.invalidateDisplay(i[e]);n&&t.getIncludeInLayout()&&(t.labelClear(),a(t.drawTrendLine)&&t.drawTrendLine(),t.showErrorBar&&a(t.drawErrorBar)&&t.drawErrorBar(),a(t.updateLabels)&&t.updateLabels(),a(t.updateLinkLabels)&&t.updateLinkLabels())},it.prototype.addChild=function(t){if(t.elementWrapDiv){if(t.elementWrapDiv.parentNode){if(t.elementWrapDiv.parentNode==this.element)return;t.elementWrapDiv.parentNode.removeChild(t.elementWrapDiv)}this.element.appendChild(t.elementWrapDiv),t.parentElement=this}else{if(!(t instanceof f))throw Error("added element is not an instance of HTMLObject");if(t.element.parentNode){if(t.element.parentNode==this.element)return;t.element.parentNode.removeChild(t.element)}this.element.appendChild(t.element),t.parentElement=this,t instanceof m&&(t.setNestLevel(this._nestLevel+1),t.initialize())}},it.prototype.setActualSize=function(t,e){t==this.getWidth()&&e==this.getHeight()||this.cancelEffect(),_.prototype.setActualSize.call(this,t,e)},it.prototype.invalidateSize=function(){this.cancelEffect(),it._super.invalidateSize.call(this)},it.prototype.updateDisplayList=function(t,e){_.prototype.updateDisplayList.call(this,t,e),this._commitPropertiesCalled||this.commitProperties(),this._dataTipOverlayCreated&&(this._dataTipOverlay.move(0,0),this._dataTipOverlay.setActualSize(t,e)),this._removeTipCache()},it.prototype.measure=function(){_.prototype.measure.call(this),this.measuredHeight=this.measuredWidth=100},it.prototype.commitProperties=function(){this._commitPropertiesCalled=!0,_.prototype.commitProperties.call(this),this._showDataTips&&this.showDataTipTargetsLine&&!this._dataTipOverlayCreated&&(this._dataTipOverlayCreated=!0,this._dataTipOverlay=new v("DataTipLayer"),this._dataTipOverlay.owner=this,this._dataTipOverlay.chart=this,this.addChild(this._dataTipOverlay)),this._bSeriesDirty&&(this.updateSeries(),this._selectedSeries=null,this._bSeriesDirty=!1),this._updateSeriesStyles(),this._bDataDirty&&(this.updateData(),this._bDataDirty=!1),this._childOrderDirty&&(this.updateChildOrder(),this._childOrderDirty=!1),this._selectionMode!=Ri||this.buttonMode?(this._mouseEventsInitialized||this.setupMouseDispatching(),this._rangeEventsInitialized||this.setupRangeDispatching()):fi?this._mouseEventsInitialized||this.setupMouseDispatching():this.setDragEnabled(!1)},it.prototype.getForceTheme=function(){return this._forceTheme},it.prototype.getTheme=function(){return this._themeName},it.prototype.setTheme=function(t,e){this._themeName=t,this._forceTheme=e,this._seriesStylesDirty=!0,this.invalidateProperties()},it.prototype.clearSelection=function(t){var e,i;if(this._selectedSeries||t){for(t=0;t<this._transforms.length;t++)for(e=0;e<this._transforms[t].elements.length;e++)i=this._transforms[t].elements[e],i instanceof ee&&i._clearSeriesItemsState(!0);this._anchorItem=this._caretItem=this._selectedSeries=null}},it.prototype._selectSpecificChartItems=function(t){var e,i=t.length,n=null,s=!1;for(this.clearSelection(),e=0;e<i;e+=1)n=t[e].element,n.selectable&&(s||(s=!0,this._setChartItemsToDisabled()),"single"==this._selectionMode&&this._selectedSeries&&this._selectedSeries._removeItemFromSelection(this._selectedSeries.getSelectedItem()),-1==zi(n.getSelectedItems(),t[e],0)&&n._addItemtoSelection(t[e]),this._selectedSeries=n);this._selectedSeries&&(this._caretItem=this._selectedSeries.getSelectedItem(),this._caretItem.setCurrentState(Wi),this._anchorItem=this._carteItem)},it.prototype._seriesSelectionChanged=function(t,e){var i,n;if(i=null,"none"!=this._selectionMode)if(this._selectedSeries?t._clearSeriesItemsState(!0,Hi):this._setChartItemsToDisabled(),n=e.length,0==n)(i=this._getSelectedSeries(t))?this._selectedSeries=i:this.clearSelection();else{if("single"==this._selectionMode)this._selectedSeries&&this._selectedSeries!=t&&this._selectedSeries._removeItemFromSelection(this._selectedSeries.getsSelectedItem()),t._addItemtoSelection(e[e.length-1]);else{for(i=0;i<n;i+=1)t._addItemtoSelection(e[i]);this._selectedSeries=t}this._selectedSeries&&(this._caretItem=this._selectedSeries.getSelectedItem(),this._caretItem.setCurrentState(Wi),this._anchorItem=this._caretItem)}},it.prototype._handleSpace=function(t){var e,i=!1,n=e=!1;t.ctrlKey&&(e=!0),t.shiftKey&&(i=!0,e=!1),t=this._caretItem.element,t.selectable&&(-1!=zi(t.getSelectedItems(),this._caretItem,0)?e&&(t._removeItemFromSelection(this._caretItem),this._caretItem.setCurrentState(lt.FOCUSED),"single"==this._selectionMode?this.clearSelection():this._selectedSeries.getSelectedItems().length||((t=this._getSelectedSeries(t))?this._selectedSeries=t:this.clearSelection()),n=!0):(("single"==this._selectionMode||"multiple"==this._selectionMode&&!e)&&(e=this._caretItem,this.clearSelection(),this._caretItem=e),this._selectedSeries||this._setChartItemsToDisabled(),this._selectedSeries=t,this._selectedSeries._addItemtoSelection(this._caretItem),this._caretItem.setCurrentState(Wi),n=!0)),n&&(!this._selectedSeries||i&&this._anchorItem||(this._anchorItem=this._selectedSeries.getSelectedItem()),this.dispatchEvent(new Ue("change")))},it.prototype._handleNavigation=function(t,e){var i,n,s,r,a=!1;if(s=r=!1,i=t.element,e.ctrlKey&&(r=!0),e.shiftKey&&(a=!0,r=!1),r)this._caretItem&&(i=this._caretItem.element,i.selectable&&(-1!=zi(i.getSelectedItems(),this._caretItem,0)?this._caretItem.setCurrentState(ki):this._selectedSeries?this._caretItem.setCurrentState(Hi):this._caretItem.setCurrentState(Ri))),t.setCurrentState(lt.FOCUSED);else{if(a&&this._anchorItem)if("single"==this._selectionMode)this._selectedSeries._removeItemFromSelection(this._selectedSeries.getSelectedItem()),i._addItemtoSelection(t);else if(n=this._anchorItem,s=zi(this._anchorItem.element.getItems(),this._anchorItem,0),r=zi(i.getItems(),t,0),this.clearSelection(),this._setChartItemsToDisabled(),this._anchorItem=n,this._anchorItem.element==i)for(s>r&&(n=s,s=r,r=n),n=s;n<=r;n++)i._addItemtoSelection(i.getItems()[n]);else this._anchorItem.element._addItemtoSelection(this._anchorItem),i._addItemtoSelection(t);else this._selectedSeries?"single"==this._selectionMode?this._selectedSeries._removeItemFromSelection(this._selectedSeries.getSelectedItem()):(this.clearSelection(),this._setChartItemsToDisabled()):this._setChartItemsToDisabled(),i._addItemtoSelection(t);this._selectedSeries=i,t.setCurrentState(Wi),s=!0}this._caretItem=t,s&&this._selectedSeries&&((!a||this._selectedSeries&&!this._anchorItem)&&(this._anchorItem=this._selectedSeries.getSelectedItem()),this.dispatchEvent(new Ue("change")))},it.prototype.commitPatternProperties=function(){var t,e,i,n,s=0,r=!1,a=ni.getItem;for(t=it.prototype.findSeries,r=this.enablePattern,n=t.call(this,this._series),e=0,i=n.length;e<i;e+=1)t=n[e],t.pattern=r?a(s):null,s+=1},it.prototype.changeStackedSeriesDirty=function(){},it.prototype.updateData=function(){var t,e=this._series.length;for(this.clearSelection(!0),this._type&&"clustered"==this._type&&this.applySeriesSet(this._userSeries,this._transforms[0]),null!=this._dataProvider&&this.applyDataProvider(this._dataProvider,this._transforms[0]),t=0;t<e;t++)this.applyDataProvider(this._dataProvider,this._series[t].getDataTransform())},it.prototype.collectTransitions=function(){var t,e,i=[],n=this.allElements.length;for(e=0;e<n;e+=1)(t=this.allElements[e])&&t.collectTransitions(this._transitionState,i);return i},it.prototype._updateSeriesStyles=function(){var t,e,i,n=0,s=tt.chartBaseChartSeriesStyles.concat();if("default"==this._themeName?i=this.className.match(/Line|Area|Combination|Vector/g)?tt.lineChartSeriesStyles:this.className.match(/Pie|Bubble|Plot|Radar|TreeMap|Word|Pyramid/g)?tt.pieChartSeriesStyles:tt.columnChartSeriesStyles:s=tt[this._themeName].concat(),i)for(t=0,e=i.length;t<e;t+=1)s[t]=i[t];if(this._chartColors=s.concat(),this._seriesStylesDirty&&(this._seriesStylesDirty=!1,s))for(e=this.allElements.length,t=0;t<e;t+=1)i=this.allElements[t],i instanceof ee&&(n=i.claimStyles(this._chartColors,n))},it.prototype.applyDataProvider=function(t,e){var i,n;n=e.axes;var s=e.elements,r=s.length;for(i in n)n[i].setChartDataProvider(t);for(i=0;i<r;i++)n=s[i],a(n.setChartDataProvider)?n.setChartDataProvider(t):n.chartDataProvider=t,s[i].tween&&z.removeTween(s[i].tween.id);this.clearSelection()},it.prototype.updateSeries=function(){var t=[],e=this.applySeriesSet(this._userSeries,this._transforms[0]);this.addElements(this._backgroundElements,this._transforms[0]),this.allElements=this._backgroundElements.concat(),this.addElements(e,this._transforms[0]),this.allElements=this.allElements.concat(e),t=this.updateAddSeries(e),this.addElements(t,this._transforms[0]),this.allElements=this.allElements.concat(t),this.addElements(this._annotationElements,this._transforms[0]),this.allElements=this.allElements.concat(this._annotationElements),this._transforms[0].elements=this._annotationElements.concat(e).concat(this._backgroundElements),this._bDataDirty=!0,this.invalidateData(),this.invalidateSeriesStyles()},it.prototype.updateAddSeries=function(t){var e,i,n,s=[];for(i=0,n=t.length;i<n;i+=1)(e=t[i])&&(a(e.getAllowNegativeForStacked)?s=s.concat(this.updateAddSeries(e._series)):(e.createLabelLayer(),e.invalidateProperties(),e.labelLayer&&s.push(e.labelLayer)));return s.concat()},it.prototype.addElements=function(t,e,i){var n,s=t.length;for(i=0;i<s;i++)n=t[i],this.addChild(n),n&&!(n instanceof ee)&&n instanceof ht&&n.setDataTransform(e)},it.prototype.applySeriesSet=function(t,e){var i,n=t.length;for(i=0;i<n;i++)this.customizeSeries(t[i],i);return t},it.prototype.customizeSeries=function(t,e){},it.prototype.invalidateData=function(){this._bDataDirty=!0,this.resetUserElement(),this.invalidateProperties()},it.prototype.invalidateAllElements=function(){},it.prototype.findSeries=function(t,e){var i,n,s=[],r=t.length;for(i=0;i<r;i+=1)(n=t[i])&&(a(n.getAllowNegativeForStacked)?(s=s.concat(this.findSeries(n._series)),e&&s.push(n)):s.push(n));return s},it.prototype.getTransforms=function(){return this._transforms},it.prototype.setTransforms=function(t){this._transforms=t,this.invalidateProperties(),this.invalidateSeries(),this.invalidateData(),this.legendDataChanged()},it.prototype.legendDataChanged=function(){this.dispatchEvent(new Ue("legendDataChanged"))},it.prototype.updateBFilterDirty=function(t){var e,i;if(a(t.getAllowNegativeForStacked))for(i=this.findSeries(t._series),t=0,e=i.length;t<e;t+=1)i[t].invalidateMapping(!0);else t instanceof ee&&!t._bFilterDirty&&t.invalidateMapping(!0)},it.prototype.getUserDefineWrapper=function(t,e){var i,n;for(n in this._userDefineCache)if(i=this._userDefineCache[n],i.free)return i.free=!1,i.seriesItem=t,i.data=e,i.element.element.className="Kool__UserDefineWrapper",i.element;return i=new f("div","UserDefineWrapper"),this._userDefineCache[i.uno]={free:!1,element:i,seriesItem:t,data:e},i},it.prototype.resetUserElement=function(){var t,e,i,n,s,r,a;for(t in this._userDefineCache)for(e in a=this._userDefineCache[t],a.free=!0,a.seriesItem.element.setUserDefineDirty(!1),a.element.getParent()&&this.removeChild(a.element),a=a.element.element,a.events)for(r=a.events[e],i=0,n=r.length;i<n;i+=1)s=r[i],Pe.removeEvent(a,e,s.listener,s.context,s.useCapture,s.priority)},it.prototype._startTracking=function(t){var e,i=0,n=0,s=this.getDataRegion(),r=t.pageX;if(e=t.pageY,pi&&(e=t.touches[0],r=e.pageX+this.touchOffset,e=e.pageY+this.touchOffset),t=Ee.pageXY(this.element),r-=t.x,e-=t.y,s.contains(r,e)){for(this._startPoint=void 0;this._transforms[n];){for(t=this._transforms[n].elements;t[i];){if(t[i]instanceof CrossRangeZoomer){t[i].clearCrossHair();break}i++}n++}this._rangeItemRenderer?this._rangeItemRenderer.setVisible(!1):(this._rangeItemRenderer=new nt,this.addChild(this._rangeItemRenderer)),this._dataRegionForRange=s,Pe.documentAddEvent(pi?"touchend":"mouseup",this._endTracking,this,!0),Pe.documentAddEvent(pi?"touchmove":"mousemove",this._track,this,!0),this._tX=r,this._tY=e,i=[this._tX,this._tY],this._updateTrackBounds(i)}},it.prototype._track=function(t){var e,i=t.pageX,n=t.pageY;pi&&(e=t.touches[0],i=e.pageX+this.touchOffset,n=e.pageY+this.touchOffset),e=Ee.pageXY(this.element),i-=e.x,n-=e.y,this._updateTrackBounds([i,n]),this._dispatchRegionChange(t),t.stopPropagation()},it.prototype._dispatchRegionChange=function(t){var e=new fe(this._dLeft,this._dTop),i=new fe(this._dRight,this._dBottom),n=this.getDataRegion();this.dispatchEvent(new st(st.REGION_CHANGE,new S(e.x-n.left,e.y-n.top,i.x-e.x,i.y-e.y),t))},it.prototype._endTracking=function(t){Pe.documentRemoveEvent(pi?"touchend":"mouseup",this._endTracking,this,!0),Pe.documentRemoveEvent(pi?"touchmove":"mousemove",this._track,this,!0),this._rangeItemRenderer.setVisible(!1),this._dispatchRegionChange(t),this._dLeft=this._dTop=this._dRight=this._dBottom=this._tX=this._tY=null},it.prototype._updateTrackBounds=function(t){this._dRight=Math.max(this._tX,t[0]),this._dLeft=Math.min(this._tX,t[0]),this._dTop=Math.min(this._tY,t[1]),this._dBottom=Math.max(this._tY,t[1]),this._dLeft=Math.max(this._dLeft,this._dataRegionForRange.left),this._dTop=Math.max(this._dTop,this._dataRegionForRange.y),this._dRight=Math.min(this._dRight,this._dataRegionForRange.x+this._dataRegionForRange.width),this._dBottom=Math.min(this._dBottom,this._dataRegionForRange.y+this._dataRegionForRange.height),this._rangeItemRenderer.setVisible(!0),this._rangeItemRenderer.draw(this._dLeft,this._dTop,this._dRight-this._dLeft,this._dBottom-this._dTop)},it.prototype._keyDownHandler=function(t){},ge(nt,f),nt.prototype.draw=function(t,e,i,n){this.setPxStyle("left",t),this.setPxStyle("top",e),this.setPxStyle("width",i),this.setPxStyle("height",n)},st.REGION_CHANGE="regionChange",ge(st,Ue),ge(lt,_e),lt.NONE="none",lt.DISABLED="disabled",lt.SELECTED="selected",lt.ROLLOVER="rollover",lt.FOCUSED="focused",lt.FOCUSEDSELECTED="focusedSelected",lt.prototype.getCurrentState=function(){return this._currentState},lt.prototype.setCurrentState=function(t,e){var i,n,s=this.element;i=s.getChart(),this._currentState!=t&&(this._currentState=t,i.getChartState()||(i=s.getSelectionContainer(),t==lt.NONE||t==lt.DISABLED?(this._canvas&&(this._canvas.onwer=null,E.getInstance().freeElement(this._canvas.element)),this._canvas=null):(n=this._canvas,n||(n=new v("Selection"),i.addChild(n),this._canvas=n,n.owner=this),s._updateItemState(this,t,n))))},lt.prototype.clone=function(){var t=new lt(this.element,this.item,this.index);return Ee.extend(t,this,!0),t},ge(ht,v),ht.prototype.getChart=function(){for(var t=this.getParent();!(t instanceof it)&&t;)t=t.getParent();return t},ht.prototype.setChartDataProvider=function(t){this._userDataProvider||this._processNewDataProvider(t)},ht.prototype.getDataProvider=function(){return this._dataProvider},ht.prototype.setDataProvider=function(t){this._userDataProvider=t,this._processNewDataProvider(t)},ht.prototype.getDataTransform=function(){return this._dataTransform},ht.prototype.setDataTransform=function(t){var e,i;for(this._dataTransform=t,t=0,e=this.getNumChildren();t<e;t+=1)i=this.getChildAt(t),this._dataTransform&&i instanceof ht&&i.setDataTransform(this._dataTransform);this._dataTransform&&this._dataTransform.dataChanged(),this.invalidateDisplayList()},ht.prototype.getStyle=function(t){var e,n;return this.getChart&&(n=this.getChart()),!this._styles||!n||"default"!=n.getTheme()&&n.getForceTheme()||(e=this._styles[t]),!e&&this._internalStyleName&&(e=this._internalStyleName.style[t]),i(e)&&-1<e.indexOf("px")&&(e=parseInt(e)),e?e:ht._super.getStyle.call(this,t)},ht.prototype.addChild=function(t){return this.getChart().addChild(t),this._dataTransform&&t instanceof ht&&(t._dataTransform=this._dataTransform),t},ht.prototype.addChildAt=function(t,e){var i=this.getChart();return i.addChildAt.call(i,t,e),this._dataTransform&&t instanceof ht&&(t._dataTransform=this._dataTransform),t},ht.prototype._processNewDataProvider=function(t){this._userDefineDirty=!1,null!=this._dataProvider&&this._dataProvider.removeEventListener(Ge.COLLECTION_CHANGE,this._collectionChangeHandler,this),e(t)?t=new ii(t):t instanceof ti||(t=n(t)?new XMLListCollection(t):null!=t?new ii([t]):new ii),this._dataProvider=t,null!=this._dataProvider&&this._dataProvider.addEventListener(Ge.COLLECTION_CHANGE,this._collectionChangeHandler,this),this._dataChanged()},ht.prototype._dataChanged=function(){this.invalidateDisplayList(),this._dataTransform&&this._dataTransform.dataChanged()},ht.prototype._createDataID=function(t){return(this.uno<<16)+t},ht.prototype.mappingChanged=function(){},ht.prototype.describeData=function(){return[]},ht.prototype.findDataPoints=function(t,e,i){var n,s,r;for(n=this.getNumChildren()-1;0<=n;--n)(s=this.getChildAt(n))&&s.getVisible()&&(s=s.findDataPoints(t,e,i),s.length&&(r=r.concat(s)));return r},ht.prototype.chartStateChanged=function(t,e){var i,n,s=this.getNumChildren();for(n=0;n<s;n+=1)(i=this.getChildAt(n))&&i.chartStateChanged(t,e)},ht.prototype.collectTransitions=function(t,e){var i,n,s=this.getNumChildren();if(a(this.getAllowNegativeForStacked))for(s=this._series.length,n=0;n<s;n+=1)(i=this._series[n])&&i.collectTransitions(t,e);else for(n=0;n<s;n+=1)(i=this.getChildAt(n))&&i.collectTransitions(t,e)},ht.prototype.dataToLocal=function(){return null},ht.prototype.localToData=function(t){return null},ht.prototype.claimStyles=function(t,e){return e},ht.prototype.setFont=function(t){var e;e=this.labelLayer,ht._super.setFont.call(this,t),e&&(bi(e,"color",this.getStyle("color")),bi(e,"fontStyle",this.getStyle("fontStyle")),bi(e,"fontWeight",this.getStyle("fontWeight")),bi(e,"fontFamily",this.getStyle("fontFamily")),bi(e,"fontSize",this.getStyle("fontSize")),bi(e,"textDecoration",this.getStyle("textDecoration")),Ee.extend(e,{textAlign:this.getStyle("textAlign")}),t=this.graphics,e=this.labelLayer.graphics,e.fillStyle=t.fillStyle,e.font=t.font)},ht.prototype._collectionChangeHandler=function(t){t&&"reset"==t.kind&&(this._cursor=this._dataProvider.createCursor()),this._dataChanged()},dt.NONE=0,dt.PREPARING_TO_HIDE_DATA=1,dt.HIDING_DATA=2,dt.PREPARING_TO_SHOW_DATA=3,dt.SHOWING_DATA=4,ct.REQUIRED_BOUNDED_VALUES=2,ct.REQUIRED_MIN_INTERVAL=1,ct.REQUIRED_MIN_MAX=4,ct.REQUIRED_PADDING=8,ut.prototype.createDisabledRangeSet=function(t,e,i,n){var s,r;if(this.disabledRangeSet=[],this.disabledDaySet=[],this.minimum=i,t)for(s=0;s<t.length;s++)-1==this.disabledDaySet.indexOf(t[s])&&0<=t[s]&&6>=t[s]&&this.disabledDaySet.push(t[s]);if(e)for(s=0;s<e.length;s++)"date"==typeof e[s]?(r=Date.parse(e[s]),t=Math.max(i,r),r=Math.min(n,r+this.MILLISECONDS_IN_DAY-1),t<r&&this.disabledRangeSet.push(new pt(t,r))):"object"==typeof e[s]&&(!e[s].rangeStart&&e[s].rangeEnd?(t=i,r=0==e[a].rangeEnd.getHours()&&0==e[a].rangeEnd.getMinutes()&&0==e[a].rangeEnd.getSeconds()&&0==e[a].rangeEnd.getMilliseconds()?Math.min(n,Date.parse(e[s].rangeEnd)+this.MILLISECONDS_IN_DAY-1):Math.min(n,Date.parse(e[s].rangeEnd)-1),t<r&&this.disabledRangeSet.push(new pt(t,r))):e[s].rangeStart&&!e[s].rangeEnd?(r=n,t=Math.max(i,Date.parse(e[s].rangeStart)),t<r&&this.disabledRangeSet.push(new pt(t,r))):e[s].rangeStart&&e[s].rangeEnd&&(r=0==e[a].rangeEnd.getHours()&&0==e[a].rangeEnd.getMinutes()&&0==e[a].rangeEnd.getSeconds()&&0==e[a].rangeEnd.getMilliseconds()?Math.min(n,Date.parse(e[s].rangeEnd)+this.MILLISECONDS_IN_DAY-1):Math.min(n,Date.parse(e[s].rangeEnd)-1),
t=Math.max(i,Date.parse(e[s].rangeStart)),t<r&&this.disabledRangeSet.push(new pt(t,r))));for(e=!0,n=[this.disabledRangeSet],s=0;s<this.disabledRangeSet.length;){for(var a=0;a<n.length;)if(e=!1,n[a].rangeStart>=this.disabledRangeSet[s].rangeStart&&n[a].rangeEnd<=this.disabledRangeSet[s].rangeEnd&&a!=s?(n[a].rangeStart=i-1,e=!0):n[a].rangeStart>=this.disabledRangeSet[s].rangeStart&&n[a].rangeStart<=this.disabledRangeSet[s].rangeEnd&&n[a].rangeEnd>=this.disabledRangeSet[s].rangeEnd&&a!=s?(n[s].rangeEnd=n[a].rangeEnd,n[a].rangeStart=i-1,e=!0):n[a].rangeStart<=this.disabledRangeSet[s].rangeStart&&n[a].rangeEnd>=this.disabledRangeSet[s].rangeStart&&n[a].rangeEnd<=this.disabledRangeSet[s].rangeEnd&&a!=s&&(n[s].rangeStart=n[a].rangeStart,n[a].rangeStart=i-1,e=!0),e){for(a=0;a<n.length;)n[a].rangeStart<i?n.removeItemAt(a):a++;for(this.disabledRangeSet=[],a=0;a<n.length;a++)this.disabledRangeSet.push(n.getItemAt(a));a=0}else a++;e?s=0:s++}this.disabledRangeSet=xe.sortOn(["rangeStart","rangeEnd"],[Array.NUMERIC])},ut.prototype.calculateDisabledRange=function(t,e){var i,n,s=0;if(n=new Date(t),n.setHours(0,0,0,0),i=n.getTime(),i+=this.MILLISECONDS_IN_DAY,0<this.disabledDaySet.length){-1!=this.disabledDaySet.indexOf(n.day)&&(n=new pt(t,i-1),s=this.getActualDisabledRange(n,s));for(var r=i,a=0;a<this.disabledDaySet.length;a++){var o=this.disabledDaySet[a];for(i=r;i<e;)n=new Date(i),n=n.day,n==o?(n=new pt(i,i+this.MILLISECONDS_IN_DAY-1),s=this.getActualDisabledRange(n,s)):(n<o?(n=o-n,i+=n*this.MILLISECONDS_IN_DAY):(n=this.DAYS_IN_WEEK-n,i+=(n+o)*this.MILLISECONDS_IN_DAY),i<e&&(n=new pt(i,i+this.MILLISECONDS_IN_DAY-1),s=this.getActualDisabledRange(n,s))),i+=this.MILLISECONDS_IN_WEEK;i==e&&(n=new Date(i),n=n.day,n==o&&(n=new pt(i,i+this.MILLISECONDS_IN_DAY-1),s=this.getActualDisabledRange(n,s)))}}i=this.disabledRangeSet.length;for(var a=0;a<i&&e>this.disabledRangeSet[a].rangeStart;a++)s+=this.disabledRangeSet[a].rangeEnd-this.disabledRangeSet[a].rangeStart;return s},ut.prototype.getActualDisableRange=function(t,e){var i=!1;if(0!=this.disabledRangeSet.length)for(var n=0;n<this.disabledRangeSet.length;){if(t.rangeStart>=this.disabledRangeSet[n].rangeStart&&t.rangeEnd<=this.disabledRangeSet[n].rangeEnd){i=!0;break}t.rangeStart>=this.disabledRangeSet[n].rangeStart&&t.rangeStart<this.disabledRangeSet[n].rangeEnd&&t.rangeEnd>this.disabledRangeSet[n].rangeEnd?(t.rangeStart=this.disabledRangeSet[n].rangeEnd,n=0):t.rangeStart<=this.disabledRangeSet[n].rangeStart&&t.rangeEnd>this.disabledRangeSet[n].rangeStart&&t.rangeEnd<this.disabledRangeSet[n].rangeEnd?(t.rangeEnd=this.disabledRangeSet[n].rangeStart,n=0):n++}return i||(e+=t.rangeEnd-t.rangeStart),e},ut.prototype.getDisabledRange=function(t,e,i){var n;switch(n=0,n=t,i){case"years":i=this.MILLISECONDS_IN_YEAR;break;case"months":i=this.MILLISECONDS_IN_MONTH;break;default:i=this.MILLISECONDS_IN_DAY}if(this.begin?Math.abs(t-this.minimum)<i&&(this.disabledDayDifference=0,this.begin=!1):this.begin=!0,this.disabledDaySet)for(;n<e;n+=this.MILLISECONDS_IN_DAY)t=new Date(n),-1!=this.disabledDaySet.indexOf(t.day)&&(t=new pt(n,Math.min(n+this.MILLISECONDS_IN_DAY-1,e)),this.disabledDayDifference=this.getActualDisabledRange(t,this.disabledDayDifference));for(n=this.disabledDayDifference,t=0,i=this.disabledRangeSet.length,t=0;t<i&&e>this.disabledRangeSet[t].rangeStart;t++)n+=this.disabledRangeSet[t].rangeEnd-this.disabledRangeSet[t].rangeStart;return n},ut.prototype.isDisabled=function(t){var e,i=!1;e=new Date(t);var n=this.disabledRangeSet.length;if(this.disabledDaySet&&-1!=this.disabledDaySet.indexOf(e.day))return!0;for(e=0;e<n;e++){if(t>=this.disabledRangeSet[e].rangeStart&&t<=this.disabledRangeSet[e].rangeEnd){i=!0;break}if(t<this.disabledRangeSet[e].rangeStart)break}return i},ge(mt,_e),mt.prototype.transformCache=function(t,e,i,n,s){},mt.prototype.invertTransform=function(){return null},mt.prototype.dataChanged=function(){for(var t in this.axes)this.axes[t]&&a(this.axes[t].dataChanged)&&this.axes[t].dataChanged()},mt.prototype.describeData=function(t,e){var i,n,s=this.elements.length,r=[];for(i=0;i<s;i++)(n=this.elements[i])&&(r=r.concat(n.describeData(t,e)));return r},mt.prototype.getAxis=function(t){var e;return this.axes[t]||(e=new xt,e.autoAdjust=!1,this._setAxisNoEvent(t,e)),this.axes[t]},mt.prototype.setAxis=function(t,e){this._setAxisNoEvent(t,e)&&this._mappingChangeHandler()},mt.prototype._setAxisNoEvent=function(t,e){var i=this.axes[t];return i!=e&&(i&&(i.unregisterDataTransform(this),i.removeEventListener("mappingChange",this._mappingChangeHandler,this)),this.axes[t]=e,e.registerDataTransform(this,t),e.addEventListener("mappingChange",this._mappingChangeHandler,this),!0)},mt.prototype._mappingChangeHandler=function(){var t,e,i=this.elements.length;for(t=0;t<i;t++)(e=this.elements[t])&&a(e.mappingChanged)&&e.mappingChanged()},_t.RADIAL_AXIS="r",_t.ANGULAR_AXIS="a",_t.TWO_PI=2*Math.PI,ge(_t,mt),_t.prototype.setRadius=function(t,e){this.radius=t,this.origin=e},_t.prototype.invertTransform=function(t){0<t.length&&null!=t[0]&&((void 0)[0]=this.getAxis("a").invertTransform(t[0]/_t.TWO_PI)),1<t.length&&null!=t[1]&&((void 0)[1]=this.getAxis("r").invertTransform(t[1]/this._radius))},_t.prototype.transformCache=function(t,e,i,n,s,r){var a,o;if(null!=e)for(this.getAxis("a").transformCache(t,e,i),o=t.length,e=0;e<o;e++)a=t[e][i],null!=a&&(t[e][i]=r?Number(a)*Math.PI:Number(a)*_t.TWO_PI);if(null!=n)for(this.getAxis("r").transformCache(t,n,s),o=t.length,e=0;e<o;e++)a=t[e][s],null!=a&&(t[e][s]=Number(a)*this.radius)},_t.prototype.setSize=function(t,e){this.radius=Math.min(.5*t,.5*e),this.origin=new fe(.5*t,.5*e)},yt.prototype.getLength=function(){return this.cache?this.cache.length:0},yt.prototype.clone=function(){var t=new yt;return Ee.extend(t,this),t},ge(vt,_e),vt.prototype.setChartDataProvider=function(t){},vt.prototype.dispatchEventAxisMapping=function(){this.dispatchEvent(new Ue("mappingChange",this)),this.dispatchEvent(new Ue("axisChange",this))},vt.prototype.describeData=function(t){var e,i=[],n=this._transforms.length;for(e=0;e<n;e++)i=i.concat(this._transforms[e].transform.describeData(this._transforms[e].dimension,t));return i},vt.prototype.registerDataTransform=function(t,e){this._transforms.push({transform:t,dimension:e}),this.dataChanged()},vt.prototype.unregisterDataTransform=function(t){var e,i=this._transforms.length;for(e=0;e<i;e++)if(this._transforms[e].transform==t){this._transforms.splice(e,1);break}this.dataChanged()},vt.prototype.dataChanged=function(){},ge(bt,vt),bt.prototype.getDirection=function(){return this._direction},bt.prototype.setDirection=function(t){this._direction=t},bt.prototype.getTicks=function(){var t,e=[],i=this.labelCache.length;for(t=0;t<i;t++)e.push(this.labelCache[t].position);return e},bt.prototype.getMinorTicks=function(){return this.minorTickCache||(this.minorTickCache=this.buildMinorTickCache()),this.minorTickCache},bt.prototype.getDataDescriptions=function(){return this._cachedDataDescriptions||(this._cachedDataDescriptions=this.describeData(this.requiredDescribedFields),this._cachedValuesHaveBounds=!1),this._cachedDataDescriptions},bt.prototype.getBaseline=function(){return 0<=this.computedMinimum?this.computedMinimum:0>=this.computedMaximum?this.computedMaximum:0},bt.prototype.buildMinorTickCache=function(){return[]},bt.prototype.preferDropLabels=function(){return!0},bt.prototype.update=function(){this.updateCache(!0,0)},bt.prototype.updateCache=function(t,e){if(this._regenerateAutoValues){var i,n=this.unitSize,s=.5*this.unitSize,r=this.computedMinimum,a=this.computedMaximum,l=this.computedInterval,h=this.getDataDescriptions();for(i=o(this.assignedMinimum)||o(this.assignedMaximum),o(this.assignedMinimum)||(this.computedMinimum=this.assignedMinimum),o(this.assignedMaximum)||(this.computedMaximum=this.assignedMaximum),i&&this.autoGenerate(t,e),this.adjustMinMax(this.computedMinimum,this.computedMaximum),this.labelMinimum=this.computedMinimum,this.labelMaximum=this.computedMaximum,(this.autoAdjust||i)&&t&&this._cachedValuesHaveBounds&&this.adjustForMargins(e),o(this.padding)||(this.labelMinimum-this.computedMinimum<this.padding*n&&(this.computedMinimum=this.labelMinimum-this.padding*n),this.computedMaximum-this.labelMaximum<this.padding*n&&(this.computedMaximum=this.labelMaximum+this.padding*n)),i=0;i<h.length;i++){var d=h[i];o(d.padding)||(o(this.assignedMinimum)&&d.min-this.computedMinimum<d.padding*n&&(this.computedMinimum=d.min-d.padding*n),o(this.assignedMaximum)&&this.computedMaximum-d.max<d.padding*n&&(this.computedMaximum=d.max+d.padding*n))}this.computedMinimum==this.computedMaximum&&(this.computedMinimum-=s,this.computedMaximum+=s),r==this.computedMinimum&&a==this.computedMaximum&&l==this.computedInterval||(this.minorTickCache=this.labelCache=null),this._regenerateAutoValues=!1}},bt.prototype.adjustMinMax=function(t,e){},bt.prototype.autoGenerate=function(t,e){var i,n,s,r=this.getDataDescriptions(),a=r.length;if(this.autoAdjust&&this.baseAtZero&&("inverted"==this._direction?s=this.zeroValue():n=this.zeroValue()),0<a)for("inverted"==this._direction?(n=r[0].min,!o(s)&&n>s&&(i=s,s=n,n=i),o(s)?s=r[0].max:o(r[0].max)||(s=Math.max(s,r[0].max))):(s=r[0].max,!o(n)&&n>s&&(i=s,s=n,n=i),o(n)?n=r[0].min:o(r[0].min)||(n=Math.min(n,r[0].min))),i=0;i<a;i++){var l=r[i];o(n)?n=l.min:o(l.min)||(n=Math.min(n,l.min)),o(s)?s=l.max:o(l.max)||(s=Math.max(s,l.max)),this._cachedValuesHaveBounds=this._cachedValuesHaveBounds||l.boundedValues&&0<l.boundedValues.length}(r=this.guardMinMax(n,s))&&(n=r[0],s=r[1]),o(this.assignedMinimum)&&(this.computedMinimum=n),o(this.assignedMaximum)&&(this.computedMaximum=s)},bt.prototype.buildLabelCache=function(){return!1},bt.prototype.mapCache=function(t,e,n,s){var a,o=t.length;for(s=0;s<o&&null==t[s][e];s++);if(s!=o)if(i(t[s][e])||r(t[s][e]))for(;s<o;s++)a=t[s],a[n]=null==a[e]||""==a[e].toString()?NaN:Number(a[e]);else for(;s<o;s++)a=t[s],a[n]=parseFloat(a[e])},bt.prototype.filterCache=function(t,e,i){this.update();var n,s,r=t.length,a=this.computedMaximum+1e-5,o=this.computedMinimum-1e-5;for(n=0;n<r;n++)s=t[n][e],t[n][i]=s>=o&&s<=a?s:NaN;return t},bt.prototype.transformCache=function(t,e,i){this.update();var n,s=t.length,r=this.computedMaximum-this.computedMinimum;for(n=0;n<s;n++)t[n][i]=(t[n][e]-this.computedMinimum)/r},bt.prototype.invertTransform=function(t){return this.update(),t*(this.computedMaximum-this.computedMinimum)+this.computedMinimum},bt.prototype.formatForScreen=function(t){return t="inverted"==this._direction?-Number(t):Number(t),t.toString()},bt.prototype.getLabelEstimate=function(){return this.labelCache&&this.invalidateCache(),this.update(),this.buildLabelCache()&&(this._labelSet=new Ct,this._labelSet.labels=this.labelCache,this._labelSet.accurate=0==this._cachedValuesHaveBounds,this._labelSet.minorTicks=this.getMinorTicks(),this._labelSet.ticks=this.getTicks()),this._labelSet},bt.prototype.getLabels=function(t){return this._cachedValuesHaveBounds||!this.labelCache?(this._regenerateAutoValues=!0,this.updateCache(!0,t),t=this.buildLabelCache()):t=!1,t&&(this._labelSet=new Ct,this._labelSet.labels=this.labelCache,this._labelSet.minorTicks=this.getMinorTicks(),this._labelSet.ticks=this.getTicks()),this._labelSet},bt.prototype.adjustForMargins=function(t){var e,i,n,s=0,r=!0,a=this.computedMinimum,l=this.computedMaximum,h=!0,d=[],c=this.getDataDescriptions();for(i=c.length,e=0;e<i;e++)c[e].boundedValues&&(d=d.concat(c[e].boundedValues));for(i=d.length,e=0;e<i;e++)d[e].lowerMargin<t&&d[e].upperMargin<t||(h=!1);if(0<d.length&&0<t&&h)for(o(a)&&(a=d[0].value),o(l)&&(l=d[0].value),n=l-a,i=d.length;r;){var u,p,g,f,c=h=0,m=a,_=l,y=0,v=t;for(e=0;e<i;e++)u=d[e],p=(u.value-a)/n*t,!o(u.lowerMargin)&&p-u.lowerMargin<v&&(v=p-u.lowerMargin,g=u),!o(u.upperMargin)&&p+u.upperMargin>y&&(y=p+u.upperMargin,f=u);if(-1e-4<v&&y<t+1e-4)break;if(y>t?(_=f.value,h=f.upperMargin):r=!1,0>v?(m=g.value,c=g.lowerMargin):r=!1,a=t-h,a=(a*m-c*_)/Math.abs(a-c),l=t*(_-a)/(t-h)+a,n=l-a,3==s++)break}(t=this.guardMinMax(a,l))&&(a=t[0],l=t[1]),o(this.assignedMinimum)&&(this.computedMinimum=a),o(this.assignedMaximum)&&(this.computedMaximum=l)},bt.prototype.dataChanged=function(){this._cachedDataDescriptions=this.minorTickCache=null,this._regenerateAutoValues=!0,(o(this.assignedMinimum)||o(this.assignedMaximum))&&(this.dispatchEvent(new Ue("mappingChange")),this.dispatchEvent(new Ue("axisChange")))},bt.prototype.invalidateCache=function(){this.minorTickCache=null,this._regenerateAutoValues=!0,this.labelCache=null},bt.prototype.setGroupCategoryValues=function(){},ge(xt,bt),xt.prototype.getDirection=function(){return this._direction},xt.prototype.setDirection=function(t){this.labelCache=null,this.minorTickCache=[],this._labelSet=[],"inverted"==t?(o(this._actualAssignedMaximum)||(this.computedMinimum=-this._actualAssignedMaximum,this.assignedMinimum=-this._actualAssignedMaximum),o(this._actualAssignedMinimum)||(this.computedMaximum=-this._actualAssignedMinimum,this.assignedMaximum=-this._actualAssignedMinimum)):(o(this._actualAssignedMaximum)||(this.assignedMaximum=this.computedMaximum=this._actualAssignedMaximum),o(this._actualAssignedMinimum)||(this.assignedMinimum=this.computedMinimum=this._actualAssignedMinimum)),bt.prototype.setDirection.call(this,t)},xt.prototype.getInterval=function(){return this.computedInterval},xt.prototype.setInterval=function(t){0>=t&&(t=NaN),this.invalidateCache.call(this),this._labelSet=[],this.computedInterval=this._userInterval=t},xt.prototype.getMaximum=function(){return"inverted"==this._direction?-this.computedMinimum:this.computedMaximum},xt.prototype.setMaximum=function(t){this.invalidateCache.call(this),this._labelSet=[],"inverted"==this._direction?(this.assignedMinimum=-t,this.computedMinimum=-t):this.computedMaximum=this.assignedMaximum=t,this._actualAssignedMaximum=t,this.invalidateCache.call(this),this.dispatchEvent(new Ue("mappingChange")),this.dispatchEvent(new Ue("axisChange"))},xt.prototype.getMinimum=function(){return"inverted"==this._direction?-this.computedMaximum:this.computedMinimum},xt.prototype.setMinimum=function(t){this.invalidateCache.call(this),this._labelSet=[],"inverted"==this._direction?(this.assignedMaximum=-t,this.computedMaximum=-t):this.computedMinimum=this.assignedMinimum=t,this._actualAssignedMinimum=t,this.invalidateCache.call(this),this.dispatchEvent(new Ue("mappingChange")),this.dispatchEvent(new Ue("axisChange"))},xt.prototype.getMinorInterval=function(){return this._minorInterval},xt.prototype.setMinorInterval=function(t){0>=t&&(t=NaN),this.invalidateCache.call(this),this._minorInterval=this._userMinorInterval=t},xt.prototype.getTicks=function(){var t,e,i=[];if(this.ticksBetweenLabels){if(e=this.labelCache.length,2<=e){var n,s=1/e/2;for(t=0;t<e;t++)n=this.labelCache[t].position-s,i.push(n)}}else for(e=this.labelCache.length,t=0;t<e;t++)i.push(this.labelCache[t].position);return i},xt.prototype.buildMinorTickCache=function(){var t,e,i=[];e=this._originalComputedMaximum;var n=(o(e)?this.computedMaximum:e)-this.computedMinimum;for(t=this.labelMinimum-Math.floor((this.labelMinimum-this.computedMinimum)/this._minorInterval)*this._minorInterval,this.alignLabelsToInterval&&(t=Math.ceil(t/this._minorInterval)*this._minorInterval),e=this.computedMaximum;t<=e;t+=this._minorInterval)i.push((t-this.computedMinimum)/n);return i},xt.prototype.buildLabelCache=function(){if(this.labelCache)return!1;this.labelCache=[];var t,e,i;i=this.labelJsFunction;var n=this._maximumLabelPrecision,s=this._originalComputedMaximum,s=o(s)?this.computedMaximum:s,r=s-this.computedMinimum;if(t=this.labelMinimum-Math.floor((this.labelMinimum-this.computedMinimum)/this.computedInterval)*this.computedInterval,this.alignLabelsToInterval&&(t=Math.ceil(t/this.computedInterval)*this.computedInterval),o(n)&&(e=Math.abs(this.computedInterval)-Math.floor(Math.abs(this.computedInterval)),n=0==e?1:-Math.floor(Math.log(e)/Math.LN10),e=Math.abs(this.computedMinimum)-Math.floor(Math.abs(this.computedMinimum)),n=Math.max(n,0==e?1:-Math.floor(Math.log(e)/Math.LN10))),n=Math.pow(10,n),null!=i)for(;t<=s;t+=this.computedInterval)e=Math.round(t*n)/n,"inverted"==this._direction&&(e=-e),this.labelFunction&&(e=this.labelFunction(e)),i&&(e=ri.axisFunc(this,e,i)),this.labelCache.push(new St((t-this.computedMinimum)/r,t,e));else for(;t<=s;t+=this.computedInterval)e=Math.round(t*n)/n,"inverted"==this._direction&&(e=-e),i=this.labelFunction?this.labelFunction(e):null!=this.formatter?this.formatter.format(e.toString()):e.toString(),this.labelCache.push(new St((t-this.computedMinimum)/r,t,i));return!0},xt.prototype.describeData=function(t){var e,i,n,s,r,a=[];for(e=0;e<this._transforms.length;e++)for(i=this._transforms[e].transform,s=i.elements,n=s.length,i=0;i<n;++i)(r=s[i])&&(a=a.concat(r.describeData(this._transforms[e].dimension,t)));return a},xt.prototype.adjustMinMax=function(t,e){var i,n,s;(0!=this.autoAdjust||o(this._userInterval)||o(this._userMinorInterval))&&(0==e&&0==t&&(e=100),i=Math.floor(Math.log(Math.abs(e-t))/Math.LN10),o(this._userInterval)?(s=Math.pow(10,i),4>Math.abs(e-t)/s&&(s=0<this._transforms.length&&"r"==this._transforms[0].dimension?4*s/10:2*s/10)):s=this._userInterval,i=Math.round(e/s)*s==e?e:(Math.floor(e/s)+1)*s,isFinite(t),0>t||0==this.baseAtZero?(n=Math.floor(t/s)*s,0>e&&this.baseAtZero&&(i=0)):n=0,o(this._userInterval)&&(this.computedInterval=s),o(this._userMinorInterval)&&(this._minorInterval=this.computedInterval/2),this.autoAdjust&&(o(this.assignedMinimum)&&(this.computedMinimum=n),o(this.assignedMaximum)&&(this.computedMaximum=i)))},xt.prototype.reduceLabels=function(t,e){var i,n=[],s=[],r=[],a=this.labelCache.length,o=this.computedMaximum-this.computedMinimum,l=Math.round((Number(e.value)-Number(t.value))/this.computedInterval)+1,h=l*this._minorInterval,d=this.computedMaximum+1e-6,c=this.labelMinimum-Math.floor((this.labelMinimum-this.computedMinimum)/h)*h;for(i=0;i<a;i+=l)n.push(this.labelCache[i]),s.push(this.labelCache[i].position);for(this.alignLabelsToInterval&&(c=Math.ceil(c/h)*h),i=c;i<=d;i+=h)r.push((i-this.computedMinimum)/o);return o=new Ct,o.labels=n,o.minorTicks=r,o.ticks=s,o.accurate=!0,o},ge(wt,bt),wt.prototype.getInterval=function(){return Math.pow(10,this.computedInterval)},wt.prototype.setInterval=function(t){o(t)||(this.value=Math.max(1,Math.round(Math.log(t)/Math.LN10))),o(t)&&(this.value=1),this.computedInterval=this.value,this.invalidateCache.call(this)},wt.prototype.getMaximum=function(){return Math.pow(10,this.computedMaximum)},wt.prototype.setMaximum=function(t){this.assignedMaximum=this.computedMaximum=Math.ceil(Math.log(t)/Math.LN10),this.invalidateCache.call(this)},wt.prototype.getMinimum=function(){return Math.pow(10,this.computedMinimum)},wt.prototype.setMinimum=function(t){this.computedMinimum=this.assignedMinimum=0==t?NaN:Math.round(Math.log(t)/Math.LN10),this.invalidateCache.call(this)},wt.prototype.adjustMinMax=function(t,e){this.computedMinimum=Math.floor(this.computedMinimum),this.computedMaximum=Math.ceil(this.computedMaximum)},wt.prototype.mapCache=function(t,e,i,n){var s,r=t.length,a=Math.LN10,o=this.parseFunction;if(null!=o)for(n=0;n<r;n++)s=t[n],s[i]=Math.log(Number(o(s[e])))/a;else{for(n=0;n<r&&null==t[n][e];n++);if(n!=r)if("string"==typeof t[n][e])for(n=0;n<r;n++)s=t[n],s[i]=Math.log(Number(s[e]))/a;else if("number"==typeof t[n][e])for(n=0;n<r;n++)s=t[n],s[i]=null==s[e]?NaN:Math.log(s[e])/a;else for(n=0;n<r;n++)s=t[n],s[i]=Math.log(parseFloat(s[e]))/a}},wt.prototype.buildLabelCache=function(){if(this.labelCache)return!1;this.labelCache=[];var t,e,i,n,s=this.computedMaximum+1e-6,r=this.computedMaximum-this.computedMinimum;if(t=this.labelMinimum-Math.floor((this.labelMinimum-this.computedMinimum)/this.computedInterval)*this.computedInterval,o(this._labelPrecision)||(i=Math.pow(10,this._labelPrecision)),null!=this.labelJsFunction)for(;t<=s;t+=this.computedInterval)e=Math.pow(10,t),n=o(this._labelPrecision)?e:Math.round(e*i)/i,this.labelCache.push(new St((t-this.computedMinimum)/r,e,ri.axisFunc(this,n,this.labelJsFunction)));else for(;t<=s;t+=this.computedInterval)e=Math.pow(10,t),n=o(this._labelPrecision)?e:Math.round(e*i)/i,null!=this.formatter?this.labelCache.push(new St((t-this.computedMinimum)/r,e,this.formatter.format(n.toString()))):this.labelCache.push(new St((t-this.computedMinimum)/r,e,n.toString()));return!0},wt.prototype.buildMinorTickCache=function(){var t,e=[];for(t=0;t<this.labelCache.length;t++)e.push(this.labelCache[t].position);return e},wt.prototype.reduceLabels=function(t,e){var i,n,s=Math.round(Math.log(Number(e.value))/Math.LN10-Math.log(Number(t.value))/Math.LN10),s=Math.floor(s/this.computedInterval)+1,r=[],a=[],o=[];for(i=0;i<this.labelCache.length;i+=s)n=this.labelCache[i],r.push(n),a.push(n.position),o.push(n.position);return i=new Ct,i.labels=r,i.minorTicks=o,i.ticks=a,i.accurate=!0,i},wt.prototype.invertTransform=function(t){return Math.pow(10,t*(this.computedMaximum-this.computedMinimum)+this.computedMinimum)},wt.prototype.guardMinMax=function(t,e){return!o(t)&&isFinite(t)||(t=0),!o(e)&&isFinite(e)||(e=t+2),e==t&&(e=t+2),[t,e]},ge(Tt,vt),Tt.prototype.getMinimum=function(){return this._minimum},Tt.prototype.setMinimum=function(t){this._minimum=t,this.invalidateCategories()},Tt.prototype.getMaximum=function(){return this._maximum},Tt.prototype.setMaximum=function(t){this._maximum=t,this.invalidateCategories()},Tt.prototype.setChartDataProvider=function(t){this._chartDataProvider!==t&&(this._chartDataProvider=t,this.invalidateCategories())},Tt.prototype.invalidateCategories=function(){this._cachedTicks=this._cachedMinorTicks=this._labelSet=null,this.dispatchEvent(new Ue("mappingChange",this)),this.dispatchEvent(new Ue("axisChange",this))},Tt.prototype.preferDropLabels=function(){return!1},Tt.prototype.mapCache=function(t,e,i,n){var s,a,o=t.length;for(this.update(),s=0;s<o&&null==t[s][e];s++);if(s!=o)if(a=t[s][e],r(a)&&1==n)for(s=0;s<o;s++)n=t[s],n[i]=n[e];else for(;s<o;s++)t[s][i]=this._catMap[t[s][e]]},Tt.prototype.filterCache=function(t,e,i){this.update();var n,s,r=this._categoryValues.length-1+this.padding+1e-6,a=-this.padding-1e-6,o=t.length;for(n=0;n<o;n++)s=t[n][e],t[n][i]=s>=a&&s<r?s:NaN;return t},Tt.prototype.transformCache=function(t,e,i){this.update();var n=o(this._maximum)?this._categoryValues.length:this._maximum+1;n>this._categoryValues.length&&(n=this._categoryValues.length);var s=o(this._minimum)?0:this._minimum;0>s&&(s=0);for(var s=s-this.padding,r=n-1+this.padding-s,n=0;n<t.length;n++)t[n][i]=(t[n][e]-s)/r},Tt.prototype.invertTransform=function(t){this.update();var e=o(this._maximum)?this._categoryValues.length:this._maximum+1;e>this._categoryValues.length&&(e=this._categoryValues.length);var i=o(this._minimum)?0:this._minimum;return 0>i&&(i=0),i-=this.padding,Math.round(t*(e-1+this.padding-i)+i)},Tt.prototype.formatForScreen=function(t){if(r(t)&&t<this._categoryValues.length){var e=this._categoryValues[Math.round(Number(t))];return null==e?t.toString():e.toString()}return t.toString()},Tt.prototype.getLabelEstimate=function(){return this.update(),this._labelSet},Tt.prototype.getLabels=function(t){return this.update(),this._labelSet},Tt.prototype.reduceLabels=function(t,e){var i=this._catMap[e.value]-this._catMap[t.value]+1;if(0>=i)return null;var n,s=[],r=[],a=this._categoryValues.length;for(a<this._labelsMatchToCategoryValuesByIndex.length&&(a=this._labelsMatchToCategoryValuesByIndex.length),n=0;n<a;n+=i)this._labelsMatchToCategoryValuesByIndex[n]&&(s.push(this._labelsMatchToCategoryValuesByIndex[n]),r.push(this._labelsMatchToCategoryValuesByIndex[n].position));return i=new Ct,i.labels=s,i.groupLabels=this._labelSet.groupLabels,i.ticks=r,i.minorTicks=this.generateMinorTicks(),i},Tt.prototype.update=function(){if(!this._labelSet){this._catMap={},this._categoryValues=[],this._labelsMatchToCategoryValuesByIndex=[];var t,e,i=[];if(this._chartDataProvider&&this._chartDataProvider.getLength())if(this._chartDataProvider.getItemAt(0),""==this.categoryField)for(t=0;t<this._chartDataProvider.getLength();t++)e=this._chartDataProvider.getItemAt(t),h(e)||(this._catMap[e.toString()]=t),this._categoryValues[t]=i[t]=e;else for(t=0;t<this._chartDataProvider.getLength();t++)i[t]=this._chartDataProvider.getItemAt(t),i[t]&&this.categoryField in i[t]?(e=i[t][this.categoryField],h(e)||(this._catMap[e.toString()]=t),this._categoryValues[t]=e):this._categoryValues[t]=null;var i=[],n=[];e=o(this._maximum)?this._categoryValues.length:this._maximum+1,e>this._categoryValues.length&&(e=this._categoryValues.length),t=o(this._minimum)?0:this._minimum,0>t&&(t=0);var s,r=t-this.padding,a=e-1+this.padding-r;if(this.labelFunction=this.labelJsFunction,h(this.labelFunction))for(;t<e;t++)h(this._categoryValues[t])||(s=null!=this.formatter&&this.formatter instanceof $e?this.formatter.format(this._categoryValues[t].toString()):this._categoryValues[t].toString(),s=new St((t-r)/a,this._categoryValues[t],s),this._labelsMatchToCategoryValuesByIndex[t]=s,i.push(s));else for(;t<e;t++)null!=this._categoryValues[t]&&(s=new St((t-r)/a,this._categoryValues[t],ri.axisFunc(this,this._categoryValues[t],this.labelFunction)),this._labelsMatchToCategoryValuesByIndex[t]=s,i.push(s));if(this._groupCategoryValues){e=this._groupCategoryValues.length;var l,d,c,u=0;for(t=0;t<e;t+=1)for(u=0,n[t]=[],c=this._groupCategoryValues[t],l=0,d=c.length;l<d;l+=1)s=new St((u+.5*(c[l].count-1)-r)/a,c[l],c[l][this.groupCategoryField]),this.groupLabelJsFunction&&(s.text=ri.axisFunc(this,c[l][this.groupCategoryField],this.groupLabelJsFunction)),s.rowIndex=t,s.start=u/a,s.end=(u+c[l].count)/a,n[t].push(s),u+=c[l].count}this._labelSet=new Ct,this._labelSet.labels=i,this._labelSet.groupLabels=n,this._labelSet.accurate=!0,this._labelSet.minorTicks=this.generateMinorTicks(),this._labelSet.ticks=this.generateTicks()}},Tt.prototype.generateTicks=function(){if(!this._cachedTicks){this._cachedTicks=[];var t,e,i,n=o(this._maximum)?this._categoryValues.length:this._maximum+1;if(n>this._categoryValues.length&&(n=this._categoryValues.length),t=o(this._minimum)?0:this._minimum,0>t&&(t=0),e=t-this.padding,i=n-1+this.padding-e,0==this.ticksBetweenLabels)for(;t<n;t++)this._cachedTicks.push((t-e)/i);else for(this._cachedMinorTicks=[],n=.5>this.padding?n-1.5:n-.5,t-=.5>this.padding?.5:-.5;t<=n;t+=1)this._cachedTicks.push((t-e)/i)}return this._cachedTicks},Tt.prototype.generateMinorTicks=function(){if(!this._cachedMinorTicks){this._cachedMinorTicks=[];var t,e,i,n,s=o(this._maximum)?this._categoryValues.length:this._maximum+1;if(s>this._categoryValues.length&&(s=this._categoryValues.length),t=o(this._minimum)?0:this._minimum,0>t&&(t=0),e=t-this.padding,i=s-1+this.padding,n=i-e,0==this.ticksBetweenLabels)for(s=i>=s-.5?s:s-1,t-=-.5>=e?0:1;t<=s;t++)this._cachedMinorTicks.push((t-.5-e)/n);else for(;t<s;t++)this._cachedMinorTicks.push((t-e)/n)}return this._cachedMinorTicks},Tt.prototype.dataChanged=function(){bt.prototype.dataChanged.call(this),this._cachedTicks=this._cachedMinorTicks=this._labelSet=null},ge(Dt,bt),Dt.prototype.getRequiredDescribedFields=function(){var t=ct.REQUIRED_MIN_MAX|ct.REQUIRED_BOUNDS_VALUES;return null==this._userDataUnits&&(t|=ct.REQUIRED_MIN_INTERVAL),t},Dt.prototype.getDataInterval=function(){return this._dataInterval},Dt.prototype.setDataInterval=function(t){o(t)&&(t=1),this._dataInterval=this._userDataInterval=t,this.unitSize=null!=this._userDataUnits?this.toMilli(this._dataInterval,this._userDataUnits):this.MILLISECONDS_IN_DAY,this.invalidateCache.call(this),this.dispatchEventAxisMapping()},Dt.prototype.getDataUnits=function(){return this._dataUnits},Dt.prototype.setDataUnits=function(t){this._dataUnits=this._userDataUnits=t,this.unitSize=null!=this._dataUnits?this.toMilli(this._dataInterval,this._dataUnits):this.MILLISECONDS_IN_DAY,this.invalidateCache.call(this),this.dispatchEventAxisMapping()},Dt.prototype.getDisplayLocalTime=function(){return this._displayLocalTime},Dt.prototype.setDisplayLocalTime=function(t){this._displayLocalTime=t,this.invalidateCache.call(this),this.dispatchEventAxisMapping(),this.updatePropertyAccessors()},Dt.prototype.getAlignLabelsToUnits=function(){return this._alignLabelsToUnits},Dt.prototype.setAlignLabelsToUnits=function(t){this._alignLabelsToUnits!=t&&(this._alignLabelsToUnits=t),this.invalidateCache.call(this)},Dt.prototype.getInterval=function(){return this._interval},Dt.prototype.setInterval=function(t){this._interval=Math.max(1,t),this.invalidateCache.call(this),this.dispatchEventAxisMapping()},Dt.prototype.getLabelUnits=function(){return this._labelUnits},Dt.prototype.setLabelUnits=function(t){this._userLabelUnits=this._labelUnits=t,this.invalidateCache.call(this),this.dispatchEventAxisMapping()},Dt.prototype.getMaximum=function(){return new Date(this.computedMaximum)},Dt.prototype.setMaximum=function(t){this.assignedMaximum=null!=t?new Date(t).getTime():NaN,this.invalidateCache.call(this),this.dispatchEventAxisMapping()},Dt.prototype.getMinimum=function(){return new Date(this.computedMinimum)},Dt.prototype.setMinimum=function(t){this.assignedMinimum=null!=t?new Date(t).getTime():NaN,this.invalidateCache.call(this),this.dispatchEventAxisMapping()},Dt.prototype.getMinorTickInterval=function(){return this._userMinorTickInterval},Dt.prototype.setMinorTickInterval=function(t){this._userMinorTickInterval=t,this.invalidateCache.call(this)},Dt.prototype.getMinorTickUnits=function(){return this._minorTickUnits},Dt.prototype.setMinorTickUnits=function(t){this._minorTickUnits=this._userMinorTickUnits=t,this.invalidateCache.call(this),this.dispatchEventAxisMapping()},Dt.prototype.getDisableDays=function(){return this._disabledDays},Dt.prototype.setDisableDays=function(t){this._disabledDays=t,this.invalidateCache.call(this),this.dispatchEventAxisMapping()},Dt.prototype.getDisabledRanges=function(){return this._disabledRanges},Dt.prototype.setDisabledRanges=function(t){this._disabledRanges=t,this.invalidateCache.call(this),this.dispatchEventAxisMapping()},Dt.prototype.roundDateUp=function(t,e){switch(e){case"seconds":0<t[this.propGetSet(this.millisecondsP,"get")]()&&(t[this.propGetSet(this.secondsP,"set")](t[this.propGetSet(this.secondsP,"get")]()+1),t[this.propGetSet(this.millisecondsP,"set")](0));break;case"minutes":(0<t[this.propGetSet(this.secondsP,"get")]()||0<t[this.propGetSet(this.millisecondsP,"get")]())&&(t[this.propGetSet(this.minutesP,"set")](t[this.propGetSet(this.minutesP,"get")]()+1),t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0));break;case"hours":(0<t[this.propGetSet(this.minutesP,"get")]()||0<t[this.propGetSet(this.secondsP,"get")]()||0<t[this.propGetSet(this.millisecondsP,"get")]())&&(t[this.propGetSet(this.hoursP,"set")](t[this.propGetSet(this.hoursP,"get")]()+1),t[this.propGetSet(this.minutesP,"set")](0),t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0));break;case"days":(0<t[this.propGetSet(this.hoursP,"get")]()||0<t[this.propGetSet(this.minutesP,"get")]()||0<t[this.propGetSet(this.secondsP,"get")]()||0<t[this.propGetSet(this.millisecondsP,"get")]())&&(t[this.propGetSet(this.hoursP,"set")](0),t[this.propGetSet(this.minutesP,"set")](0),t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0),t[this.propGetSet(this.dateP,"get")](t[this.propGetSet(this.dateP,"get")]()+1));break;case"weeks":t[this.propGetSet(this.hoursP,"set")](0),t[this.propGetSet(this.minutesP,"set")](0),t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0),0!=t[this.propGetSet(this.dayP,"get")]()&&t[this.propGetSet(this.dateP,"set")](t[this.propGetSet(this.dateP,"get")]()+(7-t[this.propGetSet(this.dayP,"get")]()));break;case"months":(1<t[this.propGetSet(this.dateP,"get")]()||0<t[this.propGetSet(this.hoursP,"get")]()||0<t[this.propGetSet(this.minutesP,"get")]()||0<t[this.propGetSet(this.secondsP,"get")]()||0<t[this.propGetSet(this.millisecondsP,"get")]())&&(t[this.propGetSet(this.hoursP,"set")](0),t[this.propGetSet(this.minutesP,"set")](0),
t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0),t[this.propGetSet(this.dateP,"set")](1),t[this.propGetSet(this.monthP,"set")](t[this.propGetSet(this.monthP,"get")]()+1));break;case"years":(0<t[this.propGetSet(this.monthP,"get")]()||1<t[this.propGetSet(this.dateP,"get")]()||0<t[this.propGetSet(this.hoursP,"get")]()||0<t[this.propGetSet(this.minutesP,"get")]()||0<t[this.propGetSet(this.secondsP,"get")]()||0<t[this.propGetSet(this.millisecondsP,"get")]())&&(t[this.propGetSet(this.hoursP,"set")](0),t[this.propGetSet(this.minutesP,"set")](0),t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0),t[this.propGetSet(this.dateP,"set")](1),t[this.propGetSet(this.monthP,"set")](0),t[this.propGetSet(this.fullYearP,"set")](t[this.propGetSet(this.fullYearP,"get")]()+1))}},Dt.prototype.roundDateDown=function(t,e){switch(e){case"seconds":t[this.propGetSet(this.secondsP,"set")](0);break;case"minutes":t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0);break;case"hours":t[this.propGetSet(this.minutesP,"set")](0),t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0);break;case"days":t[this.propGetSet(this.hoursP,"set")](0),t[this.propGetSet(this.minutesP,"set")](0),t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0);break;case"weeks":t[this.propGetSet(this.hoursP,"set")](0),t[this.propGetSet(this.minutesP,"set")](0),t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0),0!=t[this.propGetSet(this.dayP,"get")]()&&t[this.propGetSet(this.dateP,"set")](t[this.propGetSet(this.dateP,"get")]()-t[this.propGetSet(this.dayP,"get")]());break;case"months":t[this.propGetSet(this.hoursP,"set")](0),t[this.propGetSet(this.minutesP,"set")](0),t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0),t[this.propGetSet(this.dateP,"set")](1);break;case"years":t[this.propGetSet(this.hoursP,"set")](0),t[this.propGetSet(this.minutesP,"set")](0),t[this.propGetSet(this.secondsP,"set")](0),t[this.propGetSet(this.millisecondsP,"set")](0),t[this.propGetSet(this.dateP,"set")](1),t[this.propGetSet(this.monthP,"set")](0)}},Dt.prototype.transformCache=function(t,e,i){var n,s=t.length,r=this.computedMaximum-this.computedMinimum-this.dateRangeUtilities.calculateDisabledRange(this.computedMinimum,this.computedMaximum);if(this._disabledRanges||this._disabledDays){var a=0;for(n=0;n<s;n++)a=this.dateRangeUtilities.calculateDisabledRange(this.computedMinimum,t[n][e]),t[n][i]=(t[n][e]-a-this.computedMinimum)/r}else bt.prototype.transformCache.call(this,t,e,i)},Dt.prototype.adjustMinMax=function(t,e){var i,n,s,r=!1;n=this._interval;var a=this.autoAdjust&&o(this.assignedMinimum),l=this.autoAdjust&&o(this.assignedMaximum),h=o(this._interval)?1:this._interval;if(null==this._userDataUnits){s="years",this._dataInterval=1,null!=this._userLabelUnits&&""!=this._userLabelUnits&&(s=this._userLabelUnits);var d=1/0,c=this.getDataDescriptions();for(i=0;i<c.length;i++)n=c[i].minInterval,o(n)||(d=Math.min(n,d));if(1/0==d||0==d)this.unitSize=this.MILLISECONDS_IN_DAY,this._dataUnits="days";else{for(;null!=s&&(this.unitSize=this.toMilli(1,s),!(this.unitSize<=d));)s=this.UNIT_PROGRESSION[s];null==s?this.unitSize=this.MILLISECONDS_IN_DAY:this._dataUnits=s}}else this._dataUnits=this._userDataUnits,this._dataInterval=o(this._userDataInterval)?1:this._userDataInterval;s="years",null!=this._userLabelUnits&&""!=this._userLabelUnits&&(s=this._userLabelUnits);for(var d=s,c=new Date(t),u=new Date(e);null!=s;){switch(d=s,s==this._dataUnits&&(h=Math.max(h,this._dataInterval)),a&&(c.setTime(t),this.roundDateDown(c,s),this.minMilli=c.getTime()),l&&(u.setTime(e),this.roundDateUp(u,s),this.maxMilli=u.getTime()),s){case"milliseconds":this.minMilli=t,this.maxMilli=e;break;case"seconds":case"hours":case"days":case"minutes":case"years":i=this.fromMilli(c.getTime(),s),n=this.fromMilli(u.getTime(),s),n-i>=this.MINIMUM_LABEL_COUNT*h&&(r=!0);break;case"weeks":this.fromMilli(e-t,"weeks")>=this.MINIMUM_LABEL_COUNT*h&&(r=!0);break;case"months":i=c[this.propGetSet(this.monthP,"get")]()+12*c[this.propGetSet(this.fullYearP,"get")](),n=u[this.propGetSet(this.monthP,"get")]()+12*u[this.propGetSet(this.fullYearP,"get")](),n-i>=this.MINIMUM_LABEL_COUNT*h&&(r=!0)}if(r)break;if(s==this._userLabelUnits||null==this.UNIT_PROGRESSION[s])break;if(s==this._dataUnits){if(h<=this._dataInterval)break;h=this._dataInterval}else s=this.UNIT_PROGRESSION[s]}if(this._labelUnits=d,null!=this._userMinorTickUnits&&""!=this._userMinorTickUnits)this._minorTickInterval=o(this._userMinorTickInterval)?1:this._userMinorTickInterval,this._minorTickUnits=this._userMinorTickUnits;else if(1==h)this._minorTickInterval=1,this._minorTickUnits=this._labelUnits;else for(this._minorTickUnits=this._labelUnits,i=2;i<=h;i++)if(0==h%i){this._minorTickInterval=h/i;break}this.invalidateCache.call(this),a&&(this.computedMinimum=this.minMilli),l&&(this.computedMaximum=this.maxMilli),this.computedInterval=h},Dt.prototype.guardMinMax=function(t,e){return o(t)||!isFinite(t)?[0,100]:o(e)||!isFinite(e)||t==e?[t,t+1]:null},Dt.prototype.filterCache=function(t,e,i){bt.prototype.filterCache.call(this,t,e,i);var n,s=t.length;if(this._disabledRanges||this._disabledDays)for(n=0;n<s;n++)t[n][i]=this.dateRangeUtilities.isDisabled(t[n][e])?NaN:t[n][e];return t},Dt.prototype.mapCache=function(t,e,i,n){var s,r=t.length,a=this.parseFunction;if(null!=a)for(n=0;n<r;n++){s=t[n];var l=a(s[e]);null!=l&&(s[i]=l.getTime())}else{for(n=0;n<r&&null==t[n][e];n++);if(n!=r)if("string"==typeof t[n][e])for(;n<r;n++)s=t[n],s[i]=Date.parse(s[e]);else if("xml"==typeof t[n][e]||"xmllist"==typeof t[n][e])if(s=t[n],o(Number(s[e].toString())))for(;n<r;n++)s=t[n],s[i]=Date.parse(s[e].toString());else for(;n<r;n++)s=t[n],s[i]=Number(s[e].toString());else if("date"==typeof t[n][e])for(;n<r;n++)s=t[n],s[i]=s[e].getTime();else for(;n<r;n++)s=t[n],s[i]=s[e]}},Dt.prototype.formatForScreen=function(t){var e=this.tmpDate;return null!=this.parseFunction?e=this.parseFunction(t):"string"==typeof t?e.setTime(Date.parse(t)):"date"==typeof t?e=t:e.setTime(t),this.labelJsFunction?ri.axisFunc(this,e,this.labelJsFunction):null!=this.formatter?this.formatter.format(e):this.chooseLabelFunction()(e,null,this)},Dt.prototype.buildLabelCache=function(){function t(t,e,i){var n="";return n=this.labelJsFunction?ri.axisFunc(this,t,this.labelJsFunction):null!=this.formatter?this.formatter.format(t):i(t,e,this)}this.dateRangeUtilities.createDisabledRangeSet(this._disabledDays,this._disabledRanges,this.computedMinimum,this.computedMaximum);var e=this.chooseLabelFunction();if(this.labelCache)return!1;this.labelCache=[];var i,n,s=0;n=new Date;var r=null;i=!1;var a=this.labelMinimum,o=this.labelMaximum+1e-6;this.toMilli(this.computedInterval,this._labelUnits);var l=this.computedMaximum-this.computedMinimum-this.dateRangeUtilities.calculateDisabledRange(this.computedMinimum,this.computedMaximum);switch(n=new Date(a),this._alignLabelsToUnits&&this.roundDateUp(n,this._labelUnits),a=n.getTime(),this._labelUnits){case"months":for(var h=n[this.propGetSet(this.monthP,"get")]();n.getTime()<=o;)i=n.getTime(),this._disabledDays||this._disabledRanges?(s=null!=r?this.dateRangeUtilities.getDisabledRange(r.getTime()+1,i,this._labelUnits):this.dateRangeUtilities.getDisabledRange(this.computedMinimum,i,this._labelUnits),this.dateRangeUtilities.isDisabled(i)||this.labelCache.push(new St((i-this.computedMinimum-s)/l,new Date(i),t.call(this,n,r,e)))):this.labelCache.push(new St((i-this.computedMinimum)/l,new Date(i),t.call(this,n,r,e))),null==r?r=new Date(i):r.setTime(i),h+=this.computedInterval,n.setTime(a),n[this.propGetSet(this.monthP,"set")](h),n[this.propGetSet(this.monthP,"get")]()!=h%12&&n[this.propGetSet(this.dateP,"set")](0);break;case"years":for(h=n[this.propGetSet(this.fullYearP,"get")]();n.getTime()<=o;)i=n.getTime(),this._disabledDays||this._disabledRanges?(s=null!=r?this.dateRangeUtilities.getDisabledRange(r.getTime()+1,i,this._labelUnits):this.dateRangeUtilities.getDisabledRange(this.computedMinimum,i,this._labelUnits),this.dateRangeUtilities.isDisabled(i)||this.labelCache.push(new St((i-this.computedMinimum-s)/l,new Date(i),t.call(this,n,r,e)))):this.labelCache.push(new St((i-this.computedMinimum)/l,new Date(i),t.call(this,n,r,e))),null==r?r=new Date(i):r.setTime(i),h+=this.computedInterval,n.setTime(a),n[this.propGetSet(this.fullYearP,"set")](h),n[this.propGetSet(this.fullYearP,"get")]()!=h&&n[this.propGetSet(this.dateP,"set")](0);break;default:for(;a<=o;)n=new Date(a),this._disabledDays||this._disabledRanges?(s=null!=r?this.dateRangeUtilities.getDisabledRange(r.getTime()+1,a,this._labelUnits):this.dateRangeUtilities.getDisabledRange(this.computedMinimum,a,this._labelUnits),this.dateRangeUtilities.isDisabled(a)||(this.labelCache.push(new St((a-this.computedMinimum-s)/l,n,t.call(this,n,r,e))),i||(i=!0)),r=n,i?(s=new Date(a),"weeks"==this._labelUnits?s.setUTCDate(s.getUTCDate()+7*this.computedInterval):"hours"==this._labelUnits?s.setUTCHours(s.getUTCHours()+this.computedInterval):"minutes"==this._labelUnits?s.setUTCMinutes(s.getUTCMinutes()+this.computedInterval):"seconds"==this._labelUnits?s.setUTCSeconds(s.getUTCSeconds()+this.computedInterval):"milliseconds"==this._labelUnits?s.setUTCMilliseconds(s.getUTCMilliseconds()+this.computedInterval):s.setUTCDate(s.getUTCDate()+this.computedInterval),a=s.getTime()):a+=this.MILLISECONDS_IN_DAY):(this.labelCache.push(new St((a-this.computedMinimum)/l,n,t.call(this,n,r,e))),r=n,s=new Date(a),"weeks"==this._labelUnits?s.setUTCDate(s.getUTCDate()+7*this.computedInterval):"hours"==this._labelUnits?s.setUTCHours(s.getUTCHours()+this.computedInterval):"minutes"==this._labelUnits?s.setUTCMinutes(s.getUTCMinutes()+this.computedInterval):"seconds"==this._labelUnits?s.setUTCSeconds(s.getUTCSeconds()+this.computedInterval):"milliseconds"==this._labelUnits?s.setUTCMilliseconds(s.getUTCMilliseconds()+this.computedInterval):s.setUTCDate(s.getUTCDate()+this.computedInterval),a=s.getTime())}return!0},Dt.prototype.reduceLabels=function(t,e){this.minorTickCache||(this.minorTickCache=[]);var i=0;switch(this._labelUnits){case"months":i=Math.floor((12*e.value[this.propGetSet(this.fullYearP,"get")]()+e.value[this.propGetSet(this.monthP,"get")]()-(12*t.value[this.propGetSet(this.fullYearP,"get")]()+t.value[this.propGetSet(this.monthP,"get")]()))/this.computedInterval)+1;break;case"years":i=Math.floor((e.value[this.propGetSet(this.fullYearP,"get")]()-t.value[this.propGetSet(this.fullYearP,"get")]())/this.computedInterval)+1;break;default:var n=this.toMilli(this.computedInterval,this._labelUnits),i=Math.floor((e.value.getTime()-t.value.getTime())/n)+1}var s,n=[],r=[],a=[];for(s=0;s<this.labelCache.length;s+=i)n.push(this.labelCache[s]),r.push(this.labelCache[s].position);if(this.computedInterval==this._minorTickInterval&&1<i)for(s=i-1;1<=s;s--)if(0==i%s){i=s;break}for(s=0;s<this.minorTickCache.length;s+=i)a.push(this.minorTickCache[s]);return i=new Ct,i.labels=n,i.minorTicks=a,i.ticks=r,i.accurate=!0,i},Dt.prototype.buildMinorTickCache=function(){var t,e,i=0;t=new Date;var n=null,s=[],r=this.labelMinimum,a=this.labelMaximum+1e-6;this.toMilli(this._minorTickInterval,this._minorTickUnits);var o=this.computedMaximum-this.computedMinimum-this.dateRangeUtilities.calculateDisabledRange(this.computedMinimum,this.computedMaximum);switch(e=new Date(r),this._alignLabelsToUnits&&this.roundDateUp(e,this._minorTickUnits),r=e.getTime(),this._minorTickUnits){case"months":for(var l=e[this.propGetSet(this.monthP,"get")]();e.getTime()<=a;)t=e.getTime(),this._disabledDays||this._disabledRanges?(i=null!=n?this.dateRangeUtilities.getDisabledRange(n.getTime()+1,t,this._minorTickUnits):this.dateRangeUtilities.getDisabledRange(this.computedMinimum,t,this._minorTickUnits),this.dateRangeUtilities.isDisabled(t)||s.push((t-this.computedMinimum-i)/o)):s.push((t-this.computedMinimum)/o),null==n?n=new Date(t):n.setTime(t),l+=this._minorTickInterval,e.setTime(r),e[this.propGetSet(this.monthP,"set")](l),e[this.propGetSet(this.monthP,"get")]()!=l%12&&e[this.propGetSet(this.dateP,"set")](0);break;case"years":for(l=e[this.propGetSet(this.fullYearP,"get")]();e.getTime()<=a;)t=e.getTime(),this._disabledDays||this._disabledRanges?(i=null!=n?this.dateRangeUtilities.getDisabledRange(n.getTime()+1,t,this._minorTickUnits):this.dateRangeUtilities.getDisabledRange(this.computedMinimum,t,this._minorTickUnits),this.dateRangeUtilities.isDisabled(t)||s.push((t-this.computedMinimum-i)/o)):s.push((t-this.computedMinimum)/o),null==n?n=new Date(t):n.setTime(t),l+=this._minorTickInterval,e.setTime(r),e[this.propGetSet(this.fullYearP,"set")](l),e[this.propGetSet(this.fullYearP,"get")]()!=l&&e[this.propGetSet(this.dateP,"set")](0);break;default:for(e=r;e<=a;)t=new Date(e),this._disabledDays||this._disabledRanges?(i=null!=n?this.dateRangeUtilities.getDisabledRange(n.getTime()+1,e,this._minorTickUnits):this.dateRangeUtilities.getDisabledRange(this.computedMinimum,e,this._minorTickUnits),this.dateRangeUtilities.isDisabled(e)||s.push((e-this.computedMinimum-i)/o)):s.push((e-this.computedMinimum)/o),n=t,i=new Date(e),"weeks"==this._minorTickUnits?i.dateUTC+=7*this._minorTickInterval:"hours"==this._minorTickUnits?i.hoursUTC+=this._minorTickInterval:"minutes"==this._minorTickUnits?i.minutesUTC+=this._minorTickInterval:"seconds"==this._minorTickUnits?i.secondsUTC+=this._minorTickInterval:"milliseconds"==this._minorTickUnits?i.millisecondsUTC+=this._minorTickInterval:i.dateUTC+=this._minorTickInterval,e=i.time}return s},Dt.prototype.formatYears=function(t,e,i){return t[i.propGetSet(i.fullYearP,"get")]().toString()},Dt.prototype.formatMonths=function(t,e,i){return e=t[i.propGetSet(i.fullYearP,"get")](),t[i.propGetSet(i.monthP,"get")]()+1+"/"+(10>e%100?"0"+e%100:e%100)},Dt.prototype.formatDays=function(t,e,i){return e=t[i.propGetSet(i.fullYearP,"get")](),t[i.propGetSet(i.monthP,"get")]()+1+"/"+t[i.propGetSet(i.dateP,"get")]()+"/"+(10>e%100?"0"+e%100:e%100)},Dt.prototype.formatMinutes=function(t,e,i){return t[i.propGetSet(i.hoursP,"get")]()+":"+(10>t[i.propGetSet(i.minutesP,"get")]()?"0"+t[i.propGetSet(i.minutesP,"get")]():t[i.propGetSet(i.minutesP,"get")]())},Dt.prototype.formatSeconds=function(t,e,i){return t[i.propGetSet(i.hoursP,"get")]()+":"+(10>t[i.propGetSet(i.minutesP,"get")]()?"0"+t[i.propGetSet(i.minutesP,"get")]():t[i.propGetSet(i.minutesP,"get")]())+":"+(10>t[i.propGetSet(i.secondsP,"get")]()?"0"+t[i.propGetSet(i.secondsP,"get")]():t[i.propGetSet(i.secondsP,"get")]())},Dt.prototype.formatMilliseconds=function(t,e,i){if(e=t[i.propGetSet(i.hoursP,"get")]()+":"+(10>t[i.propGetSet(i.minutesP,"get")]()?"0"+t[i.propGetSet(i.minutesP,"get")]():t[i.propGetSet(i.minutesP,"get")]())+":"+(10>t[i.propGetSet(i.secondsP,"get")]()?"0"+t[i.propGetSet(i.secondsP,"get")]():t[i.propGetSet(i.secondsP,"get")]()),t=t[i.propGetSet(i.millisecondsP,"get")]().toString(),4>t.length)for(i=t.length;4>i;i++)t="0"+t;return e+t},Dt.prototype.chooseLabelFunction=function(){if(null!=this.labelFunction)return this.labelFunction;switch(this._labelUnits){case"years":return Dt.prototype.formatYears;case"months":return Dt.prototype.formatMonths;case"hours":case"minutes":return Dt.prototype.formatMinutes;case"seconds":return Dt.prototype.formatSeconds;case"milliseconds":return Dt.prototype.formatMilliseconds}return Dt.prototype.formatDays},Dt.prototype.toMilli=function(t,e){switch(e){case"milliseconds":return t;case"seconds":return 1e3*t;case"minutes":return t*this.MILLISECONDS_IN_MINUTE;case"hours":return t*this.MILLISECONDS_IN_HOUR;case"weeks":return t*this.MILLISECONDS_IN_WEEK;case"months":return t*this.MILLISECONDS_IN_MONTH;case"years":return t*this.MILLISECONDS_IN_YEAR;default:return t*this.MILLISECONDS_IN_DAY}},Dt.prototype.fromMilli=function(t,e){switch(e){case"milliseconds":return t;case"seconds":return t/1e3;case"minutes":return t/this.MILLISECONDS_IN_MINUTE;case"hours":return t/this.MILLISECONDS_IN_HOUR;case"days":return t/this.MILLISECONDS_IN_DAY;case"weeks":return t/this.MILLISECONDS_IN_WEEK;case"months":return t/this.MILLISECONDS_IN_MONTH;case"years":return t/this.MILLISECONDS_IN_YEAR}return NaN},Dt.prototype.updatePropertyAccessors=function(){this.getDisplayLocalTime()?(this.millisecondsP="milliseconds",this.secondsP="seconds",this.minutesP="minutes",this.hoursP="hours",this.dateP="date",this.dayP="day",this.monthP="month",this.fullYearP="fullYear"):(this.millisecondsP="UTCMilliseconds",this.secondsP="UTCSeconds",this.minutesP="UTCMinutes",this.hoursP="UTCHours",this.dateP="UTCDate",this.dayP="UTCDay",this.monthP="UTCMonth",this.fullYearP="UTCFullYear")},Dt.prototype.propGetSet=function(t,e){return e+t.substring(0,1).toUpperCase()+t.substring(1,t.length)},Mt._defaultStyles={axisTitleStyleName:{fontSize:13,color:"#888",fontWeight:"normal",fontStyle:"normal",fontFamily:""},labelRotation:0},ge(Mt,v),Mt.prototype.getChart=function(){return ht.prototype.getChart.call(this)},Mt.prototype.getAxis=function(){return this._axis},Mt.prototype.setAxis=function(t){this._axis&&this._axis.removeEventListener("axisChange",this._axisChangeHandler),this._axis=t,this._axis.addEventListener("axisChange",this._axisChangeHandler,this)},Mt.prototype.setGutters=function(t){var e=this._gutters;e&&e.left==t.left&&e.right==t.right&&e.bottom==t.bottom&&e.top==t.top||this.adjustGutters(t,{left:!1,top:!1,right:!1,bottom:!1})},Mt.prototype.getGutters=function(){return this.horizontal?this._gutters:this._gutters.clone()},Mt.prototype.getTicks=function(){return this._ticks},Mt.prototype.getLength=function(){return this.horizontal?this._unscaledWidth-this._gutters.left-this._gutters.right:this._unscaledHeight-this._gutters.top-this._gutters.bottom},Mt.prototype.chartStateChanged=function(t,e){this.invalidateDisplayList()},Mt.prototype.measureTitle=function(){var t,e;e=this.getChart(),t=this._axis.title;var i=this.verticalAxisTitleAlignment;if(t&&""!=t){if(e=e.getStyle("axisTitleStyleName")||this.getStyle("axisTitleStyleName"),this.setFont(e),t=this.measureText(t),"left"===this.placement||"right"===this.placement)if("horizontal"==i)t=t.width;else{if("top"==i||"bottom"==i)return{width:t.width+this.titleGap+this.ABSOLUTE_TITLE_PADDING,height:t.height};t=.5*t.height}else t=t.height;return t+=this.titleGap+this.ABSOLUTE_TITLE_PADDING}return 0},Mt.prototype.measureLabels=function(t,e){var i;if(!this._axis)throw"noAxisSet";if(i=t?this._axis.getLabelEstimate():this._axis.getLabels(e),i===this._axisLabelSet&&0==this._forceLabelUpdate)return i.accurate;var n=this.processAxisLabels(i);return this._axisLabelSet=i,n},Mt.prototype.adjustGutters=function(t,e){var i,n=this.width,r=!1;i=this.getInverted();var a,o,l=this.measureTitle(),h=t.clone(),d=this.axisStroke?this.axisStroke.weight:0;if(this._includeInLayout?(r=this.measureLabels(!0,0),a=(s(l)?0:l)+this.labelGap,this._measureLabelSize=this.measureLabelSize(),a+=this._measureLabelSize,"top"!=this.verticalAxisTitleAlignment&&"bottom"!=this.verticalAxisTitleAlignment||(o=l,l=l.width>this._measureLabelSize?l.width-this._measureLabelSize:0,a+=l,"top"==this.verticalAxisTitleAlignment&&t.setTop(Math.max(t.top,l))),this.showLine&&(a+=d),a+=this.measureTickSize(this.showLine),this.titlePos=a-l,this._titleHeight=l,"left"!=this.placement&&"right"!=this.placement||"horizontal"==this.verticalAxisTitleAlignment||"top"==this.verticalAxisTitleAlignment||"bottom"==this.verticalAxisTitleAlignment||(a+=l)):a=0,this.horizontal?(e.top&&0>=t.top&&t.setTop(.7*parseInt(this.getStyle("fontSize"))),e.bottom&&0>=t.bottom&&t.setBottom(.7*parseInt(this.getStyle("fontSize"))),i?t.setTop(t.top+a):t.setBottom(t.bottom+a)):(i?t.setRight(t.right+a):t.setLeft(t.left+a),o&&t.setTop(t.top+o.height)),e.left||t.setLeft(h.left),e.right||t.setRight(h.right),e.top||t.setTop(h.top),e.bottom||t.setBottom(h.bottom),this.userVisible){var c,l=0>=this._labels.length?"":this._labels[this._labels.length-1];this.horizontal&&l&&((i=this.getStyle("labelRotation"))?(l=this._labels[0],e.left&&0<i&&t.left<l.rotateWidth?t.setLeft(l.rotateWidth):e.right&&0>i&&t.right<this._labels[this._labels.length-1].rotateWidth&&t.setRight(this._labels[this._labels.length-1].rotateWidth),e.right&&t.right<(c=this.getSizeStyle("fontSize"))&&t.setRight(c)):(e.right&&n<(c=t.left+(n-t.left-t.right)*l.position+.5*l.width)&&t.setRight(t.right+(c-n)+3),e.left&&0>(c=t.left+(n-t.left-t.right)*this._labels[0].position-.5*this._labels[0].width)&&t.setLeft(t.left-c+3))),e.left&&this.horizontal&&0>=t.left&&0==this._axis.padding&&t.setLeft(l.width/2+2)}return this._gutters=t.clone(),r||this.measureLabels(!1,this.getLength()),this.calcSpacing(),this.invalidateDisplayList(),t.clone()},Mt.prototype.calcSpacing=function(){if(this.canDropLabels){var t,e,i,n,s,r,a,o,l=0,h=0,d=!0,c=!1,u=this.getStyle("labelRotation");do{l=h=0,this.horizontal?(0<this._labels.length&&(n=this._labels[0]),e=0,t=1):(0<this._labels.length&&(n=this._labels[this._labels.length-1]),e=this._labels.length-1,t=-1);for(var p=1;p<this._labels.length;p++)i=this._labels[e+t*p],s=Math.abs(i.position-n.position)*this.getLength(),this.horizontal?0!=u?(r=i.height,s=Math.sqrt(Math.pow(s,2)-Math.pow(s*Math.cos(u*Math.PI/180),2))):r=(i.width+n.width)/2+4:r=90==u||-90==u?(i.width+n.width)/2:(i.height+n.height)/2+12,r>s?l++:(l>h&&(h=l,o=n,a=this._labels[e+t*(p-1)]),l=0,n=i);l>h&&(h=l,o=n,a=this._labels[e+t*(p-1)]),h?c=this.reduceLabels(o.value,a.value):d=!1}while(d&&c)}},Mt.prototype.processAxisLabels=function(t){var e,i,n=this.graphics,s=0,r=[];if(t.labels&&(s=t.labels.length),this._labels=[],this.labelFunction=this.labelJsFunction,null!=this.labelFunction){if(t!=this._axisLabelSet)for(r=[],e=0;e<s;e++)r.push(ri.axisFunc(this,t.labels[e].text,this.labelFunction))}else if(null!=this.formatter&&this._axis.hasOwnProperty("formatter")){if(t!=this._axisLabelSet)for(r=[],e=0;e<s;e++)o(parseInt(t.labels[e].text))?this.formatter instanceof $e?r.push(this.formatter.format(t.labels[e].text)):r.push(t.labels[e].text):r.push(this.formatter.format(t.labels[e].text))}else for(e=0;e<s;e++)r.push(t.labels[e].text);var a;if(i=this.getStyle("labelRotation"),n.save(),this.setFont(),this.horizontal){for(e=0;e<s;e++)a=t.labels[e],a={value:a,position:a.position,text:r[e]},Ce.measureText(this,a),0!=i&&(a.rotateWidth=a.width*Math.cos(Math.PI/180*i),a.rotateHeight=0<i?Math.sqrt(Math.pow(a.width,2)-Math.pow(a.rotateWidth,2)):0),this._labels[e]=a;if(t.groupLabels)for(this._groupLabels=[],s=t.groupLabels.length,e=0;e<s;e+=1)for(this._groupLabels[e]=[],r=0,i=t.groupLabels[e].length;r<i;r+=1)a=t.groupLabels[e][r],a={value:a,position:a.position,text:a.text},Ce.measureText(this,a),this._groupLabels[e][r]=a;this._ticks=null==t.ticks?[]:t.ticks,this._minorTicks=null==t.minorTicks?[]:t.minorTicks}else{for(i=s-1,e=0;e<s;e++)a=t.labels[e],a={value:a,position:1-a.position,text:r[e]},Ce.measureText(this,a),this._labels[i-e]=a;if(this._ticks=[],t.ticks)for(a=t.ticks,s=a.length,e=s-1;0<=e;e--)this._ticks.push(1-a[e]);if(this._minorTicks=[],t.minorTicks)for(a=t.minorTicks,s=a.length,e=s-1;0<=e;e--)this._minorTicks.push(1-a[e])}return n.restore(),this._forceLabelUpdate=!1,1==t.accurate},Mt.prototype.reduceLabels=function(t,e){var i=this._axis.reduceLabels(t,e);return!(!i||i==this._axisLabelSet||i.labels.length>=this._axisLabelSet.labels.length)&&(this.processAxisLabels(i),this._axisLabelSet=i,!0)},Mt.prototype.setCommonProps=function(t,e){this.getLength();var i=this._gutters,n=this.getInverted(),s=this.axisStroke,s=0==s.weight?1:s.weight;return this.showLine||(s=0),s*=.5,{b:this.horizontal?n?i.top-s:e-i.bottom+s:n?t-i.right+s:i.left-s,g:i,l:this.getLength(),h:this.horizontal,i:this.getInverted(),a:s}},Mt.prototype.updateDisplayList=function(t,e){v.prototype.updateDisplayList.call(this,t,e);var i=this.graphics;i&&this._axis&&(this.setVisible(this.userVisible),this.clear(),i.lineCap="butt",i=this.setCommonProps(t,e),this.showLine&&this.drawAxis(i),this.drawTicks(i),this.showLabels&&this.drawLabels(i),this._axis.title&&""!=this._axis.title&&this.drawTitle(this._axis.title,i))},Mt.prototype.drawTitle=function(t,e){var i,n,s,r=this.graphics,a=this.getChart();n=e.l,i=e.g;var o=e.b,l=e.i,h=e.a;s=e.h;var d=this.titlePos,c=this.titleGap,u=i.left,p=i.top,g=this.verticalAxisTitleAlignment,f=a.getStyle("axisTitleStyleName")||this.getStyle("axisTitleStyleName"),a=this.ABSOLUTE_TITLE_PADDING;r.save(),this.setFont(f),r.textAlign="center",r.textBaseline="bottom",s?(i=u+.5*n,l?n=o-d-c+h-a:(r.textBaseline="top",n=o+d+c-h+a)):(s=Math.PI/2,n=p+.5*n,"horizontal"==g?(i="right"==this.placement?o+h+c+a+this._measureLabelSize+.5*this._titleHeight+.5*r.measureText(t).width+2:.5*r.measureText(t).width+a+c,r.translate(i,n)):"top"==g?(n=p>f.fontSize?.5*(p-f.fontSize)+a+c:.5*f.fontSize+a+c,i="left"==this.placement?.5*(this._unscaledWidth-(this._unscaledWidth-o)):o+.5*(this._unscaledWidth-o),r.translate(i,n)):"bottom"==g?(n=this._unscaledHeight-i.bottom+f.fontSize+this.labelGap,i="left"==this.placement?.5*(this._unscaledWidth-(this._unscaledWidth-o)):o+.5*(this._unscaledWidth-o),r.translate(i,n)):(l?("flippedVertical"!=this.verticalAxisTitleAlignment&&(r.textBaseline="top",s=-Math.PI/2),i=o+d+c-h+a):("flippedVertical"==this.verticalAxisTitleAlignment?r.textBaseline="top":s=-Math.PI/2,i=o-d-c+h-a),r.translate(i,n),r.rotate(s)),r.svg||(i=n=0)),r.fillText(t,i,n),r.restore()},Mt.prototype.drawAxis=function(t){var e,i,n,s,r,a=t.g,o=t.b,l=t.h,h=0;s=0,t=this.graphics;var d=this.otherAxes;if(t.save(),Ne.apply(t,this.axisStroke),l&&d)for(e=0;e<d.length;e++)(r=d[e])&&(n=r.axisStroke,i=r.showLine),r=r.placement,n&&i&&("right"==r||"top"==r?s+=n.weight:h+=n.weight);t.beginPath(),o=Math.floor(o),t.lineWidth%2&&(o+=.5),l?(i=a.left-h,a=this.width-a.right+s,n=s=o):(s=this.height-a.bottom,n=a.top,i=a=o),t.moveTo(i,n),t.lineTo(a,s),t.stroke(),t.restore()},Mt.prototype.drawTicks=function(t){function e(){switch(f){case"inside":c=r-l,u=r-p-l;break;default:c=r+l,u=r+l+p;break;case"cross":c=r-l-p,u=r+l+p;break;case"none":u=c=0}}function i(t){var e,i,r,a=!1;for(0==d.lineWidth%2&&(a=!0),"RadarChart"!=h.getChart().className||o||(c+=1,u+=1),d.save(),d.beginPath(),i=0,r=t.length;i<r;i+=1)e=t[i],0>e||(e=Math.floor(n*e),e=o?e+s.left:e+s.top,a||(e+=.5),o?(d.moveTo(e,c),d.lineTo(e,u)):(d.moveTo(c,e),d.lineTo(u,e)));d.stroke(),d.closePath(),d.restore()}var n=t.l,s=t.g,r=t.b,a=t.i,o=t.h,l=t.a,h=this,d=h.graphics;t=h._ticks;var c,u,p=h.tickLength,g=h._minorTicks,f=h.tickPlacement;a&&(p*=-1,l*=-1),o||(p*=-1,l*=-1),(t&&"none"!=f&&0!=p||"cross"==f)&&(e(),Ne.apply(d,h.tickStroke),i(t)),p=h.minorTickLength,f=h.minorTickPlacement,c=u=0,a&&(p*=-1),o||(p*=-1),(g&&"none"!=f&&0!=p||"cross"==f)&&(e(),Ne.apply(d,h.minorTickStroke),i(g))},Mt.prototype.drawLabels=function(t){var e,i,n,s,r,a,o=t.l,l=t.g,h=t.i,d=t.b,c=t.a,u=t.h,p=0;t=this.graphics,i=this.getChart();var g=0,f=this._labels;e=parseInt(this.getStyle("fontSize")),n=this.getStyle("labelRotation");var m=-n*Math.PI/180;if(f){if(t.save(),this.setFont(),u){var _,g=e+this.labelGap,c=this.labelGap+this.tickSize+c,u=0,y=!1;for(2<f.length&&f[f.length-2].position*o+.5*f[f.length-2].width>=f[f.length-1].position*o-f[f.length-1].width&&(y=!0),90==n?p=.75*e:-90==n&&(p=.5*-e),h&&(c=-1*(c+e),g*=-1,p*=-1),m=n?Math.PI/180*(360-n):0,h=0,e=f.length;h<e;h++)s=f[h],t.save(),_=!1,r=l.left+o*s.position-p-(n?0<n?s.rotateWidth:0:.5*s.width)-1,a=d+c+(s.rotateHeight||0)-2,this.canStagger&&!n&&0!=h%2&&(a+=g),i.getRadialAxis&&(0==h?r=0:(y||h==f.length-1)&&(r-=.5*s.width)),r=Math.floor(r)-.5,a=Math.floor(a)-.5,t.translate(r,a),m&&t.rotate(m),t.svg?this.fillText(s,Math.floor(r),Math.floor(a),_):this.fillText(s,0,0,_),t.restore(),u=Math.max(u,s.rotateHeight||s.height);if(f=this._groupLabels){for(u+=this.groupLabelGap+(0!=m?this.groupLabelGap:0),Ne.apply(t,this.groupLabelStroke),t.beginPath(),h=0,e=f.length;h<e;h+=1){for(m=l.left,g=Math.floor(d+c+u)+.5,i=0,n=f[h].length;i<n;i+=1)s=f[h][i],t.save(),r=l.left+o*s.position-p-(s.rotateWidth||.5*s.width),a=d+c-2+(s.rotateHeight||0)+u+this.groupLabelGap,t.translate(r,a),t.svg?this.fillText(s,Math.floor(r),Math.floor(a),_):this.fillText(s,Math.floor(0),Math.floor(0),_),t.restore(),r=Math.floor(m+s.value.start*o)-.5,a=Math.floor(m+s.value.end*o)-.5,t.moveTo(r,g-this.groupLabelGap),t.lineTo(r,g),t.moveTo(a,g-this.groupLabelGap),t.lineTo(a,g),t.moveTo(r,g),t.lineTo(a,g),t.stroke();u+=s.height+this.groupLabelGap}t.closePath()}}else for(p=-(c+this.tickSize+this.labelGap),n*=-1,m*=-1,h&&(p*=-1),h=0,e=f.length;h<e;h++)t.save(),s=f[h],r=d+p,r="left"==this.placement?r+(-s.width+2):r-2,a=l.top+o*s.position-.5*s.height,i.getRadialAxis&&(r=d-.5*s.width+p,h==e-1?a-=.5*s.height:0==h&&(a+=.5*s.height)),0<n?(a+=s.height,90==n&&(a+=.5*s.width,r=d+p-s.height)):0>n&&(r=-90==n?d+p:r+.5*s.width),t.translate(r,a),m&&t.rotate(m),t.svg?this.fillText(s,Math.floor(r),Math.floor(a),_):this.fillText(s,Math.floor(0),Math.floor(0),_),t.restore();t.restore()}},Mt.prototype._axisChangeHandler=function(t){(t=this.getChart())&&t.invalidateDisplayList(),this.invalidateDisplayList()},ge(It,v),It.prototype.getChart=function(){return ht.prototype.getChart.call(this)},It.prototype.setAxis=function(t){this.axis&&this.axis.removeEventListener("axisChange",this.axisChangeHandler,this),this.axis=t,this.axis.addEventListener("axisChange",this.axisChangeHandler,this)},It.prototype.axisChangeHandler=function(t){(t=this.getChart())&&t.invalidateProperties(),this.invalidateDisplayList()},It.prototype.commitProperties=function(){v.prototype.commitProperties.call(this),this.initStyles(this.axis)},It.prototype.updateDisplayList=function(t,e){var i=this.getChart();v.prototype.updateDisplayList.call(this,t,e),this.clear(),i&&(this.showLine&&this.drawAxis(),this.showLabels&&this.drawLabels())},It.prototype.drawAxis=function(){var t,e,i=this.graphics,n=this.getChart(),s=n.getRadius();e=n.getOrigin();var r=n.startAngleRadians,a=this.axisStroke?this.axisStroke:this.tempAxisStroke;if(t=e.x,e=e.y,i.save(),Ne.apply(i,a),i.lineJoin="miter",i.lineCap="round",i.beginPath(),"circle"==n.type)i.arc(t,e,s,0,2*Math.PI,!0);else for(var o,l,h,d=n.numCategories(),n=0;n<d;++n)o=n*Math.PI*2/d,l=(n+1)*Math.PI*2/d,a=t+Math.cos(o+r)*s,h=e+Math.sin(o+r)*s,o=t+Math.cos(l+r)*s,l=e+Math.sin(l+r)*s,i.moveTo(a,h),i.lineTo(o,l),i.stroke();i.closePath(),i.stroke(),i.restore()},It.prototype.drawLabels=function(){var t=this.graphics,e=this.getChart(),i=e.getOrigin(),n=this.axis.getLabels(0),s=e.numCategories(),r=this.axisStroke?this.axisStroke.weight:this.tempAxisStroke.weight,r=e.getRadius()+r;if(t.save(),this.setFont(),0!=n.labels.length&&0!=s){var a,o,l=this.labelGap,h=0;a=0;var d=e.startAngleRadians;if(i){for(e=0;e<n.labels.length;++e)a=e*Math.PI*2/s,o=this.measureText(n.labels[e]),h=i.x+Math.cos(a+d)*r-.5*o.width+Math.cos(a+d)*(.5*o.width+l),a=i.y+Math.sin(a+d)*r-.5*o.height+Math.sin(a+d)*(.5*o.height+l),this.fillText(o,h,a);t.restore()}}},ge(Et,_),Et._defaultStyles={alternatingItemColors:null,borderColor:null,borderStyle:"solid",borderThickness:null,color:null,headerColor:null,fontFamily:null,fontSize:null,fontStyle:null,fontWeight:null,textAlign:null,textDecoration:null,textIndent:null,headerColors:null,paddingBottom:null,paddingLeft:null,paddingRight:null,paddingTop:null,userRollOver:!1,rollOverColor:null,selectionColor:null,textSelectedColor:null,verticalGridLineColor:null,horizontalGridLineColor:null,headerLineColor:null},Et.prototype.getEditorHeight=function(){return this._editorHeight},Et.prototype.setEditorHeight=function(t){this._editorHeight=t,Et._super.setHeight.call(this,t)},Et.prototype.setDataProvider=function(t){this._dataProvider=t,this.invalidateProperties()},Et.prototype.commitProperties=function(){var t,e,i,n,s,r=this,a=r._dataEditor;Et._super.commitProperties.call(r);try{for(i=window[r._productName],r._dataEditor||""==r.chartId||void 0==window.EditableGrid||(r.element.id="Kool__"+r.className+"_"+r.chartId,r._dataEditor=new EditableGrid(r.chartId),a=r._dataEditor,
i[r.chartId]={gridRowInfo:{}},a.enableSort=!1),r.formatter&&(a.formatter=r.formatter),(n=r.chartData2DataEditor(r._dataProvider))&&a.load({metadata:n[0],data:n[1]}),t=0,e=n[1].length;t<e;t+=1)s=t,r.reverseRow&&(s=n[1].length-1-t),i[r.chartId].gridRowInfo[t]=r.fieldNames[s];r._dataEditor._KoolChartId=r.chartId,r._dataEditor.renderGrid(r.element.id,"EditableGrid__"+r.chartId),r._dataEditor.table.cellSpacing=r._dataEditor.table.cellPadding=0,r._dataEditor.table.id=r._dataEditor.table.className,o(r.minColumnWidth)?r._dataEditor.table.width="100%":r._dataEditor.table.width=n[0].length*r.minColumnWidth,r.useCloseButton&&!r._closeDiv&&(r._closeDiv=new _("span","CloseButton"),r.getParent().getRawChildren().addChild(r._closeDiv),r._closeDiv.addEvent("click",function(){r.visibleDataEditor(!1),this.element.style.display="none"},r._closeDiv)),r._initStyle()}catch(l){}},Et.prototype.updateDisplayList=function(t,e){this.getStyle("styleName"),Et._super.updateDisplayList(this,t,e),this._closeDiv&&this._closeDiv.move(t-this._closeDiv.getWidth(),this.getY()+1)},Et.prototype.gridData2EditableData=function(t){try{if(EditableGrid&&0<t.length){var e,i,n,s,r,a,o,l=[],h=[];for(o in t[0])"displayName"!=o&&l.push({name:o,label:o,datatype:"double",editable:this.editable});for(l.unshift({name:"displayName",label:" ",datatype:"string",editable:!1}),i=0,n=t.length;i<n;i+=1){for(a={},a.id=i,a.values={},s=0,r=l.length;s<r;s+=1)e=l[s].name,a.values[e]=t[i][e];h.push(a)}return this.reverseRow&&(h=h.reverse()),[l,h]}}catch(d){throw"undefined EditableGrid"}return[]},Et.prototype.chartData2DataEditor=function(t){var e,i,n,s,r,a,o,l,h,d,c=[],u=!1;e=this.chart;var p=t.concat();for(n=it.prototype.findSeries,e.displayerChart?e=e.displayerChart:e.mainChart&&(e=e.mainChart),t=e.getSeries(),t=n.call(e,t),e._horizontalAxis?h=e._horizontalAxis.categoryField:e._verticalAxis?h=e._verticalAxis.categoryField:e._angularAxis&&(h=e._angularAxis.categoryField),e.hasOwnProperty("barWidthRatio")&&(h=e._verticalAxis.categoryField),h&&(u=!0),this.fieldNames=[],e=0,n=t.length;e<n;e+=1){l=["yField"],t[e].hasOwnProperty("barWidthRatio")?l=["xField"]:t[e].hasOwnProperty("field")?l=["field"]:t[e].hasOwnProperty("openField")&&(l=["openField","closeField","highField","lowField"]);for(var g=0,f=l.length;g<f;g+=1){for(a={},i=l[g],s=t[e]._displayName?t[e]._displayName:t[e][i],o=t[e][i],"field"==i&&t[e].getNameField()&&(h=t[e].getNameField(),u=!0),this.fieldNames.push(t[e][i]),a.displayName=s,i=0,s=p.length;i<s;i+=1)r=p[i][o],u?(d=p[i][h],/<br>/.test(d)&&(d=d.replace(/<br>/g," ")),a[d]=r):a[i]=r;c.push(a)}}return this.gridData2EditableData(c)},Et.prototype.visibleDataEditor=function(t){t!=this._dataEditorVisible&&(this._dataEditorVisible=t,this.setHeight(t?this._editorHeight:0),t?this.setStyle("overflow","auto"):this.setStyle("overflow","hidden"),this._closeDiv&&this._closeDiv.setStyle("display",t?"block":"none"))},Et.prototype._initStyle=function(){var t,e,i,n,s=this;e=Ee,i=s.chartId;var r=function(t){return s._getRule(n,t)},a=s._styleName;if(!a)for(t in a={_styles:{}},Et._defaultStyles)a._styles[t]=s.getStyle(t);if(a){n=e.findCSSSheetIndex("editablegrid_"+i),-1==n&&(n=e.createCSSSheet("editablegrid_"+i)),i=a._styles;for(t in i)i[t]&&("alternatingItemColors"==t?(e=r("td.oddRow"),e.style.backgroundColor=i[t][0],e=r("td.evenRow"),e.style.backgroundColor=i[t][1]):"headerColors"==t?(e=r("th"),Le.ie8L||Le.ie9?e.style.filter=Ee.drawFilterGradient(i[t][0],1):e.style.background=Le.getCssPrefix()+"linear-gradient(270deg,"+i[t][0]+" 20%, "+i[t][1]+" 100%)"):"horizontalGridLineColor"==t?(e=r("td.row"),e.style.borderBottomColor=i[t]):"verticalGridLineColor"==t?(e=r("td.column"),e.style.borderRightColor=i[t]):"headerLineColor"==t?(e=r("th.row"),e.style.borderBottomColor=i[t],e=r("th.column"),e.style.borderRightColor=i[t]):"horizontalGridLines"==t?(e=r("td.row"),e.style.borderBottomStyle=i[t]?"solid":"none",e=r("th.row"),e.style.borderBottomStyle=i[t]?"solid":"none"):"verticalGridLines"==t?(e=r("td.column"),e.style.borderBottomStyle=i[t]?"solid":"none",e=r("th.column"),e.style.borderBottomStyle=i[t]?"solid":"none"):"rollOverColor"==t?(e=r("td:hover"),e.style.color=i[t]):"selectionColor"==t?(e=r("td:focus"),e.style.color=i[t]):"headerColor"==t?(e=r("th"),e.style.color=i[t]):"textAlign"==t?(e=r("th"),e.style[t]=i[t],e=r("td"),e.style[t]=i[t]):a.getStyle||Ee.setStyle(s._dataEditor.table,t,i[t]));Ee.setStyle(s._dataEditor.table.tHead,"display",s.showHeaders?"table-header-group":"none"),a.getStyle&&a.getStyle("borderColor")&&Ee.setStyle(s._dataEditor.table,"borderColor",s._styleName.getStyle("borderColor")),e=r("th"),e.style.verticalAlign=s.verticalAlign,e=r("td"),e.style.verticalAlign=s.verticalAlign}},Et.prototype._getRule=function(t,e){var i;i=Ee.getCSSRule;var n=Ee.addCSSRule,s="EditableGrid__"+this.chartId;return e&&0<e.length&&(s+=" "),(i=i(t,s+e))||(i=n(t,s+e)),i},Pt._defaultStyles={maintainAspectRatio:!0,labelPlacement:"right",markerWidth:NaN,markerHeight:NaN,stroke:new w,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5,verticalGap:6,horizontalGap:6,disableItemFill:new T("#cccccc")},ge(Pt,R),Pt.prototype.addChild=function(t){Pt._super.addChild.call(this,t)},Pt.prototype.getDataProvider=function(){return this._dataProvider},Pt.prototype.setDataProvider=function(t){this._dataProvider instanceof it&&(this._dataProvider.removeEventListener("legendDataChanged",this._legendDataChangedHandler,this),this._dataProvider.removeEventListener("patternChanged",this._patternChangedHandler,this)),this._dataProvider=t?t:[],this._dataProvider instanceof it?(this._dataProvider.addEventListener("legendDataChanged",this._legendDataChangedHandler,this),this._dataProvider.addEventListener("patternChanged",this._patternChangedHandler,this)):this._dataProvider instanceof ti||(this._dataProvider=this._dataProvider instanceof ei?new ei(this._dataProvider):this._dataProvider instanceof Array?new ii(this._dataProvider):null!=this._dataProvider?new ii([this._dataProvider]):new ii),this.invalidateProperties(),this.invalidateSize(),this._childrenDirty=!0,this.dispatchEvent(new Ue("collectionChange"))},Pt.prototype.getLegendItemClass=function(){return this._legendItemClass},Pt.prototype.setLegendItemClass=function(t){this._legendItemClass=t,this._legendItemClassChanged=!0,this.invalidateProperties()},Pt.prototype.getUseVisibleCheck=function(){return this._useVisibleCheck},Pt.prototype.setUseVisibleCheck=function(t){this._useVisibleCheck!=t&&(this._useVisibleCheck=t,this.setLegendItemClass(Lt),t?this.addEvent("click",this._childMouseEventHandler,this):this.removeEvent("click",this._childMouseEventHandler,this),this._setupMouseDispatching())},Pt.prototype.getDefaultMouseOverAction=function(){return this._defaultMouseOverAction},Pt.prototype.setDefaultMouseOverAction=function(t){this._defaultMouseOverAction=t,this._setupMouseDispatching()},Pt.prototype.getSelected=function(){return this._selected},Pt.prototype.setSelected=function(t){this._selected=t,this._selectedChanged=!0,this.invalidateProperties()},Pt.prototype.getChangeItemOrder=function(){return this._changeLegendItemFlag},Pt.prototype.setChangeItemOrder=function(t){this._changeLegendItemFlag!=t&&(this._changeLegendItemFlag=t,this._childrenDirty=!0,this.invalidateProperties())},Pt.prototype.measure=function(){var t,e,i,n,s,r,a,l,h;t=!1,Pt._super.measure.call(this),this._findCellSize(),i=this._cellWidth,n=this._cellHeight;var d=this.getNumChildren();if(0<d)if(r=this.getStyle("horizontalGap"),a=this.getStyle("verticalGap"),e=this.getViewMetricsAndPadding(),"vertical"==this._direction)if(t=!1,o(this._explicitHeight)?o(this._actualMajorAxisLength)||(h=this._actualMajorAxisLength*this._cellHeight+(this._actualMajorAxisLength-1)*a,this._actualMajorAxisLength=NaN,t=!0):(h=this._explicitHeight-e.top-e.bottom,t=!0),t){for(s=this._calcColumnWidthsForHeight(h),l=0,e=s.length,t=0;t<e;t++)l+=s[t];l+=(e-1)*r,r=Math.min(d,Math.max(1,Math.floor((h+a)/(this._cellHeight+a)))),h=r*this._cellHeight+(r-1)*a,this._preferredMajorAxisLength=r}else h=d*this._cellHeight+(d-1)*a,l=this._cellWidth,this._preferredMajorAxisLength=d;else{if(o(this._explicitWidth)){if(h=this,this.getNestLevel()){for(;h instanceof f&&h.getParent();)h=h.getParent();l=Ee.getStyle(h.element.parentNode,"width"),l=-1<l.indexOf("%")?h.element.parentNode.parentNode?Ee.getRootSize(h.element.parentNode.parentNode,"width",l):h.element.parentNode.offsetWidth:parseInt(l)}l-=e.left+e.right,this._actualMajorAxisLength=NaN}else l=this._explicitWidth-e.left-e.right;for(s=this._calcColumnWidthsForWidth(l),l=0,e=s.length,t=0;t<e;t++)l+=s[t];l+=(e-1)*r,r=Math.ceil(d/e),h=r*this._cellHeight+(r-1)*a,this._preferredMajorAxisLength=e}else l=i,h=n;e=this.getViewMetricsAndPadding(),a=e.left+e.right,r=e.top+e.bottom,this.measuredMinWidth=i+a,this.measuredMinHeight=n+r,this.measuredWidth=l+a,this.measuredHeight=h+r},Pt.prototype.commitProperties=function(){Pt._super.commitProperties.call(this),(this._childrenDirty||this._useVisibleCheckChanged)&&(this._populateFromArray(this._dataProvider),this._legendItemClassChanged=this._useVisibleCheckChanged=this._childrenDirty=!1,this._setupVisibleCheck()),this instanceof kt&&this._setupVisibleCheck()},Pt.prototype.updateDisplayList=function(t,e){var i=this.getViewMetricsAndPadding();0>=t-i.left-i.right||0>=e-i.top-i.bottom||(Pt._super.updateDisplayList.call(this,t,e),this._unscaledWidth=t,this._unscaledHeight=e,o(this._cellWidth)&&this._findCellSize(),"vertical"==this._direction?this._layoutVertical():this._layoutHorizontal())},Pt.prototype._setupMouseDispatching=function(){var t=pi?"touchmove":"mousemove",e=pi?"touchend":"mouseout";this.addEvent("mouseover",this._childMouseEventHandler,this),this._defaultMouseOverAction?(this.addEvent(t,this._childMouseEventHandler,this),this.addEvent(e,this._childMouseEventHandler,this)):(this.removeEvent(t,this._childMouseEventHandler,this),this.removeEvent(e,this._childMouseEventHandler,this))},Pt.prototype._setupVisibleCheck=function(){var t,e,i,n=0,n=0;for(t=this.getNumChildren();n<t;n+=1)e=this.getChildAt(n),i=e.target||e.targetSeries,this._useVisibleCheck&&(Di(e.element,"Kool__cursor-pointer"),e.disableItemFill=this.getStyle("disableItemFill"),i instanceof ee&&(i.getVisibility()?e.selected=i.getVisibility():this.legendItemVisibleChange(n,!1)))},Pt.prototype._addLegendItem=function(t,e,i){e=new this._legendItemClass,e.setMarker(t.marker),""!=t.label&&e.setLabel(t.label),t.target&&(e.target=t.target),t.fill&&(e.fill=t.fill),t.stroke&&(e.stroke=t.stroke),t.declineFill&&(e.declineFill=t.declineFill),t.patternOpp&&(e.patternOpp=t.patternOpp),this.titleJsFunction&&(e.titleJsFunction=this.titleJsFunction),this.itemClickJsFunction&&(e.itemClickJsFunction=this.itemClickJsFunction),e.markerAspectRatio=t.aspectRatio,e.legendData=t,e._percentWidth=100,e._percentHeight=100,e.setStyle("labelPlacement",this.getStyle("labelPlacement")),e.setStyle("markerWidth",this.getStyle("markerWidth")),e.setStyle("markerHeight",this.getStyle("markerHeight")),this.addChild(e)},Pt.prototype._populateFromArray=function(t){var i,n,s,r,a;if(t instanceof it&&(t=t.getLegendData()),0<this.getNumChildren())for(this._formerItemCheck=[],n=0;n<this.getNumChildren();++n)this.getChildAt(n),this._formerItemCheck.push(!0);for(this.removeAllChildren(),i=0;i<t.length;i++)if(r=t[i],e(r))for(a=r.length,n=0;n<a;n++)s=r[n],this._formerItemCheck&&this._formerItemCheck[i]instanceof Boolean?this._addLegendItem(s,this._formerItemCheck[n],n):this._addLegendItem(s,this._selected,n);else s=t[i],this._formerItemCheck&&this._formerItemCheck[i]instanceof Boolean?this._addLegendItem(s,this._formerItemCheck[i],i):this._addLegendItem(s,this._selected,i);this._changeLegendItemFlag&&this._doInvertChildren(),this._actualMajorAxisLength=NaN},Pt.prototype.removeAllChildren=function(){for(var t=E.getInstance(),e=0,i=this.getNumChildren();e<i;e+=1)t.freeElement(this.getChildAt(e).getMarker().element),this.getChildAt(e).resetInvalidate();Pt._super.removeAllChildren.call(this)},Pt.prototype._doInvertChildren=function(){var t,e,i;if(0<this.getNumChildren()){for(e=this.getNumChildren()-1,i=0;i<=e;)t=this.getChildAt(e),this.setChildIndex(t,i),i++;this.invalidateDisplayList()}},Pt.prototype._getHorizontalAlignValue=function(){return this.getStyle("horizontalAlign"),"center"==this._horizontalAlign?.5:"right"==this._horizontalAlign?1:0},Pt.prototype._getVerticalAlignValue=function(){return this.getStyle("verticalAlign"),"middle"==this._verticalAlign?.5:"bottom"==this._verticalAlign?1:0},Pt.prototype.widthPadding=function(t){var e=this.getViewMetricsAndPadding(),e=e.left+e.right;return 1<t&&"horizontal"==this._direction&&(e+=this.getStyle("horizontalGap")*(t-1)),e},Pt.prototype._heightPadding=function(t){var e=this.getViewMetricsAndPadding(),e=e.top+e.bottom;return 1<t&&"vertical"==this._direction&&(e+=this.getStyle("verticalGap")*(t-1)),e},Pt.prototype._calcColumnWidthsForHeight=function(t){var e,i,n,s,r=this.getNumChildren();if(e=this.getStyle("verticalGap"),t=Math.min(r,Math.max(1,Math.floor((t+e)/(this._cellHeight+e)))),i=0==t?0:Math.ceil(r/t),o(e),1>=i)s=[this._cellWidth];else{for(s=[],e=0;e<i;e++)s[e]=0;for(e=0;e<r;e++)n=this.getChildAt(e),i=Math.floor(e/t),s[i]=Math.max(s[i],n.getExplicitOrMeasuredWidth())}return s},Pt.prototype._layoutVertical=function(){var t,e,i,n,s,r,a=this.getNumChildren(),o=this.getBorderMetrics(),l=this.getViewMetricsAndPadding(),h=l.left-o.left,d=l.top-o.top;t=this._unscaledHeight-l.bottom-o.bottom;var o=this.getStyle("verticalGap"),c=this.getStyle("verticalAlign"),u=this.getStyle("horizontalGap"),p=this.getStyle("horizontalAlign"),g=Math.min(a,Math.max(1,Math.floor((t-d+o)/(this._cellHeight+o))));for(n=this._calcColumnWidthsForHeight(t-d),t=0;t<a;t++)i=this.getChildAt(t),e=Math.floor(t/g),e=n[e],s=0<i._percentWidth?Math.min(e,e*i._percentWidth/100):i.getExplicitOrMeasuredWidth(),r=0<i._percentHeight?Math.min(this._cellHeight,this._cellHeight*i._percentHeight/100):i.getExplicitOrMeasuredHeight(),i.setActualSize(s,r),s=Math.floor(this._calcHorizontalOffset(i.getWidth(),p)),r=Math.floor(this._calcVerticalOffset(i.getHeight(),c)),i.move(h+s,d+r),t%g==g-1?(d=l.top,h+=e+u):d+=this._cellHeight+o;g!=this._preferredMajorAxisLength&&(this._actualMajorAxisLength=g,this.invalidateSize())},Pt.prototype._calcColumnWidthsForWidth=function(t){var e,i,n;i=0;var s,r=this.getNumChildren(),a=!0,o=this.getStyle("horizontalGap"),l=0;for(e=0;e<r&&(n=this.getChildAt(e),n=n.getExplicitOrMeasuredWidth(),!(i+n>t));e++)i+=n+o,l++;for(;1<l&&a;){for(s=[],e=0;e<l;e++)s[e]=0;for(e=0;e<r;e++)i=e%l,s[i]=Math.max(s[i],this.getChildAt(e).getExplicitOrMeasuredWidth());for(e=i=0;e<l&&!(i+s[e]>t);e++)i+=s[e]+o;e==l?a=!1:l--}return 1>=l&&(s=[this._cellWidth]),s},Pt.prototype._layoutHorizontal=function(){var t,e,i,n,s,r,a=0,o=this.getNumChildren(),l=this.getBorderMetrics(),h=this.getViewMetricsAndPadding(),d=h.left-l.left,c=h.top-l.top;t=this._unscaledWidth-h.right+l.right;var l=this.getStyle("verticalGap"),u=this.getStyle("verticalAlign"),p=this.getStyle("horizontalGap"),g=this.getStyle("horizontalAlign");for(s=this._calcColumnWidthsForWidth(t-d),a=s.length,t=0;t<o;t++)i=this.getChildAt(t),e=t%a,n=s[e],n=0<i._percentWidth?Math.min(n,n*i._percentWidth/100):i.getExplicitOrMeasuredWidth(),r=0<i._percentHeight?Math.min(this._cellHeight,this._cellHeight*i._percentHeight/100):i.getExplicitOrMeasuredHeight(),i.setActualSize(n,r),n=Math.floor(this._calcHorizontalOffset(i.getWidth(),g)),r=Math.floor(this._calcVerticalOffset(i.getHeight(),u)),i.move(d+n,c+r),e==a-1?(d=h.left,c+=this._cellHeight+l):d+=s[e]+p;a!=this._preferredMajorAxisLength&&(this._actualMajorAxisLength=this._unscaledWidth,this.invalidateSize())},Pt.prototype._legendDataChangedHandler=function(t){this._childrenDirty=!0,this.invalidateProperties(),this.invalidateSize()},Pt.prototype._patternChangedHandler=function(t){this._populateFromArray(this._dataProvider)},Pt.prototype._childMouseEventHandler=function(t){function e(t,e){var n;for(i=0;i<t.length;i+=1)(n=t[i])&&(n.changeClassName("un-focused",(n!==a||!n.getIncludeInLayout())&&!e),n instanceof ie&&(e?n.updateLabels(!1):n===a&&n.updateLabels(!0)))}var i,n,s,r,a,o,l,h,d=this.getNumChildren();if("touchend"==t.type||"mouseout"==t.type){for(r=[],i=0,d=this.getNumChildren();i<d;i+=1)s=this.getChildAt(i),s.selected&&r.push(s.target||s.targetSeries);e(r,!0)}else{for(n=Ee.pageXY(this),o=t.pageX,l=t.pageY,t.touches&&0<t.touches.length&&(o=t.touches[0].pageX,l=t.touches[0].pageY),o-=n.x,l-=n.y,n=this._contentPane.element.scrollLeft,h=this._contentPane.element.scrollTop,i=0;i<d&&(s=this.getChildAt(i),!(s.getX()-n<o&&o<s.getX()-n+s.getWidth()&&s.getY()-h<l&&l<s.getY()-h+s.getHeight()));i+=1)s=null;if(!s||!(a=s.target||s.targetSeries))return this._defaultMouseOverAction&&this._dataProvider&&(r=this._dataProvider.getAllSeries())&&e(r,!1),!1;switch(r=a.getChart().getAllSeries(),o=this.getChildIndex(s),l=s.getLabel(),t.type){case"mouseover":s.element.title=this.titleJsFunction?ri.findFunction(this.titleJsFunction)(o,l):l;break;case"mousemove":case"touchmove":e(r,!1);break;case"click":if(this.itemClickJsFunction&&ri.findFunction(this.itemClickJsFunction)(o,l),!this._useVisibleCheck)return;this.legendItemIncludeChange(s)}}return pi&&!this._useVisibleCheck&&(t.preventDefault(),t.stopPropagation()),!1},Pt.prototype.legendItemIncludeChange=function(t,e){var i=this._dataProvider;t.targetSeries&&(i=t.targetSeries.getChart()),i&&!i.getChartState()&&this._useVisibleCheck&&(i.clearSelection(),this.legendItemVisibleChange(t,e),t instanceof Nt&&(i=t.targetSeries.getChart()),i.invalidateData())},Pt.prototype.legendItemVisibleChange=function(t,e){var i,n,s,a=!0;if(r(t)&&(t=this.getChildAt(t)),t&&(void 0==e||t.selected!=e))if(s=t.target||t.targetSeries,/Pie|Pyramid|Overlay/g.test(s.className))t.selected=!t.selected,i=this.getChildIndex(t),s.renderDirection&&(i=Math.floor(this.getChildIndex(t)%s.getItems().length)),s.legendCheckWedge[i]=t.selected,t.invalidateDisplayList();else if(t.selected=!t.selected,s.setVisible(t.selected),n=t.getMarker(),n=n.renderer,t.selected?(n&&(n.tempFill=void 0),Mi(t.element,"Kool__UnChecked")):(Di(t.element,"Kool__UnChecked"),a=!1),s._includeInLayout=a,t.invalidateDisplayList(),this.useAxisVisibleCheck){var o,l,h,d,c,u,p,a=!1;if(n=s.getParent(),s=n.getVerticalAxisRenderers(),1<s.length&&0>n.className.indexOf("Wing"))for(l=0,h=s.length;l<h;l+=1){a=!1,n=s[l],d=n.getAxis(),c=d._transforms;for(i in c)for(p in u=c[i].transform.elements)if(o=u[p],o instanceof ee&&o.getIncludeInLayout()&&(!o.getVerticalAxis()||o.getVerticalAxis()===d)){a=!0;break}n.setVisible(a),n.setIncludeInLayout(a)}}},Lt._defaultStyles={labelPlacement:"right",markerWidth:9,markerHeight:9,horizontalGap:8,verticalGap:6,legendMarkerRenderer:new Se($t)},ge(Lt,_),Lt.prototype.getMarkerWidth=function(){return this._markerWidth},Lt.prototype.getMarkerHeight=function(){return this._markerHeight},Lt.prototype.getLabel=function(){return this._label},Lt.prototype.setLabel=function(t){this._label=t,this._labelChanged=!0,this.invalidateSize(),this.invalidateDisplayList()},Lt.prototype.getLegendData=function(){return this._legendData},Lt.prototype.setLegendData=function(t){this._legendData=t,this._marker.hasOwnProperty("data")&&(this._marker.data=this._legendData)},Lt.prototype.getMarker=function(){return this._marker},Lt.prototype.setMarker=function(t){this._marker&&this.removeChild(this._marker),t instanceof J?(this._marker=new v("LegendMarker"),this._marker.renderer=t):this._marker=t,this._marker&&(this.addChild(this._marker),this._marker.data=this._legendData),this.invalidateDisplayList()},Lt.prototype.getSource=function(){return this.element},Lt.prototype.createChildren=function(){_._super.createChildren.call(this),this._nameLabel||(this._nameLabel=new y,this._nameLabel.setStyle("position","absolute"),this.addChild(this._nameLabel))},Lt.prototype.commitProperties=function(){Lt._super.commitProperties.call(this),this._labelChanged&&(this._labelChanged=!1,this._nameLabel.setText(this._label))},Lt.prototype.measure=function(){var t,e=0,i=0,n=this.getStyle("labelPlacement");v._super.measure.call(this),n||(n=this.getParent().getStyle("labelPlacement")),this._labelChanged&&(this._labelChanged=!1,this._nameLabel.setText(this._label)),t=this.measureText(this._label),gi&&""!=this._label&&!t.width&&(t=this.measureText(this._label));var s=t.width+y.TEXT_WIDTH_PADDING;t=t.height+y.TEXT_HEIGHT_PADDING,o(s)&&(s=0),o(t)&&(t=0),(0<s||0<this._getMarkerWidth())&&(e+=this.getStyle("paddingLeft")+this.getStyle("paddingRight"),i+=this.getStyle("paddingTop")+this.getStyle("paddingBottom"),"top"==n||"bottom"==n?(e+=Math.max(s,this._getMarkerWidth()),i+=this.getStyle("verticalGap")+this._getMarkerHeight()+t):(e+=this.getStyle("horizontalGap")+this._getMarkerWidth()+s,i+=Math.max(t,this._getMarkerHeight()))),this.measuredWidth=e,this.measuredHeight=i},Lt.prototype.updateDisplayList=function(t,e){var n,s,r,a,l;n=this.getStyle("verticalGap"),a=this.getStyle("horizontalGap");var h=this.getStyle("paddingLeft"),d=this.getStyle("paddingRight");l=this.getStyle("paddingTop"),s=this._getMarkerWidth();var c=this._getMarkerHeight(),u=s,p=c,g=this.getStyle("labelPlacement");r=y.TEXT_WIDTH_PADDING;var f=y.TEXT_HEIGHT_PADDING;switch(r=this._nameLabel.getWidth()+r,f=this._nameLabel.getHeight()+f,Lt._super.updateDisplayList.call(this,t,e),this._labelChanged&&(this._labelChanged=!1),o(r)&&(r=0),o(f)&&(f=0),g){case"top":a=l,l=a+n+f,n=h+.5*(t-h-d),r=n-.5*r,n-=.5*u;break;case"bottom":a=l+n+p,n=h+.5*(t-h-d),r=n-.5*r,n-=.5*u;break;case"left":n=t-u-d,r=n-a-r,a=l,f<p?a+=.5*(p-f):l+=.5*(f-p);break;default:n=h,r=n+a+u,l=a=l,p<f?l+=.5*(f-p):a+=.5*(p-f)}this._nameLabel.move(r,a),o(this._markerAspectRatio)||(u/p>this._markerAspectRatio?u=this._markerAspectRatio*p:p=u/this._markerAspectRatio),new ye(.5*(s-u),.5*(c-p),u,p),this._marker||((r=this.getStyle("legendMarkerRenderer"))?this.setMarker(r.newInstance()):this.setMarker(new $t)),this._marker.move(n+.5*(s-u),l+.5*(c-p)),this._marker.setActualSize(u,p),this._marker instanceof v&&(s=this._marker.renderer,this.legendData&&(s.pattern=this.legendData.pattern),this.declineFill&&(s.declineFill=this.declineFill),this.patternOpp&&(s.patternOpp=this.patternOpp),this._marker.graphics.clearRect(0,0,u,p),i(this.fill)&&(this.fill=new T(this.fill)),i(this.stroke)&&(this.stroke=new w(this.stroke)),s.owner=this.target,s.fill=this.selected?this.fill:this.disableItemFill,s.stroke=this.selected?Ee.clone(this.stroke,!0):new w(this.disableItemFill.color),s.draw(0,0,u,p,this._marker.graphics)),this._markerWidth=u,this._markerHeight=p},Lt.prototype._getMarkerWidth=function(){var t,e=this.getParent();return e&&o(t=e.getStyle("markerWidth"))&&(t=this.getStyle("markerWidth")),o(t)&&(t=Lt._defaultStyles.markerWidth),t},Lt.prototype._getMarkerHeight=function(){var t,e=this.getParent();return e&&o(t=e.getStyle("markerHeight"))&&(t=this.getStyle("markerHeight")),o(t)&&(t=Lt._defaultStyles.markerHeight),t},ge(Nt,Lt),ge(At,it),At.prototype.getAngularAxis=function(){return this._angularAxis},At.prototype.setAngularAxis=function(t){this._transforms[0].setAxis("a",t),this._angularAxis=t,this._axisDirty=!0,this.invalidateData(),this.invalidateProperties()},At.prototype.getRadialAxis=function(){return this._transforms[0].getAxis("r")},At.prototype.setRadialAxis=function(t){this._transforms[0].setAxis("r",t),this._axisDirty=!0,this.invalidateData(),this.invalidateProperties()},At.prototype.setDataProvider=function(t){var e,i;if(At._super.setDataProvider.call(this,t),-1<this.className.indexOf("Pie"))for(i=this._userSeries,t=0,e=i.length;t<e;t+=1)i[t].legendCheckWedge=[]},At.prototype.commitProperties=function(){var t,e;if(At._super.commitProperties.call(this),this._axisDirty){for(t=0;t<this._userSeries.length;t+=1)this._userSeries[t].invalidateProperties();for(t=0;t<this._annotationElements.length;t+=1)(e=this._annotationElements[t])&&e.invalidateProperties();for(t=0;t<this._backgroundElements.length;t+=1)(e=this._backgroundElements[t])&&e.invalidateProperties();this._axisDirty=!1}},At.prototype.commitPatternProperties=function(){this instanceof Rt&&At._super.commitPatternProperties.call(this)},At.prototype.updateDisplayList=function(t,e){var i,n,s,r=this,a=t,o=e,l=parseInt(r.getStyle("paddingLeft"));i=parseInt(r.getStyle("paddingRight"));var h=parseInt(r.getStyle("paddingTop"));for(n=parseInt(r.getStyle("paddingBottom")),At._super.updateDisplayList.call(r,t,e),1>r.radius&&(r.radius=1),a=a-l-i,o=o-h-n,r instanceof Rt&&(a=t,o=e,h=l=0),s=r._backgroundElements.length||0,n=0;n<s;n++)(i=r._backgroundElements[n])&&(i.getChart=function(){return r},i.move(l,h),i.setActualSize(a,o));for(s=r._userSeries.length||0,n=0;n<s;n++)if(i=r._userSeries[n]){if(i.owner){i.owner.move(l,h),i.owner.setActualSize(a,o);break}i.getChart=function(){return r},i.move(l,h),i.setActualSize(a,o),i.perWedgeId=n,i.labelLayer&&(i.labelLayer.move(l,h),i.labelLayer.setActualSize(a,o),i.labelLayer.chart=r)}for(s=r._annotationElements.length||0,n=0;n<s;n+=1)(i=r._annotationElements[n])&&(i.getChart=function(){return r},i.move(l,h),i.setActualSize(a,o));r._transformBounds=new S(l,h,a,o),r._axisLayoutDirty=!1,r.advanceEffectState()},At.prototype.invalidateDisplay=function(t){var e=t.labelLayer;e&&t.getIncludeInLayout()&&(e.clear(),a(t.renderingLabel)&&t.renderingLabel())},At.prototype.updateChildOrder=function(){var t,e,i,n=0;for(t=0,e=this._backgroundElements.length;t<e;t+=1)i=this._backgroundElements[t],this.setChildIndex(i,n++);for(n=this.updateSeriesOrder(n),t=0,e=this._annotationElements.length;t<e;t+=1)i=this._annotationElements[t],this.setChildIndex(i,n++)},At.prototype.updateSeriesOrder=function(t){var e,i;for(e=0,i=this._userSeries.length;e<i;e+=1)this.setChildIndex(this._userSeries[e],t++);return t},At.prototype.calcAngle=function(t,e){var i=2*Math.PI,n=Math.atan(-e/t);return 0>t?n+Math.PI:0>e?n:n+i},At.prototype.getDataRegion=function(){return this._transformBounds},At.prototype._keyDownHandler=function(t,e){var i=null,n=!1;if(this._selectionMode!=Ri){switch(t.keyCode){case 38:i=this.getNextItem("vertical"),n=!0;break;case 40:i=this.getPreviousItem("vertical"),n=!0;break;case 37:i=this.getPreviousItem("horizontal"),n=!0;break;case 39:i=this.getNextItem("horizontal"),n=!0;break;case 35:case 34:i=this.getLastItem("horizontal"),n=!0;break;case 36:case 33:i=this.getFirstItem("horizontal"),n=!0;break;case 32:this._handleSpace(t),t.stopPropagation(),n=!0}i&&(e?t.stopPropagation():t.stopImmediatePropagation(),this._handleNavigation(i,t)),n&&t.preventDefault()}},At.prototype.getLastItem=function(t){return t=null,this._caretItem?(t=this._caretItem.element.getItems(),t=t[t.length-1]):t=this._getPreviousSeriesItem(this.getSeries()),t},At.prototype.getFirstItem=function(t){return this._caretItem?this._caretItem.element.getItems()[0]:this._getNextSeriesItem(this.getSeries())},At.prototype.getNextItem=function(t){return"horizontal"==t?this._getNextSeriesItem(this.getSeries()):"vertical"==t?this._getNextSeries(this.getSeries()):null},At.prototype.getPreviousItem=function(t){return"horizontal"==t?this._getPreviousSeriesItem(this.getSeries()):"vertical"==t?this._getPreviousSeries(this.getSeries()):null},Rt._propertyType={angularAxisRenderers:Array,radialAxisRenderers:Array},ge(Rt,At),Rt.prototype.getAllSeries=function(){return this._userSeries},Rt.prototype.getRadius=function(){return this._radius},Rt.prototype.getOrigin=function(){return this._origin},Rt.prototype.getAngularAxisRenderers=function(){return this._angularAxisRenderers},Rt.prototype.setAngularAxisRenderers=function(t){var e=0;if(this._angularAxisRenderers)for(;e<this._angularAxisRenderers.length;)this._angularAxisRenderers[e].getParent()==this&&this.removeChild(this._angularAxisRenderers[e]),this._angularAxisRenderers[e].otherAxes=null,e+=1;for(this._angularAxisRenderers=t,e=0;e<t.length;)this.invalidateProperties(),e+=1;this._bAxesRenderersDirty=!0,this.invalidateChildOrder(),this.invalidateProperties()},Rt.prototype.getRadialAxisRenderers=function(){return this._radialAxisRenderers},Rt.prototype.setRadialAxisRenderers=function(t){var e=0;if(this._radialAxisRenderers)for(;e<this._radialAxisRenderers.length;)this._radialAxisRenderers[e].getParent()==this&&this.removeChild(this._radialAxisRenderers[e]),this._radialAxisRenderers[e].otherAxes=null,e+=1;this._radialAxisRenderers=t,this._bAxesRenderersDirty=!0,this.invalidateChildOrder(),this.invalidateProperties()},Rt.prototype.commitProperties=function(){var t,e,i=0,n=this._userSeries;for(t=this._angularAxisRenderers.length||0,this.startAngleRadians=0>this.startAngle?this.startAngle*Math.PI/180%(2*Math.PI)+2*Math.PI:this.startAngle*Math.PI/180%(2*Math.PI),0==t&&(this._angularAxisRenderers=[new It],this._angularAxisRenderers[0].setAxis(this._angularAxis)),this._transforms&&(this._transforms[0].setAxis("r",this.getRadialAxis()),this._transforms[0].setAxis("a",this._angularAxis)),t=0,e=this._angularAxisRenderers.length;t<e;t+=1)this.addChild(this._angularAxisRenderers[t]);for(t=0,e=this._radialAxisRenderers.length;t<e;t+=1)this.addChild(this._radialAxisRenderers[t]);if(At.prototype.commitProperties.call(this),!this._initialziedChildIndex){for(this._initialziedChildIndex=!0,t=0,e=this._backgroundElements.length;t<e;t+=1)this.setChildIndex(this._backgroundElements[t],i++);for(t=0,e=this._angularAxisRenderers.length;t<e;t+=1)this.setChildIndex(this._angularAxisRenderers[t],i++);if(this.isSeriesOnAxis){for(t=0,e=this._radialAxisRenderers.length;t<e;t+=1)this.setChildIndex(this._radialAxisRenderers[t],i++);for(t=0,e=n.length;t<e;t+=1)this.setChildIndex(n[t],i++)}else{for(t=0,e=n.length;t<e;t+=1)this.setChildIndex(n[t],i++);for(t=0,e=this._radialAxisRenderers.length;t<e;t+=1)this.setChildIndex(this._radialAxisRenderers[t],i++)}for(t=0,e=this._annotationElements.length;t<e;t+=1)this.setChildIndex(this._annotationElements[t],i++)}},Rt.prototype.updateDisplayList=function(t,e){var i,n;i=this.getStyle("paddingLeft");var s=this.getStyle("paddingTop");for(n=this._userSeries,this.rc=new S(i,s,t-i-this.getStyle("paddingRight"),e-s-this.getStyle("paddingBottom")),this._radius=Math.min(.5*this.rc.width,.5*this.rc.height),this._origin=new fe(i+.5*this.rc.width,s+.5*this.rc.height),i=0;i<n.length;i++)n[i].getDataTransform().setRadius(this._radius,this._origin);for(At.prototype.updateDisplayList.call(this,t,e),i=0;i<this._angularAxisRenderers.length;i+=1)n=this._angularAxisRenderers[i],n.move(0,0),n.setActualSize(t,e),n.setAxis(this._angularAxis);for(i=0;i<this._radialAxisRenderers.length;i+=1)n=this._radialAxisRenderers[i],n.setActualSize(this._radius,this._radius),n.setAxis(this.getRadialAxis()),n.horizontal?(this._computedGutters=new S(0,this.axisMargin,0,0),n.move(this._origin.x,this._origin.y-this._radius+this.axisMargin)):(this._computedGutters=new S(this.axisMargin,0,0,0),n.move(this._origin.x-this.axisMargin+1,this._origin.y-this._radius)),n.adjustGutters(this._computedGutters,{left:!1,top:!1,right:!1,bottom:!1})},Rt.prototype.updateSeriesOrder=function(t){var e,i,n=this._userSeries;if(this.isSeriesOnAxis){for(i=this._radialAxisRenderers?this._radialAxisRenderers.length:0,e=0;e<i;e++)this.setChildIndex(this._radialAxisRenderers[e],t++);for(e=0,i=n.length;e<i;e+=1)this.setChildIndex(n[e],t++),n[e].seriesIndex=e}else{for(e=0,i=n.length;e<i;e+=1)this.setChildIndex(n[e],t++),n[e].seriesIndex=e;for(i=this._radialAxisRenderers?this._radialAxisRenderers.length:0,e=0;e<i;e++)this.setChildIndex(this._radialAxisRenderers[e],t++)}return t},ge(kt,Pt),ge(Ht,V),Ht.prototype._initInstance=function(t){Ht._super._initInstance.call(this,t),t.offset=this.offset,t.elementOffset=this.elementOffset,t.minimumElementDuration=this.minimumElementDuration,t.defaultEasingFunction=this.easingFunction,t.type=this.type},ge(Ot,Ht),ge(Wt,Ht),Wt.prototype._initInstance=function(t){Wt._super._initInstance.call(this,t),t.direction=this.direction},ge(zt,Ht),zt.prototype._initInstance=function(t){zt._super._initInstance.call(this,t),t.direction=this.direction},ge(Bt,Ht),Bt.prototype._initInstance=function(t){
Bt._super._initInstance.call(this,t),t.horizontalFocus=this.horizontalFocus,t.verticalFocus=this.verticalFocus,t.relativeTo=this.relativeTo},ge(Vt,X),Vt.LinearEase=function(t,e,i,n){return e+i*t/n},Vt.sinEase=function(t,e,i,n){return e+i*(1-Math.cos(Math.PI*t/n))*.5},Vt.EaseOutElastic=function(t,e,i,n,s,r){if(!t)return e;if(1==(t/=n))return e+i;var a;return r=r&&"number"==typeof r?r:.3*n,s=s&&"number"==typeof s?s:0,!s||s<Math.abs(i)?(s=i,a=r/4):a=r/(2*Math.PI)*Math.asin(i/s),s*Math.pow(2,-10*t)*Math.sin(2*(t*n-a)*Math.PI/r)+i+e},Vt.EaseOutBounce=function(t,e,i,n){return(t/=n)<1/2.75?7.5625*i*t*t+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},Vt.prototype.onTweenUpdate=function(t){var e,i=Number(t),n=this._elementCount;if(this._forward)for(e=0;e<n;e++)1!=this._playHeads[e]&&(t=(i-this.offset-e*this.elementOffset)/this._elementDuration,this._interpolationValues[e]=1<t?1:0<=t?this._easingFunctionHolder(t,0,1,1):0,this._playHeads[e]=t);else for(e=0;e<n;e++)1!=this._playHeads[e]&&(t=(i-this.offset-(n-1-e)*this.elementOffset)/this._elementDuration,this._interpolationValues[e]=1<t?1:0<=t?this._easingFunctionHolder(t,0,1,1):0,this._playHeads[e]=t)},Vt.prototype.beginTween=function(t){this._easingFunctionHolder=this._findEasingEquation(this.getTarget(),this.easingFunction),this._elementCount=t,0>this.elementOffset&&(this._forward=!1,this.elementOffset*=-1),0<t&&(isNaN(this._duration)||(this._elementDuration=this._duration-Math.abs(this.elementOffset)*(t-1)),(o(this._duration)||this._elementDuration<this.minimumElementDuration)&&(this._elementDuration=this.minimumElementDuration,this.setDuration(Math.abs(this.elementOffset)*(this._elementCount-1)+this._elementDuration)),this.setDuration(this._duration+this.offset)),this.elementOffset/=this._duration,this._elementDuration/=this._duration,this.offset/=this._duration,this._interpolationValues=[],this._playHeads=[],this.tween=new z(this,0,1,this._duration),this.tween.easingFunction=Ht.sinEase},Vt.prototype._findEasingEquation=function(t,e){var i;if(null==e)return Vt[this.defaultEasingFunction];if(a(e))return e;for(;null!=t;){if(i=t[e],null!=i&&a(i))return i;t=t.getParent()}return Vt[this.defaultEasingFunction]},ge(Ut,Vt),Ut.prototype.play=function(){"hide"==this._type?this.end():(this._sourceRenderData=this.targetSeries.getRenderDataForTransition("hide"),this._destRenderData=this.targetSeries.getRenderDataForTransition("show"),this._len=Math.max(this._sourceRenderData.getLength(),this._destRenderData.getLength()),this._sourceRenderData&&this._destRenderData&&(this._customIData=this.targetSeries.beginInterpolation(this._sourceRenderData,this._destRenderData)),this.beginTween(this._len))},Ut.prototype.onTweenUpdate=function(t){Ut._super.onTweenUpdate.call(this,t),this._sourceRenderData&&this._destRenderData&&(this.targetSeries.interpolate(this._interpolationValues,this._customIData),this.targetSeries.updateSeriesItem())},Ut.prototype.onTweenEnd=function(t){Ut._super.onTweenEnd.call(this,t),this._sourceRenderData&&this._destRenderData&&this.targetSeries.endInterpolation(this._customIData)},ge(Gt,Vt),Gt.prototype.play=function(){var t;t=this.type;var e,i,n,s=!1,r=this.targetSeries,a=r._unscaledWidth,o=r._unscaledHeight;if(e=this._seriesRenderData=r.getRenderDataForTransition(t),"show"==t)switch(this.direction){case"right":i=a,s=!0;break;case"left":i=-a,s=!0;break;case"down":i=o;break;case"up":i=-o}else switch(this.direction){case"right":i=a,s=!0;break;case"left":i=-a,s=!0;break;case"up":i=-o;break;case"down":i=o}if(this._slideDistance=i,this._horizontal=s,"show"==t)n=this._horizontal?new S((-i),0,r._unscaledWidth,r._unscaledHeight):new S(0,(-i),r._unscaledWidth,r._unscaledHeight);else for(t=0;void 0>t;t++)n[t]=(void 0)[t].clone();e.clipBounds=n,r.transitionRenderData=e,this._startingBounds=void 0,this.beginTween(1)},Gt.prototype.onTweenUpdate=function(t){Gt._super.onTweenUpdate.call(this,t);var e,i,n;e=this.direction,t=this._seriesRenderData.clipBounds;var s=this._slideDistance,r=this.targetSeries,a=this._interpolationValues[0];if(i=r._unscaledWidth,r=r._unscaledHeight,"show"==this.type)this._horizontal?n="right"==this.direction?new S(0,0,i-(1-a)*s,r):new S(i+a*s,0,i,r):"down"==e?(a=1-a,n=new S(0,0,i,r-a*s)):n=new S(0,r+a*s,i,r);else if(this._horizontal)for(e=0;void 0>e;e++)a=this._interpolationValues[e],i=this._startingBounds[e],n=t[e],n.setLeft(i.left+a*s),n.setRight(i.right+a*s),n.setTop(i.top),n.setBottom(i.bottom);else for(e=0;void 0>e;e++)a=this._interpolationValues[e],i=this._startingBounds[e],n=t[e],n.setTop(i.top+a*s),n.setBottom(i.bottom+a*s),n.setLeft(i.left),n.setRight(i.right);this._seriesRenderData.clipBounds=n,this.targetSeries.updateSeriesItem()},Gt.prototype.onTweenEnd=function(t){Gt._super.onTweenEnd.call(this,t),this.targetSeries.transitionRenderData=null,this.targetSeries._renderData.clipBounds=null,this.targetSeries.updateSeriesItem()},ge(Yt,Vt),Yt.prototype.play=function(){var t,e,i;t=this.type;var n,s,r=this.targetSeries,a=[];if(n=this._seriesRenderData=r.getRenderDataForTransition(t),r.getElementBounds(n),(e=n.visibleRegion)||(e=new S(0,0,r._unscaledWidth,r._unscaledHeight,(!0))),n.bounds)if("show"==t)switch(this.direction){case"right":this._slideDistance=n.bounds.right,this._horizontal=!0;break;case"left":this._slideDistance=-(e.right-n.bounds.left),this._horizontal=!0;break;case"down":this._slideDistance=n.bounds.bottom,this._horizontal=!1;break;case"up":this._slideDistance=-(e.bottom-n.bounds.top),this._horizontal=!1}else switch(this.direction){case"left":this._slideDistance=-n.bounds.right,this._horizontal=!0;break;case"right":this._slideDistance=e.right-n.bounds.left,this._horizontal=!0;break;case"up":this._slideDistance=-n.bounds.bottom,this._horizontal=!1;break;case"down":this._slideDistance=e.bottom-n.bounds.top,this._horizontal=!1}if(s=n.elementBounds,e=s.length,"show"==t)if(this._horizontal)for(t=0;t<e;t++)(i=s[t])&&(a[t]=new S(i.left-this._slideDistance,i.top,i.width,i.height,(!0)));else for(t=0;t<e;t++)(i=s[t])&&(a[t]=new S(i.left,i.top-this._slideDistance,i.width,i.height,(!0)));else for(t=0;t<e;t++)a[t]=s[t].clone();n.elementBounds=a,r._transitionRenderData=n,this._startingBounds=s,this.beginTween(e)},Yt.prototype.onTweenUpdate=function(t){Yt._super.onTweenUpdate.call(this,t);var e,i,n,s=this._startingBounds,r=this._seriesRenderData.elementBounds,a=s.length,o=this._slideDistance,l=this._interpolationValues;if("show"==this.type)if(this._horizontal)for(t=0;t<a;t++)n=1-l[t],e=s[t],i=r[t],e&&i&&(i.setLeft(e.left-n*o),i.setRight(e.right-n*o),i.setTop(e.top),i.setBottom(e.bottom));else for(t=0;t<a;t++)n=1-l[t],e=s[t],i=r[t],e&&i&&(i.setTop(e.top-n*o),i.setBottom(e.bottom-n*o),i.setLeft(e.left),i.setRight(e.right));else if(this._horizontal)for(t=0;t<a;t++)n=l[t],e=s[t],i=r[t],e&&i&&(i.setLeft(e.left+n*o),i.setRight(e.right+n*o),i.setTop(e.top),i.setBottom(e.bottom));else for(t=0;t<a;t++)n=l[t],e=s[t],i=r[t],e&&i&&(i.setTop(e.top+n*o),i.setBottom(e.bottom+n*o),i.setLeft(e.left),i.setRight(e.right));this.targetSeries.updateSeriesItem()},Yt.prototype.onTweenEnd=function(t){Yt._super.onTweenEnd.call(this,t),this.targetSeries._transitionRenderData=null,this.targetSeries._renderData.elementBounds=null},ge(Xt,Vt),Xt.prototype.play=function(){var t,e,i,n;t=this.type;var s,r,a=[],o=[],l=this.targetSeries;if(r=this._seriesRenderData=l.getRenderDataForTransition(t),l.getElementBounds(r),s=this._elementBounds=r.elementBounds,e=s.length,"series"==this.relativeTo?this._loadSeriesRelativePoints(o,s):this._loadChartRelativePoints(o,s,r.visibleRegion),"show"==t)switch(this._direction){case 0:for(t=0;t<e;t++)n=o[t],a[t]=new S(n.x,n.y,0,0,(!0));break;case 1:for(t=0;t<e;t++)n=o[t],i=s[t],a[t]=new S(n.x,i.top,0,i.height,(!0));break;case 2:for(t=0;t<e;t++)n=o[t],i=s[t],a[t]=new S(i.left,n.y,i.width,0,(!0))}else for(t=0;t<e;t++)a[t]=s[t].clone();r.elementBounds=a,l._transitionRenderData=r,this._zoomPoints=o,this.beginTween(e)},Xt.prototype.onTweenUpdate=function(t){Xt._super.onTweenUpdate.call(this,t);var e,i,n=0;e=this.type;var s,r,a=1,o=this._elementBounds,l=this._seriesRenderData.elementBounds,h=this._zoomPoints,d=this._interpolationValues;switch(t=o.length,"hide"==e&&(n=1,a=-1),this._direction){case 0:for(e=0;e<t;e++)r=n+a*d[e],i=o[e],s=h[e],l[e]=new S(s.x+(i.left-s.x)*r,s.y+(i.top-s.y)*r,i.width*r,i.height*r,(!0));break;case 1:for(e=0;e<t;e++)r=n+a*d[e],i=o[e],s=h[e],l[e]=new S(s.x+(i.left-s.x)*r,i.top,i.width*r,i.height,(!0));break;case 2:for(e=0;e<t;e++)r=n+a*d[e],i=o[e],s=h[e],l[e]=new S(i.left,s.y+(i.top-s.y)*r,i.width,i.height*r,(!0))}this.targetSeries.updateSeriesItem()},Xt.prototype.onTweenEnd=function(t){Xt._super.onTweenEnd.call(this,t),this.targetSeries._transitionRenderData=null,this.targetSeries._renderData.elementBounds=null},Xt.prototype._loadChartRelativePoints=function(t,e,i){var n;e=e.length;var s=this.targetSeries;switch(i||(i=new S(0,0,s._unscaledWidth,s._unscaledHeight,(!0))),this.horizontalFocus){case"left":switch(this.verticalFocus){case"top":for(s=0,i=new fe(i.left,i.top),n=0;n<e;n++)t[n]=i;break;case"middle":case"center":for(s=0,i=new fe(i.left,i.top+i.height/2),n=0;n<e;n++)t[n]=i;break;case"bottom":for(s=0,i=new fe(i.left,i.bottom),n=0;n<e;n++)t[n]=i;break;default:for(s=1,i=new fe(i.left,NaN),n=0;n<e;n++)t[n]=i}break;case"right":switch(this.verticalFocus){case"top":for(s=0,i=new fe(i.right,i.top),n=0;n<e;n++)t[n]=i;break;case"middle":case"center":for(s=0,i=new fe(i.right,i.top+i.height/2),n=0;n<e;n++)t[n]=i;break;case"bottom":for(s=0,i=new fe(i.right,i.bottom),n=0;n<e;n++)t[n]=i;break;default:for(s=1,i=new fe(i.right,NaN),n=0;n<e;n++)t[n]=i}break;case"center":switch(this.verticalFocus){case"top":for(s=0,i=new fe(i.left+i.width/2,i.top),n=0;n<e;n++)t[n]=i;break;case"middle":case"center":for(s=0,i=new fe(i.left+i.width/2,i.top+i.height/2),n=0;n<e;n++)t[n]=i;break;case"bottom":for(s=0,i=new fe(i.left+i.width/2,i.bottom),n=0;n<e;n++)t[n]=i;break;default:for(s=1,i=new fe(i.left+i.width/2,NaN),n=0;n<e;n++)t[n]=i}break;default:switch(this.verticalFocus){case"top":for(s=2,i=new fe(NaN,i.top),n=0;n<e;n++)t[n]=i;break;case"middle":case"center":for(s=2,i=new fe(NaN,i.top+i.height/2),n=0;n<e;n++)t[n]=i;break;case"bottom":for(s=2,i=new fe(NaN,i.bottom),n=0;n<e;n++)t[n]=i;break;default:for(s=0,i=new fe(i.left+i.width/2,i.top+i.height/2),n=0;n<e;n++)t[n]=i}}this._direction=s},Xt.prototype._loadSeriesRelativePoints=function(t,e){var i,n,s,r=e.length;switch(this.horizontalFocus){case"left":switch(this.verticalFocus){case"top":for(i=s=0;i<r;i++)n=e[i],t[i]=new fe(n.left,n.top);break;case"middle":case"center":for(i=s=0;i<r;i++)n=e[i],t[i]=new fe(n.left,(n.top+n.bottom)/2);break;case"bottom":for(i=s=0;i<r;i++)n=e[i],t[i]=new fe(n.left,n.bottom);break;default:for(s=1,i=0;i<r;i++)n=e[i],t[i]=new fe(n.left,NaN)}break;case"right":switch(this.verticalFocus){case"top":for(i=s=0;i<r;i++)n=e[i],t[i]=new fe(n.right,n.top);break;case"middle":case"center":for(i=s=0;i<r;i++)n=e[i],t[i]=new fe(n.right,(n.top+n.bottom)/2);break;case"bottom":for(i=s=0;i<r;i++)n=e[i],t[i]=new fe(n.right,n.bottom);break;default:for(s=1,i=0;i<r;i++)n=e[i],t[i]=new fe(n.right,NaN)}break;case"center":switch(this.verticalFocus){case"top":for(i=s=0;i<r;i++)n=e[i],t[i]=new fe((n.left+n.right)/2,n.top);break;case"middle":case"center":for(i=s=0;i<r;i++)n=e[i],t[i]=new fe((n.left+n.right)/2,(n.top+n.bottom)/2);break;case"bottom":for(i=s=0;i<r;i++)n=e[i],t[i]=new fe((n.left+n.right)/2,n.bottom);break;default:for(s=1,i=0;i<r;i++)n=e[i],t[i]=new fe((n.right+n.left)/2,NaN)}break;default:switch(this.verticalFocus){case"top":for(s=2,i=0;i<r;i++)n=e[i],t[i]=new fe(NaN,n.top);break;case"middle":case"center":for(s=2,i=0;i<r;i++)n=e[i],t[i]=new fe(NaN,(n.top+n.bottom)/2);break;case"bottom":for(s=2,i=0;i<r;i++)n=e[i],t[i]=new fe(NaN,n.bottom);break;default:for(i=s=0;i<r;i++)n=e[i],t[i]=new fe((n.left+n.right)/2,(n.top+n.bottom)/2)}}this._direction=s},ge(jt,_),jt.prototype._defaultProperty="children",jt.prototype.setDataTransform=function(t){ht.prototype.setDataTransform.call(this,t)},jt.prototype.getDataTransform=function(){return ht.prototype.getDataTransform.call(this)},jt.prototype.setSize=function(t,e){this._elementWidth=t,this._elementHeight=e,this.invalidateDisplayList()},jt.prototype.getSize=function(){return{w:this._elementWidth,h:this._elementHeight}},jt.prototype.measure=function(){_.prototype.measure.call(this)},jt.prototype.commitProperties=function(){var t,e,i;for(_.prototype.commitProperties.call(this),t=0,e=this.getNumChildren();t<e;t+=1)i=this.getChildAt(t),(o(i.width)||o(i.height))&&i.invalidateSize(),i.invalidateProperties()},jt.prototype.updateDisplayList=function(t,e){if(this.getSize(),_.prototype.updateDisplayList.call(this,t,e),!(0>=t||0>=e)){var i,n,s,r,a,l,h,d=this.getNumChildren();for(i=0;i<d;i+=1)l=this.getChildAt(i),n=s=0,r=l.getExplicitOrMeasuredWidth(),a=l.getExplicitOrMeasuredHeight(),0>=r||0>=a||(l.maintainAspectRatio&&(h=Math.min(t/r,e/a)*this.childMaintainAspectRatio,r*=h,a*=h),o(l.left)?o(l.right)?o(l.horizontalCenter)||(n=.5*(t-r)+l.horizontalCenter):n=t-l.right-r:n=l.left,o(l.top)?o(l.bottom)?o(l.verticalCenter)||(s=.5*(e-a)+l.verticalCenter):s=e-l.bottom-a:s=l.top,l.move(n,s),l.setActualSize(r,a),l.invalidateDisplayList())}},jt.prototype.mappingChanged=function(){this.invalidateDisplayList()},jt.prototype.describeData=function(){return[]},jt.prototype.collectTransitions=function(){},ge(Kt,ht),Kt.prototype.getFontStyle=function(){return{fontStyle:this.fontStyle,fontSize:this.fontSize,fontWeight:this.fontWeight,fontFamily:this.fontFamily,color:this.color}},Kt.prototype.measure=function(){var t;t=this.text,v.prototype.measure.call(this),this.setFont(this.getFontStyle()),t=this.measureText(t),gi&&(t.width+=6),o(this._explicitWidth)&&(this.measuredWidth=t.width+this.paddingLeft+this.paddingRight),o(this._explicitHeight)&&(this.measuredHeight=t.height+this.paddingTop+this.paddingBottom)},Kt.prototype.commitProperties=function(){var t=this;v.prototype.commitProperties.call(t),t.itemClickJsFunction&&!t._addEventDirty&&(bi(t,"cursor","pointer"),yi(t,"click",function(){ri.findFunction(t.itemClickJsFunction)(t.id,t.text)}),t._addEventDirty=!0)},Kt.prototype.updateDisplayList=function(t,e){var i,n,s,r=this.graphics,a=this.borderThickness||this.borderWidth,l=this.borderRadius||this.cornerRadius,h=this.textAlign,d=this.verticalAlign,c=this.paddingLeft,u=this.paddingRight,p=this.paddingTop,g=this.paddingBottom;v.prototype.updateDisplayList.call(this),r.save(),this.clear(),r.fillStyle=Me.color2rgba(Me.hex2rgb(this.backgroundColor),this.backgroundAlpha),o(l)?r.fillRect(0,0,t,e):(Ne.drawRoundRect(r,t,e,l),r.fill()),i=0!=.5*a?0:.5,"none"!=this.borderStyle&&(r.lineWidth=a,r.strokeStyle=Me.color2rgba(Me.hex2rgb(this.borderColor),this.borderAlpha),o(l)?r.strokeRect(.5*a-i,.5*a-i,t-a+2*i,e-a+2*i):(Ne.drawRoundRect(r,t,e,l),r.stroke())),this.setFont(this.getFontStyle()),i=this.measureText(this.text),"left"==h?n=0:"right"==h?n=Math.floor(t-i.width-u)-.5:"center"==h&&(n=Math.floor(c+.5*(t-i.width))-.5),"top"==d?s=0:"bottom"==d?s=Math.floor(e-i.height-g)+.5:"middle"==d&&(s=Math.floor(p+.5*(e-i.height))+.5),this.fillText(i,n,s),r.restore()},Kt.prototype.mappingChanged=function(){this.invalidateDisplayList()},ge(Jt,ht),Jt.prototype.findDataPoints=function(){return[]},Jt.prototype.describeData=function(){return[]},Jt.prototype.updateDisplayList=function(t,e){v.prototype.updateDisplayList.call(this,t,e);var i,n,s,r,a,l,h,d,c,u,p,g=this.graphics,f=!1,m=this.getChart(),_=.5;a=[];var y,C,b,x=this.direction,w=Ne.apply,T=0,D=m.cubeDepth||0;a=m.cubeAngleRatio||0;var M,I=(D-T)*a;i=this.horizontalChangeCount,h=this.horizontalShowOrigin;var E=this.verticalShowOrigin;if(d=this.verticalChangeCount,m&&g){if((m instanceof Column3DChart||m instanceof Bar3DChart)&&(T=m.cubeDepthOffset,(D-T)*a<D*a&&(T=-(D*a/3)+D)),this.clear(),"horizontal"==x||"both"==x){for(m=this.horizontalStroke,x=Math.max(1,i),(0!=0*x||1>=x)&&(x=1),c=this._getVerticalRenderer(),s=[],p=c._labels||s,i=0,a=p.length;i<a;i+=1)s.push(p[i].position);if(s&&0<s.length){if(0==this.horizontalTickAligned)for(l=s.length,a=[],i=1;i<l;i++)a[i-1]=(s[i]+s[i-1])/2;else a=s;for(C=b=!1,0!=a[0]&&(b=!0,a.unshift(0)),1!=a[a.length-1]&&(C=!0,a.push(1)),y=e-I,p=[this.horizontalFill,this.horizontalAlternateFill],l=a.length,1>a[l-1]&&(s=p[1],null!=s&&(g.lineWidth=1,g.fillStyle=s,g.fillRect(0,a[l-1]*y,t,e),g.fill())),w(g,m),0==m.weight%2&&(f=!0),g.beginPath(),i=0;i<a.length;i+=x)n=l-1-i,s=p[i/x%2],u=a[n]*y+T+1,r=a[Math.max(0,n-x)]*y,r=new S(D-T,r+T,t-D,u-r-T),null!=s&&(g.fillStyle=Me.color2rgba(s.color,s.alpha),g.fillRect(r.left,r.top,r.width,r.height),g.fill()),!(m&&-1<=r.bottom)||b&&0==n||C&&n==a.length-1||(u=Math.floor(u),i?f||(u-=.5):u-=1.5,g.moveTo(r.left,u),g.lineTo(r.right,u),_=u);g.stroke()}}if(this.showEdgeHorizontalStroke&&(c||(c=this._getVerticalRenderer()),c.getAxis()instanceof Tt&&(_=.5),w(g,this.horizontalStroke),g.beginPath(),g.moveTo(D,_),g.lineTo(t,_),g.moveTo(D,e-D),g.lineTo(t,e-D),g.closePath(),g.stroke()),f=!1,"vertical"==this.direction||"both"==this.direction){for(m=this.verticalStroke,x=Math.max(1,d),(o(x)||1>=x)&&(x=1),M=this._getHorizontalRenderer(),s=[],p=M._labels||s,i=0,a=p.length;i<a;i+=1)s.push(p[i].position);if(s&&0<s.length){if(0==this.verticalTickAligned)for(l=s.length,a=[],i=1;i<l;i++)a[i-1]=(s[i]+s[i-1])/2;else a=s;for(C=b=!1,0!=a[0]&&(b=!0,a.unshift(0)),1!=a[a.length-1]&&(C=!0,a.push(1)),y=t-D,p=[this.verticalFill,this.verticalAlternateFill],w(g,m),0==m.weight%2&&(f=!0),g.beginPath(),i=0;i<a.length;i+=x)s=p[i/x%2],c=Math.floor(a[i]*y+D-T),d=a[Math.min(a.length-1,i+x)]*y+D,r=new S(c,T,d-c-T,e-I),null!=s&&(g.fillStyle=Me.color2rgba(s.color,s.alpha),g.fillRect(r.left,r.top,r.width,r.height),g.fill()),!m||b&&0==i||C&&i==a.length-1||(f||(c=c>=this.width?c-.5:0>c?c+1:c+.5),g.moveTo(c,r.top),g.lineTo(c,r.bottom));g.stroke()}}this.showEdgeVerticalStroke&&(M||(M=this._getHorizontalRenderer()),M.getAxis(),w(g,this.verticalStroke),g.beginPath(),g.moveTo(I+.5,_),g.lineTo(I+.5,e-I),g.moveTo(t-.5,_+T),g.lineTo(t-.5,e-I),g.closePath(),g.stroke()),(E||h)&&(f=[{xOrigin:0,yOrigin:0}],this._dataTransform.transformCache(f,"xOrigin","x","yOrigin","y"),h&&0<f[0].y&&f[0].y<e&&(h=this.horizontalOriginStroke,w(g,h),g.beginPath(),_=Math.floor(f[0].y-I),0!=h.weight%2&&(_+=.5),g.moveTo(D,_),g.lineTo(t,_),g.stroke()),E&&0<f[0].x&&f[0].x<t&&(h=this.verticalOriginStroke,w(g,h),g.beginPath(),_=Math.floor(f[0].x+D),0!=h.weight%2&&(_+=.5),g.moveTo(_,0),g.lineTo(_,e-I))),this.horizontalShowCenterLine&&(h=this.horizontalCenterStroke,w(g,h),g.beginPath(),_=Math.floor(.5*e),0!=h.weight%2&&(_+=.5),g.moveTo(0,_),g.lineTo(t,_),g.closePath(),g.stroke()),this.verticalShowCenterLine&&(h=this.verticalCenterStroke,w(g,h),g.beginPath(),_=Math.floor(.5*t),0!=h.weight%2&&(_+=.5),g.moveTo(_,0),g.lineTo(_,e),g.closePath(),g.stroke())}},Jt.prototype.mappingChanged=function(){this.invalidateDisplayList()},Jt.prototype._getVerticalRenderer=function(){var t,e=this.chart||this.getChart();return e.verticalAxisRenderer?t=e.verticalAxisRenderer:(t=e.getLeftMostRenderer())||(t=e.getRightMostRenderer()),t},Jt.prototype._getHorizontalRenderer=function(){var t,e=this.chart||this.getChart();return e.horizontalAxisRenderer?t=e.horizontalAxisRenderer:(t=e.getBottomMostRenderer())||(t=e.getTopMostRenderer()),t},ge(Qt,_),Qt.prototype.getSource=function(){return this._source},Qt.prototype.setSource=function(t){this._source!=t&&(this.setVisible(!1),this._source=t,this._imageLoad())},Qt.prototype.updateDisplayList=function(t,e){if(_.prototype.updateDisplayList.call(this,t,e),this._imgLoaded){var i,n;0==t||0==e?o(this.measuredWidth)||o(this.measuredHeight)||_.prototype.setActualSize.call(this,this.measuredWidth,this.measuredHeight):this.maintainAspectRatio?(n=this.measuredWidth>this.measuredHeight?t/this.measuredWidth:e/this.measuredHeight,i=n*this.measuredWidth,n*=this.measuredHeight,_.prototype.setActualSize.call(this,i,n)):_.prototype.setActualSize.call(this,t,e),this.setVisible(!0)}},Qt.prototype.collectTransitions=function(){},Qt.prototype.describeData=function(){return[]},Qt.prototype.getDataTransform=function(){return this._dataTransform},Qt.prototype._imageLoad=function(){this.addEvent("load",this._imageLoadHandler,this),this.element.src=this._source},Qt.prototype._imageLoadHandler=function(t){var e=NaN,i=NaN;this._imgLoaded=!0,this.removeEvent("load",this._imageLoadHandler,this),gi?(t=document.createElement("img"),t.src=this.element.src,e=t.width,i=t.height):(e=t.target.naturalWidth,i=t.target.naturalHeight),this.measuredWidth=e,this.measuredHeight=i,this.invalidateSize()},ge(qt,Jt),qt.prototype.updateDisplayList=function(t,e){var i=this.getChart(),n=i.getDataProvider();if(v.prototype.updateDisplayList.call(this,t,e),n&&i){var s,r,a,o,l,h,d=0,c=[],u=n.getLength(),p=i.startAngleRadians;h=i.getOrigin();var g=new fe(h.x,h.y),f=this.graphics,m=this.gridLines;a=i._radialAxisRenderers[0];var _=function(t,e,i,n){return Math.floor(Math[t](e+p)*i+n)+.5};if(this.clear(),h=Math.max(1,this.radarChangeCount),(isNaN(h)||1>=h)&&(h=1),a&&(a=a._ticks)&&(c=a,0!=c[0]&&c.unshift(0),1!=c[c.length-1]&&c.push(1),l=i.getRadius(),o=[Me.color2rgba(this.radarFill.color,this.radarFill.alpha),Me.color2rgba(this.radarAlternateFill.color,this.radarAlternateFill.alpha)],a=c.length,n)){for(f.save();d<c.length;){if(n=a-1-d,s=o[d/h%2],n=c[n]*l,null!=s){"both"==m||"angular"==m?(f.strokeStyle=this.angularStroke.color,f.lineWidth=this.angularStroke.weight):f.lineWidth=1,f.fillStyle=s;var y=0;if(f.beginPath(),"polygon"==i.type){for(;y<u;)r=360/u*y*Math.PI/180,s=_("cos",r,n,g.x),r=_("sin",r,n,g.y),0!=y?f.lineTo(s,r):f.moveTo(s,r),++y;"angular"==m&&(r=0,f.lineTo(_("cos",r,n,g.x),_("sin",r,n,g.y)))}else f.arc(g.x,g.y,n,0,2*Math.PI,!0);f.closePath(),f.fill(),f.stroke()}d+=h}if("both"==m||"radial"==m){for(f.strokeStyle=this.radialStroke.color,f.lineWidth=this.radialStroke.weight,y=0;y<u;)r=360/u*y*Math.PI/180,f.moveTo(Math.floor(g.x)+.5,Math.floor(g.y)+.5),f.lineTo(_("cos",r,l,g.x),_("sin",r,l,g.y)),++y;f.stroke()}f.restore()}}},ge($t,J),$t.prototype.draw=function(t,e,n,s,r){var a=this.fill,o=this.stroke;(r=this.graphics||r)&&(o||(o=new w(i(a)?a:a.color)),r.save(),this.apply(r,o),t=this.createRect(t,e,n,s),this.begin(r,this,t,a),r.beginPath(),r.moveTo(t.left,t.top),r.lineTo(t.right,t.top),r.lineTo(t.right,t.bottom),r.lineTo(t.left,t.bottom),r.closePath(),r.fill(),o&&r.stroke(),r.restore())},ge(Zt,J),Zt.prototype.draw=function(t,e,i,n,s){var r=this.stroke;(s=this.graphics||s)&&(this.apply(s,r),t=this.createRect(t,e,i,n),this.begin(s,this,t,this.fill),this.drawPath(s,t),s.fill(),r&&s.stroke())},Zt.prototype.drawPath=function(t,e){0>=e.width||0>=e.height||(t.beginPath(),t.arc(e.left+.5*e.width,e.top+.5*e.height,.5*e.width,0,2*Math.PI,!0),t.closePath())},ge(te,J),te.prototype.draw=function(t,e,i,n){var s,r,a,l=0,h=this.graphics;s=this.areaFill;var d=this.lineStroke,c=this.fillLineArea;for(h.save(),h.beginPath(),this.apply(h,d),t=this.createRect(t,e,i,n),this.begin(h,this,t,s),s=0;s<this.data.length;++s)i=this.data[s],t=i.angle*Math.PI/180,o(t)?l?h.lineTo(i.x,i.y):h.moveTo(i.x,i.y):(e=i.radius,i=i.startAngle,0==l?(r=Math.cos(t+i)*e+this.origin.x,a=Math.sin(t+i)*e+this.origin.y,h.moveTo(r,a)):h.lineTo(Math.cos(t+i)*e+this.origin.x,Math.sin(t+i)*e+this.origin.y)),++l;h.lineTo(r,a),h.closePath(),c&&h.fill(),d&&h.stroke(),h.restore()},ee._defaultStyles={labelPosition:"none"},ge(ee,ht),ee.prototype.getItems=function(){return[]},ee.prototype.getSelectedIndex=function(){var t=this._selectedItems.length;return 0<t?this._selectedItems[t-1].index:-1},ee.prototype.setSelectedIndex=function(t){1==this._selectedItems.length&&this._selectedItems[0].index==t||(this.getItems()?(t=this._getChartItemFor(t))&&(this._selectionDirtyArray=[t],this._selectionDirty=!0,this.invalidateProperties()):(this._selectionIndicesDirty=!0,this._selectionIndicesDirtyArray.push(t),this.invalidateProperties()))},ee.prototype.getSelectedIndices=function(){var t,e=[],i=this._selectedItems.length;for(t=0;t<i;t+=1)e.push(this._selectedItems[t].index);return e},ee.prototype.setSelectedIndices=function(t){var e,i;if(this._selectedItems.length||t){if(this.getItems()){for(this._selectionDirtyArray=[],e=0;e<t.length;e+=1)(i=this._getChartItemFor(t[e]))&&this._selectionDirtyArray.push(i);this._selectionDirty=!0}else this._selectionIndicesDirty=!0,this._selectionIndicesDirtyArray=t;this.invalidateProperties()}},ee.prototype.getSelectedItems=function(){return this._selectedItems},ee.prototype.setSelectedItems=function(t){(this._selectedItems.length||t.length)&&(this._selectionDirtyArray=t,this._selectionDirty=!0,this.invalidateProperties())},ee.prototype.getSelectedItem=function(){var t=this._selectedItems.length;return 0<t?this._selectedItems[t-1]:null},ee.prototype.setSelectedItem=function(t){1==this._selectedItems.length&&this._selectedItems[0]==t||(this._selectionDirtyArray=[t],this._selectionDirty=!0,this.invalidateProperties())},ee.prototype.getVerticalAxis=function(){return this._verticalAxis},ee.prototype.setVerticalAxis=function(t){this._verticalAxis=t,this._bAxesDirty=!0,this.invalidateData(),this.invalidateProperties()},ee.prototype.getHorizontalAxis=function(){return this._horizontalAxis},ee.prototype.setHorizontalAxis=function(t){this._horizontalAxis=t,this._bAxesDirty=!0,this.invalidateData(),this.invalidateProperties()},ee.prototype.getSelectionContainer=function(){if(this._selectionContainer)return this._selectionContainer},ee.prototype.getDisplayName=function(){return this._displayName},ee.prototype.setDisplayName=function(t){var e=this.getChart();this._displayName=t,e&&e.legendDataChanged()},ee.prototype.setVisible=function(t){var e;v.prototype.setVisible.call(this,t),this.labelLayer&&this.labelLayer.setVisible(t),(e=this.getSelectionContainer())&&e.setVisible(t),this.displayNameLabel&&this.displayNameLabel.setVisible(t)},ee.prototype.changeClassName=function(t,e){var i,n,s=this.getSelectedItems(),r=e?Di:Mi,a="Kool__"+t;for(r(this,a),this.labelLayer&&r(this.labelLayer,a),i=0,n=s.length;i<n;i+=1)r(s[i]._canvas,a)},ee.prototype._dataChanged=function(){this.invalidateData(!0),ee._super._dataChanged.call(this)},ee.prototype.setDataTransform=function(t){var e;if(this._dataTransform&&this._dataTransform.removeEventListener("transformChange",this._transformChangeHandler),t)ee._super.setDataTransform.call(this,t),t.addEventListener("transformChange",this._transformChangeHandler,!1,0,!0);else for(e in this._dataTransform.axes)this._dataTransform.getAxis(e).unregisterDataTransform(this._dataTransform)},ee.prototype.getItemsInRegion=function(t){return[]},ee.prototype._addItemtoSelection=function(t){this._selectedItems.push(t),t.setCurrentState(ki)},ee.prototype._removeItemFromSelection=function(t,e){e||(e=Hi);var i=this._selectedItems.indexOf(t);this._selectedItems.splice(i,1),t.setCurrentState(e)},ee.prototype._setItemState=function(t){var e,i;if(i=this._renderData?this._renderData.filteredCache:[])for(e=0;e<i.length;e+=1)i[e].setCurrentState(t)},ee.prototype._clearSeriesItemsState=function(t,e){t&&(this._selectedItems=[]),e||(e=Ri),this._setItemState(e)},ee.prototype._emptySelectedItems=function(){this._selectedItems=[]},ee.prototype.setStyles=function(t){Ee.extend(this._styles,t)},ee.prototype.styleChanged=function(t){ee._super.styleChanged.call(this),this.stylesInitialized()},ee.prototype.stylesInitialized=function(){this.legendDataChanged()},ee.prototype.getLegendData=function(){var t,e,i=this.getChart();e=this.itemRenderer;var n=this.legendMarkerRenderer;return t=new ft,t.target=this,t.label=this._displayName,!n&&e&&(n=e),n?(e=n.newInstance(),t.aspectRatio=1):e&&this.radius&&!o(this.radius)?(e=e.newInstance(),t.aspectRatio=1):e=new $t,t.marker=e,t.fill=this.getMarkerFill(),t.stroke=this.getMarkerStroke(),i&&i._enablePattern&&(t.pattern=ri.defaultPatternFunc(this,null,this.seriesIndex),t.stroke=new w("#000000")),[t]},ee.prototype.getMarkerFill=function(){var t=this.getStyle("fills");return t&&t[0]||this.getStyle("fill")},ee.prototype.getMarkerStroke=function(){return this.getStyle("stroke")},ee.prototype.legendDataChanged=function(){var t=this.getChart();t&&t.dispatchEvent(new Ue("legendDataChanged"))},ee.prototype._getChartItemFor=function(t){var e,i,n=0;for(i=this._renderData?this._renderData.filteredCache:[],n=0;n<i.length;n+=1)if(i[n].index==t){e=i[n];break}return e},ee.prototype.getRenderData=function(){var t;return this._renderData&&this._renderData.cache&&0!=this._renderData.cache.length?this._renderData:(t=new yt,t.cache=t.filteredCache=[],t)},ee.prototype.setUserDefineDirty=function(t){this._userDefineDirty=t},ee.prototype.getTransformState=function(){return this._bTransformDirty},ee.prototype.createLabelLayer=function(){!this._labelLayerCreated&&("none"!=this.getStyle("labelPosition")||this.lineToEachItems||this.showMaxValueLabel||this.showMinValueLabel||this.showTrendLine||this.showErrorBar)&&(this._labelLayerCreated=!0,this.labelLayer=new ht(this.className+"LabelLayer"),this.labelLayer.getChart=this.getChart,this.labelLayer.owner=this)},ee.prototype.allSeriesRenderingComplete=function(){var t=this.getChart();t&&this.allSeriesTransform&&t.allSeriesRenderingComplete(this)},ee.prototype.setActualSize=function(t,e){this.invalidateTransform(!0),v.prototype.setActualSize.call(this,t,e)},ee.prototype.commitProperties=function(){v.prototype.commitProperties.call(this),fi||a(this.getAllowNegativeForStacked)||!this.interactive||this.getChart().getSelectionMode()==Ri||this._selectionContainer||(this._selectionContainer=new _("div","SelectionContainer Kool__pointer-events-none"),this._selectionContainer.setStyle("position","absolute"),this.getChart().addChildAt(this._selectionContainer,this.getChart().getChildIndex(this)+1)),this._selectionDirty&&(this._selectionDirty=!1,this.selectable&&this.getChart()&&this.getChart()._seriesSelectionChanged(this,this._selectionDirtyArray))},ee.prototype.updateDisplayList=function(t,e){v.prototype.updateDisplayList.call(this,t,e),0==this.userVisible&&this.setVisible(this.userVisible),this._bHideTransitionDirty&&(this._bHideTransitionDirty=!1),this.validateData(),this.validateTransform(),this._validateSelection(),this._selectionContainer&&(this._selectionContainer.move(this.getX(),this.getY()),this._selectionContainer.setActualSize(t,e),this._selectedItemsUpdate())},ee.prototype._selectedItemsUpdate=function(){var t,e,i,n=this.getSelectedItems();if(0<(e=this._selectionContainer.getNumChildren()))for(t=0;t<e;t+=1)i=this._selectionContainer.getChildAt(t).owner,i.getCurrentState()==Fi&&i.setCurrentState(Ri);if(0<(e=n.length))for(t=0;t<e;t+=1)i=n[t],i._canvas&&i.element._updateItemState(i,i.getCurrentState(),i._canvas)},ee.prototype.updateSeriesItem=function(){},ee.prototype._updateItemState=function(t,e,i){},ee.prototype._validateSelection=function(){this._selectionIndicesDirty?(this._selectionIndicesDirty=!1,this.setSelectedIndices(this._selectionIndicesDirtyArray),this._selectionIndicesDirtyArray=[]):this._selectionDirty&&(this._selectionDirty=!1)},ee.prototype.validateData=function(){this._dataTransform&&(this._bDataDirty&&(this._selectionDirty=!0,this.updateData()),this._bMappingDirty&&(this._selectionDirty=!0,this.updateMapping()))},ee.prototype.updateData=function(){this._bDataDirty=!1},ee.prototype.updateMapping=function(){this._bMappingDirty=!1},ee.prototype.validateTransform=function(){this._dataTransform&&(this._bFilterDirty&&(this._selectionDirty=!0,this.updateFilter()),this._bTransformDirty&&(this._selectionDirty=!0,this.updateTransform()))},ee.prototype.updateFilter=function(){this._bFilterDirty=!1},ee.prototype.updateTransform=function(){this._bTransformDirty=!1},ee.prototype.getAxis=function(t){return this._dataTransform.getAxis(t)},ee.prototype.setAxis=function(t,e){this._dataTransform.setAxis(t,e)},ee.prototype.chartStateChanged=function(t,e){this.invalidateDisplayList(),e!=Ni&&e!=Ei||(this._transitionRenderDataOpp=this._transitionRenderData=null),
ht.prototype.chartStateChanged.call(this,t,e)},ee.prototype.collectTransitions=function(t,e){var i,n=null;t==dt.PREPARING_TO_HIDE_DATA&&this.getChart().renderingComplete?(n=P.createEffectForType(this,"hideData"))&&(i=n.createInstance(this),i instanceof Vt&&(i.type="hide")):t==dt.PREPARING_TO_SHOW_DATA&&(this.validateProperties(),n=P.createEffectForType(this,"showData"))&&(i=n.createInstance(this),i instanceof Vt&&(i.type="show")),i&&e.push(i),ee._super.collectTransitions.call(this,t,e)},ee.prototype.invalidateData=function(t){void 0==t&&(t=!0),t?(this._bTransformDirty=this._bFilterDirty=this._bMappingDirty=this._bDataDirty=!0,this.invalidateTransitions(),this.invalidateDisplayList()):this._bDataDirty=!1},ee.prototype.invalidateMapping=function(t){this.stacker&&this.stacker.invalidateStacking(),void 0==t&&(t=!0),1==t?(this._bTransformDirty=this._bFilterDirty=this._bMappingDirty=this._bDataDirty=!0,this.invalidateTransitions(),this.invalidateDisplayList()):this._bMappingDirty=!0},ee.prototype.invalidateFilter=function(t){void 0==t&&(t=!0),t?(this._transformDirty=this._bFilterDirty=!0,this.invalidateTransitions(),this.invalidateDisplayList()):this._bFilterDirty=!1},ee.prototype.invalidateTransform=function(t){void 0==t&&(t=!0),t?(this._bTransformDirty=!0,this.invalidateDisplayList()):this._bTransformDirty=!1},ee.prototype.invalidateTransitions=function(){var t=this.getChart();this._bHideTransitionDirty||(this._previousTransitionData=this.getRenderData(),t&&t.hideData(),this._bHideTransitionDirty=!0)},ee.prototype.mappingChanged=function(){this.invalidateMapping(!0)},ee.prototype.stripNaNs=function(t,e){if(0!=this.filterData){var i,n=-1,s=-1;if(""==e)for(i=t.length-1;0<=i;i--)o(t[i])&&(0>s?s=n=i:n-1==i?n=i:(t.splice(n,s-n+1),s=n=i));else for(i=t.length-1;0<=i;i--)o(t[i][e])&&(0>s?s=n=i:n-1==i?n=i:(t.splice(n,s-n+1),s=n=i));0<=s&&t.splice(n,s-n+1)}},ee.prototype.cacheDefaultValues=function(t,i,n){var s,r,a=i.length;if(null!=this.dataFunction){for(s=0;s<a;s++)r=i[s],r[n]=this.dataFunction(this,r.item,n);return!0}if(""!=t&&t){for(s=0;s<a;s++)r=i[s],null!=r.item&&(e(r.item[t])?this.cacheArrayValues(r,t,n):r[n]=r.item[t]);return!0}for(s=0;s<a;s++)r=i[s],r[n]=r.item;return!1},ee.prototype.cacheArrayValues=function(t,e,i){},ee.prototype.cacheNamedValues=function(t,e,i){var n,s,r=e.length;if(""==t)return!1;for(s=0;s<r;s++)n=e[s],null!=n.item&&(n[i]=n.item[t]);return!0},ee.prototype.cacheIndexValues=function(t,e,i){var n,s,r=e.length;if(null!=this.dataFunction){for(n=0;n<r;n++)s=e[n],s[i]=this.dataFunction(this,s.item,i);return!0}if(""==t){for(n=0;n<r;n++)s=e[n],s[i]=s.index;return!1}for(n=0;n<r;n++)s=e[n],null!=s.item&&(s[i]=s.item[t]);return!0},ee.prototype.extractMinInterval=function(t,e,i){var n,s,r,a=t.length,l=Number.POSITIVE_INFINITY;for(n=0;n<a&&(s=t[n][e],0!=o(s));n++);if(!o(s)){for(r=s,n++;n<a;n++)s=t[n][e],o(s)||(s-r<l&&(l=Math.abs(s-r)),r=s);l<Number.POSITIVE_INFINITY&&(l<i.minInterval||o(i.minInterval))&&(i.minInterval=l)}},ee.prototype.extractMinMax=function(t,e,i,n,s,r){var a,l;s=s||0,r=r||t.length;var h=Number.POSITIVE_INFINITY;if(o(i.min)){for(;s<r&&(a=t[s][e],0!=o(a));s++);if(o(a))return;l=i.min=i.max=a}for(s++;s<r;s++)a=t[s][e],o(a)||(a<i.min&&(i.min=a),a>i.max&&(i.max=a),n&&a-l<h&&(h=Math.abs(a-l)),l=a);n&&h<Number.POSITIVE_INFINITY&&(h<i.minInterval||o(i.minInterval))&&(i.minInterval=h)},ee.prototype.compareSize=function(t){return 0>t.left+t.width||t.left>this._unscaledWidth||0>t.top+t.height||t.top>this._unscaledHeight},ee.prototype.allSeriesRenderingComplete=function(){var t=this.getChart();t&&(t.getDataProvider()&&this.htmlJsFunction&&this.displayUserElement(),t.allSeriesRenderingComplete(this))},ee.prototype.reverseYValues=function(t){for(var e=0,i=t.length;e<i;e+=1)t[e].yValue=-t[e].yValue,null==this.minField||""==this.minField||Ci("Bar",this.className)||(t[e].minValue=-t[e].minValue);return t},ee.prototype.reverseXValues=function(t){for(var e=0,i=t.length;e<i;e+=1)t[e].xValue=-t[e].xValue,null==this.minField||""==this.minField||Ci("Bar",this.className)||(t[e].minValue=-t[e].minValue);return t},ee.prototype.getRenderDataForTransition=function(t){return"hide"==t?this._previousTransitionData:(this.validateData(),this.validateTransform(),this._renderData)},ee.prototype.getElementBounds=function(t){},ee.prototype.endInterpolation=function(t){this._transitionRenderDataOpp=this._transitionRenderData=null},ee.prototype.beginInterpolation=function(t,e){return null},ee.prototype.interpolate=function(t,e){this._applyInterpolation(e,t)},ee.prototype._initializeInterpolationData=function(t,e,i,n,s){void 0==n&&(n=null),void 0==s&&(s=null);var r,a=[],l=[],h=[],d=Math.max(t.length,e.length);n||(n=Object);var c,u,p,g,f,m,_,y,v,S,C;for(r=0;r<d;r+=1){c=t[r],u=e[r],p=null==u?c.clone():u.clone(),g=null==c?u.clone():c.clone(),f=new n,m={},_={},y=!1;for(v in i)S=c?c[v]:NaN,C=u?u[v]:NaN,o(S)||o(C)?(y=!0,m[v]=S,_[v]=C):(g[v]=S,p[v]=S,f[v]=C-S);if(y)for(v in this._getMissingInterpolationValues(m,t,_,e,r,s),m)S=m[v],g[v]=S,p[v]=S,f[v]=_[v]-S;h[r]=g,a[r]=p,l[r]=f}return{cache:a,interpolationSource:h,deltaCache:l,properties:i}},ee.prototype._getMissingInterpolationValues=function(t,e,i,n,s,r){},ee.prototype._applyInterpolation=function(t,e){var i,n,s,r,a,l,h,d=e.length,c=t.interpolationSource,u=t.deltaCache,p=t.cache,g=t.properties,d=p.length;for(h=0;h<d;h+=1)for(l in n=e[h],s=c[h],r=u[h],a=p[h],g)i=o(r[l]*n)?0:r[l]*n,a[l]=s[l]+i},ee.prototype._addBrightToColor=function(t,e){var i,n,r,a,o,l;if(t instanceof M||t instanceof I){for(o=new t.constructor,o.angle=t.angle,l=[],t.focalPointRatio&&(o.focalPointRatio=t.focalPointRatio),i=0,n=t._entries.length;i<n;i+=1)a=t._entries[i],r=new D,r.color=Me.rgbaArr2hex(Me.color2RgbaArr(Me.adjustBrightness(a.color,e))),r.alpha=a.alpha,r.ratio=a.ratio,l.push(r);o.setEntries(l)}else o=new T(s(t)?Me.rgbaArr2hex(Me.color2RgbaArr(Me.adjustBrightness(t,e))):Me.adjustBrightness(t||"#000",e));return o},ee.prototype._transformChangeHandler=function(t){this.invalidateTransform()},ee.prototype.claimStyles=function(t,e){return this.setInternalStyleName(t[e]),(e+1)%t.length},ee.prototype.getInternalStyleName=function(){return this._internalStyleName},ee.prototype.setInternalStyleName=function(t){(this._internalStyleName=t)&&this.styleChanged("styleName")},ee.prototype.clear=function(){ee._super.clear.call(this)},ee.prototype.labelClear=function(){this.labelLayer&&this.labelLayer.clear()},ee.prototype.displayUserElement=function(){var t,e,i,n,s,r,a=this.getChart();if(this._userDefineDirty)for(s in t=a._userDefineCache)t[s]&&!(r=t[s]).free&&this._updateHTMLPosition(r.element,r.seriesItem,r.data);else for(this.setUserDefineDirty(!0),t=0,e=this._renderData.filteredCache.length;t<e;t+=1)if(n=this._renderData.filteredCache[t],r=ri.seriesFunc(n,this,this.htmlJsFunction)){if(i=a.getUserDefineWrapper(n,r),this.getChart().addChild(i),r.content.nodeName){for(;i.element.childNodes[0];)i.element.removeChild(i.element.childNodes[0]);i.element.appendChild(r.content)}else i.element.innerHTML=r.content;if(i.setStyle("visibility","hidden"),r.className&&Di(i.element,r.className),r.styles)for(s in r.styles)i.setStyle(s,r.styles[s]);if(r.events)for(s in r.events)i.addEvent(s,r.events[s]);0<r.period&&function(t,e){setTimeout(function(){var i=e._userDefineCache[t.uno];i.free=!0,i.data=i.seriesItem=null,t.element.parentNode&&e.removeChild(t);try{delete e._userDefineCache[t.uno]}catch(n){e._userDefineCache[t.uno]=null}},r.period)}(i,a),this.callLater(function(t,e,i){i.width&&t.setWidth(i.width),i.height&&t.setHeight(i.height),this._updateHTMLPosition(t,e,i),t.setStyle("visibility","visible")},[i,n,r])}},ee.prototype._updateHTMLPosition=function(t,e,i){var n=i.topOffset||0,s=i.leftOffset||0,r=this.getX(),a=this.getY();h(i.horizontalCenter)?h(i.right)?(r+=e.element.getRenderData().renderedXOffset||0,t.setX(h(i.left)?r+e.x-.5*t.getWidth()+s:i.left)):t.setX(r+this._unscaledWidth-t.getWidth()-i.right):t.setX(r+.5*this._unscaledWidth+i.horizontalCenter-.5*t.getWidth()),h(i.verticalCenter)?h(i.bottom)?(a+=e.element.getRenderData().renderedYOffset||0,t.setY(h(i.top)?a+e.y-.5*t.getHeight()+n:i.top)):t.setY(a+this._unscaledHeight-t.getHeight()-i.bottom):t.setY(a+.5*this._unscaledHeight+i.verticalCenter-.5*t.getHeight())},ee.prototype.defaultFillFunction=function(t){return ri.defaultFillFunc(this,t)},ge(ie,ee),ie.prototype.getAngularAxis=function(){return this._angularAxis},ie.prototype.setAngularAxis=function(t){this._angularAxis=t,this._bAxesDirty=!0,this.invalidateData(),this.invalidateProperties()},ie.prototype.getRadialAxis=function(){return this._radialAxis},ie.prototype.setRadialAxis=function(t){this._radialAxis=t,this._bAxesDirty=!0,this.invalidateData(),this.invalidateProperties()},ie.prototype.getMarkerStroke=function(){return this.getStyle("lineStroke")},ie.prototype.getItems=function(){return this._renderData?this._renderData.filteredCache:[]},ie.prototype.commitProperties=function(){var t=this._dataTransform;ie._super.commitProperties.call(this),t&&(this._radialAxis&&(this._radialAxis.setChartDataProvider(this._dataProvider),t.setAxis("r",this._radialAxis)),this._angularAxis&&(this._angularAxis.setChartDataProvider(this._dataProvider),t.setAxis("a",this._angularAxis)));var e=this.getChart();e&&(this._radialAxis||t.axes.r==e.getRadialAxis()||t.setAxis("r",e.getRadialAxis()),this._angularAxis||t.axes.a==e._angularAxis||t.setAxis("a",e._angularAxis)),t.elements=[this]},ie.prototype.updateDisplayList=function(t,e){var i,n=this.getChart();this._includeInLayout&&(ie._super.updateDisplayList.call(this,t,e),i=this._renderData,!i||!i.filteredCache||1>i.filteredCache.length?(this.clear(),this.allSeriesRenderingComplete()):(!this.showDataEffect||this.showDataEffect&&!n.getChartState())&&this.updateSeriesItem())},ie.prototype.updateSeriesItem=function(){var t,e,i,n,s,r,a=this.getChart(),o=a.getOrigin(),l=this.radius;t=this._renderData;var h=!1,d=t.filteredCache,c=this._transitionRenderData?this._transitionRenderData:t;if(this.clear(),this._includeInLayout){if(this._itemRendererInstance||(this._itemRendererInstance=new this.lineSegmentRenderer),i=this._itemRendererInstance,i.graphics=this.graphics,i.fillLineArea=this.fillLineArea,i.lineStroke=this.getStyle("lineStroke"),i.areaFill=this.getStyle("areaFill"),i.origin=o,c.elementBounds)for(h=!0,t=0,e=c.elementBounds.length;t<e;t+=1)n=c.elementBounds[t],d[t].x=.5*(n.left+n.right),d[t].y=.5*(n.bottom+n.top);e=c.segments.length;var u=this._unscaledWidth,p=this._unscaledHeight;for(u>p?(s=.5*(u-p),r=0,u-=2*s):(s=0,r=.5*(p-u),p=u=p-2*r),i=this._itemRendererInstance,i.stroke=a._enablePattern?new w("#000000"):null,t=0;t<e;t+=1)n=c.segments[t],i.data=h?c.elementBounds:c.filteredCache,i.pattern=a._enablePattern?ri.defaultPatternFunc(this,n,t):null,i.draw(s,r,u,p);if(e=c.filteredCache.length,0<e&&0<l)for(i=this.itemRenderer.newInstance(),i.graphics=this.graphics,i.stroke=this.getStyle("lineStroke"),r=new S,t=0;t<e;t+=1)n=c.filteredCache[t],s=n.angle*Math.PI/180,h?(r.setLeft(n.x-l),r.setTop(n.y-l)):(r.setLeft(Math.cos(s+n.startAngle)*n.radius+o.x-l),r.setTop(Math.sin(s+n.startAngle)*n.radius+o.y-l)),r.width=2*l,r.height=2*l,this.compareSize(r)||(n.fill=this.getStyle("fill"),this.fillJsFunction&&(n.fill=ri.seriesFunc(d[t]||n,this,this.fillJsFunction,!0)),i.pattern=n.pattern=null,a._enablePattern&&(i.pattern=n.pattern=ri.defaultPatternFunc(this,n,t)),i.fill=n.fill,i.draw(r.left,r.top,r.width,r.height));a.getChartState()||this.allSeriesRenderingComplete()}},ie.prototype._updateItemState=function(t,e,i){var n,s=this.getChart();n=s.getOrigin();var r=i.graphics,a=this.selectionRadius,o=new S,l=this.itemRenderer.newInstance(),h=t.angle*Math.PI/180;if(o.setLeft(Math.cos(h+t.startAngle)*t.radius+n.x-a),o.setRight(o.left+2*a),o.setTop(Math.sin(h+t.startAngle)*t.radius+n.y-a),o.setBottom(o.top+2*a),i.clear(),i.move(o.left,o.top),i.setActualSize(o.width,o.height),i=t.fill||this.getStyle("fill"),n=this.getStyle("stroke")||this.getStyle("lineStroke"),s._enablePattern)l.pattern=ri.defaultPatternFunc(this,t,this.seriesIndex),n=new w("#000000");else switch(e){case Oi:case Fi:i=this.itemRollOverColor?this.itemRollOverColor:this._addBrightToColor(i,40);break;case Wi:case ki:i=this.itemSelectionColor?this.itemSelectionColor:this._addBrightToColor(i,-60)}l.fill=i,l.stroke=n,l.draw(0,0,o.width,o.height,r)},ie.prototype.updateLabels=function(t){if(this.labelLayer){var e,i,n,s,r,a=this.labelGap,o=this.formatter,l=this.labelLayer.graphics,h=this.getChart().getOrigin(),d=this.labelJsFunction,c=this._renderData.filteredCache;if(this.labelClear(),t&&c){for(l.save(),this.setFont(),t=0,i=c.length;t<i;t+=1)n=c[t],s=n.value.toString(),e=n.angle*Math.PI/180,o&&(s=o.format(s)),d&&(s=ri.seriesFunc(n,this,d)),s=this.measureText(s),r=Math.cos(e+n.startAngle)*(.5*s.width+a+n.radius)+h.x-.5*s.width,e=Math.sin(e+n.startAngle)*(.5*s.height+a+n.radius)+h.y-.5*s.height,this.fillText(s,r,e);l.restore()}}},ie.prototype.updateData=function(){var t,e;t=this._renderDataType;var i=this._dataTransform.getAxis("a");if(this._renderData=new t,this._renderData.cache=[],this._dataProvider){for(e=this._itemType,t=0;t<this._dataProvider.getLength();t++)this._renderData.cache[t]=new e(this,this._dataProvider.getItemAt(t),t);this.cacheDefaultValues(this.field,this._renderData.cache,"value"),i&&this.cacheDefaultValues(i.categoryField,this._renderData.cache,"name")}ie._super.updateData.call(this)},ie.prototype.updateMapping=function(){this._dataTransform.getAxis("r").mapCache(this._renderData.cache,"value","number"),ie._super.updateMapping.call(this)},ie.prototype.updateFilter=function(){this._renderData.segments=[];var t,e=this.radialSegmentType;this.filterData?(this._renderData.filteredCache=this._renderData.cache.concat(),t=this._dataTransform.getAxis("r").filterCache(this._renderData.filteredCache,"number","filter"),this._renderData.filteredCache||(this._renderData.filteredCache=t.concat()),this.stripNaNs(this._renderData.filteredCache,"filter"),1<this._renderData.filteredCache.length&&this._renderData.segments.push(new e(this,0,this._renderData.filteredCache,0,this._renderData.filteredCache.length-1))):(this._renderData.filteredCache=this._renderData.cache,this._renderData.segments.push(new e(this,0,this._renderData.filteredCache,0,this._renderData.filteredCache.length-1))),ie._super.updateFilter.call(this)},ie.prototype.updateTransform=function(){var t,e,i=this.getChart();this._dataTransform.transformCache(this._renderData.filteredCache,null,null,"value","radius");var n=this._renderData.cache.length;for(e=0;e<n;++e)t=this._renderData.cache[e],this.filterData&&o(t.radius)||(t.angle=360/n*e,t.startAngle=i.startAngleRadians);if(ie._super.updateTransform.call(this),this.allSeriesTransform=!0,i)for(t=i._userSeries.length,e=0;e<t;e++)i.getSeriesTransformState(i._userSeries[e])},ie.prototype.describeData=function(t,e){var i,n,s,r=0;return this.validateData(),0==this._renderData.cache.length?[]:(i=new ct,i.boundedValues=null,"a"!=t?("r"==t&&(this.extractMinMax(this._renderData.cache,"number",i),0!=(e&ct.REQUIRED_BOUNDED_VALUES)&&(r=0,(n=this.lineStroke)&&(r=n.weight/2),s=this.radius,n=this.itemRenderer,0<s&&n&&((n=this.stroke)&&(s+=n.weight/2),r=Math.max(s,r)),0<r&&(i.boundedValues=[],i.boundedValues.push(new et(i.max,0,r))))),[i]):void 0)},ie.prototype.findDataPoints=function(t,e,i){var n,r,a,o,l;n=this.radius;var h=this.getChart().getOrigin(),d=n+i;i=this.getStyle("lineStroke");var c=this._renderData.filteredCache.length,d=d*d;if(0==c)return[];for(n=0;n<c;n++)if(r=this._renderData.filteredCache[n],a=Math.cos(r.angle*Math.PI/180+r.startAngle)*r.radius+h.x,o=Math.sin(r.angle*Math.PI/180+r.startAngle)*r.radius+h.y,a=(a-t)*(a-t)+(o-e)*(o-e),a<=d){d=a,l=r;break}return l?(a=Math.cos(l.angle*Math.PI/180+l.startAngle)*l.radius+h.x,o=Math.sin(l.angle*Math.PI/180+l.startAngle)*l.radius+h.y,t=new gt(this._createDataID(l.index),Math.sqrt(d),a,o,l),i||(i=ri.defaultFillFunc(this,this.perWedgeId)),s(i)&&(t.contextColor=i.color),t.dataTipFunction=this.formatDataTip,[t]):[]},ie.prototype.formatDataTip=function(t){var e="",i="",i=this._displayName+"",n=this._dataTransform,s=this.getChart().dataTipFormatter,r=n.getAxis("a"),a=n.getAxis("r"),l=r.displayName,n=n.getAxis("a");return i&&0<i.length&&(e+=i+"<br/>"),""!=l&&(e+=l+" : "),n&&null!=n.categoryField&&(e+=r.formatForScreen(t.chartItem.item[n.categoryField]),e=""!=l?e+"<br/>":e+" : "),i="<b>"+a.formatForScreen(t.chartItem.value)+"</b>",o(parseInt(i))||(i=s.format(i)),e+i},ie.prototype.getRenderData=function(){var t;return this._renderData&&this._renderData.cache&&0!=this._renderData.cache.length?(this._renderData.radius=this.radius,this._renderData):(t=new yt,t.cache=t.filteredCache=[],t.segments=[],t.radius=0,t)},ie.prototype.getItemsInRegion=function(t){if(!this.interactive||!this._renderData)return[];var e,i,n,s=[];i=this.getChart(),new S;var r=i.getOrigin(),a=this.radius,o=new S;for(i=this._renderData.filteredCache.length,o.setLeft(t.left),o.setTop(t.top),o.setRight(t.right),o.setBottom(t.bottom),e=0;e<i;e+=1)n=this._renderData.filteredCache[e],t=n.angle*Math.PI/180,o.contains(Math.cos(t+n.startAngle)*n.radius+r.x-a,Math.sin(t+n.startAngle)*n.radius+r.y-a)&&s.push(n);return s},ie.prototype.getElementBounds=function(t){var e,i,n,s,r,a,o,l,h=[],d=t.cache;e=t.segments,r=d.length;var c=this.getChart().origin||{x:.5*this._unscaledWidth,y:.5*this._unscaledHeight};if(0==r)new S;else for(r=t.radius,(0==r||isNaN(r))&&(r=1),r*=2,(o=e.length)&&(n=d[t.segments[0].start],s=n.angle*Math.PI/180,l=new S(Math.cos(s+n.startAngle)*n.radius+c.x-r,Math.sin(s+n.startAngle)*n.radius+c.y-r,r,r,(!0))),i=0;i<o;i++)for(a=t.segments[i],e=a.start;e<=a.end;e++)n=d[e],s=n.angle*Math.PI/180,n=new S(Math.cos(s+n.startAngle)*n.radius+c.x-r,Math.sin(s+n.startAngle)*n.radius+c.y-r,r,r,(!0)),l.left=Math.min(l.left,n.left),l.top=Math.min(l.top,n.top),l.right=Math.max(l.right,n.right),l.bottom=Math.max(l.bottom,n.bottom),h[e]=n;t.elementBounds=h,t.bounds=new S(0,0,this.getWidth(),this.getHeight())},ie.prototype.beginInterpolation=function(t,e){var i,n,s,r=this._initializeInterpolationData(t.cache,e.cache,{radius:!0,angle:!0,startAngle:!0},this._itemType,{sourceRenderData:t,destRenderData:e}),a=e.clone();for(a.cache=r.cache,a.filteredCache=r.cache,n=a.segments,s=n.length,i=0;i<s;i++)n[i].items=r.cache;return this._transitionRenderData=a,r},ie.prototype.interpolate=function(t,e){ie._super.interpolate(t,e);var i,n,s,r,a,o,l=t.length,h=e.interpolationSource,d=e.deltaCache,c=e.cache,l=c.length;for(n=this.getChart().startAngle*Math.PI/180,i=0;i<l;i++)s=t[i],r=h[i],a=d[i],o=c[i],o.radius=r.radius+a.radius*s,o.angle=r.angle+a.angle*s,o.startAngle=n},ie.prototype._getMissingInterpolationValues=function(t,e,i,n,s,r){var a,l,h,d;n=r.sourceRenderData.cache;var c=r.destRenderData.cache;for(h in t){if(r=t[h],a=i[h],l=s,o(r))if(0==n.length)r="angle"!=h?0:c[s].angle;else{for(l>=n.length&&(l=n.length-1);0<=l&&isNaN(n[l][h]);)l--;if(0<=l&&(r=n[l][h]+.01*(l-s)),o(r)){for(l=s+1,d=n.length;l<d&&o(n[l][h]);)l++;l<d&&(r=n[l][h]+.01*(l-s))}}if(o(a))if(0==c.length)r="angle"!=h?0:e[s].angle;else{for(l>=c.length&&(l=c.length-1);0<=l&&isNaN(c[l][h]);)l--;if(0<=l&&(a=c[l][h]),o(a)){for(l=s+1,d=c.length;l<d&&o(c[l][h]);)l++;l<d&&(a=c[l][h]+.01*(l-s))}}t[h]=r,i[h]=a}},ge(ne,lt);var ai={KoolChart:A,Caption:F,SubCaption:F,Box:A,Legend:Pt,LegendItem:Lt,CheckableLegendItem:Nt,SubLegend:kt,BoxItemRenderer:$t,CurrencyFormatter:function(){this.id=null,this.currencySymbol="$",this.alignSymbol="left",this.useNegativeSign=this.useThousandsSeparator=!0,this.precision=-1,this.applyPrecisionToInteger=!0,this.thousandsSeparatorTo=",",this.decimalSeparatorTo=".",this.rounding="none",this.returnValueWhenError=!1,this.format=function(t){var e=parseFloat(t),i=-1==this.precision?0:Math.abs(this.precision),n=this.decimalSeparatorTo,s=this.useThousandsSeparator?this.thousandsSeparatorTo:"",r=this.currencySymbol,a=this.alignSymbol,e="down"==this.rounding?-1<this.precision&&0<i?Math.floor(e*Math.pow(10,i))/Math.pow(10,i):Math.floor(e):"up"==this.rounding?-1<this.precision&&0<i?Math.ceil(e*Math.pow(10,i))/Math.pow(10,i):Math.ceil(e):"nearest"==this.rounding?-1<this.precision&&0<i?Math.round(e*Math.pow(10,i))/Math.pow(10,i):Math.round(e):e,o=0>e?this.useNegativeSign?"-":"(":"",l=parseInt(e=-1<this.precision?Math.abs(e).toFixed(i+1):Math.abs(e))+"",h=l.length,h=3<h?h%3:0,d=e-l,c="";return this.error=void 0,isNaN(d)?(this.error="invalid number",this.returnValueWhenError?t:""):(0<d?c=n+e.toString().slice(l.toString().length+1):0<i&&(c=n+d.toFixed(i+1).slice(2)),c&&!this.applyPrecisionToInteger&&0<i&&0==d&&(c=""),o+("left"==a?r:"")+(h?l.substr(0,h)+s:"")+l.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+s)+(-1<this.precision?i?c.substr(0,i+n.length):"":c)+("right"==a?r:"")+("("==o?")":""))}},DateFormatter:$e,NumberParser:qe,RadialGradient:I,LinearGradient:M,GradientEntry:D,Label:Kt,CanvasElement:jt,Image:Qt,SolidColorStroke:w,SolidColorColor:T},oi={};oi.chartCommon={CategoryAxis:Tt,LinearAxis:xt,LogAxis:wt,DateTimeAxis:Dt,ChartSlide:zt,ChartInterpolate:Ot,ChartClip:Wt,ChartZoom:Bt,CircleItemRenderer:Zt},oi.radar={RadarChart:Rt,RadarSeries:ie,RadarGridLines:qt,Axis2DRenderer:Mt,AngularAxisRenderer:It};for(var li in oi)for(var hi in oi[li])ai[hi]=oi[li][hi];Le.overflow=Le.isMobile?"visible":Le.overflow;var di=!0,ci=Le,ui=ci.quirks,pi=ci.supportTouch,gi=ci.ie8L,fi=ci.useExCanvas,mi=ci.checkRetinaRatio(),_i=Pe,yi=_i.addEvent,vi=_i.removeEvent,Si=Ee,Ci=Si.test,bi=Si.setStyle,xi=Si.setPxStyle,wi=Si.getStyle,Ti=Si.getSizeStyle,Di=Si.addClass,Mi=Si.removeClass,Ii=Si.pageXY,Ei=dt.NONE,Pi=dt.PREPARING_TO_HIDE_DATA,Li=dt.HIDING_DATA,Ni=dt.PREPARING_TO_SHOW_DATA,Ai=dt.SHOWING_DATA,Ri="none",Fi=lt.ROLLOVER,ki=lt.SELECTED,Hi=lt.DISABLED,Oi=lt.FOCUSED,Wi=lt.FOCUSEDSELECTED,zi=xe.indexOf;ge(le,Z),le.prototype._extraParsing=function(t){var e,i,n,s,r,a=t.nodeName;if("Options"==a){for(e=0,i=t.childNodes.length;e<i;e+=1)if(n=t.childNodes[e],1==n.nodeType)if(/Back|Reset/.test(n.nodeName)&&0<n.attributes.length)for(s=0;a=n.attributes[s];)"text"==a.name&&(this._wrapper[n.nodeName]=a.value),s++;else r=this._getClassInfo(n),s=new r,this._setPropsStyles(n,s,r),s.className||(s.className=n.nodeName),s instanceof F?(s.element.className=s.element.className.replace("Label",n.nodeName),s.className=n.nodeName,s.setPercentWidth(100),this._root.addChild(s)):Ci("Legend",s.className)?(this._wrapper.getChartParent().addChild(s),this._wrapper._legend=this._legend=s,this._setPropLegend()):Ci("DataEditor",s.className)&&(this._wrapper.getChartParent().addChild(s),this._wrapper._dataEditor=this._dataEditor=s,this._setDataEditorIndex());return!0}return("HttpServiceRepeater"==a||"HttpMultiServiceRepeater"==a)&&(s=this._tryCorrectNewInstance(t,!1),this._wrapper._httpService=s,s.addEventListener("error",function(t){alert("error")}),this._setPropsStyles(t,s,r),"HttpMultiServiceRepeater"==a)},le.prototype._tryExtraNewInstance=function(t,e){var i=this._wrapper,n=t.nodeName;if(-1<n.indexOf("Chart")||-1<n.indexOf("Gauge")){if(i._chart&&0>n.indexOf("DualChart"))return;return i._chart=e,e.setPercentWidth(100),e.setPercentHeight(100),e.getParent()&&(e.getParent().addChild(i.getChartParent()),this._legend&&this._legend.setNestLevel(i.getChartParent().getNestLevel()+1)),i.getChartParent().addChild(e),this._setPropsStyles(t,e,this._getClassInfo(t)),this._setPropLegend(),this._setDataEditorIndex(),-1<n.indexOf("Motion")&&(n=new MotionController,n.setTarget(e),this._root._motionController=n,this._root.addChild(n)),i.getChartParent()}if(e instanceof A&&Le.isMobile){var s=function(){bi(this,"overflow",Le.overflow),bi(this._contentPane,"overflowX",Le.overflow),bi(this._contentPane,"overflowY",Le.overflow),this.removeEventListener("creationComplete",s,this)};e.addEventListener("creationComplete",s,e)}return!1},le.prototype._setDataEditorIndex=function(){var t=this._wrapper.getChartParent();t&&this._dataEditor&&t.setChildIndex(this._dataEditor,t.getNumChildren()-1)},le.prototype._setPropLegend=function(){var t,e,i=this._target;if(i&&this._legend){switch(t=this._legend,i.legend=t,e=this._wrapper.getChartParent(),t instanceof Pt?"HistoryChart"==i.className?t.setDataProvider(i.getDisplayerChart()):"DualChart"==i.className?t.setDataProvider(i.getMainChart()):t.setDataProvider(i):t instanceof ColorRangeLegend&&t.invalidateSize(),t.position){case"bottom":e.setDirection("vertical"),e.setChildIndex(i,0);break;case"left":e.setDirection("horizontal"),e.setChildIndex(t,0);break;case"right":e.setDirection("horizontal"),e.setChildIndex(t,1);break;default:e.setDirection("vertical"),e.setChildIndex(t,0)}"left"==t.position||"right"==t.position?e.setStyle("verticalAlign",t.vAlign):e.setStyle("horizontalAlign",t.hAlign)}},le.prototype._setExtraPropsStyles=function(t,e,i){"showSaveMenu"==e&&i&&this._wrapper._createSaveMenu()};try{Q.productInit("KoolChart",he,le,de)}catch(Ae){}ge(he,Q),he.prototype.getChartParent=function(){return this._chartParent},he.prototype.createChildren=function(){var t=this.element;t.legendCheck=this.legendCheck,t.legendAllCheck=this.legendAllCheck,t.setSlideLayout=t.setSlideLayoutSet=this.setSlideLayout,t.setSlideData=t.setSlideDataSet=this.setSlideData,t.saveAsImage=this.saveAsImage,t.getSnapshot=this.getSnapshot,t.getCSVData=this.getCSVData,t.getDrillDownDepth=this.getDrillDownDepth,t.setDataDrillDown=t.setDataDrilldown=this.setDataDrillDown,t.setDataDrillDownURL=t.setDataDrilldownURL=this.setDataDrillDownURL,t.hasNoData=this.hasNoData,t.showDataEditor=this.showDataEditor,t.removeDataEditor=t.hideDataEditor=this.hideDataEditor,t.visibleItemSize=this.visibleItemSize,t.changeScrollBarSize=this.changeScrollBarSize,t.getChartData=this.getChartData,t.accessibilityPattern=this.accessibilityPattern,t.setTheme=this.setTheme,t.showAdditionalPreloader=this.addLoadingBar,t.removeAdditionalPreloader=this.removeLoadingBar,t.sliderPlay=this.sliderPlay,t.sliderPause=this.sliderPause,t.sliderReset=this.sliderReset,t.updateCrossRange=this.updateCrossRange,t.setChartMenu=this.setChartMenu,t.getSelectedChartItem=this.getSelectedChartItem,t.getSelectedChartItems=this.getSelectedChartItems,t.setSelectedIndex=this.setSelectedIndex,t.setSelectedIndices=this.setSelectedIndices,t.gridData2Chart=this.gridData2Chart,he._super.createChildren.call(this)},he.prototype.commitProperties=function(){var t;if(t=window[this._productName],_.prototype.commitProperties.call(this),t.defaultColors&&(t.setDefaultColors(t.defaultColors),t.defaultColors=null),this._layoutChanged){this._creationCompleteDirty=this._layoutChanged=!1,this._resetVariables(),this._root&&(this._resetEffectAndInvalidate(),this._target.resetUserElement(),ke.remove(this._root,!0)),t=this._chartParent=new A("div","Main"),t.setPercentWidth(100),t.setPercentHeight(100),t.setStyle("verticalGap",0),t.setStyle("horizontalGap",0),t.setStyle("verticalAlign","middle"),t.setStyle("horizontalAlign","center"),t.setVerticalScrollPolicy("off"),t.setHorizontalScrollPolicy("off"),this._createRoot(this._productParser),this._setupRootEventDispatching(),this._target.setTheme(this._themeName),Ee.setStyle(this._root,"overflow",Le.overflow),Ee.setStyle(this._root._contentPane,"overflowX",Le.overflow),Ee.setStyle(this._root._contentPane,"overflowY",Le.overflow);try{window.MangoBoard||dTM(this._target.id)}catch(e){}}this._dataChanged&&this._target&&(this._target.removeEventListener("updateComplete",this._updateCompleteHandler,this),this._target.addEventListener("updateComplete",this._updateCompleteHandler,this),this._creationCompleteDirty&&this._chartSetData()),this._slideController&&this._slideController.setChart(this._target),!this._valuesMap.chartMenu&&!this._setChartMenuDirty||this._chartMenuDirty||(this._chartMenuDirty=!0,this._setChartMenuDirty=!1,this._createChartMenu(this._chartMenuData||window[this._valuesMap.chartMenu])),"true"==this._valuesMap.useDataEditor&&this._dataEditorLoad(),"true"==this._valuesMap.usePattern&&this._patternLoad()},he.prototype.updateDisplayList=function(t,e){var i,n,s,r=0;for(this._chartParent&&(bi(this._chartParent,"overflow","visible"),bi(this._chartParent._contentPane,"overflowX","visible"),bi(this._chartParent._contentPane,"overflowY","visible")),he._super.updateDisplayList.call(this,t,e),this._slideController&&(r=this._slideController.getExplicitOrMeasuredHeight(),this.setChildIndex(this._slideController,this.getNumChildren()-1)),i=0,n=this.getNumChildren();i<n;i+=1)s=this.getChildAt(i),s instanceof f&&"ChartMenu"!=s.className&&(this._drillDownMenu&&s===this._drillDownMenu||-1<s.className.indexOf("Drill")?s.getParent().setChildIndex(s,s.getParent().getNumChildren()-1):(s.setActualSize(s.getWidth(),s.getHeight()-r),this._slideController&&this._slideController===s&&(s.move(0,e-r),s.setActualSize(t,r),!fi&&this.sizeChanged&&s.reCreateImage())));this._hasNoData&&(Ee.popUp(this,this._hasNoData,"NoData"),this._hasNoData=void 0),this._root&&this._root._motionController&&(this._root.setChildIndex(this._root._motionController,this._root.getNumChildren()-1),this._root._motionController.callLater(function(){this.motionSeriesLabelUpdate(!0)})),this.sizeChanged=!1},he.prototype.setLayout=function(t){var e=this.selfElement||this;he._super.setLayout.call(e,t),e._slideController&&(e.removeChild(e._slideController),e._slideController=null)},he.prototype.setLayoutSlide=function(t){he._super.setLayout.call(this.selfElement||this,t)},he.prototype.setData=function(t){var e=this.selfElement?this.selfElement:this;1<arguments.length?e.addData(t):(e.dataSet=e._dataSetting(t),n(e.dataSet)&&(e.dataSet=e._convertToArray(e.dataSet)),e._pushDataIntoWrapper()),e._dataStack=null,e._dataStack=[t],e._removeDrillDown()},he.prototype.setDataURL=function(e){var i=this.selfElement?this.selfElement:this;1<arguments.length?i.addDataURLEx(e):(i.addLoadingBar(),i._targetData=null,i.dataSet=null,i.dataURL=e,i._dataURLInProcess=!0,t({url:e,onSuccess:function(t){i.dataSet=i._dataSetting(t),n(i.dataSet)&&(i.dataSet=i._convertToArray(i.dataSet)),i._pushDataIntoWrapper(),i._dataStack=null,i._dataStack=[i.dataSet],i._removeDrillDown(),i.removeLoadingBar()},onError:function(t){throw i.removeLoadingBar(),"XMLHttpRequest is failed to open the url, "+e+" : "+t}}))},Q.prototype.addData=function(t){var e=this.selfElement?this.selfElement:this;e._target&&e._collection&&(t=e._dataSetting(t),n(t)&&(t=e._convertToArray(t)),e._collection.addAll(t),e._target instanceof it?(e._target.invalidateData(),e._target.updateMultipleAxesRenderers()):e._target.calcDataSelector())},Q.prototype.addDataURLEx=function(e,i){i=!(1<arguments.length)||i;var n=this.selfElement?this.selfElement:this;i&&n.lastAddURL==e||(n.lastAddURL=e,n.addLoadingBar(),t({url:e,onSuccess:function(t){n.addData(t),n.removeLoadingBar()},onError:function(t){throw n.removeLoadingBar(),"XMLHttpRequest is failed to open the url, "+e+" : "+t}}))},he.prototype.getDrillDownDepth=function(){var t=this.selfElement||this;return 0<t._dataStack.length?t._dataStack.length-1:-1},he.prototype.setDataDrillDown=function(t,e){var i=this.selfElement?this.selfElement:this;i._data&&(null==t&&e?(i._dataStack.pop(),t=i._dataStack[i._dataStack.length-1]):i._dataStack.push(t),i.dataSet=i._dataSetting(t),i._pushDataIntoWrapper(),i._callDrillDown())},he.prototype.setDataDrillDownURL=function(e){var i=this.selfElement?this.selfElement:this;i._data&&(i.addLoadingBar(),t({url:e,onSuccess:function(t){t=i._dataSetting(t),n(t)&&(t=i._convertToArray(t)),i.dataSet=t,i._dataStack.push(i.dataSet),i._pushDataIntoWrapper(),i.removeLoadingBar(),i._callDrillDown()},onError:function(t){throw i.removeLoadingBar(),"XMLHttpRequest is failed to open the url, "+e+" : "+t}}))},he.prototype.setSlideLayout=function(t){var i=this.selfElement?this.selfElement:this;if(!e(t))throw"the parameter of setSlideLayout function must be Array";i._slideController||(i._slideController=new SlideController,i._slideController.target=i,i.addChild(i._slideController)),i._slideController.setSlideLayout(t)},he.prototype.setSlideData=function(t){var i=this.selfElement?this.selfElement:this;
if(!e(t))throw"the parameter of setSlideData function must be Array";i._slideController||(i._slideController=new SlideController,i._slideController.target=i,i.addChild(i._slideController)),i._slideController.setSlideData(t)},he.prototype.getChartData=function(){return(this.selfElement?this.selfElement:this).getTargetData()},he.prototype.legendAllCheck=function(t){for(var e=0,i=this.selfElement._target.getAllSeries().length;e<i;e+=1)this.legendCheck(e,t)},he.prototype.legendCheck=function(t,e){this.selfElement._legend.legendItemIncludeChange(t,e)},he.prototype.getCSVData=function(t){var e,i,n,s,r,a=[];r={};var a="",o=(this.selfElement?this.selfElement:this).getTargetData();for(i=0,n=o.length;i<n;i+=1)for(s in e=o[i])r[s]||(r[s]=s.toString()),r[s]+=","+e[s];for(s in r)a+=r[s]+"\r\n";if("vertical"==t){for(t=[],a=a.split("\r\n"),i=0,n=a.length;i<n;i+=1)if(""!=a[i])for(e=a[i].split(","),s=0,r=e.length;s<r;s+=1)t[s]=t[s]?t[s]+(","+e[s]):e[s];a=t.join("\r\n")}return a},he.prototype.sliderPlay=function(){(this.selfElement||this)._root._motionController.play()},he.prototype.sliderPause=function(){(this.selfElement||this)._root._motionController.stop()},he.prototype.sliderReset=function(){(this.selfElement||this)._root._motionController.reset()},he.prototype.setChartMenu=function(t){var e=this.selfElement||this;e._setChartMenuDirty=!0,e._chartMenuDirty?e._createChartMenu(t):e._chartMenuData=t},he.prototype.updateCrossRange=function(t,e,i){var n,s,r,a,o=(this.selfElement||this).getTarget(),l=[],h=o.getDataRegion();for(a=o.getBackgroundElements().concat(o.getAnnotationElements()),n=0,s=a.length;n<s;n+=1)r=a[n],r instanceof CrossRangeZoomer&&l.push(r);if("restore"==t)for(n=0,s=l.length;n<s;n+=1)l[n]._resetZoom(null,!0);else for(r=Ii(o),o.mouseIsOut=!1,"mousemove"==t&&o._mouseOverHandler(""),o._mouseEventHandler({type:t,pageX:h.left+h.width*e+r.x,pageY:h.top+h.height*i+r.y,target:o.element}),n=0,s=l.length;n<s;n+=1)o=l[n],r=Ii(o),o._mouseEventHandler({pageX:o._unscaledWidth*e+r.x,pageY:o._unscaledHeight*i+r.y,type:t,which:1},!0)},he.prototype.hasNoData=function(t,e,i){var n=this.selfElement?this.selfElement:this;i=i?i:"Message",e=e?e:"No Data",t||n.clear(),t={width:180,height:90,borderStyle:"solid",borderWidth:1,borderColor:"#999999"},t.title={width:174,height:16,text:i,textAlign:"left",backgroundColor:"#454545",color:"#ffffff",padding:"1px 0px 0px 2px"},t.content={width:174,text:e,textAlign:"center",padding:"10px 0px 0px 0px"},t.button={width:174,text:"Ok"},n._hasNoData=t},he.prototype.showDataEditor=function(){var t=this.selfElement||this;try{t._dataEditor.visibleDataEditor(!0)}catch(e){throw"Not Supported DataEditor"}},he.prototype.hideDataEditor=function(){var t=this.selfElement||this;try{t._dataEditor.visibleDataEditor(!1)}catch(e){throw"Not Supported DataEditor"}},he.prototype.visibleItemSize=function(t){t=(this.selfElement||this)._target.getDataProvider(),t.getLength&&t.getLength()},he.prototype.changeScrollBarSize=function(t){ScrollBar.ARROW_SIZE=t.arrowSize||10,ScrollBar.SCROLL_HEIGHT=t.scrollHeight||10,ScrollBar.THUMB_HEIGHT=t.thumbHeight||10,ScrollBar.THUMB_MIN_SIZE=t.thumbMinSize||10},he.prototype.accessibilityPattern=function(t){var e,i;e=(this.selfElement||this)._target,e.renderingComplete&&(e instanceof it?e.setEnablePattern(t):Ci("History|Dual",e.className)&&(i=e._displayerChart||e._mainChart,e=e._navigator||e._subChart,i.setEnablePattern(t),i.legendDataChanged(),e.setEnablePattern(t),e.legendDataChanged()))},he.prototype.setTheme=function(t,e){var i=this.selfElement||this;i._target?i._target.themeRunning||ce(i,t,e):i._readyThemeOptions={themeName:t,forceTheme:e}},he.prototype.destroy=function(){var t=this.selfElement?this.selfElement:this;t._resetEffectAndInvalidate(),he._super.destroy.call(t),t._target=t._chartParent=t._legend=t._chartMenu=null,t._dataStack=[]},he.prototype.clear=function(){var t=this.selfElement?this.selfElement:this;t._resetEffectAndInvalidate(),he._super.clear.call(t),t._target=t._chartParent=t._legend=null,t._dataStack=[]},he.prototype.resize=function(){he._super.resize.call(this),(this.selfElement||this).sizeChanged=!0,this._legend&&!this._legend._invalidateSizeFlag&&(this._root.measuredMinWidth=this._chartParent.measuredMinWidth=0,this._legend.invalidateSize())},he.prototype.saveAsImage=function(t,e){var i;return i=this.selfElement?this.selfElement:this,t=t||"png",i=i.getSnapshot(t,e||1),"data:image/"+t+";base64,"+i},he.prototype.getSnapshot=function(t,e){function i(t,e){var n,o,l,h,u,p,g,f,m,_=t.element||t;o=Ii(t);var y=o.x*e,v=o.y*e,S=wi(t,"overflowX"),C=wi(t,"overflowY");for(o=0,l=_.childNodes.length;o<l;o+=1)if(h=_.childNodes[o],1!=h.nodeType||/DataTip|ChartMenu|Restore|Cross/.test(h.className)){if(3==h.nodeType){h=t,g=e,m=Ii(h),p=n=void 0,u=wi(h,"textAlign"),f=(m.x-d)*g,m=(m.y-c)*g;var b=h.offsetWidth*g,x=h.offsetHeight*g;Ce.setFont(r,{fontStyle:wi(h,"fontStyle"),fontWeight:wi(h,"fontWeight"),fontFamily:wi(h,"fontFamily"),fontSize:Ti(h,"fontSize")*g+"px",textDecoration:wi(h,"textDecoration"),color:wi(h,"color"),lineHeight:wi(h,"lineHeight")}),n=a.measureText(h.textContent).width,p=Ti(h,"fontSize")*g,"center"==u?f+=.5*(b-n):"right"==u&&(f+=b-n),m+=.5*(x-p),a.save(),Ce.fillText(r,h.textContent,Math.floor(f),Math.floor(m)),a.restore()}}else"hidden"!=wi(h,"visibility")&&"none"!=wi(h,"display")&&(u=Ii(h),n=u.x*e,p=u.y*e,g=(u.x-d)*e,u=(u.y-c)*e,f=h.offsetWidth*e,m=h.offsetHeight*e,"visible"!=C&&(p<v||v+t.offsetHeight*e<p+m)||"visible"!=S&&(n<y||y+t.offsetWidth*e<n+f)||(n=h.nodeName,"CANVAS"==n||"IMG"==n?(a.globalAlpha=Ti(h,"opacity"),a.drawImage(h,g,u,h.width*e/s||1,h.height*e/s||1),a.globalAlpha=1):(Ne.drawFromHTML(a,h,new ye(g,u,f,m)),"DIV"==n||"SPAN"==n?0<h.childNodes.length&&i(h,e):"TABLE"==n||"THEAD"==n||"TBODY"==n||"TR"==n?i(h,e):"TH"!=n&&"TD"!=n||i(h,e))))}if(fi)throw"Unsupported";e=e||1;var n,s=mi;n=this.selfElement||this;var r=document.createElement("canvas"),a=r.getContext("2d"),o=n.getWidth()*e,l=n.getHeight()*e,h=Ii(n),d=h.x,c=h.y;return n.getStyle("backgroundColor"),r.width=o,r.height=l,a.save(),a.imageSmoothingEnabled=!1,a.canvas.mozImageSmoothingEnabled=!1,a.oImageSmoothingEnabled=!1,a.webkitImageSmoothingEnabled=!1,a.msImageSmoothingEnabled=!1,Ne.drawFromHTML(a,n.element,new ye(0,0,o,l)),i(n,e),n=r.toDataURL("image/"+(t||"png"),1),r=a=null,n.substr(n.indexOf(",")+1)},he.prototype.getSelectedChartItem=function(){return(this.selfElement||this).getTarget().getSelectedChartItem().item},he.prototype.getSelectedChartItems=function(){var t,e,i,n=[];for(i=(this.selfElement||this).getTarget().getSelectedChartItems(),t=0,e=i.length;t<e;t+=1)n.push(i[t].item);return n},he.prototype.setSelectedIndex=function(t,e){var i=this.selfElement||this,n=i.getTarget().getAllSeries()[t];n&&(n.setSelectedIndex(e),i._rootEventHandler({type:"click"}))},he.prototype.setSelectedIndices=function(t){var i,n,r,a,o,l=this.selfElement||this;if(i=l.getTarget(),!(1>t.length)&&(a=i.getAllSeries())){if(n=a.length,e(t)&&1<t.length)for(i=0;i<n;i+=1)(r=t[i])&&(o=a[r.index])&&o.setSelectedIndices(r.items);else if(s(t))for(i=t.index,n=t.length;i<n;i+=1)(o=a[i])&&o.setSelectedIndices(t.items);o&&l._rootEventHandler({type:"click"})}},he.prototype._dataEditorLoad=function(){var t,e=this;e._dataEditorLoaded||(e.addLoadingBar(),t=document.createElement("script"),t.type="text/javascript",t.onload=t.onreadystatechange=function(){(!this.readyState||"complete"!=this.readyState&&"loaded"!=this.readyState)&&this.readyState||(t.onload=t.onreadystateChange=null,e._dataEditorLoaded=!0,e.removeLoadingBar(),e._dataEditor._productName=e._productName,e._dataEditor.chartId=e._paramId,e._dataEditor.invalidateProperties())},t.src=window[e._productName].dataEditorUrl,document.getElementsByTagName("head")[0].appendChild(t))},he.prototype._patternLoad=function(){if(!this._patternLoaded){this.addLoadingBar(),this._patternLoadCount=0;var t,e,i=window[this._productName],n=i.patternImagesURL||i.patternImagesUrl;for(t=0;t<n.length;t+=1)e=document.createElement("img"),Pe.addEvent(e,"load",this._patternLoadHandler,this),e.src=(i.patternImageBaseURL||i.patternImageBaseUrl)+n[t],ni.addItem(e);this._patternLoaded=1}},he.prototype._patternLoadHandler=function(t){1!=this._patternLoaded||(!this.readyState||"complete"!=this.readyState&&"loaded"!=this.readyState)&&this.readyState||(this._patternLoadCount++,Pe.removeEvent(t.target,"load",this._patternLoadHandler,this),this._patternLoadCount==ni.getLength()&&(this.removeLoadingBar(),this._patternLoaded=2))},he.prototype._setupRootEventDispatching=function(){var t=this._root;this._rootEventInitialized||(t.addEvent("click",this._rootEventHandler,this,!0),this._rootEventInitialized=!0)},he.prototype._rootEventHandler=function(t){var e=this._root,i=this._target;switch(t.type){case"keydown":i._keyDownHandler.call(i,t);break;case"click":e.addEvent("keydown",this._rootEventHandler,this),e.addEvent("blur",this._rootEventHandler,this);break;case"blur":e.removeEvent("keydown",this._rootEventHandler,this),e.removeEvent("blur",this._rootEventHandler,this)}},he.prototype._cancelEffect=function(){var t,e,i=this._target;i&&(a(i.getDisplayerChart)?(t=i.getDisplayerChart(),e=i.getNavigator()):a(i.getMainChart)&&(t=i.getMainChart(),e=i.getSubChart()),t&&e?(t.cancelEffect(),e.cancelEffect()):i.cancelEffect())},he.prototype._resetInvalidate=function(t){for(var e,i=0,n=t.getNumChildren();i<n;i+=1)e=t.getChildAt(i),e instanceof m&&(e.getNumChildren()&&this._resetInvalidate(e),e.resetInvalidate())},he.prototype._resetEffectAndInvalidate=function(){this._root&&(this._cancelEffect(),this._resetInvalidate(this._root))},he.prototype._resetVariables=function(){this._chart=this._legend=this._httpService=this._motionController=this._slideLayout=this._slideData=this._dataEditor=null,this._creationCompleteDirty=this._dataEditorLoaded=this._rootEventInitialized=!1,this._patternLoaded=0},he.prototype._chartSetData=function(){var t,e,i,s=this.selfElement||this;if(t=s._target.className,"true"==s._valuesMap.usePattern&&2!=s._patternLoaded)setTimeout(function(){s._chartSetData.call(s)},10);else{if(s._readyThemeOptions&&(ce(s,s._readyThemeOptions.themeName,s._readyThemeOptions.forceTheme),s._readyThemeOptions=void 0),n(s._data)&&(s._data=s._convertToArray(s._data)),s._creationCompleteDirty=!0,s._target.setDataProvider(s._data),s._dataChanged=!1,s._target.legend)if(-1<t.indexOf("Pie")||-1<t.indexOf("Overlay")||-1<t.indexOf("Pyramid")||-1<t.indexOf("ImageMatrix")){if(!s._target.renderingComplete)for(t=s._target.getSeries(),e=0,i=t.length;e<i;e+=1)t[e]._updateSeriesItemDelay=!0;s._target.callLater(s._target.legendDataChanged)}else s._target instanceof it&&s._target.legendDataChanged();s._collection=s._target.getDataProvider(),s._target.removeEventListener("creationComplete",s._updateCompleteHandler,s),!s._slideController||s._slideController.allCreateSlideImage()||fi||(s._target.enableDataEffect=!1),s._root._motionController&&(s._root.setStyle("verticalGap",10),s._root._motionController.setDataProvider(s._data)),s._dataEditor&&s._data&&(s._dataEditor.chart=s._target,s._dataEditor.setDataProvider(s._data.concat())),s._valuesMap.accessibility&&ue(s,s._target)}},he.prototype._convertToArray=function(t){return e(t)?t:we.convertToArray(t,"item")},he.prototype._callDrillDown=function(){var t,e,i=this,n=function(t){t=i._target.dataRestoreCallFunction,this===a?i.setDataDrillDown(null,-1):(i.setData(i._dataStack[0]),i._callDrillDown()),t&&ri.findFunction(t)(i.getDrillDownDepth())};t=i._dataStack.length;var s=i._drillDownMenu,r=i._drillDownFirstButton,a=i._drillDownBackButton;for(1<t&&(i._drillDownMenu||(i._drillDownMenu=new m("div","DrillDownMenu"),i.addChild(i._drillDownMenu)),i._drillDownMenu&&!i._drillDownBackButton&&(a=i._drillDownBackButton=new m("div","DrillDownBackButton"),a.addEvent("click",n,a),i._drillDownMenu.addChild(a),e=a.element,e.innerText=e.title=i.BackButtonText||"Back")),2<t&&!r?(r=i._drillDownFirstButton=new m("div","DrillDownFirstButton"),r.addEvent("click",n,r),i._drillDownMenu.addChildAt(r,0),e=r.element,e.innerText=e.title=i.ResetButtonText||"Reset"):2>=i._dataStack.length&&i._drillDownFirstButton&&(i._drillDownMenu.removeChild(r),i._drillDownFirstButton=null),1==t&&(i._drillDownBackButton&&i._drillDownBackButton.removeEvent("click",n,a),i.removeChild(s),i._drillDownMenu=i._drillDownBackButton=null),t=i._target.getBackgroundElements().concat(i._target.getAnnotationElements()),n=0;n<t.length;n+=1)e=t[n],e instanceof CrossRangeZoomer&&e.resetZoom()},he.prototype._removeDrillDown=function(){this._drillDownMenu&&(ke.remove(this._drillDownMenu,!0),this._drillDownMenu=this._drillDownBackButton=this._drillDownFirstButton=null)},he.prototype._createChartMenu=function(t){var e,i,n,s,r,a,o,l,h=t.items;for(e=t.options,this._chartMenu&&(t=this._chartMenu,this.removeEvent("mouseover",this._chartMenuEventHandler,this),t.removeEvent("mouseover",this._chartMenuEventHandler,t),t.removeEvent("mouseout",this._chartMenuEventHandler,t),t.removeEvent("click",this._chartMenuEventHandler,t),this.removeChild(this._chartMenu)),t=this._chartMenu=new m("div","ChartMenu"),this.addChild(t),e&&(a=e.textField||null,o=e.iconField||null,l=e.callbackField||null),e=0,i=h.length;e<i;e+=1)s=h[e],n=new f("div","ChartMenuItem"),r="",o&&(r="<img class='Kool__ChartMenuItem_Img' src='"+s[o]+"'/>"),a&&(r+=s[a]),l&&(n.callback=s[l]),n.element.innerHTML=r,t.addChild(n);this.addEvent("mouseover",this._chartMenuEventHandler,this),t.addEvent("mouseover",this._chartMenuEventHandler,t),t.addEvent("mouseout",this._chartMenuEventHandler,t),t.addEvent("click",this._chartMenuEventHandler,t)},he.prototype._chartMenuEventHandler=function(t){var e=Ee,i=t.target,n=this.element,s=e.addClass,e=e.removeClass;switch(t.type){case"mouseover":this instanceof he?(s(this._chartMenu,"Kool__chart_menu_hover"),this.addEvent("mouseout",this._chartMenuEventHandler,this,!0)):s(n,"Kool__chart_menu_expand");break;case"mouseout":this instanceof he?(e(this._chartMenu,"Kool__chart_menu_hover"),this.removeEvent("mouseout",this._chartMenuEventHandler,this,!0)):e(n,"Kool__chart_menu_expand");break;case"click":t=i.selfElement,"Kool__ChartMenuItem"==i.className&&t.callback&&a(t.callback)&&t.callback()}},he.prototype._targetCreationCompleteHandler=function(t){this._target===t.target.selfElement&&(this._chartSetData(),this._showWrapper())},he.prototype._showWrapper=function(){this.callLater(function(){Ee.clearStyle(this.element,"visibility")})},he.prototype._hideWrapper=function(){this._inLoadingBarCount||Ee.setStyle(this,"visibility","hidden")},he.prototype._creationCompleteHandler=function(t){this.removeEventListener("creationComplete",this._creationCompleteHandler,this),this._eventDelayDispatcher(new Ue("layoutComplete"))},We.addClassMap(ai)}();var ReplacementFor_dtmInterval;